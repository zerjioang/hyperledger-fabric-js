!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("hlf-bridge",[],t):"object"==typeof exports?exports["hlf-bridge"]=t():e["hlf-bridge"]=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=169)}([function(e,t,n){"use strict";(function(e){function r(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(e,t){if(r()<t)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=o.prototype):(null===e&&(e=new o(t)),e.length=t),e}function o(e,t,n){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o))return new o(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return u(this,e)}return s(this,e,t,n)}function s(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?h(e,t,n,r):"string"==typeof t?l(e,t,n):d(e,t)}function a(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function c(e,t,n,r){return a(t),t<=0?i(e,t):void 0!==n?"string"==typeof r?i(e,t).fill(n,r):i(e,t).fill(n):i(e,t)}function u(e,t){if(a(t),e=i(e,t<0?0:0|p(t)),!o.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function l(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!o.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|g(t,n);e=i(e,r);var s=e.write(t,n);return s!==r&&(e=e.slice(0,s)),e}function f(e,t){var n=t.length<0?0:0|p(t.length);e=i(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),o.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=o.prototype):e=f(e,t),e}function d(e,t){if(o.isBuffer(t)){var n=0|p(t.length);return e=i(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||X(t.length)?i(e,0):f(e,t);if("Buffer"===t.type&&Z(t.data))return f(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function p(e){if(e>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|e}function y(e){return+e!=e&&(e=0),o.alloc(+e)}function g(e,t){if(o.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(e).length;default:if(r)return V(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,n);case"utf8":case"utf-8":return A(this,t,n);case"ascii":return I(this,t,n);case"latin1":case"binary":return D(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function v(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function b(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=o.from(t,r)),o.isBuffer(t))return 0===t.length?-1:w(e,t,n,r,i);if("number"==typeof t)return t&=255,o.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):w(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function w(e,t,n,r,i){function o(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}var s=1,a=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,c/=2,n/=2}var u;if(i){var l=-1;for(u=n;u<a;u++)if(o(e,u)===o(t,-1===l?0:u-l)){if(-1===l&&(l=u),u-l+1===c)return l*s}else-1!==l&&(u-=u-l),l=-1}else for(n+c>a&&(n=a-c),u=n;u>=0;u--){for(var f=!0,h=0;h<c;h++)if(o(e,u+h)!==o(t,h)){f=!1;break}if(f)return u}return-1}function S(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function E(e,t,n,r){return W(V(t,e.length-n),e,n,r)}function k(e,t,n,r){return W(z(t),e,n,r)}function x(e,t,n,r){return k(e,t,n,r)}function _(e,t,n,r){return W(G(t),e,n,r)}function O(e,t,n,r){return W(J(t,e.length-n),e,n,r)}function C(e,t,n){return 0===t&&n===e.length?Y.fromByteArray(e):Y.fromByteArray(e.slice(t,n))}function A(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o=e[i],s=null,a=o>239?4:o>223?3:o>191?2:1;if(i+a<=n){var c,u,l,f;switch(a){case 1:o<128&&(s=o);break;case 2:c=e[i+1],128==(192&c)&&(f=(31&o)<<6|63&c)>127&&(s=f);break;case 3:c=e[i+1],u=e[i+2],128==(192&c)&&128==(192&u)&&(f=(15&o)<<12|(63&c)<<6|63&u)>2047&&(f<55296||f>57343)&&(s=f);break;case 4:c=e[i+1],u=e[i+2],l=e[i+3],128==(192&c)&&128==(192&u)&&128==(192&l)&&(f=(15&o)<<18|(63&c)<<12|(63&u)<<6|63&l)>65535&&f<1114112&&(s=f)}}null===s?(s=65533,a=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|1023&s),r.push(s),i+=a}return P(r)}function P(e){var t=e.length;if(t<=$)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=$));return n}function I(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function D(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function R(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=K(e[o]);return i}function j(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function T(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function N(e,t,n,r,i,s){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function B(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function F(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function M(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,i){return i||M(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),Q.write(e,t,n,r,23,4),n+4}function H(e,t,n,r,i){return i||M(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),Q.write(e,t,n,r,52,8),n+8}function q(e){if(e=U(e).replace(ee,""),e.length<2)return"";for(;e.length%4!=0;)e+="=";return e}function U(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function K(e){return e<16?"0"+e.toString(16):e.toString(16)}function V(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function z(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function J(e,t){for(var n,r,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function G(e){return Y.toByteArray(q(e))}function W(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function X(e){return e!==e}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var Y=n(192),Q=n(193),Z=n(98);t.Buffer=o,t.SlowBuffer=y,t.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=r(),o.poolSize=8192,o._augment=function(e){return e.__proto__=o.prototype,e},o.from=function(e,t,n){return s(null,e,t,n)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(e,t,n){return c(null,e,t,n)},o.allocUnsafe=function(e){return u(null,e)},o.allocUnsafeSlow=function(e){return u(null,e)},o.isBuffer=function(e){return!(null==e||!e._isBuffer)},o.compare=function(e,t){if(!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,s=Math.min(n,r);i<s;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!Z(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=o.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var s=e[n];if(!o.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},o.byteLength=g,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},o.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},o.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?A(this,0,e):m.apply(this,arguments)},o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},o.prototype.compare=function(e,t,n,r,i){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var s=i-r,a=n-t,c=Math.min(s,a),u=this.slice(r,i),l=e.slice(t,n),f=0;f<c;++f)if(u[f]!==l[f]){s=u[f],a=l[f];break}return s<a?-1:a<s?1:0},o.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},o.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},o.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},o.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return S(this,e,t,n);case"utf8":case"utf-8":return E(this,e,t,n);case"ascii":return k(this,e,t,n);case"latin1":case"binary":return x(this,e,t,n);case"base64":return _(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var $=4096;o.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r;if(o.TYPED_ARRAY_SUPPORT)r=this.subarray(e,t),r.__proto__=o.prototype;else{var i=t-e;r=new o(i,void 0);for(var s=0;s<i;++s)r[s]=this[s+e]}return r},o.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||T(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},o.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||T(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},o.prototype.readUInt8=function(e,t){return t||T(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return t||T(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return t||T(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return t||T(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUInt32BE=function(e,t){return t||T(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||T(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},o.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||T(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},o.prototype.readInt8=function(e,t){return t||T(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){t||T(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(e,t){t||T(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(e,t){return t||T(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return t||T(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return t||T(e,4,this.length),Q.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return t||T(e,4,this.length),Q.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return t||T(e,8,this.length),Q.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return t||T(e,8,this.length),Q.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){N(this,e,t,n,Math.pow(2,8*n)-1,0)}var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},o.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){N(this,e,t,n,Math.pow(2,8*n)-1,0)}var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},o.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,1,255,0),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):B(this,e,t,!0),t+2},o.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):B(this,e,t,!1),t+2},o.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):F(this,e,t,!0),t+4},o.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):F(this,e,t,!1),t+4},o.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);N(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},o.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);N(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},o.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,1,127,-128),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):B(this,e,t,!0),t+2},o.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):B(this,e,t,!1),t+2},o.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):F(this,e,t,!0),t+4},o.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):F(this,e,t,!1),t+4},o.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},o.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},o.prototype.writeDoubleLE=function(e,t,n){return H(this,e,t,!0,n)},o.prototype.writeDoubleBE=function(e,t,n){return H(this,e,t,!1,n)},o.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,s=r-n;if(this===e&&n<t&&t<r)for(i=s-1;i>=0;--i)e[i+t]=this[i+n];else if(s<1e3||!o.TYPED_ARRAY_SUPPORT)for(i=0;i<s;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+s),t);return s},o.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!o.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var s;if("number"==typeof e)for(s=t;s<n;++s)this[s]=e;else{var a=o.isBuffer(e)?e:V(new o(e,r).toString()),c=a.length;for(s=0;s<n-t;++s)this[s+t]=a[s%c]}return this};var ee=/[^+\/0-9A-Za-z-_]/g}).call(t,n(5))},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){function r(e,t){for(var n in e)t[n]=e[n]}function i(e,t,n){return s(e,t,n)}var o=n(0),s=o.Buffer;s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?e.exports=o:(r(o,t),t.Buffer=i),r(s,i),i.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return s(e,t,n)},i.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=s(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},i.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return s(e)},i.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o.SlowBuffer(e)}},function(e,t,n){"use strict";(function(t,r){var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(4),s=n(99),a=n(33),c=n(36),u=n(12),l=n(140),f=n(141),h=n(142),d=n(298);e.exports.newCryptoSuite=function(e){var t,n,r,s,a=null,c=!1;if(c=e&&"boolean"==typeof e.software?!e.software:this.getConfigSetting("crypto-hsm"),t=c?this.getConfigSetting("crypto-suite-hsm"):this.getConfigSetting("crypto-suite-software"),n=e&&e.keysize&&"object"===(void 0===e?"undefined":i(e))&&"number"==typeof e.keysize?e.keysize:this.getConfigSetting("crypto-keysize"),r=e&&e.algorithm&&"object"===(void 0===e?"undefined":i(e))&&"string"==typeof e.algorithm?e.algorithm.toUpperCase():"EC",s=e&&e.hash&&"object"===(void 0===e?"undefined":i(e))&&"string"==typeof e.hash?e.hash.toUpperCase():null,!(t=t[r]))throw new Error(o.format('Desired CryptoSuite module not found supporting algorithm "%s"',r));var u=!function(){var e=new Error('Cannot find module "."');throw e.code="MODULE_NOT_FOUND",e}();return a=void 0===e?null:e,new u(n,s,a)},e.exports.newKeyValueStore=function(e){var t=(this.getConfigSetting("key-value-store"),!function(){var e=new Error('Cannot find module "."');throw e.code="MODULE_NOT_FOUND",e}());return Promise.resolve(new t(e))};var p=["debug","info","warn","error"];e.exports.getLogger=function(e){var n=function(e){t.hfc?t.hfc.logger=e:t.hfc={logger:e}},r=function(){return s.get("")},o=function(e,t){var n=Object.assign({},e);return["debug","info","warn","error"].forEach(function(r){var i=e[r];n[r]=function(e,t,n){return function(){arguments.length>0&&(arguments[0]="["+t+"]: "+arguments[0]),n.apply(e,arguments)}}(e,t,i)}),n};if(t.hfc&&t.hfc.logger)return o(t.hfc.logger,e);var a=this.getConfigSetting("hfc-logging",void 0),c={};if(a)try{var u=null;if(u="string"==typeof a?JSON.parse(a):a,"object"!==(void 0===u?"undefined":i(u)))throw new Error('Environment variable "HFC_LOGGING" must be an object conforming to the format documented.');for(var l in u)u.hasOwnProperty(l)&&p.indexOf(l)>=0&&(c.transports||(c.transports=[]),"console"===u[l]?c.transports.push(new s.transports.Console({name:l+"console",level:l,colorize:!0})):c.transports.push(new s.transports.File({name:l+"file",level:l,filename:u[l],colorize:!0})));var f=new s.Logger(c);return f.debug("Successfully constructed a jslog logger with configurations",u),n(f),o(f,e)}catch(t){var h=r();return n(h),h.log("warn",'Failed to parse environment variable "HFC_LOGGING". Returned a jslog logger with default configurations. Error: %s',t.stack?t.stack:t),o(h,e)}var d=r();return n(d),d.debug("Returning a new jslog logger with default configurations"),o(d,e)},e.exports.addConfigFile=function(e){this.getConfig().file(e)},e.exports.setConfigSetting=function(e,t){this.getConfig().set(e,t)},e.exports.getConfigSetting=function(e,t){return this.getConfig().get(e,t)},e.exports.getConfig=function(){if(t.hfc&&t.hfc.config)return t.hfc.config;var e=new h;return t.hfc?t.hfc.config=e:t.hfc={config:e},e};var y={};e.exports.getMSPManager=function(e){var t=y[e];if(null===t)throw new Error(o.format("Can not find an MSP Manager for the given channel ID: %s",e));return t},e.exports.addMSPManager=function(e,t){y[e]=t},e.exports.removeMSPManager=function(e){delete y[e]},e.exports.bitsToBytes=function(e){var t,n,r=[],i=d.bitArray.bitLength(e);for(t=0;t<i/8;t++)0==(3&t)&&(n=e[t/4]),r.push(n>>>24),n<<=8;return r},e.exports.bytesToBits=function(e){var t,n=[],r=0;for(t=0;t<e.length;t++)r=r<<8|e[t],3==(3&t)&&(n.push(r),r=0);return 3&t&&n.push(d.bitArray.partial(8*(3&t),r)),n},e.exports.zeroBuffer=function(e){return r.alloc(e)},e.exports.toArrayBuffer=function(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;++r)n[r]=e[r];return t},e.exports.getNonce=function(e){if(e){if(!Number.isInteger(e))throw new Error("Parameter must be an integer")}else e=this.getConfigSetting("nonce-size",24);return c.randomBytes(e)},e.exports.getClassMethods=function(e){var t=new e,n=Object.getPrototypeOf(t);return Object.getOwnPropertyNames(n).filter(function(e){if("constructor"!==e&&"function"==typeof t[e])return!0})},e.exports.getBufferBit=function(e,t){return parseInt(t/8)+1>e.length?{error:!0,invalid:0}:0!=(e[parseInt(t/8)]&1<<t%8)?{error:!1,invalid:1}:{error:!1,invalid:0}},e.exports.readFile=function(e){return new Promise(function(t,n){a.readFile(e,function(e,r){e?n(e):t(r)})})},e.exports.getDefaultKeyStorePath=function(){return u.join(l.homedir(),".hfc-key-store")};var g=function(t,r){this.logger=e.exports.getLogger("utils.CryptoKeyStore"),this.logger.debug("CryptoKeyStore, constructor - start"),t&&void 0===r&&("function"==typeof t?r=null:(r=t,t=null)),void 0!==r&&null!==r||(r={path:e.exports.getDefaultKeyStorePath()});var i;void 0!==t&&null!==t?i=t:(i=!function(){var e=new Error('Cannot find module "."');throw e.code="MODULE_NOT_FOUND",e}(),this.logger.debug("constructor, no super class specified, using config: "+e.exports.getConfigSetting("key-value-store"))),this._store=null,this._storeConfig={superClass:i,opts:r},this._getKeyStore=function(){var e=n(299),t=this;return new Promise(function(n,r){if(null!==t._store)return t.logger.debug("_getKeyStore resolving store"),n(t._store);t.logger.debug(o.format("This class requires a CryptoKeyStore to save keys, using the store: %j",t._storeConfig)),e(t._storeConfig.superClass,t._storeConfig.opts).then(function(e){return t.logger.debug("_getKeyStore returning ks"),t._store=e,n(t._store)}).catch(function(e){r(e)})})}};e.exports.newCryptoKeyStore=function(e,t){return new g(e,t)},e.exports.checkAndAddConfigSetting=function(t,n,r){var i={};if(i[t]=e.exports.getConfigSetting(t,n),r){var o=Object.keys(r);for(var s in o){var a=o[s],c=r[a];i[a]=c}}return i},e.exports.normalizeX509=function(e){var t=/(-----\s*BEGIN ?[^-]+?-----)([\s\S]*)(-----\s*END ?[^-]+?-----)/,n=e.match(t);if(!n||4!==n.length)throw new Error("Failed to find start line or end line of the certificate.");return n.shift(),n=n.map(function(e){return e.trim()}),n.join("\n")+"\n"},e.exports.pemToDER=function(e){var t=e.toString().trim().split(/\r?\n/);if(!t[0].match(/-----\s*BEGIN ?([^-]+)?-----/)||!t[t.length-1].match(/-----\s*END ?([^-]+)?-----/))throw new Error("Input parameter does not appear to be PEM-encoded.");return t.shift(),t.pop(),r.from(t.join(""),"base64")},e.exports.convertToLong=function(e){var t=void 0;if(f.isLong(e))t=e;else{if(void 0===e||null==e)throw new Error("value parameter is missing");if(t=f.fromValue(e),t.equals(f.ZERO)&&!Number.isInteger(e)&&"0"!==e)throw new Error(o.format("value:%s is not a valid number ",e))}return t}}).call(t,n(5),n(0).Buffer)},function(e,t,n){(function(e,r){function i(e,n){var r={seen:[],stylize:s};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),y(n)?r.showHidden=n:n&&t._extend(r,n),S(r.showHidden)&&(r.showHidden=!1),S(r.depth)&&(r.depth=2),S(r.colors)&&(r.colors=!1),S(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),c(r,e,r.depth)}function o(e,t){var n=i.styles[t];return n?"["+i.colors[n][0]+"m"+e+"["+i.colors[n][1]+"m":e}function s(e,t){return e}function a(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function c(e,n,r){if(e.customInspect&&n&&O(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return b(i)||(i=c(e,i,r)),i}var o=u(e,n);if(o)return o;var s=Object.keys(n),y=a(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(n)),_(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return l(n);if(0===s.length){if(O(n)){var g=n.name?": "+n.name:"";return e.stylize("[Function"+g+"]","special")}if(E(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(x(n))return e.stylize(Date.prototype.toString.call(n),"date");if(_(n))return l(n)}var m="",v=!1,w=["{","}"];if(p(n)&&(v=!0,w=["[","]"]),O(n)){m=" [Function"+(n.name?": "+n.name:"")+"]"}if(E(n)&&(m=" "+RegExp.prototype.toString.call(n)),x(n)&&(m=" "+Date.prototype.toUTCString.call(n)),_(n)&&(m=" "+l(n)),0===s.length&&(!v||0==n.length))return w[0]+m+w[1];if(r<0)return E(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special");e.seen.push(n);var S;return S=v?f(e,n,r,y,s):s.map(function(t){return h(e,n,r,y,t,v)}),e.seen.pop(),d(S,m,w)}function u(e,t){if(S(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return v(t)?e.stylize(""+t,"number"):y(t)?e.stylize(""+t,"boolean"):g(t)?e.stylize("null","null"):void 0}function l(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,r,i){for(var o=[],s=0,a=t.length;s<a;++s)D(t,String(s))?o.push(h(e,t,n,r,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(h(e,t,n,r,i,!0))}),o}function h(e,t,n,r,i,o){var s,a,u;if(u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},u.get?a=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(a=e.stylize("[Setter]","special")),D(r,i)||(s="["+i+"]"),a||(e.seen.indexOf(u.value)<0?(a=g(n)?c(e,u.value,null):c(e,u.value,n-1),a.indexOf("\n")>-1&&(a=o?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n"))):a=e.stylize("[Circular]","special")),S(s)){if(o&&i.match(/^\d+$/))return a;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function d(e,t,n){var r=0;return e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function p(e){return Array.isArray(e)}function y(e){return"boolean"==typeof e}function g(e){return null===e}function m(e){return null==e}function v(e){return"number"==typeof e}function b(e){return"string"==typeof e}function w(e){return"symbol"==typeof e}function S(e){return void 0===e}function E(e){return k(e)&&"[object RegExp]"===A(e)}function k(e){return"object"==typeof e&&null!==e}function x(e){return k(e)&&"[object Date]"===A(e)}function _(e){return k(e)&&("[object Error]"===A(e)||e instanceof Error)}function O(e){return"function"==typeof e}function C(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function A(e){return Object.prototype.toString.call(e)}function P(e){return e<10?"0"+e.toString(10):e.toString(10)}function I(){var e=new Date,t=[P(e.getHours()),P(e.getMinutes()),P(e.getSeconds())].join(":");return[e.getDate(),N[e.getMonth()],t].join(" ")}function D(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var R=/%[sdj%]/g;t.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(i(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,o=r.length,s=String(e).replace(R,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),a=r[n];n<o;a=r[++n])g(a)||!k(a)?s+=" "+a:s+=" "+i(a);return s},t.deprecate=function(n,i){function o(){if(!s){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),s=!0}return n.apply(this,arguments)}if(S(e.process))return function(){return t.deprecate(n,i).apply(this,arguments)};if(!0===r.noDeprecation)return n;var s=!1;return o};var j,T={};t.debuglog=function(e){if(S(j)&&(j=r.env.NODE_DEBUG||""),e=e.toUpperCase(),!T[e])if(new RegExp("\\b"+e+"\\b","i").test(j)){var n=r.pid;T[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else T[e]=function(){};return T[e]},t.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=p,t.isBoolean=y,t.isNull=g,t.isNullOrUndefined=m,t.isNumber=v,t.isString=b,t.isSymbol=w,t.isUndefined=S,t.isRegExp=E,t.isObject=k,t.isDate=x,t.isError=_,t.isFunction=O,t.isPrimitive=C,t.isBuffer=n(194);var N=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",I(),t.format.apply(t,arguments))},t.inherits=n(1),t._extend=function(e,t){if(!t||!k(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(t,n(5),n(6))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function o(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function s(){y&&d&&(y=!1,d.length?p=d.concat(p):g=-1,p.length&&a())}function a(){if(!y){var e=i(s);y=!0;for(var t=p.length;t;){for(d=p,p=[];++g<t;)d&&d[g].run();g=-1,t=p.length}d=null,y=!1,o(e)}}function c(e,t){this.fun=e,this.array=t}function u(){}var l,f,h=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var d,p=[],y=!1,g=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new c(e,t)),1!==p.length||y||i(a)},c.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=u,h.addListener=u,h.once=u,h.off=u,h.removeListener=u,h.removeAllListeners=u,h.emit=u,h.prependListener=u,h.prependOnceListener=u,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(e,t,n){(function(e){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function o(e,t,n){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}function s(e,t,n){for(var r=0,i=Math.min(e.length,n),o=t;o<i;o++){var s=e.charCodeAt(o)-48;r<<=4,r|=s>=49&&s<=54?s-49+10:s>=17&&s<=22?s-17+10:15&s}return r}function a(e,t,n,r){for(var i=0,o=Math.min(e.length,n),s=t;s<o;s++){var a=e.charCodeAt(s)-48;i*=r,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}function c(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var r=n/26|0,i=n%26;t[n]=(e.words[r]&1<<i)>>>i}return t}function u(e,t,n){n.negative=t.negative^e.negative;var r=e.length+t.length|0;n.length=r,r=r-1|0;var i=0|e.words[0],o=0|t.words[0],s=i*o,a=67108863&s,c=s/67108864|0;n.words[0]=a;for(var u=1;u<r;u++){for(var l=c>>>26,f=67108863&c,h=Math.min(u,t.length-1),d=Math.max(0,u-e.length+1);d<=h;d++){var p=u-d|0;i=0|e.words[p],o=0|t.words[d],s=i*o+f,l+=s/67108864|0,f=67108863&s}n.words[u]=0|f,c=0|l}return 0!==c?n.words[u]=0|c:n.length--,n.strip()}function l(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var s=i;i=0;for(var a=67108863&r,c=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=c;u++){var l=o-u,f=0|e.words[l],h=0|t.words[u],d=f*h,p=67108863&d;s=s+(d/67108864|0)|0,p=p+a|0,a=67108863&p,s=s+(p>>>26)|0,i+=s>>>26,s&=67108863}n.words[o]=a,r=s,s=i}return 0!==r?n.words[o]=r:n.length--,n.strip()}function f(e,t,n){return(new h).mulp(e,t,n)}function h(e,t){this.x=e,this.y=t}function d(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function p(){d.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function y(){d.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function g(){d.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function m(){d.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function v(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function b(e){v.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;var w;try{w=n(240).Buffer}catch(e){}o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36),e=e.toString().replace(/\s+/g,"");var i=0;"-"===e[0]&&i++,16===t?this._parseHex(e,i):this._parseBase(e,t,i),"-"===e[0]&&(this.negative=1),this.strip(),"le"===n&&this._initArray(this.toArray(),t,n)},o.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},o.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===n)for(i=e.length-1,o=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===n)for(i=0,o=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var r,i,o=0;for(n=e.length-6,r=0;n>=t;n-=6)i=s(e,n,n+6),this.words[r]|=i<<o&67108863,this.words[r+1]|=i>>>26-o&4194303,(o+=24)>=26&&(o-=26,r++);n+6!==t&&(i=s(e,t,n+6),this.words[r]|=i<<o&67108863,this.words[r+1]|=i>>>26-o&4194303),this.strip()},o.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=t)r++;r--,i=i/t|0;for(var o=e.length-n,s=o%r,c=Math.min(o,o-s)+n,u=0,l=n;l<c;l+=r)u=a(e,l,l+r,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var f=1;for(u=a(e,l,e.length,t),l=0;l<s;l++)f*=t;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var S=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],E=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],k=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(e,t){e=e||10,t=0|t||1;var n;if(16===e||"hex"===e){n="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],c=(16777215&(a<<i|o)).toString(16);o=a>>>24-i&16777215,n=0!==o||s!==this.length-1?S[6-c.length]+c+n:c+n,i+=2,i>=26&&(i-=26,s--)}for(0!==o&&(n=o.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var u=E[e],l=k[e];n="";var f=this.clone();for(f.negative=0;!f.isZero();){var h=f.modn(l).toString(e);f=f.idivn(l),n=f.isZero()?h+n:S[u-h.length]+h+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return r(void 0!==w),this.toArrayLike(w,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var s,a,c="le"===t,u=new e(o),l=this.clone();if(c){for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[a]=s;for(;a<o;a++)u[a]=0}else{for(a=0;a<o-i;a++)u[a]=0;for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[o-a-1]=s}return u},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0==(8191&t)&&(n+=13,t>>>=13),0==(127&t)&&(n+=7,t>>>=7),0==(15&t)&&(n+=4,t>>>=4),0==(3&t)&&(n+=2,t>>>=2),0==(1&t)&&n++,n},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},o.prototype.iadd=function(e){var t;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();var n,r;this.length>e.length?(n=this,r=e):(n=e,r=this);for(var i=0,o=0;o<r.length;o++)t=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<n.length;o++)t=(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n=this.cmp(e);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;var r,i;n>0?(r=this,i=e):(r=e,i=this);for(var o=0,s=0;s<i.length;s++)t=(0|r.words[s])-(0|i.words[s])+o,o=t>>26,this.words[s]=67108863&t;for(;0!==o&&s<r.length;s++)t=(0|r.words[s])+o,o=t>>26,this.words[s]=67108863&t;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var x=function(e,t,n){var r,i,o,s=e.words,a=t.words,c=n.words,u=0,l=0|s[0],f=8191&l,h=l>>>13,d=0|s[1],p=8191&d,y=d>>>13,g=0|s[2],m=8191&g,v=g>>>13,b=0|s[3],w=8191&b,S=b>>>13,E=0|s[4],k=8191&E,x=E>>>13,_=0|s[5],O=8191&_,C=_>>>13,A=0|s[6],P=8191&A,I=A>>>13,D=0|s[7],R=8191&D,j=D>>>13,T=0|s[8],N=8191&T,B=T>>>13,F=0|s[9],M=8191&F,L=F>>>13,H=0|a[0],q=8191&H,U=H>>>13,K=0|a[1],V=8191&K,z=K>>>13,J=0|a[2],G=8191&J,W=J>>>13,X=0|a[3],Y=8191&X,Q=X>>>13,Z=0|a[4],$=8191&Z,ee=Z>>>13,te=0|a[5],ne=8191&te,re=te>>>13,ie=0|a[6],oe=8191&ie,se=ie>>>13,ae=0|a[7],ce=8191&ae,ue=ae>>>13,le=0|a[8],fe=8191&le,he=le>>>13,de=0|a[9],pe=8191&de,ye=de>>>13;n.negative=e.negative^t.negative,n.length=19,r=Math.imul(f,q),i=Math.imul(f,U),i=i+Math.imul(h,q)|0,o=Math.imul(h,U);var ge=(u+r|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(p,q),i=Math.imul(p,U),i=i+Math.imul(y,q)|0,o=Math.imul(y,U),r=r+Math.imul(f,V)|0,i=i+Math.imul(f,z)|0,i=i+Math.imul(h,V)|0,o=o+Math.imul(h,z)|0;var me=(u+r|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(me>>>26)|0,me&=67108863,r=Math.imul(m,q),i=Math.imul(m,U),i=i+Math.imul(v,q)|0,o=Math.imul(v,U),r=r+Math.imul(p,V)|0,i=i+Math.imul(p,z)|0,i=i+Math.imul(y,V)|0,o=o+Math.imul(y,z)|0,r=r+Math.imul(f,G)|0,i=i+Math.imul(f,W)|0,i=i+Math.imul(h,G)|0,o=o+Math.imul(h,W)|0;var ve=(u+r|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(w,q),i=Math.imul(w,U),i=i+Math.imul(S,q)|0,o=Math.imul(S,U),r=r+Math.imul(m,V)|0,i=i+Math.imul(m,z)|0,i=i+Math.imul(v,V)|0,o=o+Math.imul(v,z)|0,r=r+Math.imul(p,G)|0,i=i+Math.imul(p,W)|0,i=i+Math.imul(y,G)|0,o=o+Math.imul(y,W)|0,r=r+Math.imul(f,Y)|0,i=i+Math.imul(f,Q)|0,i=i+Math.imul(h,Y)|0,o=o+Math.imul(h,Q)|0;var be=(u+r|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(k,q),i=Math.imul(k,U),i=i+Math.imul(x,q)|0,o=Math.imul(x,U),r=r+Math.imul(w,V)|0,i=i+Math.imul(w,z)|0,i=i+Math.imul(S,V)|0,o=o+Math.imul(S,z)|0,r=r+Math.imul(m,G)|0,i=i+Math.imul(m,W)|0,i=i+Math.imul(v,G)|0,o=o+Math.imul(v,W)|0,r=r+Math.imul(p,Y)|0,i=i+Math.imul(p,Q)|0,i=i+Math.imul(y,Y)|0,o=o+Math.imul(y,Q)|0,r=r+Math.imul(f,$)|0,i=i+Math.imul(f,ee)|0,i=i+Math.imul(h,$)|0,o=o+Math.imul(h,ee)|0;var we=(u+r|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(O,q),i=Math.imul(O,U),i=i+Math.imul(C,q)|0,o=Math.imul(C,U),r=r+Math.imul(k,V)|0,i=i+Math.imul(k,z)|0,i=i+Math.imul(x,V)|0,o=o+Math.imul(x,z)|0,r=r+Math.imul(w,G)|0,i=i+Math.imul(w,W)|0,i=i+Math.imul(S,G)|0,o=o+Math.imul(S,W)|0,r=r+Math.imul(m,Y)|0,i=i+Math.imul(m,Q)|0,i=i+Math.imul(v,Y)|0,o=o+Math.imul(v,Q)|0,r=r+Math.imul(p,$)|0,i=i+Math.imul(p,ee)|0,i=i+Math.imul(y,$)|0,o=o+Math.imul(y,ee)|0,r=r+Math.imul(f,ne)|0,i=i+Math.imul(f,re)|0,i=i+Math.imul(h,ne)|0,o=o+Math.imul(h,re)|0;var Se=(u+r|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(P,q),i=Math.imul(P,U),i=i+Math.imul(I,q)|0,o=Math.imul(I,U),r=r+Math.imul(O,V)|0,i=i+Math.imul(O,z)|0,i=i+Math.imul(C,V)|0,o=o+Math.imul(C,z)|0,r=r+Math.imul(k,G)|0,i=i+Math.imul(k,W)|0,i=i+Math.imul(x,G)|0,o=o+Math.imul(x,W)|0,r=r+Math.imul(w,Y)|0,i=i+Math.imul(w,Q)|0,i=i+Math.imul(S,Y)|0,o=o+Math.imul(S,Q)|0,r=r+Math.imul(m,$)|0,i=i+Math.imul(m,ee)|0,i=i+Math.imul(v,$)|0,o=o+Math.imul(v,ee)|0,r=r+Math.imul(p,ne)|0,i=i+Math.imul(p,re)|0,i=i+Math.imul(y,ne)|0,o=o+Math.imul(y,re)|0,r=r+Math.imul(f,oe)|0,i=i+Math.imul(f,se)|0,i=i+Math.imul(h,oe)|0,o=o+Math.imul(h,se)|0;var Ee=(u+r|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(R,q),i=Math.imul(R,U),i=i+Math.imul(j,q)|0,o=Math.imul(j,U),r=r+Math.imul(P,V)|0,i=i+Math.imul(P,z)|0,i=i+Math.imul(I,V)|0,o=o+Math.imul(I,z)|0,r=r+Math.imul(O,G)|0,i=i+Math.imul(O,W)|0,i=i+Math.imul(C,G)|0,o=o+Math.imul(C,W)|0,r=r+Math.imul(k,Y)|0,i=i+Math.imul(k,Q)|0,i=i+Math.imul(x,Y)|0,o=o+Math.imul(x,Q)|0,r=r+Math.imul(w,$)|0,i=i+Math.imul(w,ee)|0,i=i+Math.imul(S,$)|0,o=o+Math.imul(S,ee)|0,r=r+Math.imul(m,ne)|0,i=i+Math.imul(m,re)|0,i=i+Math.imul(v,ne)|0,o=o+Math.imul(v,re)|0,r=r+Math.imul(p,oe)|0,i=i+Math.imul(p,se)|0,i=i+Math.imul(y,oe)|0,o=o+Math.imul(y,se)|0,r=r+Math.imul(f,ce)|0,i=i+Math.imul(f,ue)|0,i=i+Math.imul(h,ce)|0,o=o+Math.imul(h,ue)|0;var ke=(u+r|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(N,q),i=Math.imul(N,U),i=i+Math.imul(B,q)|0,o=Math.imul(B,U),r=r+Math.imul(R,V)|0,i=i+Math.imul(R,z)|0,i=i+Math.imul(j,V)|0,o=o+Math.imul(j,z)|0,r=r+Math.imul(P,G)|0,i=i+Math.imul(P,W)|0,i=i+Math.imul(I,G)|0,o=o+Math.imul(I,W)|0,r=r+Math.imul(O,Y)|0,i=i+Math.imul(O,Q)|0,i=i+Math.imul(C,Y)|0,o=o+Math.imul(C,Q)|0,r=r+Math.imul(k,$)|0,i=i+Math.imul(k,ee)|0,i=i+Math.imul(x,$)|0,o=o+Math.imul(x,ee)|0,r=r+Math.imul(w,ne)|0,i=i+Math.imul(w,re)|0,i=i+Math.imul(S,ne)|0,o=o+Math.imul(S,re)|0,r=r+Math.imul(m,oe)|0,i=i+Math.imul(m,se)|0,i=i+Math.imul(v,oe)|0,o=o+Math.imul(v,se)|0,r=r+Math.imul(p,ce)|0,i=i+Math.imul(p,ue)|0,i=i+Math.imul(y,ce)|0,o=o+Math.imul(y,ue)|0,r=r+Math.imul(f,fe)|0,i=i+Math.imul(f,he)|0,i=i+Math.imul(h,fe)|0,o=o+Math.imul(h,he)|0;var xe=(u+r|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(M,q),i=Math.imul(M,U),i=i+Math.imul(L,q)|0,o=Math.imul(L,U),r=r+Math.imul(N,V)|0,i=i+Math.imul(N,z)|0,i=i+Math.imul(B,V)|0,o=o+Math.imul(B,z)|0,r=r+Math.imul(R,G)|0,i=i+Math.imul(R,W)|0,i=i+Math.imul(j,G)|0,o=o+Math.imul(j,W)|0,r=r+Math.imul(P,Y)|0,i=i+Math.imul(P,Q)|0,i=i+Math.imul(I,Y)|0,o=o+Math.imul(I,Q)|0,r=r+Math.imul(O,$)|0,i=i+Math.imul(O,ee)|0,i=i+Math.imul(C,$)|0,o=o+Math.imul(C,ee)|0,r=r+Math.imul(k,ne)|0,i=i+Math.imul(k,re)|0,i=i+Math.imul(x,ne)|0,o=o+Math.imul(x,re)|0,r=r+Math.imul(w,oe)|0,i=i+Math.imul(w,se)|0,i=i+Math.imul(S,oe)|0,o=o+Math.imul(S,se)|0,r=r+Math.imul(m,ce)|0,i=i+Math.imul(m,ue)|0,i=i+Math.imul(v,ce)|0,o=o+Math.imul(v,ue)|0,r=r+Math.imul(p,fe)|0,i=i+Math.imul(p,he)|0,i=i+Math.imul(y,fe)|0,o=o+Math.imul(y,he)|0,r=r+Math.imul(f,pe)|0,i=i+Math.imul(f,ye)|0,i=i+Math.imul(h,pe)|0,o=o+Math.imul(h,ye)|0;var _e=(u+r|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(M,V),i=Math.imul(M,z),i=i+Math.imul(L,V)|0,o=Math.imul(L,z),r=r+Math.imul(N,G)|0,i=i+Math.imul(N,W)|0,i=i+Math.imul(B,G)|0,o=o+Math.imul(B,W)|0,r=r+Math.imul(R,Y)|0,i=i+Math.imul(R,Q)|0,i=i+Math.imul(j,Y)|0,o=o+Math.imul(j,Q)|0,r=r+Math.imul(P,$)|0,i=i+Math.imul(P,ee)|0,i=i+Math.imul(I,$)|0,o=o+Math.imul(I,ee)|0,r=r+Math.imul(O,ne)|0,i=i+Math.imul(O,re)|0,i=i+Math.imul(C,ne)|0,o=o+Math.imul(C,re)|0,r=r+Math.imul(k,oe)|0,i=i+Math.imul(k,se)|0,i=i+Math.imul(x,oe)|0,o=o+Math.imul(x,se)|0,r=r+Math.imul(w,ce)|0,i=i+Math.imul(w,ue)|0,i=i+Math.imul(S,ce)|0,o=o+Math.imul(S,ue)|0,r=r+Math.imul(m,fe)|0,i=i+Math.imul(m,he)|0,i=i+Math.imul(v,fe)|0,o=o+Math.imul(v,he)|0,r=r+Math.imul(p,pe)|0,i=i+Math.imul(p,ye)|0,i=i+Math.imul(y,pe)|0,o=o+Math.imul(y,ye)|0;var Oe=(u+r|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(M,G),i=Math.imul(M,W),i=i+Math.imul(L,G)|0,o=Math.imul(L,W),r=r+Math.imul(N,Y)|0,i=i+Math.imul(N,Q)|0,i=i+Math.imul(B,Y)|0,o=o+Math.imul(B,Q)|0,r=r+Math.imul(R,$)|0,i=i+Math.imul(R,ee)|0,i=i+Math.imul(j,$)|0,o=o+Math.imul(j,ee)|0,r=r+Math.imul(P,ne)|0,i=i+Math.imul(P,re)|0,i=i+Math.imul(I,ne)|0,o=o+Math.imul(I,re)|0,r=r+Math.imul(O,oe)|0,i=i+Math.imul(O,se)|0,i=i+Math.imul(C,oe)|0,o=o+Math.imul(C,se)|0,r=r+Math.imul(k,ce)|0,i=i+Math.imul(k,ue)|0,i=i+Math.imul(x,ce)|0,o=o+Math.imul(x,ue)|0,r=r+Math.imul(w,fe)|0,i=i+Math.imul(w,he)|0,i=i+Math.imul(S,fe)|0,o=o+Math.imul(S,he)|0,r=r+Math.imul(m,pe)|0,i=i+Math.imul(m,ye)|0,i=i+Math.imul(v,pe)|0,o=o+Math.imul(v,ye)|0;var Ce=(u+r|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(M,Y),i=Math.imul(M,Q),i=i+Math.imul(L,Y)|0,o=Math.imul(L,Q),r=r+Math.imul(N,$)|0,i=i+Math.imul(N,ee)|0,i=i+Math.imul(B,$)|0,o=o+Math.imul(B,ee)|0,r=r+Math.imul(R,ne)|0,i=i+Math.imul(R,re)|0,i=i+Math.imul(j,ne)|0,o=o+Math.imul(j,re)|0,r=r+Math.imul(P,oe)|0,i=i+Math.imul(P,se)|0,i=i+Math.imul(I,oe)|0,o=o+Math.imul(I,se)|0,r=r+Math.imul(O,ce)|0,i=i+Math.imul(O,ue)|0,i=i+Math.imul(C,ce)|0,o=o+Math.imul(C,ue)|0,r=r+Math.imul(k,fe)|0,i=i+Math.imul(k,he)|0,i=i+Math.imul(x,fe)|0,o=o+Math.imul(x,he)|0,r=r+Math.imul(w,pe)|0,i=i+Math.imul(w,ye)|0,i=i+Math.imul(S,pe)|0,o=o+Math.imul(S,ye)|0;var Ae=(u+r|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(M,$),i=Math.imul(M,ee),i=i+Math.imul(L,$)|0,o=Math.imul(L,ee),r=r+Math.imul(N,ne)|0,i=i+Math.imul(N,re)|0,i=i+Math.imul(B,ne)|0,o=o+Math.imul(B,re)|0,r=r+Math.imul(R,oe)|0,i=i+Math.imul(R,se)|0,i=i+Math.imul(j,oe)|0,o=o+Math.imul(j,se)|0,r=r+Math.imul(P,ce)|0,i=i+Math.imul(P,ue)|0,i=i+Math.imul(I,ce)|0,o=o+Math.imul(I,ue)|0,r=r+Math.imul(O,fe)|0,i=i+Math.imul(O,he)|0,i=i+Math.imul(C,fe)|0,o=o+Math.imul(C,he)|0,r=r+Math.imul(k,pe)|0,i=i+Math.imul(k,ye)|0,i=i+Math.imul(x,pe)|0,o=o+Math.imul(x,ye)|0;var Pe=(u+r|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,r=Math.imul(M,ne),i=Math.imul(M,re),i=i+Math.imul(L,ne)|0,o=Math.imul(L,re),r=r+Math.imul(N,oe)|0,i=i+Math.imul(N,se)|0,i=i+Math.imul(B,oe)|0,o=o+Math.imul(B,se)|0,r=r+Math.imul(R,ce)|0,i=i+Math.imul(R,ue)|0,i=i+Math.imul(j,ce)|0,o=o+Math.imul(j,ue)|0,r=r+Math.imul(P,fe)|0,i=i+Math.imul(P,he)|0,i=i+Math.imul(I,fe)|0,o=o+Math.imul(I,he)|0,r=r+Math.imul(O,pe)|0,i=i+Math.imul(O,ye)|0,i=i+Math.imul(C,pe)|0,o=o+Math.imul(C,ye)|0;var Ie=(u+r|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(M,oe),i=Math.imul(M,se),i=i+Math.imul(L,oe)|0,o=Math.imul(L,se),r=r+Math.imul(N,ce)|0,i=i+Math.imul(N,ue)|0,i=i+Math.imul(B,ce)|0,o=o+Math.imul(B,ue)|0,r=r+Math.imul(R,fe)|0,i=i+Math.imul(R,he)|0,i=i+Math.imul(j,fe)|0,o=o+Math.imul(j,he)|0,r=r+Math.imul(P,pe)|0,i=i+Math.imul(P,ye)|0,i=i+Math.imul(I,pe)|0,o=o+Math.imul(I,ye)|0;var De=(u+r|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(De>>>26)|0,De&=67108863,r=Math.imul(M,ce),i=Math.imul(M,ue),i=i+Math.imul(L,ce)|0,o=Math.imul(L,ue),r=r+Math.imul(N,fe)|0,i=i+Math.imul(N,he)|0,i=i+Math.imul(B,fe)|0,o=o+Math.imul(B,he)|0,r=r+Math.imul(R,pe)|0,i=i+Math.imul(R,ye)|0,i=i+Math.imul(j,pe)|0,o=o+Math.imul(j,ye)|0;var Re=(u+r|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,r=Math.imul(M,fe),i=Math.imul(M,he),i=i+Math.imul(L,fe)|0,o=Math.imul(L,he),r=r+Math.imul(N,pe)|0,i=i+Math.imul(N,ye)|0,i=i+Math.imul(B,pe)|0,o=o+Math.imul(B,ye)|0;var je=(u+r|0)+((8191&i)<<13)|0;u=(o+(i>>>13)|0)+(je>>>26)|0,je&=67108863,r=Math.imul(M,pe),i=Math.imul(M,ye),i=i+Math.imul(L,pe)|0,o=Math.imul(L,ye);var Te=(u+r|0)+((8191&i)<<13)|0;return u=(o+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,c[0]=ge,c[1]=me,c[2]=ve,c[3]=be,c[4]=we,c[5]=Se,c[6]=Ee,c[7]=ke,c[8]=xe,c[9]=_e,c[10]=Oe,c[11]=Ce,c[12]=Ae,c[13]=Pe,c[14]=Ie,c[15]=De,c[16]=Re,c[17]=je,c[18]=Te,0!==u&&(c[19]=u,n.length++),n};Math.imul||(x=u),o.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?x(this,e,t):n<63?u(this,e,t):n<1024?l(this,e,t):f(this,e,t)},h.prototype.makeRBT=function(e){for(var t=new Array(e),n=o.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,n,e);return t},h.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var r=0,i=0;i<t;i++)r|=(1&e)<<t-i-1,e>>=1;return r},h.prototype.permute=function(e,t,n,r,i,o){for(var s=0;s<o;s++)r[s]=t[e[s]],i[s]=n[e[s]]},h.prototype.transform=function(e,t,n,r,i,o){this.permute(o,e,t,n,r,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,c=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var f=c,h=u,d=0;d<s;d++){var p=n[l+d],y=r[l+d],g=n[l+d+s],m=r[l+d+s],v=f*g-h*m;m=f*m+h*g,g=v,n[l+d]=p+g,r[l+d]=y+m,n[l+d+s]=p-g,r[l+d+s]=y-m,d!==a&&(v=c*f-u*h,h=c*h+u*f,f=v)}},h.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},h.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=e[r];e[r]=e[n-r-1],e[n-r-1]=i,i=t[r],t[r]=-t[n-r-1],t[n-r-1]=-i}},h.prototype.normalize13b=function(e,t){for(var n=0,r=0;r<t/2;r++){var i=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+n;e[r]=67108863&i,n=i<67108864?0:i/67108864|0}return e},h.prototype.convert13b=function(e,t,n,i){for(var o=0,s=0;s<t;s++)o+=0|e[s],n[2*s]=8191&o,o>>>=13,n[2*s+1]=8191&o,o>>>=13;for(s=2*t;s<i;++s)n[s]=0;r(0===o),r(0==(-8192&o))},h.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},h.prototype.mulp=function(e,t,n){var r=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(r),o=this.stub(r),s=new Array(r),a=new Array(r),c=new Array(r),u=new Array(r),l=new Array(r),f=new Array(r),h=n.words;h.length=r,this.convert13b(e.words,e.length,s,r),this.convert13b(t.words,t.length,u,r),this.transform(s,o,a,c,r,i),this.transform(u,o,l,f,r,i);for(var d=0;d<r;d++){var p=a[d]*l[d]-c[d]*f[d];c[d]=a[d]*f[d]+c[d]*l[d],a[d]=p}return this.conjugate(a,c,r),this.transform(a,c,h,o,r,i),this.conjugate(h,o,r),this.normalize13b(h,r),n.negative=e.negative^t.negative,n.length=e.length+t.length,n.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),f(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){r("number"==typeof e),r(e<67108864);for(var t=0,n=0;n<this.length;n++){var i=(0|this.words[n])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[n]=67108863&o}return 0!==t&&(this.words[n]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=c(e);if(0===t.length)return new o(1);for(var n=this,r=0;r<t.length&&0===t[r];r++,n=n.sqr());if(++r<t.length)for(var i=n.sqr();r<t.length;r++,i=i.sqr())0!==t[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,c=(0|this.words[t])-a<<n;this.words[t]=c|s,s=a>>>26-n}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,n){r("number"==typeof e&&e>=0);var i;i=t?(t-t%26)/26:0;var o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o,c=n;if(i-=s,i=Math.max(0,i),c){for(var u=0;u<s;u++)c.words[u]=this.words[u];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var f=0|this.words[u];this.words[u]=l<<26-o|f>>>o,l=f&a}return c&&0!==l&&(c.words[c.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n)&&!!(this.words[n]&i)},o.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,n){var i,o=e.length+n;this._expand(o);var s,a=0;for(i=0;i<e.length;i++){s=(0|this.words[i+n])+a;var c=(0|e.words[i])*t;s-=67108863&c,a=(s>>26)-(c/67108864|0),this.words[i+n]=67108863&s}for(;i<this.length-n;i++)s=(0|this.words[i+n])+a,a=s>>26,this.words[i+n]=67108863&s;if(0===a)return this.strip();for(r(-1===a),a=0,i=0;i<this.length;i++)s=-(0|this.words[i])+a,a=s>>26,this.words[i]=67108863&s;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var n=this.length-e.length,r=this.clone(),i=e,s=0|i.words[i.length-1];0!==(n=26-this._countBits(s))&&(i=i.ushln(n),r.iushln(n),s=0|i.words[i.length-1]);var a,c=r.length-i.length;if("mod"!==t){a=new o(null),a.length=c+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=r.clone()._ishlnsubmul(i,1,c);0===l.negative&&(r=l,a&&(a.words[c]=1));for(var f=c-1;f>=0;f--){var h=67108864*(0|r.words[i.length+f])+(0|r.words[i.length+f-1]);for(h=Math.min(h/s|0,67108863),r._ishlnsubmul(i,h,f);0!==r.negative;)h--,r.negative=0,r._ishlnsubmul(i,1,f),r.isZero()||(r.negative^=1);a&&(a.words[f]=h)}return a&&a.strip(),r.strip(),"div"!==t&&0!==n&&r.iushrn(n),{div:a||null,mod:r}},o.prototype.divmod=function(e,t,n){if(r(!e.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var i,s,a;return 0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(s=a.mod.neg(),n&&0!==s.negative&&s.iadd(e)),{div:i,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),n&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t)},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),i=e.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,n=0,i=this.length-1;i>=0;i--)n=(t*n+(0|this.words[i]))%e;return n},o.prototype.idivn=function(e){r(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*t;this.words[n]=i/e|0,t=i%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),s=new o(0),a=new o(0),c=new o(1),u=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++u;for(var l=n.clone(),f=t.clone();!t.isZero();){for(var h=0,d=1;0==(t.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(l),s.isub(f)),i.iushrn(1),s.iushrn(1);for(var p=0,y=1;0==(n.words[0]&y)&&p<26;++p,y<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(l),c.isub(f)),a.iushrn(1),c.iushrn(1);t.cmp(n)>=0?(t.isub(n),i.isub(a),s.isub(c)):(n.isub(t),a.isub(i),c.isub(s))}return{a:a,b:c,gcd:n.iushln(u)}},o.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),s=new o(0),a=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,u=1;0==(t.words[0]&u)&&c<26;++c,u<<=1);if(c>0)for(t.iushrn(c);c-- >0;)i.isOdd()&&i.iadd(a),i.iushrn(1);for(var l=0,f=1;0==(n.words[0]&f)&&l<26;++l,f<<=1);if(l>0)for(n.iushrn(l);l-- >0;)s.isOdd()&&s.iadd(a),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),i.isub(s)):(n.isub(t),s.isub(i))}var h;return h=0===t.cmpn(1)?i:s,h.cmpn(0)<0&&h.iadd(e),h},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var r=0;t.isEven()&&n.isEven();r++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=t.cmp(n);if(i<0){var o=t;t=n,n=o}else if(0===i||0===n.cmpn(1))break;t.isub(n)}return n.iushln(r)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,s=n;0!==o&&s<this.length;s++){var a=0|this.words[s];a+=o,o=a>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t=e<0;if(0!==this.negative&&!t)return-1;if(0===this.negative&&t)return 1;this.strip();var n;if(this.length>1)n=1;else{t&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];n=i===e?0:i<e?-1:1}return 0!==this.negative?0|-n:n},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|e.words[n];if(r!==i){r<i?t=-1:r>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new v(e)},o.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var _={k256:null,p224:null,p192:null,p25519:null};d.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},d.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),n=this.imulK(n),n=n.iadd(this.tmp),t=n.bitLength()}while(t>this.n);var r=t<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):n.strip(),n},d.prototype.split=function(e,t){e.iushrn(this.n,0,t)},d.prototype.imulK=function(e){return e.imul(this.k)},i(p,d),p.prototype.split=function(e,t){for(var n=Math.min(e.length,9),r=0;r<n;r++)t.words[r]=e.words[r];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var i=e.words[9];for(t.words[t.length++]=4194303&i,r=10;r<e.length;r++){var o=0|e.words[r];e.words[r-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,e.words[r-10]=i,0===i&&e.length>10?e.length-=10:e.length-=9},p.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var r=0|e.words[n];t+=977*r,e.words[n]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(y,d),i(g,d),i(m,d),m.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=19*(0|e.words[n])+t,i=67108863&r;r>>>=26,e.words[n]=i,t=r}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(_[e])return _[e];var t;if("k256"===e)t=new p;else if("p224"===e)t=new y;else if("p192"===e)t=new g;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new m}return _[e]=t,t},v.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},v.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},v.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},v.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},v.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},v.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},v.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},v.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},v.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},v.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},v.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},v.prototype.isqr=function(e){return this.imul(e,e.clone())},v.prototype.sqr=function(e){return this.mul(e,e)},v.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new o(1)).iushrn(2);return this.pow(e,n)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);r(!i.isZero());var a=new o(1).toRed(this),c=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,u).cmp(c);)l.redIAdd(c);for(var f=this.pow(l,i),h=this.pow(e,i.addn(1).iushrn(1)),d=this.pow(e,i),p=s;0!==d.cmp(a);){for(var y=d,g=0;0!==y.cmp(a);g++)y=y.redSqr();r(g<p);var m=this.pow(f,new o(1).iushln(p-g-1));h=h.redMul(m),f=m.redSqr(),d=d.redMul(f),p=g}return h},v.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},v.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=e;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],e);var i=n[0],s=0,a=0,c=t.bitLength()%26;for(0===c&&(c=26),r=t.length-1;r>=0;r--){for(var u=t.words[r],l=c-1;l>=0;l--){var f=u>>l&1;i!==n[0]&&(i=this.sqr(i)),0!==f||0!==s?(s<<=1,s|=f,(4===++a||0===r&&0===l)&&(i=this.mul(i,n[s]),a=0,s=0)):a=0}c=26}return i},v.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},v.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new b(e)},i(b,v),b.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},b.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},b.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},b.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var n=e.mul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},b.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===e||e,this)}).call(t,n(109)(e))},function(e,t,n){"use strict";function r(e){var t={};return null!==e&&Object.keys(e).forEach(function(n){e[n].forEach(function(e){t[String(e)]=n})}),t}function i(e,t){if(t=t||{},Object.keys(t).forEach(function(t){if(-1===s.indexOf(t))throw new o('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')}),this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(e){return e},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.defaultStyle=t.defaultStyle||null,this.styleAliases=r(t.styleAliases||null),-1===a.indexOf(this.kind))throw new o('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var o=n(45),s=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],a=["scalar","sequence","mapping"];e.exports=i},function(e,t,n){"use strict";var r,i,o=e.exports=n(16),s=n(91);o.codegen=n(185),o.fetch=n(186),o.path=n(187),o.fs=o.inquire("fs"),o.toArray=function(e){if(e){for(var t=Object.keys(e),n=new Array(t.length),r=0;r<t.length;)n[r]=e[t[r++]];return n}return[]},o.toObject=function(e){for(var t={},n=0;n<e.length;){var r=e[n++],i=e[n++];void 0!==i&&(t[r]=i)}return t};var a=/\\/g,c=/"/g;o.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)},o.safeProp=function(e){return!/^[$\w_]+$/.test(e)||o.isReserved(e)?'["'+e.replace(a,"\\\\").replace(c,'\\"')+'"]':"."+e},o.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var u=/_([a-z])/g;o.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(u,function(e,t){return t.toUpperCase()})},o.compareFieldsById=function(e,t){return e.id-t.id},o.decorateType=function(e,t){if(e.$type)return t&&e.$type.name!==t&&(o.decorateRoot.remove(e.$type),e.$type.name=t,o.decorateRoot.add(e.$type)),e.$type;r||(r=n(60));var i=new r(t||e.name);return o.decorateRoot.add(i),i.ctor=e,Object.defineProperty(e,"$type",{value:i,enumerable:!1}),Object.defineProperty(e.prototype,"$type",{value:i,enumerable:!1}),i};var l=0;o.decorateEnum=function(e){if(e.$type)return e.$type;i||(i=n(14));var t=new i("Enum"+l++,e);return o.decorateRoot.add(t),Object.defineProperty(e,"$type",{value:t,enumerable:!1}),t},Object.defineProperty(o,"decorateRoot",{get:function(){return s.decorated||(s.decorated=new(n(65)))}})},function(e,t,n){"use strict";var r=t;r.version=n(246).version,r.utils=n(247),r.rand=n(127),r.curve=n(52),r.curves=n(252),r.ec=n(260),r.eddsa=n(264)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.protos=t.orderer=t.kvrwset=t.rwset=t.google=t.msp=t.common=t.gossip=t.discovery=t.CredentialRevocationInformation=t.NymSignature=t.NonRevocationProof=t.Signature=t.CredRequest=t.Credential=t.IssuerKey=t.IssuerPublicKey=t.ECP2=t.ECP=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(172),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i),s=o.Reader,a=o.Writer,c=o.util,u=o.roots["src/proto"]||(o.roots["src/proto"]={});t.ECP=u.ECP=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.x=c.newBuffer([]),e.prototype.y=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.x&&e.hasOwnProperty("x")&&t.uint32(10).bytes(e.x),null!=e.y&&e.hasOwnProperty("y")&&t.uint32(18).bytes(e.y),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.ECP;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.x=e.bytes();break;case 2:r.y=e.bytes();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.x&&e.hasOwnProperty("x")&&!(e.x&&"number"==typeof e.x.length||c.isString(e.x))?"x: buffer expected":null!=e.y&&e.hasOwnProperty("y")&&!(e.y&&"number"==typeof e.y.length||c.isString(e.y))?"y: buffer expected":null},e.fromObject=function(e){if(e instanceof u.ECP)return e;var t=new u.ECP;return null!=e.x&&("string"==typeof e.x?c.base64.decode(e.x,t.x=c.newBuffer(c.base64.length(e.x)),0):e.x.length&&(t.x=e.x)),null!=e.y&&("string"==typeof e.y?c.base64.decode(e.y,t.y=c.newBuffer(c.base64.length(e.y)),0):e.y.length&&(t.y=e.y)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.x=t.bytes===String?"":[],n.y=t.bytes===String?"":[]),null!=e.x&&e.hasOwnProperty("x")&&(n.x=t.bytes===String?c.base64.encode(e.x,0,e.x.length):t.bytes===Array?Array.prototype.slice.call(e.x):e.x),null!=e.y&&e.hasOwnProperty("y")&&(n.y=t.bytes===String?c.base64.encode(e.y,0,e.y.length):t.bytes===Array?Array.prototype.slice.call(e.y):e.y),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),t.ECP2=u.ECP2=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.xa=c.newBuffer([]),e.prototype.xb=c.newBuffer([]),e.prototype.ya=c.newBuffer([]),e.prototype.yb=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.xa&&e.hasOwnProperty("xa")&&t.uint32(10).bytes(e.xa),null!=e.xb&&e.hasOwnProperty("xb")&&t.uint32(18).bytes(e.xb),null!=e.ya&&e.hasOwnProperty("ya")&&t.uint32(26).bytes(e.ya),null!=e.yb&&e.hasOwnProperty("yb")&&t.uint32(34).bytes(e.yb),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.ECP2;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.xa=e.bytes();break;case 2:r.xb=e.bytes();break;case 3:r.ya=e.bytes();break;case 4:r.yb=e.bytes();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.xa&&e.hasOwnProperty("xa")&&!(e.xa&&"number"==typeof e.xa.length||c.isString(e.xa))?"xa: buffer expected":null!=e.xb&&e.hasOwnProperty("xb")&&!(e.xb&&"number"==typeof e.xb.length||c.isString(e.xb))?"xb: buffer expected":null!=e.ya&&e.hasOwnProperty("ya")&&!(e.ya&&"number"==typeof e.ya.length||c.isString(e.ya))?"ya: buffer expected":null!=e.yb&&e.hasOwnProperty("yb")&&!(e.yb&&"number"==typeof e.yb.length||c.isString(e.yb))?"yb: buffer expected":null},e.fromObject=function(e){if(e instanceof u.ECP2)return e;var t=new u.ECP2;return null!=e.xa&&("string"==typeof e.xa?c.base64.decode(e.xa,t.xa=c.newBuffer(c.base64.length(e.xa)),0):e.xa.length&&(t.xa=e.xa)),null!=e.xb&&("string"==typeof e.xb?c.base64.decode(e.xb,t.xb=c.newBuffer(c.base64.length(e.xb)),0):e.xb.length&&(t.xb=e.xb)),null!=e.ya&&("string"==typeof e.ya?c.base64.decode(e.ya,t.ya=c.newBuffer(c.base64.length(e.ya)),0):e.ya.length&&(t.ya=e.ya)),null!=e.yb&&("string"==typeof e.yb?c.base64.decode(e.yb,t.yb=c.newBuffer(c.base64.length(e.yb)),0):e.yb.length&&(t.yb=e.yb)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.xa=t.bytes===String?"":[],n.xb=t.bytes===String?"":[],n.ya=t.bytes===String?"":[],n.yb=t.bytes===String?"":[]),null!=e.xa&&e.hasOwnProperty("xa")&&(n.xa=t.bytes===String?c.base64.encode(e.xa,0,e.xa.length):t.bytes===Array?Array.prototype.slice.call(e.xa):e.xa),null!=e.xb&&e.hasOwnProperty("xb")&&(n.xb=t.bytes===String?c.base64.encode(e.xb,0,e.xb.length):t.bytes===Array?Array.prototype.slice.call(e.xb):e.xb),null!=e.ya&&e.hasOwnProperty("ya")&&(n.ya=t.bytes===String?c.base64.encode(e.ya,0,e.ya.length):t.bytes===Array?Array.prototype.slice.call(e.ya):e.ya),null!=e.yb&&e.hasOwnProperty("yb")&&(n.yb=t.bytes===String?c.base64.encode(e.yb,0,e.yb.length):t.bytes===Array?Array.prototype.slice.call(e.yb):e.yb),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),t.IssuerPublicKey=u.IssuerPublicKey=function(){function e(e){if(this.attributeNames=[],this.hAttrs=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.attributeNames=c.emptyArray,e.prototype.hSk=null,e.prototype.hRand=null,e.prototype.hAttrs=c.emptyArray,e.prototype.w=null,e.prototype.barG1=null,e.prototype.barG2=null,e.prototype.proofC=c.newBuffer([]),e.prototype.proofS=c.newBuffer([]),e.prototype.hash=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.attributeNames&&e.attributeNames.length)for(var n=0;n<e.attributeNames.length;++n)t.uint32(10).string(e.attributeNames[n]);if(null!=e.hSk&&e.hasOwnProperty("hSk")&&u.ECP.encode(e.hSk,t.uint32(18).fork()).ldelim(),null!=e.hRand&&e.hasOwnProperty("hRand")&&u.ECP.encode(e.hRand,t.uint32(26).fork()).ldelim(),null!=e.hAttrs&&e.hAttrs.length)for(var r=0;r<e.hAttrs.length;++r)u.ECP.encode(e.hAttrs[r],t.uint32(34).fork()).ldelim();return null!=e.w&&e.hasOwnProperty("w")&&u.ECP2.encode(e.w,t.uint32(42).fork()).ldelim(),null!=e.barG1&&e.hasOwnProperty("barG1")&&u.ECP.encode(e.barG1,t.uint32(50).fork()).ldelim(),null!=e.barG2&&e.hasOwnProperty("barG2")&&u.ECP.encode(e.barG2,t.uint32(58).fork()).ldelim(),null!=e.proofC&&e.hasOwnProperty("proofC")&&t.uint32(66).bytes(e.proofC),null!=e.proofS&&e.hasOwnProperty("proofS")&&t.uint32(74).bytes(e.proofS),null!=e.hash&&e.hasOwnProperty("hash")&&t.uint32(82).bytes(e.hash),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.IssuerPublicKey;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.attributeNames&&r.attributeNames.length||(r.attributeNames=[]),r.attributeNames.push(e.string());break;case 2:r.hSk=u.ECP.decode(e,e.uint32());break;case 3:r.hRand=u.ECP.decode(e,e.uint32());break;case 4:r.hAttrs&&r.hAttrs.length||(r.hAttrs=[]),r.hAttrs.push(u.ECP.decode(e,e.uint32()));break;case 5:r.w=u.ECP2.decode(e,e.uint32());break;case 6:r.barG1=u.ECP.decode(e,e.uint32());break;case 7:r.barG2=u.ECP.decode(e,e.uint32());break;case 8:r.proofC=e.bytes();break;case 9:r.proofS=e.bytes();break;case 10:r.hash=e.bytes();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.attributeNames&&e.hasOwnProperty("attributeNames")){if(!Array.isArray(e.attributeNames))return"attributeNames: array expected";for(var t=0;t<e.attributeNames.length;++t)if(!c.isString(e.attributeNames[t]))return"attributeNames: string[] expected"}if(null!=e.hSk&&e.hasOwnProperty("hSk")){var n=u.ECP.verify(e.hSk);if(n)return"hSk."+n}if(null!=e.hRand&&e.hasOwnProperty("hRand")){var i=u.ECP.verify(e.hRand);if(i)return"hRand."+i}if(null!=e.hAttrs&&e.hasOwnProperty("hAttrs")){if(!Array.isArray(e.hAttrs))return"hAttrs: array expected";for(var o=0;o<e.hAttrs.length;++o){var s=u.ECP.verify(e.hAttrs[o]);if(s)return"hAttrs."+s}}if(null!=e.w&&e.hasOwnProperty("w")){var a=u.ECP2.verify(e.w);if(a)return"w."+a}if(null!=e.barG1&&e.hasOwnProperty("barG1")){var l=u.ECP.verify(e.barG1);if(l)return"barG1."+l}if(null!=e.barG2&&e.hasOwnProperty("barG2")){var f=u.ECP.verify(e.barG2);if(f)return"barG2."+f}return null!=e.proofC&&e.hasOwnProperty("proofC")&&!(e.proofC&&"number"==typeof e.proofC.length||c.isString(e.proofC))?"proofC: buffer expected":null!=e.proofS&&e.hasOwnProperty("proofS")&&!(e.proofS&&"number"==typeof e.proofS.length||c.isString(e.proofS))?"proofS: buffer expected":null!=e.hash&&e.hasOwnProperty("hash")&&!(e.hash&&"number"==typeof e.hash.length||c.isString(e.hash))?"hash: buffer expected":null},e.fromObject=function(e){if(e instanceof u.IssuerPublicKey)return e;var t=new u.IssuerPublicKey;if(e.attributeNames){if(!Array.isArray(e.attributeNames))throw TypeError(".IssuerPublicKey.attributeNames: array expected");t.attributeNames=[];for(var n=0;n<e.attributeNames.length;++n)t.attributeNames[n]=String(e.attributeNames[n])}if(null!=e.hSk){if("object"!==r(e.hSk))throw TypeError(".IssuerPublicKey.hSk: object expected");t.hSk=u.ECP.fromObject(e.hSk)}if(null!=e.hRand){if("object"!==r(e.hRand))throw TypeError(".IssuerPublicKey.hRand: object expected");t.hRand=u.ECP.fromObject(e.hRand)}if(e.hAttrs){if(!Array.isArray(e.hAttrs))throw TypeError(".IssuerPublicKey.hAttrs: array expected");t.hAttrs=[];for(var i=0;i<e.hAttrs.length;++i){if("object"!==r(e.hAttrs[i]))throw TypeError(".IssuerPublicKey.hAttrs: object expected");t.hAttrs[i]=u.ECP.fromObject(e.hAttrs[i])}}if(null!=e.w){if("object"!==r(e.w))throw TypeError(".IssuerPublicKey.w: object expected");t.w=u.ECP2.fromObject(e.w)}if(null!=e.barG1){if("object"!==r(e.barG1))throw TypeError(".IssuerPublicKey.barG1: object expected");t.barG1=u.ECP.fromObject(e.barG1)}if(null!=e.barG2){if("object"!==r(e.barG2))throw TypeError(".IssuerPublicKey.barG2: object expected");t.barG2=u.ECP.fromObject(e.barG2)}return null!=e.proofC&&("string"==typeof e.proofC?c.base64.decode(e.proofC,t.proofC=c.newBuffer(c.base64.length(e.proofC)),0):e.proofC.length&&(t.proofC=e.proofC)),null!=e.proofS&&("string"==typeof e.proofS?c.base64.decode(e.proofS,t.proofS=c.newBuffer(c.base64.length(e.proofS)),0):e.proofS.length&&(t.proofS=e.proofS)),null!=e.hash&&("string"==typeof e.hash?c.base64.decode(e.hash,t.hash=c.newBuffer(c.base64.length(e.hash)),0):e.hash.length&&(t.hash=e.hash)),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.attributeNames=[],n.hAttrs=[]),t.defaults&&(n.hSk=null,n.hRand=null,n.w=null,n.barG1=null,n.barG2=null,n.proofC=t.bytes===String?"":[],n.proofS=t.bytes===String?"":[],n.hash=t.bytes===String?"":[]),e.attributeNames&&e.attributeNames.length){n.attributeNames=[];for(var r=0;r<e.attributeNames.length;++r)n.attributeNames[r]=e.attributeNames[r]}if(null!=e.hSk&&e.hasOwnProperty("hSk")&&(n.hSk=u.ECP.toObject(e.hSk,t)),null!=e.hRand&&e.hasOwnProperty("hRand")&&(n.hRand=u.ECP.toObject(e.hRand,t)),e.hAttrs&&e.hAttrs.length){n.hAttrs=[];for(var i=0;i<e.hAttrs.length;++i)n.hAttrs[i]=u.ECP.toObject(e.hAttrs[i],t)}return null!=e.w&&e.hasOwnProperty("w")&&(n.w=u.ECP2.toObject(e.w,t)),null!=e.barG1&&e.hasOwnProperty("barG1")&&(n.barG1=u.ECP.toObject(e.barG1,t)),null!=e.barG2&&e.hasOwnProperty("barG2")&&(n.barG2=u.ECP.toObject(e.barG2,t)),null!=e.proofC&&e.hasOwnProperty("proofC")&&(n.proofC=t.bytes===String?c.base64.encode(e.proofC,0,e.proofC.length):t.bytes===Array?Array.prototype.slice.call(e.proofC):e.proofC),null!=e.proofS&&e.hasOwnProperty("proofS")&&(n.proofS=t.bytes===String?c.base64.encode(e.proofS,0,e.proofS.length):t.bytes===Array?Array.prototype.slice.call(e.proofS):e.proofS),null!=e.hash&&e.hasOwnProperty("hash")&&(n.hash=t.bytes===String?c.base64.encode(e.hash,0,e.hash.length):t.bytes===Array?Array.prototype.slice.call(e.hash):e.hash),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),t.IssuerKey=u.IssuerKey=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.isk=c.newBuffer([]),e.prototype.ipk=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.isk&&e.hasOwnProperty("isk")&&t.uint32(10).bytes(e.isk),null!=e.ipk&&e.hasOwnProperty("ipk")&&u.IssuerPublicKey.encode(e.ipk,t.uint32(18).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.IssuerKey;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.isk=e.bytes();break;case 2:r.ipk=u.IssuerPublicKey.decode(e,e.uint32());break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.isk&&e.hasOwnProperty("isk")&&!(e.isk&&"number"==typeof e.isk.length||c.isString(e.isk)))return"isk: buffer expected";if(null!=e.ipk&&e.hasOwnProperty("ipk")){var t=u.IssuerPublicKey.verify(e.ipk);if(t)return"ipk."+t}return null},e.fromObject=function(e){if(e instanceof u.IssuerKey)return e;var t=new u.IssuerKey;if(null!=e.isk&&("string"==typeof e.isk?c.base64.decode(e.isk,t.isk=c.newBuffer(c.base64.length(e.isk)),0):e.isk.length&&(t.isk=e.isk)),null!=e.ipk){if("object"!==r(e.ipk))throw TypeError(".IssuerKey.ipk: object expected");t.ipk=u.IssuerPublicKey.fromObject(e.ipk)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.isk=t.bytes===String?"":[],n.ipk=null),null!=e.isk&&e.hasOwnProperty("isk")&&(n.isk=t.bytes===String?c.base64.encode(e.isk,0,e.isk.length):t.bytes===Array?Array.prototype.slice.call(e.isk):e.isk),null!=e.ipk&&e.hasOwnProperty("ipk")&&(n.ipk=u.IssuerPublicKey.toObject(e.ipk,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),t.Credential=u.Credential=function(){function e(e){if(this.attrs=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.a=null,e.prototype.b=null,e.prototype.e=c.newBuffer([]),e.prototype.s=c.newBuffer([]),e.prototype.attrs=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.a&&e.hasOwnProperty("a")&&u.ECP.encode(e.a,t.uint32(10).fork()).ldelim(),null!=e.b&&e.hasOwnProperty("b")&&u.ECP.encode(e.b,t.uint32(18).fork()).ldelim(),null!=e.e&&e.hasOwnProperty("e")&&t.uint32(26).bytes(e.e),null!=e.s&&e.hasOwnProperty("s")&&t.uint32(34).bytes(e.s),null!=e.attrs&&e.attrs.length)for(var n=0;n<e.attrs.length;++n)t.uint32(42).bytes(e.attrs[n]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.Credential;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.a=u.ECP.decode(e,e.uint32());break;case 2:r.b=u.ECP.decode(e,e.uint32());break;case 3:r.e=e.bytes();break;case 4:r.s=e.bytes();break;case 5:r.attrs&&r.attrs.length||(r.attrs=[]),r.attrs.push(e.bytes());break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.a&&e.hasOwnProperty("a")){var t=u.ECP.verify(e.a);if(t)return"a."+t}if(null!=e.b&&e.hasOwnProperty("b")){var n=u.ECP.verify(e.b);if(n)return"b."+n}if(null!=e.e&&e.hasOwnProperty("e")&&!(e.e&&"number"==typeof e.e.length||c.isString(e.e)))return"e: buffer expected";if(null!=e.s&&e.hasOwnProperty("s")&&!(e.s&&"number"==typeof e.s.length||c.isString(e.s)))return"s: buffer expected";if(null!=e.attrs&&e.hasOwnProperty("attrs")){if(!Array.isArray(e.attrs))return"attrs: array expected";for(var i=0;i<e.attrs.length;++i)if(!(e.attrs[i]&&"number"==typeof e.attrs[i].length||c.isString(e.attrs[i])))return"attrs: buffer[] expected"}return null},e.fromObject=function(e){if(e instanceof u.Credential)return e;var t=new u.Credential;if(null!=e.a){if("object"!==r(e.a))throw TypeError(".Credential.a: object expected");t.a=u.ECP.fromObject(e.a)}if(null!=e.b){if("object"!==r(e.b))throw TypeError(".Credential.b: object expected");t.b=u.ECP.fromObject(e.b)}if(null!=e.e&&("string"==typeof e.e?c.base64.decode(e.e,t.e=c.newBuffer(c.base64.length(e.e)),0):e.e.length&&(t.e=e.e)),null!=e.s&&("string"==typeof e.s?c.base64.decode(e.s,t.s=c.newBuffer(c.base64.length(e.s)),0):e.s.length&&(t.s=e.s)),e.attrs){if(!Array.isArray(e.attrs))throw TypeError(".Credential.attrs: array expected");t.attrs=[];for(var n=0;n<e.attrs.length;++n)"string"==typeof e.attrs[n]?c.base64.decode(e.attrs[n],t.attrs[n]=c.newBuffer(c.base64.length(e.attrs[n])),0):e.attrs[n].length&&(t.attrs[n]=e.attrs[n])}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.attrs=[]),t.defaults&&(n.a=null,n.b=null,n.e=t.bytes===String?"":[],n.s=t.bytes===String?"":[]),null!=e.a&&e.hasOwnProperty("a")&&(n.a=u.ECP.toObject(e.a,t)),null!=e.b&&e.hasOwnProperty("b")&&(n.b=u.ECP.toObject(e.b,t)),null!=e.e&&e.hasOwnProperty("e")&&(n.e=t.bytes===String?c.base64.encode(e.e,0,e.e.length):t.bytes===Array?Array.prototype.slice.call(e.e):e.e),null!=e.s&&e.hasOwnProperty("s")&&(n.s=t.bytes===String?c.base64.encode(e.s,0,e.s.length):t.bytes===Array?Array.prototype.slice.call(e.s):e.s),e.attrs&&e.attrs.length){n.attrs=[];for(var r=0;r<e.attrs.length;++r)n.attrs[r]=t.bytes===String?c.base64.encode(e.attrs[r],0,e.attrs[r].length):t.bytes===Array?Array.prototype.slice.call(e.attrs[r]):e.attrs[r]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),t.CredRequest=u.CredRequest=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.nym=null,e.prototype.issuerNonce=c.newBuffer([]),e.prototype.proofC=c.newBuffer([]),e.prototype.proofS=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.nym&&e.hasOwnProperty("nym")&&u.ECP.encode(e.nym,t.uint32(10).fork()).ldelim(),null!=e.issuerNonce&&e.hasOwnProperty("issuerNonce")&&t.uint32(18).bytes(e.issuerNonce),null!=e.proofC&&e.hasOwnProperty("proofC")&&t.uint32(26).bytes(e.proofC),null!=e.proofS&&e.hasOwnProperty("proofS")&&t.uint32(34).bytes(e.proofS),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.CredRequest;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.nym=u.ECP.decode(e,e.uint32());break;case 2:r.issuerNonce=e.bytes();break;case 3:r.proofC=e.bytes();break;case 4:r.proofS=e.bytes();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.nym&&e.hasOwnProperty("nym")){var t=u.ECP.verify(e.nym);if(t)return"nym."+t}return null!=e.issuerNonce&&e.hasOwnProperty("issuerNonce")&&!(e.issuerNonce&&"number"==typeof e.issuerNonce.length||c.isString(e.issuerNonce))?"issuerNonce: buffer expected":null!=e.proofC&&e.hasOwnProperty("proofC")&&!(e.proofC&&"number"==typeof e.proofC.length||c.isString(e.proofC))?"proofC: buffer expected":null!=e.proofS&&e.hasOwnProperty("proofS")&&!(e.proofS&&"number"==typeof e.proofS.length||c.isString(e.proofS))?"proofS: buffer expected":null},e.fromObject=function(e){if(e instanceof u.CredRequest)return e;var t=new u.CredRequest;if(null!=e.nym){if("object"!==r(e.nym))throw TypeError(".CredRequest.nym: object expected");t.nym=u.ECP.fromObject(e.nym)}return null!=e.issuerNonce&&("string"==typeof e.issuerNonce?c.base64.decode(e.issuerNonce,t.issuerNonce=c.newBuffer(c.base64.length(e.issuerNonce)),0):e.issuerNonce.length&&(t.issuerNonce=e.issuerNonce)),null!=e.proofC&&("string"==typeof e.proofC?c.base64.decode(e.proofC,t.proofC=c.newBuffer(c.base64.length(e.proofC)),0):e.proofC.length&&(t.proofC=e.proofC)),null!=e.proofS&&("string"==typeof e.proofS?c.base64.decode(e.proofS,t.proofS=c.newBuffer(c.base64.length(e.proofS)),0):e.proofS.length&&(t.proofS=e.proofS)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.nym=null,n.issuerNonce=t.bytes===String?"":[],n.proofC=t.bytes===String?"":[],n.proofS=t.bytes===String?"":[]),null!=e.nym&&e.hasOwnProperty("nym")&&(n.nym=u.ECP.toObject(e.nym,t)),null!=e.issuerNonce&&e.hasOwnProperty("issuerNonce")&&(n.issuerNonce=t.bytes===String?c.base64.encode(e.issuerNonce,0,e.issuerNonce.length):t.bytes===Array?Array.prototype.slice.call(e.issuerNonce):e.issuerNonce),null!=e.proofC&&e.hasOwnProperty("proofC")&&(n.proofC=t.bytes===String?c.base64.encode(e.proofC,0,e.proofC.length):t.bytes===Array?Array.prototype.slice.call(e.proofC):e.proofC),null!=e.proofS&&e.hasOwnProperty("proofS")&&(n.proofS=t.bytes===String?c.base64.encode(e.proofS,0,e.proofS.length):t.bytes===Array?Array.prototype.slice.call(e.proofS):e.proofS),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),t.Signature=u.Signature=function(){function e(e){if(this.proofSAttrs=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.aPrime=null,e.prototype.aBar=null,e.prototype.bPrime=null,e.prototype.proofC=c.newBuffer([]),e.prototype.proofSSk=c.newBuffer([]),e.prototype.proofSE=c.newBuffer([]),e.prototype.proofSR2=c.newBuffer([]),e.prototype.proofSR3=c.newBuffer([]),e.prototype.proofSSPrime=c.newBuffer([]),e.prototype.proofSAttrs=c.emptyArray,e.prototype.nonce=c.newBuffer([]),e.prototype.nym=null,e.prototype.proofSRNym=c.newBuffer([]),e.prototype.revocationEpochPk=null,e.prototype.revocationPkSig=c.newBuffer([]),e.prototype.epoch=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.nonRevocationProof=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.aPrime&&e.hasOwnProperty("aPrime")&&u.ECP.encode(e.aPrime,t.uint32(10).fork()).ldelim(),null!=e.aBar&&e.hasOwnProperty("aBar")&&u.ECP.encode(e.aBar,t.uint32(18).fork()).ldelim(),null!=e.bPrime&&e.hasOwnProperty("bPrime")&&u.ECP.encode(e.bPrime,t.uint32(26).fork()).ldelim(),null!=e.proofC&&e.hasOwnProperty("proofC")&&t.uint32(34).bytes(e.proofC),null!=e.proofSSk&&e.hasOwnProperty("proofSSk")&&t.uint32(42).bytes(e.proofSSk),null!=e.proofSE&&e.hasOwnProperty("proofSE")&&t.uint32(50).bytes(e.proofSE),null!=e.proofSR2&&e.hasOwnProperty("proofSR2")&&t.uint32(58).bytes(e.proofSR2),null!=e.proofSR3&&e.hasOwnProperty("proofSR3")&&t.uint32(66).bytes(e.proofSR3),null!=e.proofSSPrime&&e.hasOwnProperty("proofSSPrime")&&t.uint32(74).bytes(e.proofSSPrime),null!=e.proofSAttrs&&e.proofSAttrs.length)for(var n=0;n<e.proofSAttrs.length;++n)t.uint32(82).bytes(e.proofSAttrs[n]);return null!=e.nonce&&e.hasOwnProperty("nonce")&&t.uint32(90).bytes(e.nonce),null!=e.nym&&e.hasOwnProperty("nym")&&u.ECP.encode(e.nym,t.uint32(98).fork()).ldelim(),null!=e.proofSRNym&&e.hasOwnProperty("proofSRNym")&&t.uint32(106).bytes(e.proofSRNym),null!=e.revocationEpochPk&&e.hasOwnProperty("revocationEpochPk")&&u.ECP2.encode(e.revocationEpochPk,t.uint32(114).fork()).ldelim(),null!=e.revocationPkSig&&e.hasOwnProperty("revocationPkSig")&&t.uint32(122).bytes(e.revocationPkSig),null!=e.epoch&&e.hasOwnProperty("epoch")&&t.uint32(128).int64(e.epoch),null!=e.nonRevocationProof&&e.hasOwnProperty("nonRevocationProof")&&u.NonRevocationProof.encode(e.nonRevocationProof,t.uint32(138).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.Signature;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.aPrime=u.ECP.decode(e,e.uint32());break;case 2:r.aBar=u.ECP.decode(e,e.uint32());break;case 3:r.bPrime=u.ECP.decode(e,e.uint32());break;case 4:r.proofC=e.bytes();break;case 5:r.proofSSk=e.bytes();break;case 6:r.proofSE=e.bytes();break;case 7:r.proofSR2=e.bytes();break;case 8:r.proofSR3=e.bytes();break;case 9:r.proofSSPrime=e.bytes();break;case 10:r.proofSAttrs&&r.proofSAttrs.length||(r.proofSAttrs=[]),r.proofSAttrs.push(e.bytes());break;case 11:r.nonce=e.bytes();break;case 12:r.nym=u.ECP.decode(e,e.uint32());break;case 13:r.proofSRNym=e.bytes();break;case 14:r.revocationEpochPk=u.ECP2.decode(e,e.uint32());break;case 15:r.revocationPkSig=e.bytes();break;case 16:r.epoch=e.int64();break;case 17:r.nonRevocationProof=u.NonRevocationProof.decode(e,e.uint32());break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.aPrime&&e.hasOwnProperty("aPrime")){var t=u.ECP.verify(e.aPrime);if(t)return"aPrime."+t}if(null!=e.aBar&&e.hasOwnProperty("aBar")){var n=u.ECP.verify(e.aBar);if(n)return"aBar."+n}if(null!=e.bPrime&&e.hasOwnProperty("bPrime")){var i=u.ECP.verify(e.bPrime);if(i)return"bPrime."+i}if(null!=e.proofC&&e.hasOwnProperty("proofC")&&!(e.proofC&&"number"==typeof e.proofC.length||c.isString(e.proofC)))return"proofC: buffer expected";if(null!=e.proofSSk&&e.hasOwnProperty("proofSSk")&&!(e.proofSSk&&"number"==typeof e.proofSSk.length||c.isString(e.proofSSk)))return"proofSSk: buffer expected";if(null!=e.proofSE&&e.hasOwnProperty("proofSE")&&!(e.proofSE&&"number"==typeof e.proofSE.length||c.isString(e.proofSE)))return"proofSE: buffer expected";if(null!=e.proofSR2&&e.hasOwnProperty("proofSR2")&&!(e.proofSR2&&"number"==typeof e.proofSR2.length||c.isString(e.proofSR2)))return"proofSR2: buffer expected";if(null!=e.proofSR3&&e.hasOwnProperty("proofSR3")&&!(e.proofSR3&&"number"==typeof e.proofSR3.length||c.isString(e.proofSR3)))return"proofSR3: buffer expected";if(null!=e.proofSSPrime&&e.hasOwnProperty("proofSSPrime")&&!(e.proofSSPrime&&"number"==typeof e.proofSSPrime.length||c.isString(e.proofSSPrime)))return"proofSSPrime: buffer expected";if(null!=e.proofSAttrs&&e.hasOwnProperty("proofSAttrs")){if(!Array.isArray(e.proofSAttrs))return"proofSAttrs: array expected";for(var o=0;o<e.proofSAttrs.length;++o)if(!(e.proofSAttrs[o]&&"number"==typeof e.proofSAttrs[o].length||c.isString(e.proofSAttrs[o])))return"proofSAttrs: buffer[] expected"}if(null!=e.nonce&&e.hasOwnProperty("nonce")&&!(e.nonce&&"number"==typeof e.nonce.length||c.isString(e.nonce)))return"nonce: buffer expected";if(null!=e.nym&&e.hasOwnProperty("nym")){var s=u.ECP.verify(e.nym);if(s)return"nym."+s}if(null!=e.proofSRNym&&e.hasOwnProperty("proofSRNym")&&!(e.proofSRNym&&"number"==typeof e.proofSRNym.length||c.isString(e.proofSRNym)))return"proofSRNym: buffer expected";if(null!=e.revocationEpochPk&&e.hasOwnProperty("revocationEpochPk")){var a=u.ECP2.verify(e.revocationEpochPk);if(a)return"revocationEpochPk."+a}if(null!=e.revocationPkSig&&e.hasOwnProperty("revocationPkSig")&&!(e.revocationPkSig&&"number"==typeof e.revocationPkSig.length||c.isString(e.revocationPkSig)))return"revocationPkSig: buffer expected";if(null!=e.epoch&&e.hasOwnProperty("epoch")&&!(c.isInteger(e.epoch)||e.epoch&&c.isInteger(e.epoch.low)&&c.isInteger(e.epoch.high)))return"epoch: integer|Long expected";if(null!=e.nonRevocationProof&&e.hasOwnProperty("nonRevocationProof")){var l=u.NonRevocationProof.verify(e.nonRevocationProof);if(l)return"nonRevocationProof."+l}return null},e.fromObject=function(e){if(e instanceof u.Signature)return e;var t=new u.Signature;if(null!=e.aPrime){if("object"!==r(e.aPrime))throw TypeError(".Signature.aPrime: object expected");t.aPrime=u.ECP.fromObject(e.aPrime)}if(null!=e.aBar){if("object"!==r(e.aBar))throw TypeError(".Signature.aBar: object expected");t.aBar=u.ECP.fromObject(e.aBar)}if(null!=e.bPrime){if("object"!==r(e.bPrime))throw TypeError(".Signature.bPrime: object expected");t.bPrime=u.ECP.fromObject(e.bPrime)}if(null!=e.proofC&&("string"==typeof e.proofC?c.base64.decode(e.proofC,t.proofC=c.newBuffer(c.base64.length(e.proofC)),0):e.proofC.length&&(t.proofC=e.proofC)),null!=e.proofSSk&&("string"==typeof e.proofSSk?c.base64.decode(e.proofSSk,t.proofSSk=c.newBuffer(c.base64.length(e.proofSSk)),0):e.proofSSk.length&&(t.proofSSk=e.proofSSk)),null!=e.proofSE&&("string"==typeof e.proofSE?c.base64.decode(e.proofSE,t.proofSE=c.newBuffer(c.base64.length(e.proofSE)),0):e.proofSE.length&&(t.proofSE=e.proofSE)),null!=e.proofSR2&&("string"==typeof e.proofSR2?c.base64.decode(e.proofSR2,t.proofSR2=c.newBuffer(c.base64.length(e.proofSR2)),0):e.proofSR2.length&&(t.proofSR2=e.proofSR2)),null!=e.proofSR3&&("string"==typeof e.proofSR3?c.base64.decode(e.proofSR3,t.proofSR3=c.newBuffer(c.base64.length(e.proofSR3)),0):e.proofSR3.length&&(t.proofSR3=e.proofSR3)),null!=e.proofSSPrime&&("string"==typeof e.proofSSPrime?c.base64.decode(e.proofSSPrime,t.proofSSPrime=c.newBuffer(c.base64.length(e.proofSSPrime)),0):e.proofSSPrime.length&&(t.proofSSPrime=e.proofSSPrime)),e.proofSAttrs){if(!Array.isArray(e.proofSAttrs))throw TypeError(".Signature.proofSAttrs: array expected");t.proofSAttrs=[];for(var n=0;n<e.proofSAttrs.length;++n)"string"==typeof e.proofSAttrs[n]?c.base64.decode(e.proofSAttrs[n],t.proofSAttrs[n]=c.newBuffer(c.base64.length(e.proofSAttrs[n])),0):e.proofSAttrs[n].length&&(t.proofSAttrs[n]=e.proofSAttrs[n])}if(null!=e.nonce&&("string"==typeof e.nonce?c.base64.decode(e.nonce,t.nonce=c.newBuffer(c.base64.length(e.nonce)),0):e.nonce.length&&(t.nonce=e.nonce)),null!=e.nym){if("object"!==r(e.nym))throw TypeError(".Signature.nym: object expected");t.nym=u.ECP.fromObject(e.nym)}if(null!=e.proofSRNym&&("string"==typeof e.proofSRNym?c.base64.decode(e.proofSRNym,t.proofSRNym=c.newBuffer(c.base64.length(e.proofSRNym)),0):e.proofSRNym.length&&(t.proofSRNym=e.proofSRNym)),null!=e.revocationEpochPk){if("object"!==r(e.revocationEpochPk))throw TypeError(".Signature.revocationEpochPk: object expected");t.revocationEpochPk=u.ECP2.fromObject(e.revocationEpochPk)}if(null!=e.revocationPkSig&&("string"==typeof e.revocationPkSig?c.base64.decode(e.revocationPkSig,t.revocationPkSig=c.newBuffer(c.base64.length(e.revocationPkSig)),0):e.revocationPkSig.length&&(t.revocationPkSig=e.revocationPkSig)),null!=e.epoch&&(c.Long?(t.epoch=c.Long.fromValue(e.epoch)).unsigned=!1:"string"==typeof e.epoch?t.epoch=parseInt(e.epoch,10):"number"==typeof e.epoch?t.epoch=e.epoch:"object"===r(e.epoch)&&(t.epoch=new c.LongBits(e.epoch.low>>>0,e.epoch.high>>>0).toNumber())),null!=e.nonRevocationProof){if("object"!==r(e.nonRevocationProof))throw TypeError(".Signature.nonRevocationProof: object expected");t.nonRevocationProof=u.NonRevocationProof.fromObject(e.nonRevocationProof)}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.proofSAttrs=[]),t.defaults){if(n.aPrime=null,n.aBar=null,n.bPrime=null,n.proofC=t.bytes===String?"":[],n.proofSSk=t.bytes===String?"":[],n.proofSE=t.bytes===String?"":[],n.proofSR2=t.bytes===String?"":[],n.proofSR3=t.bytes===String?"":[],n.proofSSPrime=t.bytes===String?"":[],n.nonce=t.bytes===String?"":[],n.nym=null,n.proofSRNym=t.bytes===String?"":[],n.revocationEpochPk=null,n.revocationPkSig=t.bytes===String?"":[],c.Long){var r=new c.Long(0,0,!1);n.epoch=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.epoch=t.longs===String?"0":0;n.nonRevocationProof=null}if(null!=e.aPrime&&e.hasOwnProperty("aPrime")&&(n.aPrime=u.ECP.toObject(e.aPrime,t)),null!=e.aBar&&e.hasOwnProperty("aBar")&&(n.aBar=u.ECP.toObject(e.aBar,t)),null!=e.bPrime&&e.hasOwnProperty("bPrime")&&(n.bPrime=u.ECP.toObject(e.bPrime,t)),null!=e.proofC&&e.hasOwnProperty("proofC")&&(n.proofC=t.bytes===String?c.base64.encode(e.proofC,0,e.proofC.length):t.bytes===Array?Array.prototype.slice.call(e.proofC):e.proofC),null!=e.proofSSk&&e.hasOwnProperty("proofSSk")&&(n.proofSSk=t.bytes===String?c.base64.encode(e.proofSSk,0,e.proofSSk.length):t.bytes===Array?Array.prototype.slice.call(e.proofSSk):e.proofSSk),null!=e.proofSE&&e.hasOwnProperty("proofSE")&&(n.proofSE=t.bytes===String?c.base64.encode(e.proofSE,0,e.proofSE.length):t.bytes===Array?Array.prototype.slice.call(e.proofSE):e.proofSE),null!=e.proofSR2&&e.hasOwnProperty("proofSR2")&&(n.proofSR2=t.bytes===String?c.base64.encode(e.proofSR2,0,e.proofSR2.length):t.bytes===Array?Array.prototype.slice.call(e.proofSR2):e.proofSR2),null!=e.proofSR3&&e.hasOwnProperty("proofSR3")&&(n.proofSR3=t.bytes===String?c.base64.encode(e.proofSR3,0,e.proofSR3.length):t.bytes===Array?Array.prototype.slice.call(e.proofSR3):e.proofSR3),null!=e.proofSSPrime&&e.hasOwnProperty("proofSSPrime")&&(n.proofSSPrime=t.bytes===String?c.base64.encode(e.proofSSPrime,0,e.proofSSPrime.length):t.bytes===Array?Array.prototype.slice.call(e.proofSSPrime):e.proofSSPrime),e.proofSAttrs&&e.proofSAttrs.length){n.proofSAttrs=[];for(var i=0;i<e.proofSAttrs.length;++i)n.proofSAttrs[i]=t.bytes===String?c.base64.encode(e.proofSAttrs[i],0,e.proofSAttrs[i].length):t.bytes===Array?Array.prototype.slice.call(e.proofSAttrs[i]):e.proofSAttrs[i]}return null!=e.nonce&&e.hasOwnProperty("nonce")&&(n.nonce=t.bytes===String?c.base64.encode(e.nonce,0,e.nonce.length):t.bytes===Array?Array.prototype.slice.call(e.nonce):e.nonce),null!=e.nym&&e.hasOwnProperty("nym")&&(n.nym=u.ECP.toObject(e.nym,t)),null!=e.proofSRNym&&e.hasOwnProperty("proofSRNym")&&(n.proofSRNym=t.bytes===String?c.base64.encode(e.proofSRNym,0,e.proofSRNym.length):t.bytes===Array?Array.prototype.slice.call(e.proofSRNym):e.proofSRNym),null!=e.revocationEpochPk&&e.hasOwnProperty("revocationEpochPk")&&(n.revocationEpochPk=u.ECP2.toObject(e.revocationEpochPk,t)),null!=e.revocationPkSig&&e.hasOwnProperty("revocationPkSig")&&(n.revocationPkSig=t.bytes===String?c.base64.encode(e.revocationPkSig,0,e.revocationPkSig.length):t.bytes===Array?Array.prototype.slice.call(e.revocationPkSig):e.revocationPkSig),null!=e.epoch&&e.hasOwnProperty("epoch")&&("number"==typeof e.epoch?n.epoch=t.longs===String?String(e.epoch):e.epoch:n.epoch=t.longs===String?c.Long.prototype.toString.call(e.epoch):t.longs===Number?new c.LongBits(e.epoch.low>>>0,e.epoch.high>>>0).toNumber():e.epoch),null!=e.nonRevocationProof&&e.hasOwnProperty("nonRevocationProof")&&(n.nonRevocationProof=u.NonRevocationProof.toObject(e.nonRevocationProof,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),t.NonRevocationProof=u.NonRevocationProof=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.revocationAlg=0,e.prototype.nonRevocationProof=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.revocationAlg&&e.hasOwnProperty("revocationAlg")&&t.uint32(8).int32(e.revocationAlg),null!=e.nonRevocationProof&&e.hasOwnProperty("nonRevocationProof")&&t.uint32(18).bytes(e.nonRevocationProof),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.NonRevocationProof;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.revocationAlg=e.int32();break;case 2:r.nonRevocationProof=e.bytes();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.revocationAlg&&e.hasOwnProperty("revocationAlg")&&!c.isInteger(e.revocationAlg)?"revocationAlg: integer expected":null!=e.nonRevocationProof&&e.hasOwnProperty("nonRevocationProof")&&!(e.nonRevocationProof&&"number"==typeof e.nonRevocationProof.length||c.isString(e.nonRevocationProof))?"nonRevocationProof: buffer expected":null},e.fromObject=function(e){if(e instanceof u.NonRevocationProof)return e;var t=new u.NonRevocationProof;return null!=e.revocationAlg&&(t.revocationAlg=0|e.revocationAlg),null!=e.nonRevocationProof&&("string"==typeof e.nonRevocationProof?c.base64.decode(e.nonRevocationProof,t.nonRevocationProof=c.newBuffer(c.base64.length(e.nonRevocationProof)),0):e.nonRevocationProof.length&&(t.nonRevocationProof=e.nonRevocationProof)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.revocationAlg=0,n.nonRevocationProof=t.bytes===String?"":[]),null!=e.revocationAlg&&e.hasOwnProperty("revocationAlg")&&(n.revocationAlg=e.revocationAlg),null!=e.nonRevocationProof&&e.hasOwnProperty("nonRevocationProof")&&(n.nonRevocationProof=t.bytes===String?c.base64.encode(e.nonRevocationProof,0,e.nonRevocationProof.length):t.bytes===Array?Array.prototype.slice.call(e.nonRevocationProof):e.nonRevocationProof),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),t.NymSignature=u.NymSignature=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.proofC=c.newBuffer([]),e.prototype.proofSSk=c.newBuffer([]),e.prototype.proofSRNym=c.newBuffer([]),e.prototype.nonce=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.proofC&&e.hasOwnProperty("proofC")&&t.uint32(10).bytes(e.proofC),null!=e.proofSSk&&e.hasOwnProperty("proofSSk")&&t.uint32(18).bytes(e.proofSSk),null!=e.proofSRNym&&e.hasOwnProperty("proofSRNym")&&t.uint32(26).bytes(e.proofSRNym),null!=e.nonce&&e.hasOwnProperty("nonce")&&t.uint32(34).bytes(e.nonce),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.NymSignature;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.proofC=e.bytes();break;case 2:r.proofSSk=e.bytes();break;case 3:r.proofSRNym=e.bytes();break;case 4:r.nonce=e.bytes();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.proofC&&e.hasOwnProperty("proofC")&&!(e.proofC&&"number"==typeof e.proofC.length||c.isString(e.proofC))?"proofC: buffer expected":null!=e.proofSSk&&e.hasOwnProperty("proofSSk")&&!(e.proofSSk&&"number"==typeof e.proofSSk.length||c.isString(e.proofSSk))?"proofSSk: buffer expected":null!=e.proofSRNym&&e.hasOwnProperty("proofSRNym")&&!(e.proofSRNym&&"number"==typeof e.proofSRNym.length||c.isString(e.proofSRNym))?"proofSRNym: buffer expected":null!=e.nonce&&e.hasOwnProperty("nonce")&&!(e.nonce&&"number"==typeof e.nonce.length||c.isString(e.nonce))?"nonce: buffer expected":null},e.fromObject=function(e){if(e instanceof u.NymSignature)return e;var t=new u.NymSignature;return null!=e.proofC&&("string"==typeof e.proofC?c.base64.decode(e.proofC,t.proofC=c.newBuffer(c.base64.length(e.proofC)),0):e.proofC.length&&(t.proofC=e.proofC)),null!=e.proofSSk&&("string"==typeof e.proofSSk?c.base64.decode(e.proofSSk,t.proofSSk=c.newBuffer(c.base64.length(e.proofSSk)),0):e.proofSSk.length&&(t.proofSSk=e.proofSSk)),null!=e.proofSRNym&&("string"==typeof e.proofSRNym?c.base64.decode(e.proofSRNym,t.proofSRNym=c.newBuffer(c.base64.length(e.proofSRNym)),0):e.proofSRNym.length&&(t.proofSRNym=e.proofSRNym)),null!=e.nonce&&("string"==typeof e.nonce?c.base64.decode(e.nonce,t.nonce=c.newBuffer(c.base64.length(e.nonce)),0):e.nonce.length&&(t.nonce=e.nonce)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.proofC=t.bytes===String?"":[],n.proofSSk=t.bytes===String?"":[],n.proofSRNym=t.bytes===String?"":[],n.nonce=t.bytes===String?"":[]),null!=e.proofC&&e.hasOwnProperty("proofC")&&(n.proofC=t.bytes===String?c.base64.encode(e.proofC,0,e.proofC.length):t.bytes===Array?Array.prototype.slice.call(e.proofC):e.proofC),null!=e.proofSSk&&e.hasOwnProperty("proofSSk")&&(n.proofSSk=t.bytes===String?c.base64.encode(e.proofSSk,0,e.proofSSk.length):t.bytes===Array?Array.prototype.slice.call(e.proofSSk):e.proofSSk),null!=e.proofSRNym&&e.hasOwnProperty("proofSRNym")&&(n.proofSRNym=t.bytes===String?c.base64.encode(e.proofSRNym,0,e.proofSRNym.length):t.bytes===Array?Array.prototype.slice.call(e.proofSRNym):e.proofSRNym),null!=e.nonce&&e.hasOwnProperty("nonce")&&(n.nonce=t.bytes===String?c.base64.encode(e.nonce,0,e.nonce.length):t.bytes===Array?Array.prototype.slice.call(e.nonce):e.nonce),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),t.CredentialRevocationInformation=u.CredentialRevocationInformation=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.epoch=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.epochPk=null,e.prototype.epochPkSig=c.newBuffer([]),e.prototype.revocationAlg=0,e.prototype.revocationData=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.epoch&&e.hasOwnProperty("epoch")&&t.uint32(8).int64(e.epoch),null!=e.epochPk&&e.hasOwnProperty("epochPk")&&u.ECP2.encode(e.epochPk,t.uint32(18).fork()).ldelim(),null!=e.epochPkSig&&e.hasOwnProperty("epochPkSig")&&t.uint32(26).bytes(e.epochPkSig),null!=e.revocationAlg&&e.hasOwnProperty("revocationAlg")&&t.uint32(32).int32(e.revocationAlg),null!=e.revocationData&&e.hasOwnProperty("revocationData")&&t.uint32(42).bytes(e.revocationData),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.CredentialRevocationInformation;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.epoch=e.int64();break;case 2:r.epochPk=u.ECP2.decode(e,e.uint32());break;case 3:r.epochPkSig=e.bytes();break;case 4:r.revocationAlg=e.int32();break;case 5:r.revocationData=e.bytes();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.epoch&&e.hasOwnProperty("epoch")&&!(c.isInteger(e.epoch)||e.epoch&&c.isInteger(e.epoch.low)&&c.isInteger(e.epoch.high)))return"epoch: integer|Long expected";if(null!=e.epochPk&&e.hasOwnProperty("epochPk")){var t=u.ECP2.verify(e.epochPk);if(t)return"epochPk."+t}return null!=e.epochPkSig&&e.hasOwnProperty("epochPkSig")&&!(e.epochPkSig&&"number"==typeof e.epochPkSig.length||c.isString(e.epochPkSig))?"epochPkSig: buffer expected":null!=e.revocationAlg&&e.hasOwnProperty("revocationAlg")&&!c.isInteger(e.revocationAlg)?"revocationAlg: integer expected":null!=e.revocationData&&e.hasOwnProperty("revocationData")&&!(e.revocationData&&"number"==typeof e.revocationData.length||c.isString(e.revocationData))?"revocationData: buffer expected":null},e.fromObject=function(e){if(e instanceof u.CredentialRevocationInformation)return e;var t=new u.CredentialRevocationInformation;if(null!=e.epoch&&(c.Long?(t.epoch=c.Long.fromValue(e.epoch)).unsigned=!1:"string"==typeof e.epoch?t.epoch=parseInt(e.epoch,10):"number"==typeof e.epoch?t.epoch=e.epoch:"object"===r(e.epoch)&&(t.epoch=new c.LongBits(e.epoch.low>>>0,e.epoch.high>>>0).toNumber())),null!=e.epochPk){if("object"!==r(e.epochPk))throw TypeError(".CredentialRevocationInformation.epochPk: object expected");t.epochPk=u.ECP2.fromObject(e.epochPk)}return null!=e.epochPkSig&&("string"==typeof e.epochPkSig?c.base64.decode(e.epochPkSig,t.epochPkSig=c.newBuffer(c.base64.length(e.epochPkSig)),0):e.epochPkSig.length&&(t.epochPkSig=e.epochPkSig)),null!=e.revocationAlg&&(t.revocationAlg=0|e.revocationAlg),null!=e.revocationData&&("string"==typeof e.revocationData?c.base64.decode(e.revocationData,t.revocationData=c.newBuffer(c.base64.length(e.revocationData)),0):e.revocationData.length&&(t.revocationData=e.revocationData)),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(c.Long){var r=new c.Long(0,0,!1);n.epoch=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.epoch=t.longs===String?"0":0;n.epochPk=null,n.epochPkSig=t.bytes===String?"":[],n.revocationAlg=0,n.revocationData=t.bytes===String?"":[]}return null!=e.epoch&&e.hasOwnProperty("epoch")&&("number"==typeof e.epoch?n.epoch=t.longs===String?String(e.epoch):e.epoch:n.epoch=t.longs===String?c.Long.prototype.toString.call(e.epoch):t.longs===Number?new c.LongBits(e.epoch.low>>>0,e.epoch.high>>>0).toNumber():e.epoch),null!=e.epochPk&&e.hasOwnProperty("epochPk")&&(n.epochPk=u.ECP2.toObject(e.epochPk,t)),null!=e.epochPkSig&&e.hasOwnProperty("epochPkSig")&&(n.epochPkSig=t.bytes===String?c.base64.encode(e.epochPkSig,0,e.epochPkSig.length):t.bytes===Array?Array.prototype.slice.call(e.epochPkSig):e.epochPkSig),null!=e.revocationAlg&&e.hasOwnProperty("revocationAlg")&&(n.revocationAlg=e.revocationAlg),null!=e.revocationData&&e.hasOwnProperty("revocationData")&&(n.revocationData=t.bytes===String?c.base64.encode(e.revocationData,0,e.revocationData.length):t.bytes===Array?Array.prototype.slice.call(e.revocationData):e.revocationData),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),t.discovery=u.discovery=function(){var e={};return e.Discovery=function(){function e(e,t,n){o.rpc.Service.call(this,e,t,n)}return(e.prototype=Object.create(o.rpc.Service.prototype)).constructor=e,e.create=function(e,t,n){return new this(e,t,n)},e.prototype.discover=function e(t,n){return this.rpcCall(e,u.discovery.SignedRequest,u.discovery.Response,t,n)},e}(),e.SignedRequest=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.payload=c.newBuffer([]),e.prototype.signature=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.payload&&e.hasOwnProperty("payload")&&t.uint32(10).bytes(e.payload),null!=e.signature&&e.hasOwnProperty("signature")&&t.uint32(18).bytes(e.signature),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.discovery.SignedRequest;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.payload=e.bytes();break;case 2:r.signature=e.bytes();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.payload&&e.hasOwnProperty("payload")&&!(e.payload&&"number"==typeof e.payload.length||c.isString(e.payload))?"payload: buffer expected":null!=e.signature&&e.hasOwnProperty("signature")&&!(e.signature&&"number"==typeof e.signature.length||c.isString(e.signature))?"signature: buffer expected":null},e.fromObject=function(e){if(e instanceof u.discovery.SignedRequest)return e;var t=new u.discovery.SignedRequest;return null!=e.payload&&("string"==typeof e.payload?c.base64.decode(e.payload,t.payload=c.newBuffer(c.base64.length(e.payload)),0):e.payload.length&&(t.payload=e.payload)),null!=e.signature&&("string"==typeof e.signature?c.base64.decode(e.signature,t.signature=c.newBuffer(c.base64.length(e.signature)),0):e.signature.length&&(t.signature=e.signature)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.payload=t.bytes===String?"":[],n.signature=t.bytes===String?"":[]),null!=e.payload&&e.hasOwnProperty("payload")&&(n.payload=t.bytes===String?c.base64.encode(e.payload,0,e.payload.length):t.bytes===Array?Array.prototype.slice.call(e.payload):e.payload),null!=e.signature&&e.hasOwnProperty("signature")&&(n.signature=t.bytes===String?c.base64.encode(e.signature,0,e.signature.length):t.bytes===Array?Array.prototype.slice.call(e.signature):e.signature),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.Request=function(){function e(e){if(this.queries=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.authentication=null,e.prototype.queries=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.authentication&&e.hasOwnProperty("authentication")&&u.discovery.AuthInfo.encode(e.authentication,t.uint32(10).fork()).ldelim(),null!=e.queries&&e.queries.length)for(var n=0;n<e.queries.length;++n)u.discovery.Query.encode(e.queries[n],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.discovery.Request;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.authentication=u.discovery.AuthInfo.decode(e,e.uint32());break;case 2:r.queries&&r.queries.length||(r.queries=[]),r.queries.push(u.discovery.Query.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.authentication&&e.hasOwnProperty("authentication")){var t=u.discovery.AuthInfo.verify(e.authentication);if(t)return"authentication."+t}if(null!=e.queries&&e.hasOwnProperty("queries")){if(!Array.isArray(e.queries))return"queries: array expected";for(var n=0;n<e.queries.length;++n){var i=u.discovery.Query.verify(e.queries[n]);if(i)return"queries."+i}}return null},e.fromObject=function(e){if(e instanceof u.discovery.Request)return e;var t=new u.discovery.Request;if(null!=e.authentication){if("object"!==r(e.authentication))throw TypeError(".discovery.Request.authentication: object expected");t.authentication=u.discovery.AuthInfo.fromObject(e.authentication)}if(e.queries){if(!Array.isArray(e.queries))throw TypeError(".discovery.Request.queries: array expected");t.queries=[];for(var n=0;n<e.queries.length;++n){if("object"!==r(e.queries[n]))throw TypeError(".discovery.Request.queries: object expected");t.queries[n]=u.discovery.Query.fromObject(e.queries[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.queries=[]),t.defaults&&(n.authentication=null),null!=e.authentication&&e.hasOwnProperty("authentication")&&(n.authentication=u.discovery.AuthInfo.toObject(e.authentication,t)),e.queries&&e.queries.length){n.queries=[];for(var r=0;r<e.queries.length;++r)n.queries[r]=u.discovery.Query.toObject(e.queries[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.Response=function(){function e(e){if(this.results=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.results=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.results&&e.results.length)for(var n=0;n<e.results.length;++n)u.discovery.QueryResult.encode(e.results[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.discovery.Response;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.results&&r.results.length||(r.results=[]),r.results.push(u.discovery.QueryResult.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.results&&e.hasOwnProperty("results")){if(!Array.isArray(e.results))return"results: array expected";for(var t=0;t<e.results.length;++t){var n=u.discovery.QueryResult.verify(e.results[t]);if(n)return"results."+n}}return null},e.fromObject=function(e){if(e instanceof u.discovery.Response)return e;var t=new u.discovery.Response;if(e.results){if(!Array.isArray(e.results))throw TypeError(".discovery.Response.results: array expected");t.results=[];for(var n=0;n<e.results.length;++n){if("object"!==r(e.results[n]))throw TypeError(".discovery.Response.results: object expected");t.results[n]=u.discovery.QueryResult.fromObject(e.results[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.results=[]),e.results&&e.results.length){n.results=[];for(var r=0;r<e.results.length;++r)n.results[r]=u.discovery.QueryResult.toObject(e.results[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.AuthInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.clientIdentity=c.newBuffer([]),e.prototype.clientTlsCertHash=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.clientIdentity&&e.hasOwnProperty("clientIdentity")&&t.uint32(10).bytes(e.clientIdentity),null!=e.clientTlsCertHash&&e.hasOwnProperty("clientTlsCertHash")&&t.uint32(18).bytes(e.clientTlsCertHash),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.discovery.AuthInfo;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.clientIdentity=e.bytes();break;case 2:r.clientTlsCertHash=e.bytes();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.clientIdentity&&e.hasOwnProperty("clientIdentity")&&!(e.clientIdentity&&"number"==typeof e.clientIdentity.length||c.isString(e.clientIdentity))?"clientIdentity: buffer expected":null!=e.clientTlsCertHash&&e.hasOwnProperty("clientTlsCertHash")&&!(e.clientTlsCertHash&&"number"==typeof e.clientTlsCertHash.length||c.isString(e.clientTlsCertHash))?"clientTlsCertHash: buffer expected":null},e.fromObject=function(e){if(e instanceof u.discovery.AuthInfo)return e;var t=new u.discovery.AuthInfo;return null!=e.clientIdentity&&("string"==typeof e.clientIdentity?c.base64.decode(e.clientIdentity,t.clientIdentity=c.newBuffer(c.base64.length(e.clientIdentity)),0):e.clientIdentity.length&&(t.clientIdentity=e.clientIdentity)),null!=e.clientTlsCertHash&&("string"==typeof e.clientTlsCertHash?c.base64.decode(e.clientTlsCertHash,t.clientTlsCertHash=c.newBuffer(c.base64.length(e.clientTlsCertHash)),0):e.clientTlsCertHash.length&&(t.clientTlsCertHash=e.clientTlsCertHash)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.clientIdentity=t.bytes===String?"":[],n.clientTlsCertHash=t.bytes===String?"":[]),null!=e.clientIdentity&&e.hasOwnProperty("clientIdentity")&&(n.clientIdentity=t.bytes===String?c.base64.encode(e.clientIdentity,0,e.clientIdentity.length):t.bytes===Array?Array.prototype.slice.call(e.clientIdentity):e.clientIdentity),null!=e.clientTlsCertHash&&e.hasOwnProperty("clientTlsCertHash")&&(n.clientTlsCertHash=t.bytes===String?c.base64.encode(e.clientTlsCertHash,0,e.clientTlsCertHash.length):t.bytes===Array?Array.prototype.slice.call(e.clientTlsCertHash):e.clientTlsCertHash),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.Query=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}e.prototype.channel="",e.prototype.configQuery=null,e.prototype.peerQuery=null,e.prototype.ccQuery=null,e.prototype.localPeers=null;var t=void 0;return Object.defineProperty(e.prototype,"query",{get:c.oneOfGetter(t=["configQuery","peerQuery","ccQuery","localPeers"]),set:c.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.channel&&e.hasOwnProperty("channel")&&t.uint32(10).string(e.channel),null!=e.configQuery&&e.hasOwnProperty("configQuery")&&u.discovery.ConfigQuery.encode(e.configQuery,t.uint32(18).fork()).ldelim(),null!=e.peerQuery&&e.hasOwnProperty("peerQuery")&&u.discovery.PeerMembershipQuery.encode(e.peerQuery,t.uint32(26).fork()).ldelim(),null!=e.ccQuery&&e.hasOwnProperty("ccQuery")&&u.discovery.ChaincodeQuery.encode(e.ccQuery,t.uint32(34).fork()).ldelim(),null!=e.localPeers&&e.hasOwnProperty("localPeers")&&u.discovery.LocalPeerQuery.encode(e.localPeers,t.uint32(42).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.discovery.Query;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.channel=e.string();break;case 2:r.configQuery=u.discovery.ConfigQuery.decode(e,e.uint32());break;case 3:r.peerQuery=u.discovery.PeerMembershipQuery.decode(e,e.uint32());break;case 4:r.ccQuery=u.discovery.ChaincodeQuery.decode(e,e.uint32());break;case 5:r.localPeers=u.discovery.LocalPeerQuery.decode(e,e.uint32());break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";var t={};if(null!=e.channel&&e.hasOwnProperty("channel")&&!c.isString(e.channel))return"channel: string expected";if(null!=e.configQuery&&e.hasOwnProperty("configQuery")){t.query=1;var n=u.discovery.ConfigQuery.verify(e.configQuery);if(n)return"configQuery."+n}if(null!=e.peerQuery&&e.hasOwnProperty("peerQuery")){if(1===t.query)return"query: multiple values";t.query=1;var i=u.discovery.PeerMembershipQuery.verify(e.peerQuery);if(i)return"peerQuery."+i}if(null!=e.ccQuery&&e.hasOwnProperty("ccQuery")){if(1===t.query)return"query: multiple values";t.query=1;var o=u.discovery.ChaincodeQuery.verify(e.ccQuery);if(o)return"ccQuery."+o}if(null!=e.localPeers&&e.hasOwnProperty("localPeers")){if(1===t.query)return"query: multiple values";t.query=1;var s=u.discovery.LocalPeerQuery.verify(e.localPeers);if(s)return"localPeers."+s}return null},e.fromObject=function(e){if(e instanceof u.discovery.Query)return e;var t=new u.discovery.Query;if(null!=e.channel&&(t.channel=String(e.channel)),null!=e.configQuery){if("object"!==r(e.configQuery))throw TypeError(".discovery.Query.configQuery: object expected");t.configQuery=u.discovery.ConfigQuery.fromObject(e.configQuery)}if(null!=e.peerQuery){if("object"!==r(e.peerQuery))throw TypeError(".discovery.Query.peerQuery: object expected");t.peerQuery=u.discovery.PeerMembershipQuery.fromObject(e.peerQuery)}if(null!=e.ccQuery){if("object"!==r(e.ccQuery))throw TypeError(".discovery.Query.ccQuery: object expected");t.ccQuery=u.discovery.ChaincodeQuery.fromObject(e.ccQuery)}if(null!=e.localPeers){if("object"!==r(e.localPeers))throw TypeError(".discovery.Query.localPeers: object expected");t.localPeers=u.discovery.LocalPeerQuery.fromObject(e.localPeers)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.channel=""),null!=e.channel&&e.hasOwnProperty("channel")&&(n.channel=e.channel),null!=e.configQuery&&e.hasOwnProperty("configQuery")&&(n.configQuery=u.discovery.ConfigQuery.toObject(e.configQuery,t),t.oneofs&&(n.query="configQuery")),null!=e.peerQuery&&e.hasOwnProperty("peerQuery")&&(n.peerQuery=u.discovery.PeerMembershipQuery.toObject(e.peerQuery,t),t.oneofs&&(n.query="peerQuery")),null!=e.ccQuery&&e.hasOwnProperty("ccQuery")&&(n.ccQuery=u.discovery.ChaincodeQuery.toObject(e.ccQuery,t),t.oneofs&&(n.query="ccQuery")),null!=e.localPeers&&e.hasOwnProperty("localPeers")&&(n.localPeers=u.discovery.LocalPeerQuery.toObject(e.localPeers,t),t.oneofs&&(n.query="localPeers")),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.QueryResult=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}e.prototype.error=null,e.prototype.configResult=null,e.prototype.ccQueryRes=null,e.prototype.members=null;var t=void 0;return Object.defineProperty(e.prototype,"result",{get:c.oneOfGetter(t=["error","configResult","ccQueryRes","members"]),set:c.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.error&&e.hasOwnProperty("error")&&u.discovery.Error.encode(e.error,t.uint32(10).fork()).ldelim(),null!=e.configResult&&e.hasOwnProperty("configResult")&&u.discovery.ConfigResult.encode(e.configResult,t.uint32(18).fork()).ldelim(),null!=e.ccQueryRes&&e.hasOwnProperty("ccQueryRes")&&u.discovery.ChaincodeQueryResult.encode(e.ccQueryRes,t.uint32(26).fork()).ldelim(),null!=e.members&&e.hasOwnProperty("members")&&u.discovery.PeerMembershipResult.encode(e.members,t.uint32(34).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.discovery.QueryResult;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.error=u.discovery.Error.decode(e,e.uint32());break;case 2:r.configResult=u.discovery.ConfigResult.decode(e,e.uint32());break;case 3:r.ccQueryRes=u.discovery.ChaincodeQueryResult.decode(e,e.uint32());break;case 4:r.members=u.discovery.PeerMembershipResult.decode(e,e.uint32());break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";var t={};if(null!=e.error&&e.hasOwnProperty("error")){t.result=1;var n=u.discovery.Error.verify(e.error);if(n)return"error."+n}if(null!=e.configResult&&e.hasOwnProperty("configResult")){if(1===t.result)return"result: multiple values";t.result=1;var i=u.discovery.ConfigResult.verify(e.configResult);if(i)return"configResult."+i}if(null!=e.ccQueryRes&&e.hasOwnProperty("ccQueryRes")){if(1===t.result)return"result: multiple values";t.result=1;var o=u.discovery.ChaincodeQueryResult.verify(e.ccQueryRes);if(o)return"ccQueryRes."+o}if(null!=e.members&&e.hasOwnProperty("members")){if(1===t.result)return"result: multiple values";t.result=1;var s=u.discovery.PeerMembershipResult.verify(e.members);if(s)return"members."+s}return null},e.fromObject=function(e){if(e instanceof u.discovery.QueryResult)return e;var t=new u.discovery.QueryResult;if(null!=e.error){if("object"!==r(e.error))throw TypeError(".discovery.QueryResult.error: object expected");t.error=u.discovery.Error.fromObject(e.error)}if(null!=e.configResult){if("object"!==r(e.configResult))throw TypeError(".discovery.QueryResult.configResult: object expected");t.configResult=u.discovery.ConfigResult.fromObject(e.configResult)}if(null!=e.ccQueryRes){if("object"!==r(e.ccQueryRes))throw TypeError(".discovery.QueryResult.ccQueryRes: object expected");t.ccQueryRes=u.discovery.ChaincodeQueryResult.fromObject(e.ccQueryRes)}if(null!=e.members){if("object"!==r(e.members))throw TypeError(".discovery.QueryResult.members: object expected");t.members=u.discovery.PeerMembershipResult.fromObject(e.members)}return t},e.toObject=function(e,t){t||(t={});var n={};return null!=e.error&&e.hasOwnProperty("error")&&(n.error=u.discovery.Error.toObject(e.error,t),t.oneofs&&(n.result="error")),null!=e.configResult&&e.hasOwnProperty("configResult")&&(n.configResult=u.discovery.ConfigResult.toObject(e.configResult,t),t.oneofs&&(n.result="configResult")),null!=e.ccQueryRes&&e.hasOwnProperty("ccQueryRes")&&(n.ccQueryRes=u.discovery.ChaincodeQueryResult.toObject(e.ccQueryRes,t),t.oneofs&&(n.result="ccQueryRes")),null!=e.members&&e.hasOwnProperty("members")&&(n.members=u.discovery.PeerMembershipResult.toObject(e.members,t),t.oneofs&&(n.result="members")),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.ConfigQuery=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.discovery.ConfigQuery;e.pos<n;){var i=e.uint32();e.skipType(7&i)}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof u.discovery.ConfigQuery?e:new u.discovery.ConfigQuery},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.ConfigResult=function(){function e(e){if(this.msps={},this.orderers={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.msps=c.emptyObject,e.prototype.orderers=c.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.msps&&e.hasOwnProperty("msps"))for(var n=Object.keys(e.msps),r=0;r<n.length;++r)t.uint32(10).fork().uint32(10).string(n[r]),u.msp.FabricMSPConfig.encode(e.msps[n[r]],t.uint32(18).fork()).ldelim().ldelim();if(null!=e.orderers&&e.hasOwnProperty("orderers"))for(var i=Object.keys(e.orderers),o=0;o<i.length;++o)t.uint32(18).fork().uint32(10).string(i[o]),u.discovery.Endpoints.encode(e.orderers[i[o]],t.uint32(18).fork()).ldelim().ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.discovery.ConfigResult,i=void 0;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:e.skip().pos++,r.msps===c.emptyObject&&(r.msps={}),i=e.string(),e.pos++,r.msps[i]=u.msp.FabricMSPConfig.decode(e,e.uint32());break;case 2:e.skip().pos++,r.orderers===c.emptyObject&&(r.orderers={}),i=e.string(),e.pos++,r.orderers[i]=u.discovery.Endpoints.decode(e,e.uint32());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.msps&&e.hasOwnProperty("msps")){if(!c.isObject(e.msps))return"msps: object expected";for(var t=Object.keys(e.msps),n=0;n<t.length;++n){var i=u.msp.FabricMSPConfig.verify(e.msps[t[n]]);if(i)return"msps."+i}}if(null!=e.orderers&&e.hasOwnProperty("orderers")){if(!c.isObject(e.orderers))return"orderers: object expected";for(var o=Object.keys(e.orderers),s=0;s<o.length;++s){var a=u.discovery.Endpoints.verify(e.orderers[o[s]]);if(a)return"orderers."+a}}return null},e.fromObject=function(e){if(e instanceof u.discovery.ConfigResult)return e;var t=new u.discovery.ConfigResult;if(e.msps){if("object"!==r(e.msps))throw TypeError(".discovery.ConfigResult.msps: object expected");t.msps={};for(var n=Object.keys(e.msps),i=0;i<n.length;++i){if("object"!==r(e.msps[n[i]]))throw TypeError(".discovery.ConfigResult.msps: object expected");t.msps[n[i]]=u.msp.FabricMSPConfig.fromObject(e.msps[n[i]])}}if(e.orderers){if("object"!==r(e.orderers))throw TypeError(".discovery.ConfigResult.orderers: object expected");t.orderers={};for(var o=Object.keys(e.orderers),s=0;s<o.length;++s){if("object"!==r(e.orderers[o[s]]))throw TypeError(".discovery.ConfigResult.orderers: object expected");t.orderers[o[s]]=u.discovery.Endpoints.fromObject(e.orderers[o[s]])}}return t},e.toObject=function(e,t){t||(t={});var n={};(t.objects||t.defaults)&&(n.msps={},n.orderers={});var r=void 0;if(e.msps&&(r=Object.keys(e.msps)).length){n.msps={};for(var i=0;i<r.length;++i)n.msps[r[i]]=u.msp.FabricMSPConfig.toObject(e.msps[r[i]],t)}if(e.orderers&&(r=Object.keys(e.orderers)).length){n.orderers={};for(var o=0;o<r.length;++o)n.orderers[r[o]]=u.discovery.Endpoints.toObject(e.orderers[r[o]],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.PeerMembershipQuery=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.discovery.PeerMembershipQuery;e.pos<n;){var i=e.uint32();e.skipType(7&i)}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof u.discovery.PeerMembershipQuery?e:new u.discovery.PeerMembershipQuery},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.PeerMembershipResult=function(){function e(e){if(this.peersByOrg={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.peersByOrg=c.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.peersByOrg&&e.hasOwnProperty("peersByOrg"))for(var n=Object.keys(e.peersByOrg),r=0;r<n.length;++r)t.uint32(10).fork().uint32(10).string(n[r]),u.discovery.Peers.encode(e.peersByOrg[n[r]],t.uint32(18).fork()).ldelim().ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.discovery.PeerMembershipResult,i=void 0;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:e.skip().pos++,r.peersByOrg===c.emptyObject&&(r.peersByOrg={}),i=e.string(),e.pos++,r.peersByOrg[i]=u.discovery.Peers.decode(e,e.uint32());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.peersByOrg&&e.hasOwnProperty("peersByOrg")){if(!c.isObject(e.peersByOrg))return"peersByOrg: object expected";for(var t=Object.keys(e.peersByOrg),n=0;n<t.length;++n){var i=u.discovery.Peers.verify(e.peersByOrg[t[n]]);if(i)return"peersByOrg."+i}}return null},e.fromObject=function(e){if(e instanceof u.discovery.PeerMembershipResult)return e;var t=new u.discovery.PeerMembershipResult;if(e.peersByOrg){if("object"!==r(e.peersByOrg))throw TypeError(".discovery.PeerMembershipResult.peersByOrg: object expected");t.peersByOrg={};for(var n=Object.keys(e.peersByOrg),i=0;i<n.length;++i){if("object"!==r(e.peersByOrg[n[i]]))throw TypeError(".discovery.PeerMembershipResult.peersByOrg: object expected");t.peersByOrg[n[i]]=u.discovery.Peers.fromObject(e.peersByOrg[n[i]])}}return t},e.toObject=function(e,t){t||(t={});var n={};(t.objects||t.defaults)&&(n.peersByOrg={});var r=void 0;if(e.peersByOrg&&(r=Object.keys(e.peersByOrg)).length){n.peersByOrg={};for(var i=0;i<r.length;++i)n.peersByOrg[r[i]]=u.discovery.Peers.toObject(e.peersByOrg[r[i]],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.ChaincodeQuery=function(){function e(e){if(this.interests=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.interests=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.interests&&e.interests.length)for(var n=0;n<e.interests.length;++n)u.discovery.ChaincodeInterest.encode(e.interests[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.discovery.ChaincodeQuery;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.interests&&r.interests.length||(r.interests=[]),r.interests.push(u.discovery.ChaincodeInterest.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.interests&&e.hasOwnProperty("interests")){if(!Array.isArray(e.interests))return"interests: array expected";for(var t=0;t<e.interests.length;++t){var n=u.discovery.ChaincodeInterest.verify(e.interests[t]);if(n)return"interests."+n}}return null},e.fromObject=function(e){if(e instanceof u.discovery.ChaincodeQuery)return e;var t=new u.discovery.ChaincodeQuery;if(e.interests){if(!Array.isArray(e.interests))throw TypeError(".discovery.ChaincodeQuery.interests: array expected");t.interests=[];for(var n=0;n<e.interests.length;++n){if("object"!==r(e.interests[n]))throw TypeError(".discovery.ChaincodeQuery.interests: object expected");t.interests[n]=u.discovery.ChaincodeInterest.fromObject(e.interests[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.interests=[]),e.interests&&e.interests.length){n.interests=[];for(var r=0;r<e.interests.length;++r)n.interests[r]=u.discovery.ChaincodeInterest.toObject(e.interests[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.ChaincodeInterest=function(){function e(e){if(this.chaincodes=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.chaincodes=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.chaincodes&&e.chaincodes.length)for(var n=0;n<e.chaincodes.length;++n)u.discovery.ChaincodeCall.encode(e.chaincodes[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.discovery.ChaincodeInterest;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.chaincodes&&r.chaincodes.length||(r.chaincodes=[]),r.chaincodes.push(u.discovery.ChaincodeCall.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.chaincodes&&e.hasOwnProperty("chaincodes")){if(!Array.isArray(e.chaincodes))return"chaincodes: array expected";for(var t=0;t<e.chaincodes.length;++t){var n=u.discovery.ChaincodeCall.verify(e.chaincodes[t]);if(n)return"chaincodes."+n}}return null},e.fromObject=function(e){if(e instanceof u.discovery.ChaincodeInterest)return e;var t=new u.discovery.ChaincodeInterest;if(e.chaincodes){if(!Array.isArray(e.chaincodes))throw TypeError(".discovery.ChaincodeInterest.chaincodes: array expected");t.chaincodes=[];for(var n=0;n<e.chaincodes.length;++n){if("object"!==r(e.chaincodes[n]))throw TypeError(".discovery.ChaincodeInterest.chaincodes: object expected");t.chaincodes[n]=u.discovery.ChaincodeCall.fromObject(e.chaincodes[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.chaincodes=[]),e.chaincodes&&e.chaincodes.length){n.chaincodes=[];for(var r=0;r<e.chaincodes.length;++r)n.chaincodes[r]=u.discovery.ChaincodeCall.toObject(e.chaincodes[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.ChaincodeCall=function(){function e(e){if(this.collectionNames=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.collectionNames=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.name&&e.hasOwnProperty("name")&&t.uint32(10).string(e.name),null!=e.collectionNames&&e.collectionNames.length)for(var n=0;n<e.collectionNames.length;++n)t.uint32(18).string(e.collectionNames[n]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.discovery.ChaincodeCall;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.name=e.string();break;case 2:r.collectionNames&&r.collectionNames.length||(r.collectionNames=[]),r.collectionNames.push(e.string());break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!c.isString(e.name))return"name: string expected";if(null!=e.collectionNames&&e.hasOwnProperty("collectionNames")){if(!Array.isArray(e.collectionNames))return"collectionNames: array expected";for(var t=0;t<e.collectionNames.length;++t)if(!c.isString(e.collectionNames[t]))return"collectionNames: string[] expected"}return null},e.fromObject=function(e){if(e instanceof u.discovery.ChaincodeCall)return e;var t=new u.discovery.ChaincodeCall;if(null!=e.name&&(t.name=String(e.name)),e.collectionNames){if(!Array.isArray(e.collectionNames))throw TypeError(".discovery.ChaincodeCall.collectionNames: array expected");t.collectionNames=[];for(var n=0;n<e.collectionNames.length;++n)t.collectionNames[n]=String(e.collectionNames[n])}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.collectionNames=[]),t.defaults&&(n.name=""),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),e.collectionNames&&e.collectionNames.length){n.collectionNames=[];for(var r=0;r<e.collectionNames.length;++r)n.collectionNames[r]=e.collectionNames[r]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.ChaincodeQueryResult=function(){function e(e){if(this.content=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.content=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.content&&e.content.length)for(var n=0;n<e.content.length;++n)u.discovery.EndorsementDescriptor.encode(e.content[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.discovery.ChaincodeQueryResult;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.content&&r.content.length||(r.content=[]),r.content.push(u.discovery.EndorsementDescriptor.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.content&&e.hasOwnProperty("content")){if(!Array.isArray(e.content))return"content: array expected";for(var t=0;t<e.content.length;++t){var n=u.discovery.EndorsementDescriptor.verify(e.content[t]);if(n)return"content."+n}}return null},e.fromObject=function(e){if(e instanceof u.discovery.ChaincodeQueryResult)return e;var t=new u.discovery.ChaincodeQueryResult;if(e.content){if(!Array.isArray(e.content))throw TypeError(".discovery.ChaincodeQueryResult.content: array expected");t.content=[];for(var n=0;n<e.content.length;++n){if("object"!==r(e.content[n]))throw TypeError(".discovery.ChaincodeQueryResult.content: object expected");t.content[n]=u.discovery.EndorsementDescriptor.fromObject(e.content[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.content=[]),e.content&&e.content.length){n.content=[];for(var r=0;r<e.content.length;++r)n.content[r]=u.discovery.EndorsementDescriptor.toObject(e.content[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.LocalPeerQuery=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.discovery.LocalPeerQuery;e.pos<n;){var i=e.uint32();e.skipType(7&i)}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof u.discovery.LocalPeerQuery?e:new u.discovery.LocalPeerQuery},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.EndorsementDescriptor=function(){function e(e){if(this.endorsersByGroups={},this.layouts=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.chaincode="",e.prototype.endorsersByGroups=c.emptyObject,e.prototype.layouts=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.chaincode&&e.hasOwnProperty("chaincode")&&t.uint32(10).string(e.chaincode),null!=e.endorsersByGroups&&e.hasOwnProperty("endorsersByGroups"))for(var n=Object.keys(e.endorsersByGroups),r=0;r<n.length;++r)t.uint32(18).fork().uint32(10).string(n[r]),u.discovery.Peers.encode(e.endorsersByGroups[n[r]],t.uint32(18).fork()).ldelim().ldelim();if(null!=e.layouts&&e.layouts.length)for(var i=0;i<e.layouts.length;++i)u.discovery.Layout.encode(e.layouts[i],t.uint32(26).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.discovery.EndorsementDescriptor,i=void 0;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.chaincode=e.string();break;case 2:e.skip().pos++,r.endorsersByGroups===c.emptyObject&&(r.endorsersByGroups={}),i=e.string(),e.pos++,r.endorsersByGroups[i]=u.discovery.Peers.decode(e,e.uint32());break;case 3:r.layouts&&r.layouts.length||(r.layouts=[]),r.layouts.push(u.discovery.Layout.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.chaincode&&e.hasOwnProperty("chaincode")&&!c.isString(e.chaincode))return"chaincode: string expected";if(null!=e.endorsersByGroups&&e.hasOwnProperty("endorsersByGroups")){if(!c.isObject(e.endorsersByGroups))return"endorsersByGroups: object expected";for(var t=Object.keys(e.endorsersByGroups),n=0;n<t.length;++n){var i=u.discovery.Peers.verify(e.endorsersByGroups[t[n]]);if(i)return"endorsersByGroups."+i}}if(null!=e.layouts&&e.hasOwnProperty("layouts")){if(!Array.isArray(e.layouts))return"layouts: array expected";for(var o=0;o<e.layouts.length;++o){var s=u.discovery.Layout.verify(e.layouts[o]);if(s)return"layouts."+s}}return null},e.fromObject=function(e){if(e instanceof u.discovery.EndorsementDescriptor)return e;var t=new u.discovery.EndorsementDescriptor;if(null!=e.chaincode&&(t.chaincode=String(e.chaincode)),e.endorsersByGroups){if("object"!==r(e.endorsersByGroups))throw TypeError(".discovery.EndorsementDescriptor.endorsersByGroups: object expected");t.endorsersByGroups={};for(var n=Object.keys(e.endorsersByGroups),i=0;i<n.length;++i){if("object"!==r(e.endorsersByGroups[n[i]]))throw TypeError(".discovery.EndorsementDescriptor.endorsersByGroups: object expected");t.endorsersByGroups[n[i]]=u.discovery.Peers.fromObject(e.endorsersByGroups[n[i]])}}if(e.layouts){if(!Array.isArray(e.layouts))throw TypeError(".discovery.EndorsementDescriptor.layouts: array expected");t.layouts=[];for(var o=0;o<e.layouts.length;++o){if("object"!==r(e.layouts[o]))throw TypeError(".discovery.EndorsementDescriptor.layouts: object expected");t.layouts[o]=u.discovery.Layout.fromObject(e.layouts[o])}}return t},e.toObject=function(e,t){t||(t={});var n={};(t.arrays||t.defaults)&&(n.layouts=[]),(t.objects||t.defaults)&&(n.endorsersByGroups={}),t.defaults&&(n.chaincode=""),null!=e.chaincode&&e.hasOwnProperty("chaincode")&&(n.chaincode=e.chaincode);var r=void 0;if(e.endorsersByGroups&&(r=Object.keys(e.endorsersByGroups)).length){n.endorsersByGroups={};for(var i=0;i<r.length;++i)n.endorsersByGroups[r[i]]=u.discovery.Peers.toObject(e.endorsersByGroups[r[i]],t)}if(e.layouts&&e.layouts.length){n.layouts=[];for(var o=0;o<e.layouts.length;++o)n.layouts[o]=u.discovery.Layout.toObject(e.layouts[o],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.Layout=function(){function e(e){if(this.quantitiesByGroup={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.quantitiesByGroup=c.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.quantitiesByGroup&&e.hasOwnProperty("quantitiesByGroup"))for(var n=Object.keys(e.quantitiesByGroup),r=0;r<n.length;++r)t.uint32(10).fork().uint32(10).string(n[r]).uint32(16).uint32(e.quantitiesByGroup[n[r]]).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.discovery.Layout,i=void 0;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:e.skip().pos++,r.quantitiesByGroup===c.emptyObject&&(r.quantitiesByGroup={}),i=e.string(),e.pos++,r.quantitiesByGroup[i]=e.uint32();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.quantitiesByGroup&&e.hasOwnProperty("quantitiesByGroup")){if(!c.isObject(e.quantitiesByGroup))return"quantitiesByGroup: object expected";for(var t=Object.keys(e.quantitiesByGroup),n=0;n<t.length;++n)if(!c.isInteger(e.quantitiesByGroup[t[n]]))return"quantitiesByGroup: integer{k:string} expected"}return null},e.fromObject=function(e){if(e instanceof u.discovery.Layout)return e;var t=new u.discovery.Layout;if(e.quantitiesByGroup){if("object"!==r(e.quantitiesByGroup))throw TypeError(".discovery.Layout.quantitiesByGroup: object expected");t.quantitiesByGroup={};for(var n=Object.keys(e.quantitiesByGroup),i=0;i<n.length;++i)t.quantitiesByGroup[n[i]]=e.quantitiesByGroup[n[i]]>>>0}return t},e.toObject=function(e,t){t||(t={});var n={};(t.objects||t.defaults)&&(n.quantitiesByGroup={});var r=void 0;if(e.quantitiesByGroup&&(r=Object.keys(e.quantitiesByGroup)).length){n.quantitiesByGroup={};for(var i=0;i<r.length;++i)n.quantitiesByGroup[r[i]]=e.quantitiesByGroup[r[i]]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.Peers=function(){function e(e){if(this.peers=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.peers=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.peers&&e.peers.length)for(var n=0;n<e.peers.length;++n)u.discovery.Peer.encode(e.peers[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.discovery.Peers;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.peers&&r.peers.length||(r.peers=[]),r.peers.push(u.discovery.Peer.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.peers&&e.hasOwnProperty("peers")){if(!Array.isArray(e.peers))return"peers: array expected";for(var t=0;t<e.peers.length;++t){var n=u.discovery.Peer.verify(e.peers[t]);if(n)return"peers."+n}}return null},e.fromObject=function(e){if(e instanceof u.discovery.Peers)return e;var t=new u.discovery.Peers;if(e.peers){if(!Array.isArray(e.peers))throw TypeError(".discovery.Peers.peers: array expected");t.peers=[];for(var n=0;n<e.peers.length;++n){if("object"!==r(e.peers[n]))throw TypeError(".discovery.Peers.peers: object expected");t.peers[n]=u.discovery.Peer.fromObject(e.peers[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.peers=[]),e.peers&&e.peers.length){n.peers=[];for(var r=0;r<e.peers.length;++r)n.peers[r]=u.discovery.Peer.toObject(e.peers[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.Peer=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.stateInfo=null,e.prototype.membershipInfo=null,e.prototype.identity=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.stateInfo&&e.hasOwnProperty("stateInfo")&&u.gossip.Envelope.encode(e.stateInfo,t.uint32(10).fork()).ldelim(),null!=e.membershipInfo&&e.hasOwnProperty("membershipInfo")&&u.gossip.Envelope.encode(e.membershipInfo,t.uint32(18).fork()).ldelim(),null!=e.identity&&e.hasOwnProperty("identity")&&t.uint32(26).bytes(e.identity),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.discovery.Peer;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.stateInfo=u.gossip.Envelope.decode(e,e.uint32());break;case 2:r.membershipInfo=u.gossip.Envelope.decode(e,e.uint32());break;case 3:r.identity=e.bytes();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.stateInfo&&e.hasOwnProperty("stateInfo")){var t=u.gossip.Envelope.verify(e.stateInfo);if(t)return"stateInfo."+t}if(null!=e.membershipInfo&&e.hasOwnProperty("membershipInfo")){var n=u.gossip.Envelope.verify(e.membershipInfo);if(n)return"membershipInfo."+n}return null!=e.identity&&e.hasOwnProperty("identity")&&!(e.identity&&"number"==typeof e.identity.length||c.isString(e.identity))?"identity: buffer expected":null},e.fromObject=function(e){if(e instanceof u.discovery.Peer)return e;var t=new u.discovery.Peer;if(null!=e.stateInfo){if("object"!==r(e.stateInfo))throw TypeError(".discovery.Peer.stateInfo: object expected");t.stateInfo=u.gossip.Envelope.fromObject(e.stateInfo)}if(null!=e.membershipInfo){if("object"!==r(e.membershipInfo))throw TypeError(".discovery.Peer.membershipInfo: object expected");t.membershipInfo=u.gossip.Envelope.fromObject(e.membershipInfo)}return null!=e.identity&&("string"==typeof e.identity?c.base64.decode(e.identity,t.identity=c.newBuffer(c.base64.length(e.identity)),0):e.identity.length&&(t.identity=e.identity)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.stateInfo=null,n.membershipInfo=null,n.identity=t.bytes===String?"":[]),null!=e.stateInfo&&e.hasOwnProperty("stateInfo")&&(n.stateInfo=u.gossip.Envelope.toObject(e.stateInfo,t)),null!=e.membershipInfo&&e.hasOwnProperty("membershipInfo")&&(n.membershipInfo=u.gossip.Envelope.toObject(e.membershipInfo,t)),null!=e.identity&&e.hasOwnProperty("identity")&&(n.identity=t.bytes===String?c.base64.encode(e.identity,0,e.identity.length):t.bytes===Array?Array.prototype.slice.call(e.identity):e.identity),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.Error=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.content="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.content&&e.hasOwnProperty("content")&&t.uint32(10).string(e.content),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.discovery.Error;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.content=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.content&&e.hasOwnProperty("content")&&!c.isString(e.content)?"content: string expected":null},e.fromObject=function(e){if(e instanceof u.discovery.Error)return e;var t=new u.discovery.Error;return null!=e.content&&(t.content=String(e.content)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.content=""),null!=e.content&&e.hasOwnProperty("content")&&(n.content=e.content),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.Endpoints=function(){function e(e){if(this.endpoint=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.endpoint=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.endpoint&&e.endpoint.length)for(var n=0;n<e.endpoint.length;++n)u.discovery.Endpoint.encode(e.endpoint[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.discovery.Endpoints;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.endpoint&&r.endpoint.length||(r.endpoint=[]),r.endpoint.push(u.discovery.Endpoint.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.endpoint&&e.hasOwnProperty("endpoint")){if(!Array.isArray(e.endpoint))return"endpoint: array expected";for(var t=0;t<e.endpoint.length;++t){var n=u.discovery.Endpoint.verify(e.endpoint[t]);if(n)return"endpoint."+n}}return null},e.fromObject=function(e){if(e instanceof u.discovery.Endpoints)return e;var t=new u.discovery.Endpoints;if(e.endpoint){if(!Array.isArray(e.endpoint))throw TypeError(".discovery.Endpoints.endpoint: array expected");t.endpoint=[];for(var n=0;n<e.endpoint.length;++n){if("object"!==r(e.endpoint[n]))throw TypeError(".discovery.Endpoints.endpoint: object expected");t.endpoint[n]=u.discovery.Endpoint.fromObject(e.endpoint[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.endpoint=[]),e.endpoint&&e.endpoint.length){n.endpoint=[];for(var r=0;r<e.endpoint.length;++r)n.endpoint[r]=u.discovery.Endpoint.toObject(e.endpoint[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.Endpoint=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.host="",e.prototype.port=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.host&&e.hasOwnProperty("host")&&t.uint32(10).string(e.host),null!=e.port&&e.hasOwnProperty("port")&&t.uint32(16).uint32(e.port),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.discovery.Endpoint;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.host=e.string();break;case 2:r.port=e.uint32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.host&&e.hasOwnProperty("host")&&!c.isString(e.host)?"host: string expected":null!=e.port&&e.hasOwnProperty("port")&&!c.isInteger(e.port)?"port: integer expected":null},e.fromObject=function(e){if(e instanceof u.discovery.Endpoint)return e;var t=new u.discovery.Endpoint;return null!=e.host&&(t.host=String(e.host)),null!=e.port&&(t.port=e.port>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.host="",n.port=0),null!=e.host&&e.hasOwnProperty("host")&&(n.host=e.host),null!=e.port&&e.hasOwnProperty("port")&&(n.port=e.port),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e}(),t.gossip=u.gossip=function(){var e={};return e.Gossip=function(){function e(e,t,n){o.rpc.Service.call(this,e,t,n)}return(e.prototype=Object.create(o.rpc.Service.prototype)).constructor=e,e.create=function(e,t,n){return new this(e,t,n)},e.prototype.gossipStream=function e(t,n){return this.rpcCall(e,u.gossip.Envelope,u.gossip.Envelope,t,n)},e.prototype.ping=function e(t,n){return this.rpcCall(e,u.gossip.Empty,u.gossip.Empty,t,n)},e}(),e.Envelope=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.payload=c.newBuffer([]),e.prototype.signature=c.newBuffer([]),e.prototype.secretEnvelope=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.payload&&e.hasOwnProperty("payload")&&t.uint32(10).bytes(e.payload),null!=e.signature&&e.hasOwnProperty("signature")&&t.uint32(18).bytes(e.signature),null!=e.secretEnvelope&&e.hasOwnProperty("secretEnvelope")&&u.gossip.SecretEnvelope.encode(e.secretEnvelope,t.uint32(26).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.gossip.Envelope;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.payload=e.bytes();break;case 2:r.signature=e.bytes();break;case 3:r.secretEnvelope=u.gossip.SecretEnvelope.decode(e,e.uint32());break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.payload&&e.hasOwnProperty("payload")&&!(e.payload&&"number"==typeof e.payload.length||c.isString(e.payload)))return"payload: buffer expected";if(null!=e.signature&&e.hasOwnProperty("signature")&&!(e.signature&&"number"==typeof e.signature.length||c.isString(e.signature)))return"signature: buffer expected";if(null!=e.secretEnvelope&&e.hasOwnProperty("secretEnvelope")){var t=u.gossip.SecretEnvelope.verify(e.secretEnvelope);if(t)return"secretEnvelope."+t}return null},e.fromObject=function(e){if(e instanceof u.gossip.Envelope)return e;var t=new u.gossip.Envelope;if(null!=e.payload&&("string"==typeof e.payload?c.base64.decode(e.payload,t.payload=c.newBuffer(c.base64.length(e.payload)),0):e.payload.length&&(t.payload=e.payload)),null!=e.signature&&("string"==typeof e.signature?c.base64.decode(e.signature,t.signature=c.newBuffer(c.base64.length(e.signature)),0):e.signature.length&&(t.signature=e.signature)),null!=e.secretEnvelope){if("object"!==r(e.secretEnvelope))throw TypeError(".gossip.Envelope.secretEnvelope: object expected");t.secretEnvelope=u.gossip.SecretEnvelope.fromObject(e.secretEnvelope)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.payload=t.bytes===String?"":[],n.signature=t.bytes===String?"":[],n.secretEnvelope=null),null!=e.payload&&e.hasOwnProperty("payload")&&(n.payload=t.bytes===String?c.base64.encode(e.payload,0,e.payload.length):t.bytes===Array?Array.prototype.slice.call(e.payload):e.payload),null!=e.signature&&e.hasOwnProperty("signature")&&(n.signature=t.bytes===String?c.base64.encode(e.signature,0,e.signature.length):t.bytes===Array?Array.prototype.slice.call(e.signature):e.signature),null!=e.secretEnvelope&&e.hasOwnProperty("secretEnvelope")&&(n.secretEnvelope=u.gossip.SecretEnvelope.toObject(e.secretEnvelope,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.SecretEnvelope=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.payload=c.newBuffer([]),e.prototype.signature=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.payload&&e.hasOwnProperty("payload")&&t.uint32(10).bytes(e.payload),null!=e.signature&&e.hasOwnProperty("signature")&&t.uint32(18).bytes(e.signature),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.gossip.SecretEnvelope;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.payload=e.bytes();break;case 2:r.signature=e.bytes();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.payload&&e.hasOwnProperty("payload")&&!(e.payload&&"number"==typeof e.payload.length||c.isString(e.payload))?"payload: buffer expected":null!=e.signature&&e.hasOwnProperty("signature")&&!(e.signature&&"number"==typeof e.signature.length||c.isString(e.signature))?"signature: buffer expected":null},e.fromObject=function(e){if(e instanceof u.gossip.SecretEnvelope)return e;var t=new u.gossip.SecretEnvelope;return null!=e.payload&&("string"==typeof e.payload?c.base64.decode(e.payload,t.payload=c.newBuffer(c.base64.length(e.payload)),0):e.payload.length&&(t.payload=e.payload)),null!=e.signature&&("string"==typeof e.signature?c.base64.decode(e.signature,t.signature=c.newBuffer(c.base64.length(e.signature)),0):e.signature.length&&(t.signature=e.signature)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.payload=t.bytes===String?"":[],n.signature=t.bytes===String?"":[]),null!=e.payload&&e.hasOwnProperty("payload")&&(n.payload=t.bytes===String?c.base64.encode(e.payload,0,e.payload.length):t.bytes===Array?Array.prototype.slice.call(e.payload):e.payload),null!=e.signature&&e.hasOwnProperty("signature")&&(n.signature=t.bytes===String?c.base64.encode(e.signature,0,e.signature.length):t.bytes===Array?Array.prototype.slice.call(e.signature):e.signature),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.Secret=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}e.prototype.internalEndpoint="";var t=void 0;return Object.defineProperty(e.prototype,"content",{get:c.oneOfGetter(t=["internalEndpoint"]),set:c.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.internalEndpoint&&e.hasOwnProperty("internalEndpoint")&&t.uint32(10).string(e.internalEndpoint),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.gossip.Secret;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.internalEndpoint=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";var t={};return null!=e.internalEndpoint&&e.hasOwnProperty("internalEndpoint")&&(t.content=1,!c.isString(e.internalEndpoint))?"internalEndpoint: string expected":null},e.fromObject=function(e){if(e instanceof u.gossip.Secret)return e;var t=new u.gossip.Secret;return null!=e.internalEndpoint&&(t.internalEndpoint=String(e.internalEndpoint)),t},e.toObject=function(e,t){t||(t={});var n={};return null!=e.internalEndpoint&&e.hasOwnProperty("internalEndpoint")&&(n.internalEndpoint=e.internalEndpoint,t.oneofs&&(n.content="internalEndpoint")),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.GossipMessage=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}e.prototype.nonce=c.Long?c.Long.fromBits(0,0,!0):0,e.prototype.channel=c.newBuffer([]),e.prototype.tag=0,e.prototype.aliveMsg=null,e.prototype.memReq=null,e.prototype.memRes=null,e.prototype.dataMsg=null,e.prototype.hello=null,e.prototype.dataDig=null,e.prototype.dataReq=null,e.prototype.dataUpdate=null,e.prototype.empty=null,e.prototype.conn=null,e.prototype.stateInfo=null,e.prototype.stateSnapshot=null,e.prototype.stateInfoPullReq=null,e.prototype.stateRequest=null,e.prototype.stateResponse=null,e.prototype.leadershipMsg=null,e.prototype.peerIdentity=null,e.prototype.ack=null,e.prototype.privateReq=null,e.prototype.privateRes=null,e.prototype.privateData=null;var t=void 0;return Object.defineProperty(e.prototype,"content",{get:c.oneOfGetter(t=["aliveMsg","memReq","memRes","dataMsg","hello","dataDig","dataReq","dataUpdate","empty","conn","stateInfo","stateSnapshot","stateInfoPullReq","stateRequest","stateResponse","leadershipMsg","peerIdentity","ack","privateReq","privateRes","privateData"]),set:c.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.nonce&&e.hasOwnProperty("nonce")&&t.uint32(8).uint64(e.nonce),null!=e.channel&&e.hasOwnProperty("channel")&&t.uint32(18).bytes(e.channel),null!=e.tag&&e.hasOwnProperty("tag")&&t.uint32(24).int32(e.tag),null!=e.aliveMsg&&e.hasOwnProperty("aliveMsg")&&u.gossip.AliveMessage.encode(e.aliveMsg,t.uint32(42).fork()).ldelim(),null!=e.memReq&&e.hasOwnProperty("memReq")&&u.gossip.MembershipRequest.encode(e.memReq,t.uint32(50).fork()).ldelim(),null!=e.memRes&&e.hasOwnProperty("memRes")&&u.gossip.MembershipResponse.encode(e.memRes,t.uint32(58).fork()).ldelim(),null!=e.dataMsg&&e.hasOwnProperty("dataMsg")&&u.gossip.DataMessage.encode(e.dataMsg,t.uint32(66).fork()).ldelim(),null!=e.hello&&e.hasOwnProperty("hello")&&u.gossip.GossipHello.encode(e.hello,t.uint32(74).fork()).ldelim(),null!=e.dataDig&&e.hasOwnProperty("dataDig")&&u.gossip.DataDigest.encode(e.dataDig,t.uint32(82).fork()).ldelim(),null!=e.dataReq&&e.hasOwnProperty("dataReq")&&u.gossip.DataRequest.encode(e.dataReq,t.uint32(90).fork()).ldelim(),null!=e.dataUpdate&&e.hasOwnProperty("dataUpdate")&&u.gossip.DataUpdate.encode(e.dataUpdate,t.uint32(98).fork()).ldelim(),null!=e.empty&&e.hasOwnProperty("empty")&&u.gossip.Empty.encode(e.empty,t.uint32(106).fork()).ldelim(),null!=e.conn&&e.hasOwnProperty("conn")&&u.gossip.ConnEstablish.encode(e.conn,t.uint32(114).fork()).ldelim(),null!=e.stateInfo&&e.hasOwnProperty("stateInfo")&&u.gossip.StateInfo.encode(e.stateInfo,t.uint32(122).fork()).ldelim(),null!=e.stateSnapshot&&e.hasOwnProperty("stateSnapshot")&&u.gossip.StateInfoSnapshot.encode(e.stateSnapshot,t.uint32(130).fork()).ldelim(),null!=e.stateInfoPullReq&&e.hasOwnProperty("stateInfoPullReq")&&u.gossip.StateInfoPullRequest.encode(e.stateInfoPullReq,t.uint32(138).fork()).ldelim(),null!=e.stateRequest&&e.hasOwnProperty("stateRequest")&&u.gossip.RemoteStateRequest.encode(e.stateRequest,t.uint32(146).fork()).ldelim(),null!=e.stateResponse&&e.hasOwnProperty("stateResponse")&&u.gossip.RemoteStateResponse.encode(e.stateResponse,t.uint32(154).fork()).ldelim(),null!=e.leadershipMsg&&e.hasOwnProperty("leadershipMsg")&&u.gossip.LeadershipMessage.encode(e.leadershipMsg,t.uint32(162).fork()).ldelim(),null!=e.peerIdentity&&e.hasOwnProperty("peerIdentity")&&u.gossip.PeerIdentity.encode(e.peerIdentity,t.uint32(170).fork()).ldelim(),null!=e.ack&&e.hasOwnProperty("ack")&&u.gossip.Acknowledgement.encode(e.ack,t.uint32(178).fork()).ldelim(),null!=e.privateReq&&e.hasOwnProperty("privateReq")&&u.gossip.RemotePvtDataRequest.encode(e.privateReq,t.uint32(186).fork()).ldelim(),null!=e.privateRes&&e.hasOwnProperty("privateRes")&&u.gossip.RemotePvtDataResponse.encode(e.privateRes,t.uint32(194).fork()).ldelim(),null!=e.privateData&&e.hasOwnProperty("privateData")&&u.gossip.PrivateDataMessage.encode(e.privateData,t.uint32(202).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.gossip.GossipMessage;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.nonce=e.uint64();break;case 2:r.channel=e.bytes();break;case 3:r.tag=e.int32();break;case 5:r.aliveMsg=u.gossip.AliveMessage.decode(e,e.uint32());break;case 6:r.memReq=u.gossip.MembershipRequest.decode(e,e.uint32());break;case 7:r.memRes=u.gossip.MembershipResponse.decode(e,e.uint32());break;case 8:r.dataMsg=u.gossip.DataMessage.decode(e,e.uint32());break;case 9:r.hello=u.gossip.GossipHello.decode(e,e.uint32());break;case 10:r.dataDig=u.gossip.DataDigest.decode(e,e.uint32());break;case 11:r.dataReq=u.gossip.DataRequest.decode(e,e.uint32());break;case 12:r.dataUpdate=u.gossip.DataUpdate.decode(e,e.uint32());break;case 13:r.empty=u.gossip.Empty.decode(e,e.uint32());break;case 14:r.conn=u.gossip.ConnEstablish.decode(e,e.uint32());break;case 15:r.stateInfo=u.gossip.StateInfo.decode(e,e.uint32());break;case 16:r.stateSnapshot=u.gossip.StateInfoSnapshot.decode(e,e.uint32());break;case 17:r.stateInfoPullReq=u.gossip.StateInfoPullRequest.decode(e,e.uint32());break;case 18:r.stateRequest=u.gossip.RemoteStateRequest.decode(e,e.uint32());break;case 19:r.stateResponse=u.gossip.RemoteStateResponse.decode(e,e.uint32());break;case 20:r.leadershipMsg=u.gossip.LeadershipMessage.decode(e,e.uint32());break;case 21:r.peerIdentity=u.gossip.PeerIdentity.decode(e,e.uint32());break;case 22:r.ack=u.gossip.Acknowledgement.decode(e,e.uint32());break;case 23:r.privateReq=u.gossip.RemotePvtDataRequest.decode(e,e.uint32());break;case 24:r.privateRes=u.gossip.RemotePvtDataResponse.decode(e,e.uint32());break;case 25:r.privateData=u.gossip.PrivateDataMessage.decode(e,e.uint32());break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";var t={};if(null!=e.nonce&&e.hasOwnProperty("nonce")&&!(c.isInteger(e.nonce)||e.nonce&&c.isInteger(e.nonce.low)&&c.isInteger(e.nonce.high)))return"nonce: integer|Long expected";if(null!=e.channel&&e.hasOwnProperty("channel")&&!(e.channel&&"number"==typeof e.channel.length||c.isString(e.channel)))return"channel: buffer expected";if(null!=e.tag&&e.hasOwnProperty("tag"))switch(e.tag){default:return"tag: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:}if(null!=e.aliveMsg&&e.hasOwnProperty("aliveMsg")){t.content=1;var n=u.gossip.AliveMessage.verify(e.aliveMsg);if(n)return"aliveMsg."+n}if(null!=e.memReq&&e.hasOwnProperty("memReq")){if(1===t.content)return"content: multiple values";t.content=1;var i=u.gossip.MembershipRequest.verify(e.memReq);if(i)return"memReq."+i}if(null!=e.memRes&&e.hasOwnProperty("memRes")){if(1===t.content)return"content: multiple values";t.content=1;var o=u.gossip.MembershipResponse.verify(e.memRes);if(o)return"memRes."+o}if(null!=e.dataMsg&&e.hasOwnProperty("dataMsg")){if(1===t.content)return"content: multiple values";t.content=1;var s=u.gossip.DataMessage.verify(e.dataMsg);if(s)return"dataMsg."+s}if(null!=e.hello&&e.hasOwnProperty("hello")){if(1===t.content)return"content: multiple values";t.content=1;var a=u.gossip.GossipHello.verify(e.hello);if(a)return"hello."+a}if(null!=e.dataDig&&e.hasOwnProperty("dataDig")){if(1===t.content)return"content: multiple values";t.content=1;var l=u.gossip.DataDigest.verify(e.dataDig);if(l)return"dataDig."+l}if(null!=e.dataReq&&e.hasOwnProperty("dataReq")){if(1===t.content)return"content: multiple values";t.content=1;var f=u.gossip.DataRequest.verify(e.dataReq);if(f)return"dataReq."+f}if(null!=e.dataUpdate&&e.hasOwnProperty("dataUpdate")){if(1===t.content)return"content: multiple values";t.content=1;var h=u.gossip.DataUpdate.verify(e.dataUpdate);if(h)return"dataUpdate."+h}if(null!=e.empty&&e.hasOwnProperty("empty")){if(1===t.content)return"content: multiple values";t.content=1;var d=u.gossip.Empty.verify(e.empty);if(d)return"empty."+d}if(null!=e.conn&&e.hasOwnProperty("conn")){if(1===t.content)return"content: multiple values";t.content=1;var p=u.gossip.ConnEstablish.verify(e.conn);if(p)return"conn."+p}if(null!=e.stateInfo&&e.hasOwnProperty("stateInfo")){if(1===t.content)return"content: multiple values";t.content=1;var y=u.gossip.StateInfo.verify(e.stateInfo);if(y)return"stateInfo."+y}if(null!=e.stateSnapshot&&e.hasOwnProperty("stateSnapshot")){if(1===t.content)return"content: multiple values";t.content=1;var g=u.gossip.StateInfoSnapshot.verify(e.stateSnapshot);if(g)return"stateSnapshot."+g}if(null!=e.stateInfoPullReq&&e.hasOwnProperty("stateInfoPullReq")){if(1===t.content)return"content: multiple values";t.content=1;var m=u.gossip.StateInfoPullRequest.verify(e.stateInfoPullReq);if(m)return"stateInfoPullReq."+m}if(null!=e.stateRequest&&e.hasOwnProperty("stateRequest")){if(1===t.content)return"content: multiple values";t.content=1;var v=u.gossip.RemoteStateRequest.verify(e.stateRequest);if(v)return"stateRequest."+v}if(null!=e.stateResponse&&e.hasOwnProperty("stateResponse")){if(1===t.content)return"content: multiple values";t.content=1;var b=u.gossip.RemoteStateResponse.verify(e.stateResponse);if(b)return"stateResponse."+b}if(null!=e.leadershipMsg&&e.hasOwnProperty("leadershipMsg")){if(1===t.content)return"content: multiple values";t.content=1;var w=u.gossip.LeadershipMessage.verify(e.leadershipMsg);if(w)return"leadershipMsg."+w}if(null!=e.peerIdentity&&e.hasOwnProperty("peerIdentity")){if(1===t.content)return"content: multiple values";t.content=1;var S=u.gossip.PeerIdentity.verify(e.peerIdentity);if(S)return"peerIdentity."+S}if(null!=e.ack&&e.hasOwnProperty("ack")){if(1===t.content)return"content: multiple values";t.content=1;var E=u.gossip.Acknowledgement.verify(e.ack);if(E)return"ack."+E}if(null!=e.privateReq&&e.hasOwnProperty("privateReq")){if(1===t.content)return"content: multiple values";t.content=1;var k=u.gossip.RemotePvtDataRequest.verify(e.privateReq);if(k)return"privateReq."+k}if(null!=e.privateRes&&e.hasOwnProperty("privateRes")){if(1===t.content)return"content: multiple values";t.content=1;var x=u.gossip.RemotePvtDataResponse.verify(e.privateRes);if(x)return"privateRes."+x}if(null!=e.privateData&&e.hasOwnProperty("privateData")){if(1===t.content)return"content: multiple values";t.content=1;var _=u.gossip.PrivateDataMessage.verify(e.privateData);if(_)return"privateData."+_}return null},e.fromObject=function(e){if(e instanceof u.gossip.GossipMessage)return e;var t=new u.gossip.GossipMessage;switch(null!=e.nonce&&(c.Long?(t.nonce=c.Long.fromValue(e.nonce)).unsigned=!0:"string"==typeof e.nonce?t.nonce=parseInt(e.nonce,10):"number"==typeof e.nonce?t.nonce=e.nonce:"object"===r(e.nonce)&&(t.nonce=new c.LongBits(e.nonce.low>>>0,e.nonce.high>>>0).toNumber(!0))),null!=e.channel&&("string"==typeof e.channel?c.base64.decode(e.channel,t.channel=c.newBuffer(c.base64.length(e.channel)),0):e.channel.length&&(t.channel=e.channel)),e.tag){case"UNDEFINED":case 0:t.tag=0;break;case"EMPTY":case 1:t.tag=1;break;case"ORG_ONLY":case 2:t.tag=2;break;case"CHAN_ONLY":case 3:t.tag=3;break;case"CHAN_AND_ORG":case 4:t.tag=4;break;case"CHAN_OR_ORG":case 5:t.tag=5}if(null!=e.aliveMsg){if("object"!==r(e.aliveMsg))throw TypeError(".gossip.GossipMessage.aliveMsg: object expected");t.aliveMsg=u.gossip.AliveMessage.fromObject(e.aliveMsg)}if(null!=e.memReq){if("object"!==r(e.memReq))throw TypeError(".gossip.GossipMessage.memReq: object expected");t.memReq=u.gossip.MembershipRequest.fromObject(e.memReq)}if(null!=e.memRes){if("object"!==r(e.memRes))throw TypeError(".gossip.GossipMessage.memRes: object expected");t.memRes=u.gossip.MembershipResponse.fromObject(e.memRes)}if(null!=e.dataMsg){if("object"!==r(e.dataMsg))throw TypeError(".gossip.GossipMessage.dataMsg: object expected");t.dataMsg=u.gossip.DataMessage.fromObject(e.dataMsg)}if(null!=e.hello){if("object"!==r(e.hello))throw TypeError(".gossip.GossipMessage.hello: object expected");t.hello=u.gossip.GossipHello.fromObject(e.hello)}if(null!=e.dataDig){if("object"!==r(e.dataDig))throw TypeError(".gossip.GossipMessage.dataDig: object expected");t.dataDig=u.gossip.DataDigest.fromObject(e.dataDig)}if(null!=e.dataReq){if("object"!==r(e.dataReq))throw TypeError(".gossip.GossipMessage.dataReq: object expected");t.dataReq=u.gossip.DataRequest.fromObject(e.dataReq)}if(null!=e.dataUpdate){if("object"!==r(e.dataUpdate))throw TypeError(".gossip.GossipMessage.dataUpdate: object expected");t.dataUpdate=u.gossip.DataUpdate.fromObject(e.dataUpdate)}if(null!=e.empty){if("object"!==r(e.empty))throw TypeError(".gossip.GossipMessage.empty: object expected");t.empty=u.gossip.Empty.fromObject(e.empty)}if(null!=e.conn){if("object"!==r(e.conn))throw TypeError(".gossip.GossipMessage.conn: object expected");t.conn=u.gossip.ConnEstablish.fromObject(e.conn)}if(null!=e.stateInfo){if("object"!==r(e.stateInfo))throw TypeError(".gossip.GossipMessage.stateInfo: object expected");t.stateInfo=u.gossip.StateInfo.fromObject(e.stateInfo)}if(null!=e.stateSnapshot){if("object"!==r(e.stateSnapshot))throw TypeError(".gossip.GossipMessage.stateSnapshot: object expected");t.stateSnapshot=u.gossip.StateInfoSnapshot.fromObject(e.stateSnapshot)}if(null!=e.stateInfoPullReq){if("object"!==r(e.stateInfoPullReq))throw TypeError(".gossip.GossipMessage.stateInfoPullReq: object expected");t.stateInfoPullReq=u.gossip.StateInfoPullRequest.fromObject(e.stateInfoPullReq)}if(null!=e.stateRequest){if("object"!==r(e.stateRequest))throw TypeError(".gossip.GossipMessage.stateRequest: object expected");t.stateRequest=u.gossip.RemoteStateRequest.fromObject(e.stateRequest)}if(null!=e.stateResponse){if("object"!==r(e.stateResponse))throw TypeError(".gossip.GossipMessage.stateResponse: object expected");t.stateResponse=u.gossip.RemoteStateResponse.fromObject(e.stateResponse)}if(null!=e.leadershipMsg){if("object"!==r(e.leadershipMsg))throw TypeError(".gossip.GossipMessage.leadershipMsg: object expected");t.leadershipMsg=u.gossip.LeadershipMessage.fromObject(e.leadershipMsg)}if(null!=e.peerIdentity){if("object"!==r(e.peerIdentity))throw TypeError(".gossip.GossipMessage.peerIdentity: object expected");t.peerIdentity=u.gossip.PeerIdentity.fromObject(e.peerIdentity)}if(null!=e.ack){if("object"!==r(e.ack))throw TypeError(".gossip.GossipMessage.ack: object expected");t.ack=u.gossip.Acknowledgement.fromObject(e.ack)}if(null!=e.privateReq){if("object"!==r(e.privateReq))throw TypeError(".gossip.GossipMessage.privateReq: object expected");t.privateReq=u.gossip.RemotePvtDataRequest.fromObject(e.privateReq)}if(null!=e.privateRes){if("object"!==r(e.privateRes))throw TypeError(".gossip.GossipMessage.privateRes: object expected");t.privateRes=u.gossip.RemotePvtDataResponse.fromObject(e.privateRes)}if(null!=e.privateData){if("object"!==r(e.privateData))throw TypeError(".gossip.GossipMessage.privateData: object expected");t.privateData=u.gossip.PrivateDataMessage.fromObject(e.privateData)}return t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(c.Long){var r=new c.Long(0,0,!0);n.nonce=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.nonce=t.longs===String?"0":0;n.channel=t.bytes===String?"":[],n.tag=t.enums===String?"UNDEFINED":0}return null!=e.nonce&&e.hasOwnProperty("nonce")&&("number"==typeof e.nonce?n.nonce=t.longs===String?String(e.nonce):e.nonce:n.nonce=t.longs===String?c.Long.prototype.toString.call(e.nonce):t.longs===Number?new c.LongBits(e.nonce.low>>>0,e.nonce.high>>>0).toNumber(!0):e.nonce),null!=e.channel&&e.hasOwnProperty("channel")&&(n.channel=t.bytes===String?c.base64.encode(e.channel,0,e.channel.length):t.bytes===Array?Array.prototype.slice.call(e.channel):e.channel),null!=e.tag&&e.hasOwnProperty("tag")&&(n.tag=t.enums===String?u.gossip.GossipMessage.Tag[e.tag]:e.tag),null!=e.aliveMsg&&e.hasOwnProperty("aliveMsg")&&(n.aliveMsg=u.gossip.AliveMessage.toObject(e.aliveMsg,t),t.oneofs&&(n.content="aliveMsg")),null!=e.memReq&&e.hasOwnProperty("memReq")&&(n.memReq=u.gossip.MembershipRequest.toObject(e.memReq,t),t.oneofs&&(n.content="memReq")),null!=e.memRes&&e.hasOwnProperty("memRes")&&(n.memRes=u.gossip.MembershipResponse.toObject(e.memRes,t),t.oneofs&&(n.content="memRes")),null!=e.dataMsg&&e.hasOwnProperty("dataMsg")&&(n.dataMsg=u.gossip.DataMessage.toObject(e.dataMsg,t),t.oneofs&&(n.content="dataMsg")),null!=e.hello&&e.hasOwnProperty("hello")&&(n.hello=u.gossip.GossipHello.toObject(e.hello,t),t.oneofs&&(n.content="hello")),null!=e.dataDig&&e.hasOwnProperty("dataDig")&&(n.dataDig=u.gossip.DataDigest.toObject(e.dataDig,t),t.oneofs&&(n.content="dataDig")),null!=e.dataReq&&e.hasOwnProperty("dataReq")&&(n.dataReq=u.gossip.DataRequest.toObject(e.dataReq,t),t.oneofs&&(n.content="dataReq")),null!=e.dataUpdate&&e.hasOwnProperty("dataUpdate")&&(n.dataUpdate=u.gossip.DataUpdate.toObject(e.dataUpdate,t),t.oneofs&&(n.content="dataUpdate")),null!=e.empty&&e.hasOwnProperty("empty")&&(n.empty=u.gossip.Empty.toObject(e.empty,t),t.oneofs&&(n.content="empty")),null!=e.conn&&e.hasOwnProperty("conn")&&(n.conn=u.gossip.ConnEstablish.toObject(e.conn,t),t.oneofs&&(n.content="conn")),null!=e.stateInfo&&e.hasOwnProperty("stateInfo")&&(n.stateInfo=u.gossip.StateInfo.toObject(e.stateInfo,t),t.oneofs&&(n.content="stateInfo")),null!=e.stateSnapshot&&e.hasOwnProperty("stateSnapshot")&&(n.stateSnapshot=u.gossip.StateInfoSnapshot.toObject(e.stateSnapshot,t),t.oneofs&&(n.content="stateSnapshot")),null!=e.stateInfoPullReq&&e.hasOwnProperty("stateInfoPullReq")&&(n.stateInfoPullReq=u.gossip.StateInfoPullRequest.toObject(e.stateInfoPullReq,t),t.oneofs&&(n.content="stateInfoPullReq")),null!=e.stateRequest&&e.hasOwnProperty("stateRequest")&&(n.stateRequest=u.gossip.RemoteStateRequest.toObject(e.stateRequest,t),t.oneofs&&(n.content="stateRequest")),null!=e.stateResponse&&e.hasOwnProperty("stateResponse")&&(n.stateResponse=u.gossip.RemoteStateResponse.toObject(e.stateResponse,t),t.oneofs&&(n.content="stateResponse")),null!=e.leadershipMsg&&e.hasOwnProperty("leadershipMsg")&&(n.leadershipMsg=u.gossip.LeadershipMessage.toObject(e.leadershipMsg,t),t.oneofs&&(n.content="leadershipMsg")),null!=e.peerIdentity&&e.hasOwnProperty("peerIdentity")&&(n.peerIdentity=u.gossip.PeerIdentity.toObject(e.peerIdentity,t),t.oneofs&&(n.content="peerIdentity")),null!=e.ack&&e.hasOwnProperty("ack")&&(n.ack=u.gossip.Acknowledgement.toObject(e.ack,t),t.oneofs&&(n.content="ack")),null!=e.privateReq&&e.hasOwnProperty("privateReq")&&(n.privateReq=u.gossip.RemotePvtDataRequest.toObject(e.privateReq,t),t.oneofs&&(n.content="privateReq")),null!=e.privateRes&&e.hasOwnProperty("privateRes")&&(n.privateRes=u.gossip.RemotePvtDataResponse.toObject(e.privateRes,t),t.oneofs&&(n.content="privateRes")),null!=e.privateData&&e.hasOwnProperty("privateData")&&(n.privateData=u.gossip.PrivateDataMessage.toObject(e.privateData,t),t.oneofs&&(n.content="privateData")),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.Tag=function(){var e={},t=Object.create(e);return t[e[0]="UNDEFINED"]=0,t[e[1]="EMPTY"]=1,t[e[2]="ORG_ONLY"]=2,t[e[3]="CHAN_ONLY"]=3,t[e[4]="CHAN_AND_ORG"]=4,t[e[5]="CHAN_OR_ORG"]=5,t}(),e}(),e.StateInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.timestamp=null,e.prototype.pkiId=c.newBuffer([]),e.prototype.channel_MAC=c.newBuffer([]),e.prototype.properties=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.timestamp&&e.hasOwnProperty("timestamp")&&u.gossip.PeerTime.encode(e.timestamp,t.uint32(18).fork()).ldelim(),null!=e.pkiId&&e.hasOwnProperty("pkiId")&&t.uint32(26).bytes(e.pkiId),null!=e.channel_MAC&&e.hasOwnProperty("channel_MAC")&&t.uint32(34).bytes(e.channel_MAC),null!=e.properties&&e.hasOwnProperty("properties")&&u.gossip.Properties.encode(e.properties,t.uint32(42).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.gossip.StateInfo;e.pos<n;){var i=e.uint32();switch(i>>>3){case 2:r.timestamp=u.gossip.PeerTime.decode(e,e.uint32());break;case 3:r.pkiId=e.bytes();break;case 4:r.channel_MAC=e.bytes();break;case 5:r.properties=u.gossip.Properties.decode(e,e.uint32());break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.timestamp&&e.hasOwnProperty("timestamp")){var t=u.gossip.PeerTime.verify(e.timestamp);if(t)return"timestamp."+t}if(null!=e.pkiId&&e.hasOwnProperty("pkiId")&&!(e.pkiId&&"number"==typeof e.pkiId.length||c.isString(e.pkiId)))return"pkiId: buffer expected";if(null!=e.channel_MAC&&e.hasOwnProperty("channel_MAC")&&!(e.channel_MAC&&"number"==typeof e.channel_MAC.length||c.isString(e.channel_MAC)))return"channel_MAC: buffer expected";if(null!=e.properties&&e.hasOwnProperty("properties")){var n=u.gossip.Properties.verify(e.properties);if(n)return"properties."+n}return null},e.fromObject=function(e){if(e instanceof u.gossip.StateInfo)return e;var t=new u.gossip.StateInfo;if(null!=e.timestamp){if("object"!==r(e.timestamp))throw TypeError(".gossip.StateInfo.timestamp: object expected");t.timestamp=u.gossip.PeerTime.fromObject(e.timestamp)}if(null!=e.pkiId&&("string"==typeof e.pkiId?c.base64.decode(e.pkiId,t.pkiId=c.newBuffer(c.base64.length(e.pkiId)),0):e.pkiId.length&&(t.pkiId=e.pkiId)),null!=e.channel_MAC&&("string"==typeof e.channel_MAC?c.base64.decode(e.channel_MAC,t.channel_MAC=c.newBuffer(c.base64.length(e.channel_MAC)),0):e.channel_MAC.length&&(t.channel_MAC=e.channel_MAC)),null!=e.properties){if("object"!==r(e.properties))throw TypeError(".gossip.StateInfo.properties: object expected");t.properties=u.gossip.Properties.fromObject(e.properties)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.timestamp=null,n.pkiId=t.bytes===String?"":[],n.channel_MAC=t.bytes===String?"":[],n.properties=null),null!=e.timestamp&&e.hasOwnProperty("timestamp")&&(n.timestamp=u.gossip.PeerTime.toObject(e.timestamp,t)),null!=e.pkiId&&e.hasOwnProperty("pkiId")&&(n.pkiId=t.bytes===String?c.base64.encode(e.pkiId,0,e.pkiId.length):t.bytes===Array?Array.prototype.slice.call(e.pkiId):e.pkiId),null!=e.channel_MAC&&e.hasOwnProperty("channel_MAC")&&(n.channel_MAC=t.bytes===String?c.base64.encode(e.channel_MAC,0,e.channel_MAC.length):t.bytes===Array?Array.prototype.slice.call(e.channel_MAC):e.channel_MAC),null!=e.properties&&e.hasOwnProperty("properties")&&(n.properties=u.gossip.Properties.toObject(e.properties,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.Properties=function(){function e(e){if(this.chaincodes=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.ledgerHeight=c.Long?c.Long.fromBits(0,0,!0):0,e.prototype.leftChannel=!1,e.prototype.chaincodes=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.ledgerHeight&&e.hasOwnProperty("ledgerHeight")&&t.uint32(8).uint64(e.ledgerHeight),null!=e.leftChannel&&e.hasOwnProperty("leftChannel")&&t.uint32(16).bool(e.leftChannel),null!=e.chaincodes&&e.chaincodes.length)for(var n=0;n<e.chaincodes.length;++n)u.gossip.Chaincode.encode(e.chaincodes[n],t.uint32(26).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.gossip.Properties;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.ledgerHeight=e.uint64();break;case 2:r.leftChannel=e.bool();break;case 3:r.chaincodes&&r.chaincodes.length||(r.chaincodes=[]),r.chaincodes.push(u.gossip.Chaincode.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.ledgerHeight&&e.hasOwnProperty("ledgerHeight")&&!(c.isInteger(e.ledgerHeight)||e.ledgerHeight&&c.isInteger(e.ledgerHeight.low)&&c.isInteger(e.ledgerHeight.high)))return"ledgerHeight: integer|Long expected";if(null!=e.leftChannel&&e.hasOwnProperty("leftChannel")&&"boolean"!=typeof e.leftChannel)return"leftChannel: boolean expected";if(null!=e.chaincodes&&e.hasOwnProperty("chaincodes")){if(!Array.isArray(e.chaincodes))return"chaincodes: array expected";for(var t=0;t<e.chaincodes.length;++t){var n=u.gossip.Chaincode.verify(e.chaincodes[t]);if(n)return"chaincodes."+n}}return null},e.fromObject=function(e){if(e instanceof u.gossip.Properties)return e;var t=new u.gossip.Properties;if(null!=e.ledgerHeight&&(c.Long?(t.ledgerHeight=c.Long.fromValue(e.ledgerHeight)).unsigned=!0:"string"==typeof e.ledgerHeight?t.ledgerHeight=parseInt(e.ledgerHeight,10):"number"==typeof e.ledgerHeight?t.ledgerHeight=e.ledgerHeight:"object"===r(e.ledgerHeight)&&(t.ledgerHeight=new c.LongBits(e.ledgerHeight.low>>>0,e.ledgerHeight.high>>>0).toNumber(!0))),null!=e.leftChannel&&(t.leftChannel=Boolean(e.leftChannel)),e.chaincodes){if(!Array.isArray(e.chaincodes))throw TypeError(".gossip.Properties.chaincodes: array expected");t.chaincodes=[];for(var n=0;n<e.chaincodes.length;++n){if("object"!==r(e.chaincodes[n]))throw TypeError(".gossip.Properties.chaincodes: object expected");t.chaincodes[n]=u.gossip.Chaincode.fromObject(e.chaincodes[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.chaincodes=[]),t.defaults){if(c.Long){var r=new c.Long(0,0,!0);n.ledgerHeight=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.ledgerHeight=t.longs===String?"0":0;n.leftChannel=!1}if(null!=e.ledgerHeight&&e.hasOwnProperty("ledgerHeight")&&("number"==typeof e.ledgerHeight?n.ledgerHeight=t.longs===String?String(e.ledgerHeight):e.ledgerHeight:n.ledgerHeight=t.longs===String?c.Long.prototype.toString.call(e.ledgerHeight):t.longs===Number?new c.LongBits(e.ledgerHeight.low>>>0,e.ledgerHeight.high>>>0).toNumber(!0):e.ledgerHeight),null!=e.leftChannel&&e.hasOwnProperty("leftChannel")&&(n.leftChannel=e.leftChannel),e.chaincodes&&e.chaincodes.length){n.chaincodes=[];for(var i=0;i<e.chaincodes.length;++i)n.chaincodes[i]=u.gossip.Chaincode.toObject(e.chaincodes[i],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.StateInfoSnapshot=function(){function e(e){if(this.elements=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.elements=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.elements&&e.elements.length)for(var n=0;n<e.elements.length;++n)u.gossip.Envelope.encode(e.elements[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.gossip.StateInfoSnapshot;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.elements&&r.elements.length||(r.elements=[]),r.elements.push(u.gossip.Envelope.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.elements&&e.hasOwnProperty("elements")){if(!Array.isArray(e.elements))return"elements: array expected";for(var t=0;t<e.elements.length;++t){var n=u.gossip.Envelope.verify(e.elements[t]);if(n)return"elements."+n}}return null},e.fromObject=function(e){if(e instanceof u.gossip.StateInfoSnapshot)return e;var t=new u.gossip.StateInfoSnapshot;if(e.elements){if(!Array.isArray(e.elements))throw TypeError(".gossip.StateInfoSnapshot.elements: array expected");t.elements=[];for(var n=0;n<e.elements.length;++n){if("object"!==r(e.elements[n]))throw TypeError(".gossip.StateInfoSnapshot.elements: object expected");t.elements[n]=u.gossip.Envelope.fromObject(e.elements[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.elements=[]),e.elements&&e.elements.length){n.elements=[];for(var r=0;r<e.elements.length;++r)n.elements[r]=u.gossip.Envelope.toObject(e.elements[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.StateInfoPullRequest=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.channel_MAC=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.channel_MAC&&e.hasOwnProperty("channel_MAC")&&t.uint32(10).bytes(e.channel_MAC),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.gossip.StateInfoPullRequest;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.channel_MAC=e.bytes();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.channel_MAC&&e.hasOwnProperty("channel_MAC")&&!(e.channel_MAC&&"number"==typeof e.channel_MAC.length||c.isString(e.channel_MAC))?"channel_MAC: buffer expected":null},e.fromObject=function(e){if(e instanceof u.gossip.StateInfoPullRequest)return e;var t=new u.gossip.StateInfoPullRequest;return null!=e.channel_MAC&&("string"==typeof e.channel_MAC?c.base64.decode(e.channel_MAC,t.channel_MAC=c.newBuffer(c.base64.length(e.channel_MAC)),0):e.channel_MAC.length&&(t.channel_MAC=e.channel_MAC)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.channel_MAC=t.bytes===String?"":[]),null!=e.channel_MAC&&e.hasOwnProperty("channel_MAC")&&(n.channel_MAC=t.bytes===String?c.base64.encode(e.channel_MAC,0,e.channel_MAC.length):t.bytes===Array?Array.prototype.slice.call(e.channel_MAC):e.channel_MAC),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.ConnEstablish=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.pkiId=c.newBuffer([]),e.prototype.identity=c.newBuffer([]),e.prototype.tlsCertHash=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.pkiId&&e.hasOwnProperty("pkiId")&&t.uint32(10).bytes(e.pkiId),null!=e.identity&&e.hasOwnProperty("identity")&&t.uint32(18).bytes(e.identity),null!=e.tlsCertHash&&e.hasOwnProperty("tlsCertHash")&&t.uint32(26).bytes(e.tlsCertHash),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.gossip.ConnEstablish;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.pkiId=e.bytes();break;case 2:r.identity=e.bytes();break;case 3:r.tlsCertHash=e.bytes();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.pkiId&&e.hasOwnProperty("pkiId")&&!(e.pkiId&&"number"==typeof e.pkiId.length||c.isString(e.pkiId))?"pkiId: buffer expected":null!=e.identity&&e.hasOwnProperty("identity")&&!(e.identity&&"number"==typeof e.identity.length||c.isString(e.identity))?"identity: buffer expected":null!=e.tlsCertHash&&e.hasOwnProperty("tlsCertHash")&&!(e.tlsCertHash&&"number"==typeof e.tlsCertHash.length||c.isString(e.tlsCertHash))?"tlsCertHash: buffer expected":null},e.fromObject=function(e){if(e instanceof u.gossip.ConnEstablish)return e;var t=new u.gossip.ConnEstablish;return null!=e.pkiId&&("string"==typeof e.pkiId?c.base64.decode(e.pkiId,t.pkiId=c.newBuffer(c.base64.length(e.pkiId)),0):e.pkiId.length&&(t.pkiId=e.pkiId)),null!=e.identity&&("string"==typeof e.identity?c.base64.decode(e.identity,t.identity=c.newBuffer(c.base64.length(e.identity)),0):e.identity.length&&(t.identity=e.identity)),null!=e.tlsCertHash&&("string"==typeof e.tlsCertHash?c.base64.decode(e.tlsCertHash,t.tlsCertHash=c.newBuffer(c.base64.length(e.tlsCertHash)),0):e.tlsCertHash.length&&(t.tlsCertHash=e.tlsCertHash)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.pkiId=t.bytes===String?"":[],n.identity=t.bytes===String?"":[],n.tlsCertHash=t.bytes===String?"":[]),null!=e.pkiId&&e.hasOwnProperty("pkiId")&&(n.pkiId=t.bytes===String?c.base64.encode(e.pkiId,0,e.pkiId.length):t.bytes===Array?Array.prototype.slice.call(e.pkiId):e.pkiId),null!=e.identity&&e.hasOwnProperty("identity")&&(n.identity=t.bytes===String?c.base64.encode(e.identity,0,e.identity.length):t.bytes===Array?Array.prototype.slice.call(e.identity):e.identity),null!=e.tlsCertHash&&e.hasOwnProperty("tlsCertHash")&&(n.tlsCertHash=t.bytes===String?c.base64.encode(e.tlsCertHash,0,e.tlsCertHash.length):t.bytes===Array?Array.prototype.slice.call(e.tlsCertHash):e.tlsCertHash),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.PeerIdentity=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.pkiId=c.newBuffer([]),e.prototype.cert=c.newBuffer([]),e.prototype.metadata=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.pkiId&&e.hasOwnProperty("pkiId")&&t.uint32(10).bytes(e.pkiId),null!=e.cert&&e.hasOwnProperty("cert")&&t.uint32(18).bytes(e.cert),null!=e.metadata&&e.hasOwnProperty("metadata")&&t.uint32(26).bytes(e.metadata),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.gossip.PeerIdentity;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.pkiId=e.bytes();break;case 2:r.cert=e.bytes();break;case 3:r.metadata=e.bytes();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.pkiId&&e.hasOwnProperty("pkiId")&&!(e.pkiId&&"number"==typeof e.pkiId.length||c.isString(e.pkiId))?"pkiId: buffer expected":null!=e.cert&&e.hasOwnProperty("cert")&&!(e.cert&&"number"==typeof e.cert.length||c.isString(e.cert))?"cert: buffer expected":null!=e.metadata&&e.hasOwnProperty("metadata")&&!(e.metadata&&"number"==typeof e.metadata.length||c.isString(e.metadata))?"metadata: buffer expected":null},e.fromObject=function(e){if(e instanceof u.gossip.PeerIdentity)return e;var t=new u.gossip.PeerIdentity;return null!=e.pkiId&&("string"==typeof e.pkiId?c.base64.decode(e.pkiId,t.pkiId=c.newBuffer(c.base64.length(e.pkiId)),0):e.pkiId.length&&(t.pkiId=e.pkiId)),null!=e.cert&&("string"==typeof e.cert?c.base64.decode(e.cert,t.cert=c.newBuffer(c.base64.length(e.cert)),0):e.cert.length&&(t.cert=e.cert)),null!=e.metadata&&("string"==typeof e.metadata?c.base64.decode(e.metadata,t.metadata=c.newBuffer(c.base64.length(e.metadata)),0):e.metadata.length&&(t.metadata=e.metadata)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.pkiId=t.bytes===String?"":[],n.cert=t.bytes===String?"":[],n.metadata=t.bytes===String?"":[]),null!=e.pkiId&&e.hasOwnProperty("pkiId")&&(n.pkiId=t.bytes===String?c.base64.encode(e.pkiId,0,e.pkiId.length):t.bytes===Array?Array.prototype.slice.call(e.pkiId):e.pkiId),null!=e.cert&&e.hasOwnProperty("cert")&&(n.cert=t.bytes===String?c.base64.encode(e.cert,0,e.cert.length):t.bytes===Array?Array.prototype.slice.call(e.cert):e.cert),null!=e.metadata&&e.hasOwnProperty("metadata")&&(n.metadata=t.bytes===String?c.base64.encode(e.metadata,0,e.metadata.length):t.bytes===Array?Array.prototype.slice.call(e.metadata):e.metadata),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.PullMsgType=function(){var e={},t=Object.create(e);return t[e[0]="UNDEFINED"]=0,t[e[1]="BLOCK_MSG"]=1,t[e[2]="IDENTITY_MSG"]=2,t}(),e.DataRequest=function(){function e(e){if(this.digests=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.nonce=c.Long?c.Long.fromBits(0,0,!0):0,e.prototype.digests=c.emptyArray,e.prototype.msgType=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.nonce&&e.hasOwnProperty("nonce")&&t.uint32(8).uint64(e.nonce),null!=e.digests&&e.digests.length)for(var n=0;n<e.digests.length;++n)t.uint32(18).string(e.digests[n]);return null!=e.msgType&&e.hasOwnProperty("msgType")&&t.uint32(24).int32(e.msgType),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.gossip.DataRequest;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.nonce=e.uint64();break;case 2:r.digests&&r.digests.length||(r.digests=[]),r.digests.push(e.string());break;case 3:r.msgType=e.int32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.nonce&&e.hasOwnProperty("nonce")&&!(c.isInteger(e.nonce)||e.nonce&&c.isInteger(e.nonce.low)&&c.isInteger(e.nonce.high)))return"nonce: integer|Long expected";if(null!=e.digests&&e.hasOwnProperty("digests")){if(!Array.isArray(e.digests))return"digests: array expected";for(var t=0;t<e.digests.length;++t)if(!c.isString(e.digests[t]))return"digests: string[] expected"}if(null!=e.msgType&&e.hasOwnProperty("msgType"))switch(e.msgType){default:return"msgType: enum value expected";case 0:case 1:case 2:}return null},e.fromObject=function(e){if(e instanceof u.gossip.DataRequest)return e;var t=new u.gossip.DataRequest;if(null!=e.nonce&&(c.Long?(t.nonce=c.Long.fromValue(e.nonce)).unsigned=!0:"string"==typeof e.nonce?t.nonce=parseInt(e.nonce,10):"number"==typeof e.nonce?t.nonce=e.nonce:"object"===r(e.nonce)&&(t.nonce=new c.LongBits(e.nonce.low>>>0,e.nonce.high>>>0).toNumber(!0))),e.digests){if(!Array.isArray(e.digests))throw TypeError(".gossip.DataRequest.digests: array expected");t.digests=[];for(var n=0;n<e.digests.length;++n)t.digests[n]=String(e.digests[n])}switch(e.msgType){case"UNDEFINED":case 0:t.msgType=0;break;case"BLOCK_MSG":case 1:t.msgType=1;break;case"IDENTITY_MSG":case 2:t.msgType=2}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.digests=[]),t.defaults){if(c.Long){var r=new c.Long(0,0,!0);n.nonce=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.nonce=t.longs===String?"0":0;n.msgType=t.enums===String?"UNDEFINED":0}if(null!=e.nonce&&e.hasOwnProperty("nonce")&&("number"==typeof e.nonce?n.nonce=t.longs===String?String(e.nonce):e.nonce:n.nonce=t.longs===String?c.Long.prototype.toString.call(e.nonce):t.longs===Number?new c.LongBits(e.nonce.low>>>0,e.nonce.high>>>0).toNumber(!0):e.nonce),e.digests&&e.digests.length){n.digests=[];for(var i=0;i<e.digests.length;++i)n.digests[i]=e.digests[i]}return null!=e.msgType&&e.hasOwnProperty("msgType")&&(n.msgType=t.enums===String?u.gossip.PullMsgType[e.msgType]:e.msgType),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.GossipHello=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.nonce=c.Long?c.Long.fromBits(0,0,!0):0,e.prototype.metadata=c.newBuffer([]),e.prototype.msgType=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.nonce&&e.hasOwnProperty("nonce")&&t.uint32(8).uint64(e.nonce),null!=e.metadata&&e.hasOwnProperty("metadata")&&t.uint32(18).bytes(e.metadata),null!=e.msgType&&e.hasOwnProperty("msgType")&&t.uint32(24).int32(e.msgType),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.gossip.GossipHello;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.nonce=e.uint64();break;case 2:r.metadata=e.bytes();break;case 3:r.msgType=e.int32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.nonce&&e.hasOwnProperty("nonce")&&!(c.isInteger(e.nonce)||e.nonce&&c.isInteger(e.nonce.low)&&c.isInteger(e.nonce.high)))return"nonce: integer|Long expected";if(null!=e.metadata&&e.hasOwnProperty("metadata")&&!(e.metadata&&"number"==typeof e.metadata.length||c.isString(e.metadata)))return"metadata: buffer expected";if(null!=e.msgType&&e.hasOwnProperty("msgType"))switch(e.msgType){default:return"msgType: enum value expected";case 0:case 1:case 2:}return null},e.fromObject=function(e){if(e instanceof u.gossip.GossipHello)return e;var t=new u.gossip.GossipHello;switch(null!=e.nonce&&(c.Long?(t.nonce=c.Long.fromValue(e.nonce)).unsigned=!0:"string"==typeof e.nonce?t.nonce=parseInt(e.nonce,10):"number"==typeof e.nonce?t.nonce=e.nonce:"object"===r(e.nonce)&&(t.nonce=new c.LongBits(e.nonce.low>>>0,e.nonce.high>>>0).toNumber(!0))),null!=e.metadata&&("string"==typeof e.metadata?c.base64.decode(e.metadata,t.metadata=c.newBuffer(c.base64.length(e.metadata)),0):e.metadata.length&&(t.metadata=e.metadata)),e.msgType){case"UNDEFINED":case 0:t.msgType=0;break;case"BLOCK_MSG":case 1:t.msgType=1;break;case"IDENTITY_MSG":case 2:t.msgType=2}return t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(c.Long){var r=new c.Long(0,0,!0);n.nonce=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.nonce=t.longs===String?"0":0;n.metadata=t.bytes===String?"":[],n.msgType=t.enums===String?"UNDEFINED":0}return null!=e.nonce&&e.hasOwnProperty("nonce")&&("number"==typeof e.nonce?n.nonce=t.longs===String?String(e.nonce):e.nonce:n.nonce=t.longs===String?c.Long.prototype.toString.call(e.nonce):t.longs===Number?new c.LongBits(e.nonce.low>>>0,e.nonce.high>>>0).toNumber(!0):e.nonce),null!=e.metadata&&e.hasOwnProperty("metadata")&&(n.metadata=t.bytes===String?c.base64.encode(e.metadata,0,e.metadata.length):t.bytes===Array?Array.prototype.slice.call(e.metadata):e.metadata),null!=e.msgType&&e.hasOwnProperty("msgType")&&(n.msgType=t.enums===String?u.gossip.PullMsgType[e.msgType]:e.msgType),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.DataUpdate=function(){function e(e){if(this.data=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.nonce=c.Long?c.Long.fromBits(0,0,!0):0,e.prototype.data=c.emptyArray,e.prototype.msgType=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.nonce&&e.hasOwnProperty("nonce")&&t.uint32(8).uint64(e.nonce),null!=e.data&&e.data.length)for(var n=0;n<e.data.length;++n)u.gossip.Envelope.encode(e.data[n],t.uint32(18).fork()).ldelim();return null!=e.msgType&&e.hasOwnProperty("msgType")&&t.uint32(24).int32(e.msgType),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.gossip.DataUpdate;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.nonce=e.uint64();break;case 2:r.data&&r.data.length||(r.data=[]),r.data.push(u.gossip.Envelope.decode(e,e.uint32()));break;case 3:r.msgType=e.int32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.nonce&&e.hasOwnProperty("nonce")&&!(c.isInteger(e.nonce)||e.nonce&&c.isInteger(e.nonce.low)&&c.isInteger(e.nonce.high)))return"nonce: integer|Long expected";if(null!=e.data&&e.hasOwnProperty("data")){if(!Array.isArray(e.data))return"data: array expected";for(var t=0;t<e.data.length;++t){var n=u.gossip.Envelope.verify(e.data[t]);if(n)return"data."+n}}if(null!=e.msgType&&e.hasOwnProperty("msgType"))switch(e.msgType){default:return"msgType: enum value expected";case 0:case 1:case 2:}return null},e.fromObject=function(e){if(e instanceof u.gossip.DataUpdate)return e;var t=new u.gossip.DataUpdate;if(null!=e.nonce&&(c.Long?(t.nonce=c.Long.fromValue(e.nonce)).unsigned=!0:"string"==typeof e.nonce?t.nonce=parseInt(e.nonce,10):"number"==typeof e.nonce?t.nonce=e.nonce:"object"===r(e.nonce)&&(t.nonce=new c.LongBits(e.nonce.low>>>0,e.nonce.high>>>0).toNumber(!0))),e.data){if(!Array.isArray(e.data))throw TypeError(".gossip.DataUpdate.data: array expected");t.data=[];for(var n=0;n<e.data.length;++n){if("object"!==r(e.data[n]))throw TypeError(".gossip.DataUpdate.data: object expected");t.data[n]=u.gossip.Envelope.fromObject(e.data[n])}}switch(e.msgType){case"UNDEFINED":case 0:t.msgType=0;break;case"BLOCK_MSG":case 1:t.msgType=1;break;case"IDENTITY_MSG":case 2:t.msgType=2}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.data=[]),t.defaults){if(c.Long){var r=new c.Long(0,0,!0);n.nonce=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.nonce=t.longs===String?"0":0;n.msgType=t.enums===String?"UNDEFINED":0}if(null!=e.nonce&&e.hasOwnProperty("nonce")&&("number"==typeof e.nonce?n.nonce=t.longs===String?String(e.nonce):e.nonce:n.nonce=t.longs===String?c.Long.prototype.toString.call(e.nonce):t.longs===Number?new c.LongBits(e.nonce.low>>>0,e.nonce.high>>>0).toNumber(!0):e.nonce),e.data&&e.data.length){n.data=[];for(var i=0;i<e.data.length;++i)n.data[i]=u.gossip.Envelope.toObject(e.data[i],t)}return null!=e.msgType&&e.hasOwnProperty("msgType")&&(n.msgType=t.enums===String?u.gossip.PullMsgType[e.msgType]:e.msgType),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.DataDigest=function(){function e(e){if(this.digests=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.nonce=c.Long?c.Long.fromBits(0,0,!0):0,e.prototype.digests=c.emptyArray,e.prototype.msgType=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.nonce&&e.hasOwnProperty("nonce")&&t.uint32(8).uint64(e.nonce),null!=e.digests&&e.digests.length)for(var n=0;n<e.digests.length;++n)t.uint32(18).string(e.digests[n]);return null!=e.msgType&&e.hasOwnProperty("msgType")&&t.uint32(24).int32(e.msgType),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.gossip.DataDigest;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.nonce=e.uint64();break;case 2:r.digests&&r.digests.length||(r.digests=[]),r.digests.push(e.string());break;case 3:r.msgType=e.int32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.nonce&&e.hasOwnProperty("nonce")&&!(c.isInteger(e.nonce)||e.nonce&&c.isInteger(e.nonce.low)&&c.isInteger(e.nonce.high)))return"nonce: integer|Long expected";if(null!=e.digests&&e.hasOwnProperty("digests")){if(!Array.isArray(e.digests))return"digests: array expected";for(var t=0;t<e.digests.length;++t)if(!c.isString(e.digests[t]))return"digests: string[] expected"}if(null!=e.msgType&&e.hasOwnProperty("msgType"))switch(e.msgType){default:return"msgType: enum value expected";case 0:case 1:case 2:}return null},e.fromObject=function(e){if(e instanceof u.gossip.DataDigest)return e;var t=new u.gossip.DataDigest;if(null!=e.nonce&&(c.Long?(t.nonce=c.Long.fromValue(e.nonce)).unsigned=!0:"string"==typeof e.nonce?t.nonce=parseInt(e.nonce,10):"number"==typeof e.nonce?t.nonce=e.nonce:"object"===r(e.nonce)&&(t.nonce=new c.LongBits(e.nonce.low>>>0,e.nonce.high>>>0).toNumber(!0))),e.digests){if(!Array.isArray(e.digests))throw TypeError(".gossip.DataDigest.digests: array expected");t.digests=[];for(var n=0;n<e.digests.length;++n)t.digests[n]=String(e.digests[n])}switch(e.msgType){case"UNDEFINED":case 0:t.msgType=0;break;case"BLOCK_MSG":case 1:t.msgType=1;break;case"IDENTITY_MSG":case 2:t.msgType=2}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.digests=[]),t.defaults){if(c.Long){var r=new c.Long(0,0,!0);n.nonce=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.nonce=t.longs===String?"0":0;n.msgType=t.enums===String?"UNDEFINED":0}if(null!=e.nonce&&e.hasOwnProperty("nonce")&&("number"==typeof e.nonce?n.nonce=t.longs===String?String(e.nonce):e.nonce:n.nonce=t.longs===String?c.Long.prototype.toString.call(e.nonce):t.longs===Number?new c.LongBits(e.nonce.low>>>0,e.nonce.high>>>0).toNumber(!0):e.nonce),e.digests&&e.digests.length){n.digests=[];for(var i=0;i<e.digests.length;++i)n.digests[i]=e.digests[i]}return null!=e.msgType&&e.hasOwnProperty("msgType")&&(n.msgType=t.enums===String?u.gossip.PullMsgType[e.msgType]:e.msgType),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.DataMessage=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.payload=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.payload&&e.hasOwnProperty("payload")&&u.gossip.Payload.encode(e.payload,t.uint32(10).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.gossip.DataMessage;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.payload=u.gossip.Payload.decode(e,e.uint32());break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.payload&&e.hasOwnProperty("payload")){var t=u.gossip.Payload.verify(e.payload);if(t)return"payload."+t}return null},e.fromObject=function(e){if(e instanceof u.gossip.DataMessage)return e;var t=new u.gossip.DataMessage;if(null!=e.payload){if("object"!==r(e.payload))throw TypeError(".gossip.DataMessage.payload: object expected");t.payload=u.gossip.Payload.fromObject(e.payload)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.payload=null),null!=e.payload&&e.hasOwnProperty("payload")&&(n.payload=u.gossip.Payload.toObject(e.payload,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.PrivateDataMessage=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.payload=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.payload&&e.hasOwnProperty("payload")&&u.gossip.PrivatePayload.encode(e.payload,t.uint32(10).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.gossip.PrivateDataMessage;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.payload=u.gossip.PrivatePayload.decode(e,e.uint32());break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.payload&&e.hasOwnProperty("payload")){var t=u.gossip.PrivatePayload.verify(e.payload);if(t)return"payload."+t}return null},e.fromObject=function(e){if(e instanceof u.gossip.PrivateDataMessage)return e;var t=new u.gossip.PrivateDataMessage;if(null!=e.payload){if("object"!==r(e.payload))throw TypeError(".gossip.PrivateDataMessage.payload: object expected");t.payload=u.gossip.PrivatePayload.fromObject(e.payload)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.payload=null),null!=e.payload&&e.hasOwnProperty("payload")&&(n.payload=u.gossip.PrivatePayload.toObject(e.payload,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.Payload=function(){function e(e){if(this.privateData=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seqNum=c.Long?c.Long.fromBits(0,0,!0):0,e.prototype.data=c.newBuffer([]),e.prototype.privateData=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.seqNum&&e.hasOwnProperty("seqNum")&&t.uint32(8).uint64(e.seqNum),null!=e.data&&e.hasOwnProperty("data")&&t.uint32(18).bytes(e.data),null!=e.privateData&&e.privateData.length)for(var n=0;n<e.privateData.length;++n)t.uint32(26).bytes(e.privateData[n]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.gossip.Payload;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.seqNum=e.uint64();break;case 2:r.data=e.bytes();break;case 3:r.privateData&&r.privateData.length||(r.privateData=[]),r.privateData.push(e.bytes());break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.seqNum&&e.hasOwnProperty("seqNum")&&!(c.isInteger(e.seqNum)||e.seqNum&&c.isInteger(e.seqNum.low)&&c.isInteger(e.seqNum.high)))return"seqNum: integer|Long expected";if(null!=e.data&&e.hasOwnProperty("data")&&!(e.data&&"number"==typeof e.data.length||c.isString(e.data)))return"data: buffer expected";if(null!=e.privateData&&e.hasOwnProperty("privateData")){if(!Array.isArray(e.privateData))return"privateData: array expected";for(var t=0;t<e.privateData.length;++t)if(!(e.privateData[t]&&"number"==typeof e.privateData[t].length||c.isString(e.privateData[t])))return"privateData: buffer[] expected"}return null},e.fromObject=function(e){if(e instanceof u.gossip.Payload)return e;var t=new u.gossip.Payload;if(null!=e.seqNum&&(c.Long?(t.seqNum=c.Long.fromValue(e.seqNum)).unsigned=!0:"string"==typeof e.seqNum?t.seqNum=parseInt(e.seqNum,10):"number"==typeof e.seqNum?t.seqNum=e.seqNum:"object"===r(e.seqNum)&&(t.seqNum=new c.LongBits(e.seqNum.low>>>0,e.seqNum.high>>>0).toNumber(!0))),null!=e.data&&("string"==typeof e.data?c.base64.decode(e.data,t.data=c.newBuffer(c.base64.length(e.data)),0):e.data.length&&(t.data=e.data)),e.privateData){if(!Array.isArray(e.privateData))throw TypeError(".gossip.Payload.privateData: array expected");t.privateData=[];for(var n=0;n<e.privateData.length;++n)"string"==typeof e.privateData[n]?c.base64.decode(e.privateData[n],t.privateData[n]=c.newBuffer(c.base64.length(e.privateData[n])),0):e.privateData[n].length&&(t.privateData[n]=e.privateData[n])}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.privateData=[]),t.defaults){if(c.Long){var r=new c.Long(0,0,!0);n.seqNum=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.seqNum=t.longs===String?"0":0;n.data=t.bytes===String?"":[]}if(null!=e.seqNum&&e.hasOwnProperty("seqNum")&&("number"==typeof e.seqNum?n.seqNum=t.longs===String?String(e.seqNum):e.seqNum:n.seqNum=t.longs===String?c.Long.prototype.toString.call(e.seqNum):t.longs===Number?new c.LongBits(e.seqNum.low>>>0,e.seqNum.high>>>0).toNumber(!0):e.seqNum),null!=e.data&&e.hasOwnProperty("data")&&(n.data=t.bytes===String?c.base64.encode(e.data,0,e.data.length):t.bytes===Array?Array.prototype.slice.call(e.data):e.data),e.privateData&&e.privateData.length){n.privateData=[];for(var i=0;i<e.privateData.length;++i)n.privateData[i]=t.bytes===String?c.base64.encode(e.privateData[i],0,e.privateData[i].length):t.bytes===Array?Array.prototype.slice.call(e.privateData[i]):e.privateData[i]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.PrivatePayload=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.collectionName="",e.prototype.namespace="",e.prototype.txId="",e.prototype.privateRwset=c.newBuffer([]),e.prototype.privateSimHeight=c.Long?c.Long.fromBits(0,0,!0):0,e.prototype.collectionConfigs=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.collectionName&&e.hasOwnProperty("collectionName")&&t.uint32(10).string(e.collectionName),null!=e.namespace&&e.hasOwnProperty("namespace")&&t.uint32(18).string(e.namespace),null!=e.txId&&e.hasOwnProperty("txId")&&t.uint32(26).string(e.txId),null!=e.privateRwset&&e.hasOwnProperty("privateRwset")&&t.uint32(34).bytes(e.privateRwset),null!=e.privateSimHeight&&e.hasOwnProperty("privateSimHeight")&&t.uint32(40).uint64(e.privateSimHeight),null!=e.collectionConfigs&&e.hasOwnProperty("collectionConfigs")&&u.common.CollectionConfigPackage.encode(e.collectionConfigs,t.uint32(50).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.gossip.PrivatePayload;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.collectionName=e.string();break;case 2:r.namespace=e.string();break;case 3:r.txId=e.string();break;case 4:r.privateRwset=e.bytes();break;case 5:r.privateSimHeight=e.uint64();break;case 6:r.collectionConfigs=u.common.CollectionConfigPackage.decode(e,e.uint32());break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.collectionName&&e.hasOwnProperty("collectionName")&&!c.isString(e.collectionName))return"collectionName: string expected";if(null!=e.namespace&&e.hasOwnProperty("namespace")&&!c.isString(e.namespace))return"namespace: string expected";if(null!=e.txId&&e.hasOwnProperty("txId")&&!c.isString(e.txId))return"txId: string expected";if(null!=e.privateRwset&&e.hasOwnProperty("privateRwset")&&!(e.privateRwset&&"number"==typeof e.privateRwset.length||c.isString(e.privateRwset)))return"privateRwset: buffer expected";if(null!=e.privateSimHeight&&e.hasOwnProperty("privateSimHeight")&&!(c.isInteger(e.privateSimHeight)||e.privateSimHeight&&c.isInteger(e.privateSimHeight.low)&&c.isInteger(e.privateSimHeight.high)))return"privateSimHeight: integer|Long expected";if(null!=e.collectionConfigs&&e.hasOwnProperty("collectionConfigs")){var t=u.common.CollectionConfigPackage.verify(e.collectionConfigs);if(t)return"collectionConfigs."+t}return null},e.fromObject=function(e){if(e instanceof u.gossip.PrivatePayload)return e;var t=new u.gossip.PrivatePayload;if(null!=e.collectionName&&(t.collectionName=String(e.collectionName)),null!=e.namespace&&(t.namespace=String(e.namespace)),null!=e.txId&&(t.txId=String(e.txId)),null!=e.privateRwset&&("string"==typeof e.privateRwset?c.base64.decode(e.privateRwset,t.privateRwset=c.newBuffer(c.base64.length(e.privateRwset)),0):e.privateRwset.length&&(t.privateRwset=e.privateRwset)),null!=e.privateSimHeight&&(c.Long?(t.privateSimHeight=c.Long.fromValue(e.privateSimHeight)).unsigned=!0:"string"==typeof e.privateSimHeight?t.privateSimHeight=parseInt(e.privateSimHeight,10):"number"==typeof e.privateSimHeight?t.privateSimHeight=e.privateSimHeight:"object"===r(e.privateSimHeight)&&(t.privateSimHeight=new c.LongBits(e.privateSimHeight.low>>>0,e.privateSimHeight.high>>>0).toNumber(!0))),null!=e.collectionConfigs){if("object"!==r(e.collectionConfigs))throw TypeError(".gossip.PrivatePayload.collectionConfigs: object expected");t.collectionConfigs=u.common.CollectionConfigPackage.fromObject(e.collectionConfigs)}return t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(n.collectionName="",n.namespace="",n.txId="",n.privateRwset=t.bytes===String?"":[],c.Long){var r=new c.Long(0,0,!0);n.privateSimHeight=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.privateSimHeight=t.longs===String?"0":0;n.collectionConfigs=null}return null!=e.collectionName&&e.hasOwnProperty("collectionName")&&(n.collectionName=e.collectionName),null!=e.namespace&&e.hasOwnProperty("namespace")&&(n.namespace=e.namespace),null!=e.txId&&e.hasOwnProperty("txId")&&(n.txId=e.txId),null!=e.privateRwset&&e.hasOwnProperty("privateRwset")&&(n.privateRwset=t.bytes===String?c.base64.encode(e.privateRwset,0,e.privateRwset.length):t.bytes===Array?Array.prototype.slice.call(e.privateRwset):e.privateRwset),null!=e.privateSimHeight&&e.hasOwnProperty("privateSimHeight")&&("number"==typeof e.privateSimHeight?n.privateSimHeight=t.longs===String?String(e.privateSimHeight):e.privateSimHeight:n.privateSimHeight=t.longs===String?c.Long.prototype.toString.call(e.privateSimHeight):t.longs===Number?new c.LongBits(e.privateSimHeight.low>>>0,e.privateSimHeight.high>>>0).toNumber(!0):e.privateSimHeight),null!=e.collectionConfigs&&e.hasOwnProperty("collectionConfigs")&&(n.collectionConfigs=u.common.CollectionConfigPackage.toObject(e.collectionConfigs,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.AliveMessage=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.membership=null,e.prototype.timestamp=null,e.prototype.identity=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.membership&&e.hasOwnProperty("membership")&&u.gossip.Member.encode(e.membership,t.uint32(10).fork()).ldelim(),null!=e.timestamp&&e.hasOwnProperty("timestamp")&&u.gossip.PeerTime.encode(e.timestamp,t.uint32(18).fork()).ldelim(),null!=e.identity&&e.hasOwnProperty("identity")&&t.uint32(34).bytes(e.identity),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.gossip.AliveMessage;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.membership=u.gossip.Member.decode(e,e.uint32());break;case 2:r.timestamp=u.gossip.PeerTime.decode(e,e.uint32());break;case 4:r.identity=e.bytes();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.membership&&e.hasOwnProperty("membership")){var t=u.gossip.Member.verify(e.membership);if(t)return"membership."+t}if(null!=e.timestamp&&e.hasOwnProperty("timestamp")){var n=u.gossip.PeerTime.verify(e.timestamp);if(n)return"timestamp."+n}return null!=e.identity&&e.hasOwnProperty("identity")&&!(e.identity&&"number"==typeof e.identity.length||c.isString(e.identity))?"identity: buffer expected":null},e.fromObject=function(e){if(e instanceof u.gossip.AliveMessage)return e;var t=new u.gossip.AliveMessage;if(null!=e.membership){if("object"!==r(e.membership))throw TypeError(".gossip.AliveMessage.membership: object expected");t.membership=u.gossip.Member.fromObject(e.membership)}if(null!=e.timestamp){if("object"!==r(e.timestamp))throw TypeError(".gossip.AliveMessage.timestamp: object expected");t.timestamp=u.gossip.PeerTime.fromObject(e.timestamp)}return null!=e.identity&&("string"==typeof e.identity?c.base64.decode(e.identity,t.identity=c.newBuffer(c.base64.length(e.identity)),0):e.identity.length&&(t.identity=e.identity)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.membership=null,n.timestamp=null,n.identity=t.bytes===String?"":[]),null!=e.membership&&e.hasOwnProperty("membership")&&(n.membership=u.gossip.Member.toObject(e.membership,t)),null!=e.timestamp&&e.hasOwnProperty("timestamp")&&(n.timestamp=u.gossip.PeerTime.toObject(e.timestamp,t)),null!=e.identity&&e.hasOwnProperty("identity")&&(n.identity=t.bytes===String?c.base64.encode(e.identity,0,e.identity.length):t.bytes===Array?Array.prototype.slice.call(e.identity):e.identity),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.LeadershipMessage=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.pkiId=c.newBuffer([]),e.prototype.timestamp=null,e.prototype.isDeclaration=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.pkiId&&e.hasOwnProperty("pkiId")&&t.uint32(10).bytes(e.pkiId),null!=e.timestamp&&e.hasOwnProperty("timestamp")&&u.gossip.PeerTime.encode(e.timestamp,t.uint32(18).fork()).ldelim(),null!=e.isDeclaration&&e.hasOwnProperty("isDeclaration")&&t.uint32(24).bool(e.isDeclaration),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.gossip.LeadershipMessage;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.pkiId=e.bytes();break;case 2:r.timestamp=u.gossip.PeerTime.decode(e,e.uint32());break;case 3:r.isDeclaration=e.bool();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.pkiId&&e.hasOwnProperty("pkiId")&&!(e.pkiId&&"number"==typeof e.pkiId.length||c.isString(e.pkiId)))return"pkiId: buffer expected";if(null!=e.timestamp&&e.hasOwnProperty("timestamp")){var t=u.gossip.PeerTime.verify(e.timestamp);if(t)return"timestamp."+t}return null!=e.isDeclaration&&e.hasOwnProperty("isDeclaration")&&"boolean"!=typeof e.isDeclaration?"isDeclaration: boolean expected":null},e.fromObject=function(e){if(e instanceof u.gossip.LeadershipMessage)return e;var t=new u.gossip.LeadershipMessage;if(null!=e.pkiId&&("string"==typeof e.pkiId?c.base64.decode(e.pkiId,t.pkiId=c.newBuffer(c.base64.length(e.pkiId)),0):e.pkiId.length&&(t.pkiId=e.pkiId)),null!=e.timestamp){if("object"!==r(e.timestamp))throw TypeError(".gossip.LeadershipMessage.timestamp: object expected");t.timestamp=u.gossip.PeerTime.fromObject(e.timestamp)}return null!=e.isDeclaration&&(t.isDeclaration=Boolean(e.isDeclaration)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.pkiId=t.bytes===String?"":[],n.timestamp=null,n.isDeclaration=!1),null!=e.pkiId&&e.hasOwnProperty("pkiId")&&(n.pkiId=t.bytes===String?c.base64.encode(e.pkiId,0,e.pkiId.length):t.bytes===Array?Array.prototype.slice.call(e.pkiId):e.pkiId),null!=e.timestamp&&e.hasOwnProperty("timestamp")&&(n.timestamp=u.gossip.PeerTime.toObject(e.timestamp,t)),null!=e.isDeclaration&&e.hasOwnProperty("isDeclaration")&&(n.isDeclaration=e.isDeclaration),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.PeerTime=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.incNum=c.Long?c.Long.fromBits(0,0,!0):0,e.prototype.seqNum=c.Long?c.Long.fromBits(0,0,!0):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.incNum&&e.hasOwnProperty("incNum")&&t.uint32(8).uint64(e.incNum),null!=e.seqNum&&e.hasOwnProperty("seqNum")&&t.uint32(16).uint64(e.seqNum),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.gossip.PeerTime;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.incNum=e.uint64();break;case 2:r.seqNum=e.uint64();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.incNum&&e.hasOwnProperty("incNum")&&!(c.isInteger(e.incNum)||e.incNum&&c.isInteger(e.incNum.low)&&c.isInteger(e.incNum.high))?"incNum: integer|Long expected":null!=e.seqNum&&e.hasOwnProperty("seqNum")&&!(c.isInteger(e.seqNum)||e.seqNum&&c.isInteger(e.seqNum.low)&&c.isInteger(e.seqNum.high))?"seqNum: integer|Long expected":null},e.fromObject=function(e){if(e instanceof u.gossip.PeerTime)return e;var t=new u.gossip.PeerTime;return null!=e.incNum&&(c.Long?(t.incNum=c.Long.fromValue(e.incNum)).unsigned=!0:"string"==typeof e.incNum?t.incNum=parseInt(e.incNum,10):"number"==typeof e.incNum?t.incNum=e.incNum:"object"===r(e.incNum)&&(t.incNum=new c.LongBits(e.incNum.low>>>0,e.incNum.high>>>0).toNumber(!0))),null!=e.seqNum&&(c.Long?(t.seqNum=c.Long.fromValue(e.seqNum)).unsigned=!0:"string"==typeof e.seqNum?t.seqNum=parseInt(e.seqNum,10):"number"==typeof e.seqNum?t.seqNum=e.seqNum:"object"===r(e.seqNum)&&(t.seqNum=new c.LongBits(e.seqNum.low>>>0,e.seqNum.high>>>0).toNumber(!0))),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(c.Long){var r=new c.Long(0,0,!0);n.incNum=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.incNum=t.longs===String?"0":0;if(c.Long){var i=new c.Long(0,0,!0);n.seqNum=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.seqNum=t.longs===String?"0":0}return null!=e.incNum&&e.hasOwnProperty("incNum")&&("number"==typeof e.incNum?n.incNum=t.longs===String?String(e.incNum):e.incNum:n.incNum=t.longs===String?c.Long.prototype.toString.call(e.incNum):t.longs===Number?new c.LongBits(e.incNum.low>>>0,e.incNum.high>>>0).toNumber(!0):e.incNum),null!=e.seqNum&&e.hasOwnProperty("seqNum")&&("number"==typeof e.seqNum?n.seqNum=t.longs===String?String(e.seqNum):e.seqNum:n.seqNum=t.longs===String?c.Long.prototype.toString.call(e.seqNum):t.longs===Number?new c.LongBits(e.seqNum.low>>>0,e.seqNum.high>>>0).toNumber(!0):e.seqNum),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.MembershipRequest=function(){function e(e){if(this.known=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.selfInformation=null,e.prototype.known=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.selfInformation&&e.hasOwnProperty("selfInformation")&&u.gossip.Envelope.encode(e.selfInformation,t.uint32(10).fork()).ldelim(),null!=e.known&&e.known.length)for(var n=0;n<e.known.length;++n)t.uint32(18).bytes(e.known[n]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.gossip.MembershipRequest;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.selfInformation=u.gossip.Envelope.decode(e,e.uint32());break;case 2:r.known&&r.known.length||(r.known=[]),r.known.push(e.bytes());break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.selfInformation&&e.hasOwnProperty("selfInformation")){var t=u.gossip.Envelope.verify(e.selfInformation);if(t)return"selfInformation."+t}if(null!=e.known&&e.hasOwnProperty("known")){if(!Array.isArray(e.known))return"known: array expected";for(var n=0;n<e.known.length;++n)if(!(e.known[n]&&"number"==typeof e.known[n].length||c.isString(e.known[n])))return"known: buffer[] expected"}return null},e.fromObject=function(e){if(e instanceof u.gossip.MembershipRequest)return e;var t=new u.gossip.MembershipRequest;if(null!=e.selfInformation){if("object"!==r(e.selfInformation))throw TypeError(".gossip.MembershipRequest.selfInformation: object expected");t.selfInformation=u.gossip.Envelope.fromObject(e.selfInformation)}if(e.known){if(!Array.isArray(e.known))throw TypeError(".gossip.MembershipRequest.known: array expected");t.known=[];for(var n=0;n<e.known.length;++n)"string"==typeof e.known[n]?c.base64.decode(e.known[n],t.known[n]=c.newBuffer(c.base64.length(e.known[n])),0):e.known[n].length&&(t.known[n]=e.known[n])}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.known=[]),t.defaults&&(n.selfInformation=null),null!=e.selfInformation&&e.hasOwnProperty("selfInformation")&&(n.selfInformation=u.gossip.Envelope.toObject(e.selfInformation,t)),e.known&&e.known.length){n.known=[];for(var r=0;r<e.known.length;++r)n.known[r]=t.bytes===String?c.base64.encode(e.known[r],0,e.known[r].length):t.bytes===Array?Array.prototype.slice.call(e.known[r]):e.known[r]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.MembershipResponse=function(){function e(e){if(this.alive=[],this.dead=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.alive=c.emptyArray,e.prototype.dead=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.alive&&e.alive.length)for(var n=0;n<e.alive.length;++n)u.gossip.Envelope.encode(e.alive[n],t.uint32(10).fork()).ldelim();if(null!=e.dead&&e.dead.length)for(var r=0;r<e.dead.length;++r)u.gossip.Envelope.encode(e.dead[r],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.gossip.MembershipResponse;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.alive&&r.alive.length||(r.alive=[]),r.alive.push(u.gossip.Envelope.decode(e,e.uint32()));break;case 2:r.dead&&r.dead.length||(r.dead=[]),r.dead.push(u.gossip.Envelope.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.alive&&e.hasOwnProperty("alive")){if(!Array.isArray(e.alive))return"alive: array expected";for(var t=0;t<e.alive.length;++t){var n=u.gossip.Envelope.verify(e.alive[t]);if(n)return"alive."+n}}if(null!=e.dead&&e.hasOwnProperty("dead")){if(!Array.isArray(e.dead))return"dead: array expected";for(var i=0;i<e.dead.length;++i){var o=u.gossip.Envelope.verify(e.dead[i]);if(o)return"dead."+o}}return null},e.fromObject=function(e){if(e instanceof u.gossip.MembershipResponse)return e;var t=new u.gossip.MembershipResponse;if(e.alive){if(!Array.isArray(e.alive))throw TypeError(".gossip.MembershipResponse.alive: array expected");t.alive=[];for(var n=0;n<e.alive.length;++n){if("object"!==r(e.alive[n]))throw TypeError(".gossip.MembershipResponse.alive: object expected");t.alive[n]=u.gossip.Envelope.fromObject(e.alive[n])}}if(e.dead){if(!Array.isArray(e.dead))throw TypeError(".gossip.MembershipResponse.dead: array expected");t.dead=[];for(var i=0;i<e.dead.length;++i){if("object"!==r(e.dead[i]))throw TypeError(".gossip.MembershipResponse.dead: object expected");t.dead[i]=u.gossip.Envelope.fromObject(e.dead[i])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.alive=[],n.dead=[]),e.alive&&e.alive.length){n.alive=[];for(var r=0;r<e.alive.length;++r)n.alive[r]=u.gossip.Envelope.toObject(e.alive[r],t)}if(e.dead&&e.dead.length){n.dead=[];for(var i=0;i<e.dead.length;++i)n.dead[i]=u.gossip.Envelope.toObject(e.dead[i],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.Member=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.endpoint="",e.prototype.metadata=c.newBuffer([]),e.prototype.pkiId=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.endpoint&&e.hasOwnProperty("endpoint")&&t.uint32(10).string(e.endpoint),null!=e.metadata&&e.hasOwnProperty("metadata")&&t.uint32(18).bytes(e.metadata),null!=e.pkiId&&e.hasOwnProperty("pkiId")&&t.uint32(26).bytes(e.pkiId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.gossip.Member;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.endpoint=e.string();break;case 2:r.metadata=e.bytes();break;case 3:r.pkiId=e.bytes();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.endpoint&&e.hasOwnProperty("endpoint")&&!c.isString(e.endpoint)?"endpoint: string expected":null!=e.metadata&&e.hasOwnProperty("metadata")&&!(e.metadata&&"number"==typeof e.metadata.length||c.isString(e.metadata))?"metadata: buffer expected":null!=e.pkiId&&e.hasOwnProperty("pkiId")&&!(e.pkiId&&"number"==typeof e.pkiId.length||c.isString(e.pkiId))?"pkiId: buffer expected":null},e.fromObject=function(e){if(e instanceof u.gossip.Member)return e;var t=new u.gossip.Member;return null!=e.endpoint&&(t.endpoint=String(e.endpoint)),null!=e.metadata&&("string"==typeof e.metadata?c.base64.decode(e.metadata,t.metadata=c.newBuffer(c.base64.length(e.metadata)),0):e.metadata.length&&(t.metadata=e.metadata)),null!=e.pkiId&&("string"==typeof e.pkiId?c.base64.decode(e.pkiId,t.pkiId=c.newBuffer(c.base64.length(e.pkiId)),0):e.pkiId.length&&(t.pkiId=e.pkiId)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.endpoint="",n.metadata=t.bytes===String?"":[],n.pkiId=t.bytes===String?"":[]),null!=e.endpoint&&e.hasOwnProperty("endpoint")&&(n.endpoint=e.endpoint),null!=e.metadata&&e.hasOwnProperty("metadata")&&(n.metadata=t.bytes===String?c.base64.encode(e.metadata,0,e.metadata.length):t.bytes===Array?Array.prototype.slice.call(e.metadata):e.metadata),null!=e.pkiId&&e.hasOwnProperty("pkiId")&&(n.pkiId=t.bytes===String?c.base64.encode(e.pkiId,0,e.pkiId.length):t.bytes===Array?Array.prototype.slice.call(e.pkiId):e.pkiId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.Empty=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.gossip.Empty;e.pos<n;){var i=e.uint32();e.skipType(7&i)}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof u.gossip.Empty?e:new u.gossip.Empty},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.RemoteStateRequest=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.startSeqNum=c.Long?c.Long.fromBits(0,0,!0):0,e.prototype.endSeqNum=c.Long?c.Long.fromBits(0,0,!0):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.startSeqNum&&e.hasOwnProperty("startSeqNum")&&t.uint32(8).uint64(e.startSeqNum),null!=e.endSeqNum&&e.hasOwnProperty("endSeqNum")&&t.uint32(16).uint64(e.endSeqNum),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.gossip.RemoteStateRequest;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.startSeqNum=e.uint64();break;case 2:r.endSeqNum=e.uint64();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.startSeqNum&&e.hasOwnProperty("startSeqNum")&&!(c.isInteger(e.startSeqNum)||e.startSeqNum&&c.isInteger(e.startSeqNum.low)&&c.isInteger(e.startSeqNum.high))?"startSeqNum: integer|Long expected":null!=e.endSeqNum&&e.hasOwnProperty("endSeqNum")&&!(c.isInteger(e.endSeqNum)||e.endSeqNum&&c.isInteger(e.endSeqNum.low)&&c.isInteger(e.endSeqNum.high))?"endSeqNum: integer|Long expected":null},e.fromObject=function(e){if(e instanceof u.gossip.RemoteStateRequest)return e;var t=new u.gossip.RemoteStateRequest;return null!=e.startSeqNum&&(c.Long?(t.startSeqNum=c.Long.fromValue(e.startSeqNum)).unsigned=!0:"string"==typeof e.startSeqNum?t.startSeqNum=parseInt(e.startSeqNum,10):"number"==typeof e.startSeqNum?t.startSeqNum=e.startSeqNum:"object"===r(e.startSeqNum)&&(t.startSeqNum=new c.LongBits(e.startSeqNum.low>>>0,e.startSeqNum.high>>>0).toNumber(!0))),null!=e.endSeqNum&&(c.Long?(t.endSeqNum=c.Long.fromValue(e.endSeqNum)).unsigned=!0:"string"==typeof e.endSeqNum?t.endSeqNum=parseInt(e.endSeqNum,10):"number"==typeof e.endSeqNum?t.endSeqNum=e.endSeqNum:"object"===r(e.endSeqNum)&&(t.endSeqNum=new c.LongBits(e.endSeqNum.low>>>0,e.endSeqNum.high>>>0).toNumber(!0))),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(c.Long){var r=new c.Long(0,0,!0);n.startSeqNum=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.startSeqNum=t.longs===String?"0":0;if(c.Long){var i=new c.Long(0,0,!0);n.endSeqNum=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.endSeqNum=t.longs===String?"0":0}return null!=e.startSeqNum&&e.hasOwnProperty("startSeqNum")&&("number"==typeof e.startSeqNum?n.startSeqNum=t.longs===String?String(e.startSeqNum):e.startSeqNum:n.startSeqNum=t.longs===String?c.Long.prototype.toString.call(e.startSeqNum):t.longs===Number?new c.LongBits(e.startSeqNum.low>>>0,e.startSeqNum.high>>>0).toNumber(!0):e.startSeqNum),null!=e.endSeqNum&&e.hasOwnProperty("endSeqNum")&&("number"==typeof e.endSeqNum?n.endSeqNum=t.longs===String?String(e.endSeqNum):e.endSeqNum:n.endSeqNum=t.longs===String?c.Long.prototype.toString.call(e.endSeqNum):t.longs===Number?new c.LongBits(e.endSeqNum.low>>>0,e.endSeqNum.high>>>0).toNumber(!0):e.endSeqNum),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.RemoteStateResponse=function(){function e(e){if(this.payloads=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.payloads=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.payloads&&e.payloads.length)for(var n=0;n<e.payloads.length;++n)u.gossip.Payload.encode(e.payloads[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.gossip.RemoteStateResponse;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.payloads&&r.payloads.length||(r.payloads=[]),r.payloads.push(u.gossip.Payload.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.payloads&&e.hasOwnProperty("payloads")){if(!Array.isArray(e.payloads))return"payloads: array expected";for(var t=0;t<e.payloads.length;++t){var n=u.gossip.Payload.verify(e.payloads[t]);if(n)return"payloads."+n}}return null},e.fromObject=function(e){if(e instanceof u.gossip.RemoteStateResponse)return e;var t=new u.gossip.RemoteStateResponse;if(e.payloads){if(!Array.isArray(e.payloads))throw TypeError(".gossip.RemoteStateResponse.payloads: array expected");t.payloads=[];for(var n=0;n<e.payloads.length;++n){if("object"!==r(e.payloads[n]))throw TypeError(".gossip.RemoteStateResponse.payloads: object expected");t.payloads[n]=u.gossip.Payload.fromObject(e.payloads[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.payloads=[]),e.payloads&&e.payloads.length){n.payloads=[];for(var r=0;r<e.payloads.length;++r)n.payloads[r]=u.gossip.Payload.toObject(e.payloads[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.RemotePvtDataRequest=function(){function e(e){if(this.digests=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.digests=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.digests&&e.digests.length)for(var n=0;n<e.digests.length;++n)u.gossip.PvtDataDigest.encode(e.digests[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.gossip.RemotePvtDataRequest;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.digests&&r.digests.length||(r.digests=[]),r.digests.push(u.gossip.PvtDataDigest.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.digests&&e.hasOwnProperty("digests")){if(!Array.isArray(e.digests))return"digests: array expected";for(var t=0;t<e.digests.length;++t){var n=u.gossip.PvtDataDigest.verify(e.digests[t]);if(n)return"digests."+n}}return null},e.fromObject=function(e){if(e instanceof u.gossip.RemotePvtDataRequest)return e;var t=new u.gossip.RemotePvtDataRequest;if(e.digests){if(!Array.isArray(e.digests))throw TypeError(".gossip.RemotePvtDataRequest.digests: array expected");t.digests=[];for(var n=0;n<e.digests.length;++n){if("object"!==r(e.digests[n]))throw TypeError(".gossip.RemotePvtDataRequest.digests: object expected");t.digests[n]=u.gossip.PvtDataDigest.fromObject(e.digests[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.digests=[]),e.digests&&e.digests.length){n.digests=[];for(var r=0;r<e.digests.length;++r)n.digests[r]=u.gossip.PvtDataDigest.toObject(e.digests[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.PvtDataDigest=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.txId="",e.prototype.namespace="",e.prototype.collection="",e.prototype.blockSeq=c.Long?c.Long.fromBits(0,0,!0):0,e.prototype.seqInBlock=c.Long?c.Long.fromBits(0,0,!0):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.txId&&e.hasOwnProperty("txId")&&t.uint32(10).string(e.txId),null!=e.namespace&&e.hasOwnProperty("namespace")&&t.uint32(18).string(e.namespace),null!=e.collection&&e.hasOwnProperty("collection")&&t.uint32(26).string(e.collection),null!=e.blockSeq&&e.hasOwnProperty("blockSeq")&&t.uint32(32).uint64(e.blockSeq),null!=e.seqInBlock&&e.hasOwnProperty("seqInBlock")&&t.uint32(40).uint64(e.seqInBlock),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.gossip.PvtDataDigest;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.txId=e.string();break;case 2:r.namespace=e.string();break;case 3:r.collection=e.string();break;case 4:r.blockSeq=e.uint64();break;case 5:r.seqInBlock=e.uint64();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.txId&&e.hasOwnProperty("txId")&&!c.isString(e.txId)?"txId: string expected":null!=e.namespace&&e.hasOwnProperty("namespace")&&!c.isString(e.namespace)?"namespace: string expected":null!=e.collection&&e.hasOwnProperty("collection")&&!c.isString(e.collection)?"collection: string expected":null!=e.blockSeq&&e.hasOwnProperty("blockSeq")&&!(c.isInteger(e.blockSeq)||e.blockSeq&&c.isInteger(e.blockSeq.low)&&c.isInteger(e.blockSeq.high))?"blockSeq: integer|Long expected":null!=e.seqInBlock&&e.hasOwnProperty("seqInBlock")&&!(c.isInteger(e.seqInBlock)||e.seqInBlock&&c.isInteger(e.seqInBlock.low)&&c.isInteger(e.seqInBlock.high))?"seqInBlock: integer|Long expected":null},e.fromObject=function(e){if(e instanceof u.gossip.PvtDataDigest)return e;var t=new u.gossip.PvtDataDigest;return null!=e.txId&&(t.txId=String(e.txId)),null!=e.namespace&&(t.namespace=String(e.namespace)),null!=e.collection&&(t.collection=String(e.collection)),null!=e.blockSeq&&(c.Long?(t.blockSeq=c.Long.fromValue(e.blockSeq)).unsigned=!0:"string"==typeof e.blockSeq?t.blockSeq=parseInt(e.blockSeq,10):"number"==typeof e.blockSeq?t.blockSeq=e.blockSeq:"object"===r(e.blockSeq)&&(t.blockSeq=new c.LongBits(e.blockSeq.low>>>0,e.blockSeq.high>>>0).toNumber(!0))),null!=e.seqInBlock&&(c.Long?(t.seqInBlock=c.Long.fromValue(e.seqInBlock)).unsigned=!0:"string"==typeof e.seqInBlock?t.seqInBlock=parseInt(e.seqInBlock,10):"number"==typeof e.seqInBlock?t.seqInBlock=e.seqInBlock:"object"===r(e.seqInBlock)&&(t.seqInBlock=new c.LongBits(e.seqInBlock.low>>>0,e.seqInBlock.high>>>0).toNumber(!0))),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(n.txId="",n.namespace="",n.collection="",c.Long){var r=new c.Long(0,0,!0);n.blockSeq=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.blockSeq=t.longs===String?"0":0;if(c.Long){var i=new c.Long(0,0,!0);n.seqInBlock=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.seqInBlock=t.longs===String?"0":0}return null!=e.txId&&e.hasOwnProperty("txId")&&(n.txId=e.txId),null!=e.namespace&&e.hasOwnProperty("namespace")&&(n.namespace=e.namespace),null!=e.collection&&e.hasOwnProperty("collection")&&(n.collection=e.collection),null!=e.blockSeq&&e.hasOwnProperty("blockSeq")&&("number"==typeof e.blockSeq?n.blockSeq=t.longs===String?String(e.blockSeq):e.blockSeq:n.blockSeq=t.longs===String?c.Long.prototype.toString.call(e.blockSeq):t.longs===Number?new c.LongBits(e.blockSeq.low>>>0,e.blockSeq.high>>>0).toNumber(!0):e.blockSeq),null!=e.seqInBlock&&e.hasOwnProperty("seqInBlock")&&("number"==typeof e.seqInBlock?n.seqInBlock=t.longs===String?String(e.seqInBlock):e.seqInBlock:n.seqInBlock=t.longs===String?c.Long.prototype.toString.call(e.seqInBlock):t.longs===Number?new c.LongBits(e.seqInBlock.low>>>0,e.seqInBlock.high>>>0).toNumber(!0):e.seqInBlock),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.RemotePvtDataResponse=function(){function e(e){if(this.elements=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.elements=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.elements&&e.elements.length)for(var n=0;n<e.elements.length;++n)u.gossip.PvtDataElement.encode(e.elements[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.gossip.RemotePvtDataResponse;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.elements&&r.elements.length||(r.elements=[]),r.elements.push(u.gossip.PvtDataElement.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.elements&&e.hasOwnProperty("elements")){if(!Array.isArray(e.elements))return"elements: array expected";for(var t=0;t<e.elements.length;++t){var n=u.gossip.PvtDataElement.verify(e.elements[t]);if(n)return"elements."+n}}return null},e.fromObject=function(e){if(e instanceof u.gossip.RemotePvtDataResponse)return e;var t=new u.gossip.RemotePvtDataResponse;if(e.elements){if(!Array.isArray(e.elements))throw TypeError(".gossip.RemotePvtDataResponse.elements: array expected");t.elements=[];for(var n=0;n<e.elements.length;++n){if("object"!==r(e.elements[n]))throw TypeError(".gossip.RemotePvtDataResponse.elements: object expected");t.elements[n]=u.gossip.PvtDataElement.fromObject(e.elements[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.elements=[]),e.elements&&e.elements.length){n.elements=[];for(var r=0;r<e.elements.length;++r)n.elements[r]=u.gossip.PvtDataElement.toObject(e.elements[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.PvtDataElement=function(){function e(e){if(this.payload=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.digest=null,e.prototype.payload=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.digest&&e.hasOwnProperty("digest")&&u.gossip.PvtDataDigest.encode(e.digest,t.uint32(10).fork()).ldelim(),null!=e.payload&&e.payload.length)for(var n=0;n<e.payload.length;++n)t.uint32(18).bytes(e.payload[n]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.gossip.PvtDataElement;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.digest=u.gossip.PvtDataDigest.decode(e,e.uint32());break;case 2:r.payload&&r.payload.length||(r.payload=[]),r.payload.push(e.bytes());break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.digest&&e.hasOwnProperty("digest")){var t=u.gossip.PvtDataDigest.verify(e.digest);if(t)return"digest."+t}if(null!=e.payload&&e.hasOwnProperty("payload")){if(!Array.isArray(e.payload))return"payload: array expected";for(var n=0;n<e.payload.length;++n)if(!(e.payload[n]&&"number"==typeof e.payload[n].length||c.isString(e.payload[n])))return"payload: buffer[] expected"}return null},e.fromObject=function(e){if(e instanceof u.gossip.PvtDataElement)return e;var t=new u.gossip.PvtDataElement;if(null!=e.digest){if("object"!==r(e.digest))throw TypeError(".gossip.PvtDataElement.digest: object expected");t.digest=u.gossip.PvtDataDigest.fromObject(e.digest)}if(e.payload){if(!Array.isArray(e.payload))throw TypeError(".gossip.PvtDataElement.payload: array expected");t.payload=[];for(var n=0;n<e.payload.length;++n)"string"==typeof e.payload[n]?c.base64.decode(e.payload[n],t.payload[n]=c.newBuffer(c.base64.length(e.payload[n])),0):e.payload[n].length&&(t.payload[n]=e.payload[n])}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.payload=[]),t.defaults&&(n.digest=null),null!=e.digest&&e.hasOwnProperty("digest")&&(n.digest=u.gossip.PvtDataDigest.toObject(e.digest,t)),e.payload&&e.payload.length){n.payload=[];for(var r=0;r<e.payload.length;++r)n.payload[r]=t.bytes===String?c.base64.encode(e.payload[r],0,e.payload[r].length):t.bytes===Array?Array.prototype.slice.call(e.payload[r]):e.payload[r]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.PvtDataPayload=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.txSeqInBlock=c.Long?c.Long.fromBits(0,0,!0):0,e.prototype.payload=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.txSeqInBlock&&e.hasOwnProperty("txSeqInBlock")&&t.uint32(8).uint64(e.txSeqInBlock),null!=e.payload&&e.hasOwnProperty("payload")&&t.uint32(18).bytes(e.payload),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.gossip.PvtDataPayload;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.txSeqInBlock=e.uint64();break;case 2:r.payload=e.bytes();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.txSeqInBlock&&e.hasOwnProperty("txSeqInBlock")&&!(c.isInteger(e.txSeqInBlock)||e.txSeqInBlock&&c.isInteger(e.txSeqInBlock.low)&&c.isInteger(e.txSeqInBlock.high))?"txSeqInBlock: integer|Long expected":null!=e.payload&&e.hasOwnProperty("payload")&&!(e.payload&&"number"==typeof e.payload.length||c.isString(e.payload))?"payload: buffer expected":null},e.fromObject=function(e){if(e instanceof u.gossip.PvtDataPayload)return e;var t=new u.gossip.PvtDataPayload;return null!=e.txSeqInBlock&&(c.Long?(t.txSeqInBlock=c.Long.fromValue(e.txSeqInBlock)).unsigned=!0:"string"==typeof e.txSeqInBlock?t.txSeqInBlock=parseInt(e.txSeqInBlock,10):"number"==typeof e.txSeqInBlock?t.txSeqInBlock=e.txSeqInBlock:"object"===r(e.txSeqInBlock)&&(t.txSeqInBlock=new c.LongBits(e.txSeqInBlock.low>>>0,e.txSeqInBlock.high>>>0).toNumber(!0))),null!=e.payload&&("string"==typeof e.payload?c.base64.decode(e.payload,t.payload=c.newBuffer(c.base64.length(e.payload)),0):e.payload.length&&(t.payload=e.payload)),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(c.Long){var r=new c.Long(0,0,!0);n.txSeqInBlock=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.txSeqInBlock=t.longs===String?"0":0;n.payload=t.bytes===String?"":[]}return null!=e.txSeqInBlock&&e.hasOwnProperty("txSeqInBlock")&&("number"==typeof e.txSeqInBlock?n.txSeqInBlock=t.longs===String?String(e.txSeqInBlock):e.txSeqInBlock:n.txSeqInBlock=t.longs===String?c.Long.prototype.toString.call(e.txSeqInBlock):t.longs===Number?new c.LongBits(e.txSeqInBlock.low>>>0,e.txSeqInBlock.high>>>0).toNumber(!0):e.txSeqInBlock),null!=e.payload&&e.hasOwnProperty("payload")&&(n.payload=t.bytes===String?c.base64.encode(e.payload,0,e.payload.length):t.bytes===Array?Array.prototype.slice.call(e.payload):e.payload),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.Acknowledgement=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.error="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.error&&e.hasOwnProperty("error")&&t.uint32(10).string(e.error),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.gossip.Acknowledgement;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.error=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.error&&e.hasOwnProperty("error")&&!c.isString(e.error)?"error: string expected":null},e.fromObject=function(e){if(e instanceof u.gossip.Acknowledgement)return e;var t=new u.gossip.Acknowledgement;return null!=e.error&&(t.error=String(e.error)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.error=""),null!=e.error&&e.hasOwnProperty("error")&&(n.error=e.error),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.Chaincode=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.version="",e.prototype.metadata=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.name&&e.hasOwnProperty("name")&&t.uint32(10).string(e.name),null!=e.version&&e.hasOwnProperty("version")&&t.uint32(18).string(e.version),null!=e.metadata&&e.hasOwnProperty("metadata")&&t.uint32(26).bytes(e.metadata),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.gossip.Chaincode;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.name=e.string();break;case 2:r.version=e.string();break;case 3:r.metadata=e.bytes();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.name&&e.hasOwnProperty("name")&&!c.isString(e.name)?"name: string expected":null!=e.version&&e.hasOwnProperty("version")&&!c.isString(e.version)?"version: string expected":null!=e.metadata&&e.hasOwnProperty("metadata")&&!(e.metadata&&"number"==typeof e.metadata.length||c.isString(e.metadata))?"metadata: buffer expected":null},e.fromObject=function(e){if(e instanceof u.gossip.Chaincode)return e;var t=new u.gossip.Chaincode;return null!=e.name&&(t.name=String(e.name)),null!=e.version&&(t.version=String(e.version)),null!=e.metadata&&("string"==typeof e.metadata?c.base64.decode(e.metadata,t.metadata=c.newBuffer(c.base64.length(e.metadata)),0):e.metadata.length&&(t.metadata=e.metadata)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.name="",n.version="",n.metadata=t.bytes===String?"":[]),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.version&&e.hasOwnProperty("version")&&(n.version=e.version),null!=e.metadata&&e.hasOwnProperty("metadata")&&(n.metadata=t.bytes===String?c.base64.encode(e.metadata,0,e.metadata.length):t.bytes===Array?Array.prototype.slice.call(e.metadata):e.metadata),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e}(),t.common=u.common=function(){var e={};return e.CollectionConfigPackage=function(){function e(e){if(this.config=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.config=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.config&&e.config.length)for(var n=0;n<e.config.length;++n)u.common.CollectionConfig.encode(e.config[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.common.CollectionConfigPackage;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.config&&r.config.length||(r.config=[]),r.config.push(u.common.CollectionConfig.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.config&&e.hasOwnProperty("config")){if(!Array.isArray(e.config))return"config: array expected";for(var t=0;t<e.config.length;++t){var n=u.common.CollectionConfig.verify(e.config[t]);if(n)return"config."+n}}return null},e.fromObject=function(e){if(e instanceof u.common.CollectionConfigPackage)return e;var t=new u.common.CollectionConfigPackage;if(e.config){if(!Array.isArray(e.config))throw TypeError(".common.CollectionConfigPackage.config: array expected");t.config=[];for(var n=0;n<e.config.length;++n){if("object"!==r(e.config[n]))throw TypeError(".common.CollectionConfigPackage.config: object expected");t.config[n]=u.common.CollectionConfig.fromObject(e.config[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.config=[]),e.config&&e.config.length){n.config=[];for(var r=0;r<e.config.length;++r)n.config[r]=u.common.CollectionConfig.toObject(e.config[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.CollectionConfig=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}e.prototype.staticCollectionConfig=null;var t=void 0;return Object.defineProperty(e.prototype,"payload",{get:c.oneOfGetter(t=["staticCollectionConfig"]),set:c.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.staticCollectionConfig&&e.hasOwnProperty("staticCollectionConfig")&&u.common.StaticCollectionConfig.encode(e.staticCollectionConfig,t.uint32(10).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.common.CollectionConfig;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.staticCollectionConfig=u.common.StaticCollectionConfig.decode(e,e.uint32());break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";var t={};if(null!=e.staticCollectionConfig&&e.hasOwnProperty("staticCollectionConfig")){t.payload=1;var n=u.common.StaticCollectionConfig.verify(e.staticCollectionConfig);if(n)return"staticCollectionConfig."+n}return null},e.fromObject=function(e){if(e instanceof u.common.CollectionConfig)return e;var t=new u.common.CollectionConfig;if(null!=e.staticCollectionConfig){if("object"!==r(e.staticCollectionConfig))throw TypeError(".common.CollectionConfig.staticCollectionConfig: object expected");t.staticCollectionConfig=u.common.StaticCollectionConfig.fromObject(e.staticCollectionConfig)}return t},e.toObject=function(e,t){t||(t={});var n={};return null!=e.staticCollectionConfig&&e.hasOwnProperty("staticCollectionConfig")&&(n.staticCollectionConfig=u.common.StaticCollectionConfig.toObject(e.staticCollectionConfig,t),t.oneofs&&(n.payload="staticCollectionConfig")),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.StaticCollectionConfig=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.memberOrgsPolicy=null,e.prototype.requiredPeerCount=0,e.prototype.maximumPeerCount=0,e.prototype.blockToLive=c.Long?c.Long.fromBits(0,0,!0):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.name&&e.hasOwnProperty("name")&&t.uint32(10).string(e.name),null!=e.memberOrgsPolicy&&e.hasOwnProperty("memberOrgsPolicy")&&u.common.CollectionPolicyConfig.encode(e.memberOrgsPolicy,t.uint32(18).fork()).ldelim(),null!=e.requiredPeerCount&&e.hasOwnProperty("requiredPeerCount")&&t.uint32(24).int32(e.requiredPeerCount),null!=e.maximumPeerCount&&e.hasOwnProperty("maximumPeerCount")&&t.uint32(32).int32(e.maximumPeerCount),null!=e.blockToLive&&e.hasOwnProperty("blockToLive")&&t.uint32(40).uint64(e.blockToLive),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.common.StaticCollectionConfig;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.name=e.string();break;case 2:r.memberOrgsPolicy=u.common.CollectionPolicyConfig.decode(e,e.uint32());break;case 3:r.requiredPeerCount=e.int32();break;case 4:r.maximumPeerCount=e.int32();break;case 5:r.blockToLive=e.uint64();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!c.isString(e.name))return"name: string expected";if(null!=e.memberOrgsPolicy&&e.hasOwnProperty("memberOrgsPolicy")){var t=u.common.CollectionPolicyConfig.verify(e.memberOrgsPolicy);if(t)return"memberOrgsPolicy."+t}return null!=e.requiredPeerCount&&e.hasOwnProperty("requiredPeerCount")&&!c.isInteger(e.requiredPeerCount)?"requiredPeerCount: integer expected":null!=e.maximumPeerCount&&e.hasOwnProperty("maximumPeerCount")&&!c.isInteger(e.maximumPeerCount)?"maximumPeerCount: integer expected":null!=e.blockToLive&&e.hasOwnProperty("blockToLive")&&!(c.isInteger(e.blockToLive)||e.blockToLive&&c.isInteger(e.blockToLive.low)&&c.isInteger(e.blockToLive.high))?"blockToLive: integer|Long expected":null},e.fromObject=function(e){if(e instanceof u.common.StaticCollectionConfig)return e;var t=new u.common.StaticCollectionConfig;if(null!=e.name&&(t.name=String(e.name)),null!=e.memberOrgsPolicy){if("object"!==r(e.memberOrgsPolicy))throw TypeError(".common.StaticCollectionConfig.memberOrgsPolicy: object expected");t.memberOrgsPolicy=u.common.CollectionPolicyConfig.fromObject(e.memberOrgsPolicy)}return null!=e.requiredPeerCount&&(t.requiredPeerCount=0|e.requiredPeerCount),null!=e.maximumPeerCount&&(t.maximumPeerCount=0|e.maximumPeerCount),null!=e.blockToLive&&(c.Long?(t.blockToLive=c.Long.fromValue(e.blockToLive)).unsigned=!0:"string"==typeof e.blockToLive?t.blockToLive=parseInt(e.blockToLive,10):"number"==typeof e.blockToLive?t.blockToLive=e.blockToLive:"object"===r(e.blockToLive)&&(t.blockToLive=new c.LongBits(e.blockToLive.low>>>0,e.blockToLive.high>>>0).toNumber(!0))),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults)if(n.name="",n.memberOrgsPolicy=null,n.requiredPeerCount=0,n.maximumPeerCount=0,c.Long){var r=new c.Long(0,0,!0);n.blockToLive=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.blockToLive=t.longs===String?"0":0;return null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.memberOrgsPolicy&&e.hasOwnProperty("memberOrgsPolicy")&&(n.memberOrgsPolicy=u.common.CollectionPolicyConfig.toObject(e.memberOrgsPolicy,t)),null!=e.requiredPeerCount&&e.hasOwnProperty("requiredPeerCount")&&(n.requiredPeerCount=e.requiredPeerCount),null!=e.maximumPeerCount&&e.hasOwnProperty("maximumPeerCount")&&(n.maximumPeerCount=e.maximumPeerCount),null!=e.blockToLive&&e.hasOwnProperty("blockToLive")&&("number"==typeof e.blockToLive?n.blockToLive=t.longs===String?String(e.blockToLive):e.blockToLive:n.blockToLive=t.longs===String?c.Long.prototype.toString.call(e.blockToLive):t.longs===Number?new c.LongBits(e.blockToLive.low>>>0,e.blockToLive.high>>>0).toNumber(!0):e.blockToLive),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.CollectionPolicyConfig=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}e.prototype.signaturePolicy=null;var t=void 0;return Object.defineProperty(e.prototype,"payload",{get:c.oneOfGetter(t=["signaturePolicy"]),set:c.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.signaturePolicy&&e.hasOwnProperty("signaturePolicy")&&u.common.SignaturePolicyEnvelope.encode(e.signaturePolicy,t.uint32(10).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.common.CollectionPolicyConfig;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.signaturePolicy=u.common.SignaturePolicyEnvelope.decode(e,e.uint32());break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";var t={};if(null!=e.signaturePolicy&&e.hasOwnProperty("signaturePolicy")){t.payload=1;var n=u.common.SignaturePolicyEnvelope.verify(e.signaturePolicy);if(n)return"signaturePolicy."+n}return null},e.fromObject=function(e){if(e instanceof u.common.CollectionPolicyConfig)return e;var t=new u.common.CollectionPolicyConfig;if(null!=e.signaturePolicy){if("object"!==r(e.signaturePolicy))throw TypeError(".common.CollectionPolicyConfig.signaturePolicy: object expected");t.signaturePolicy=u.common.SignaturePolicyEnvelope.fromObject(e.signaturePolicy)}return t},e.toObject=function(e,t){t||(t={});var n={};return null!=e.signaturePolicy&&e.hasOwnProperty("signaturePolicy")&&(n.signaturePolicy=u.common.SignaturePolicyEnvelope.toObject(e.signaturePolicy,t),t.oneofs&&(n.payload="signaturePolicy")),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.CollectionCriteria=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.channel="",e.prototype.txId="",e.prototype.collection="",e.prototype.namespace="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.channel&&e.hasOwnProperty("channel")&&t.uint32(10).string(e.channel),null!=e.txId&&e.hasOwnProperty("txId")&&t.uint32(18).string(e.txId),null!=e.collection&&e.hasOwnProperty("collection")&&t.uint32(26).string(e.collection),null!=e.namespace&&e.hasOwnProperty("namespace")&&t.uint32(34).string(e.namespace),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.common.CollectionCriteria;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.channel=e.string();break;case 2:r.txId=e.string();break;case 3:r.collection=e.string();break;case 4:r.namespace=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.channel&&e.hasOwnProperty("channel")&&!c.isString(e.channel)?"channel: string expected":null!=e.txId&&e.hasOwnProperty("txId")&&!c.isString(e.txId)?"txId: string expected":null!=e.collection&&e.hasOwnProperty("collection")&&!c.isString(e.collection)?"collection: string expected":null!=e.namespace&&e.hasOwnProperty("namespace")&&!c.isString(e.namespace)?"namespace: string expected":null},e.fromObject=function(e){if(e instanceof u.common.CollectionCriteria)return e;var t=new u.common.CollectionCriteria;return null!=e.channel&&(t.channel=String(e.channel)),null!=e.txId&&(t.txId=String(e.txId)),null!=e.collection&&(t.collection=String(e.collection)),null!=e.namespace&&(t.namespace=String(e.namespace)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.channel="",n.txId="",n.collection="",n.namespace=""),null!=e.channel&&e.hasOwnProperty("channel")&&(n.channel=e.channel),null!=e.txId&&e.hasOwnProperty("txId")&&(n.txId=e.txId),null!=e.collection&&e.hasOwnProperty("collection")&&(n.collection=e.collection),null!=e.namespace&&e.hasOwnProperty("namespace")&&(n.namespace=e.namespace),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.Policy=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.value=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.type&&e.hasOwnProperty("type")&&t.uint32(8).int32(e.type),null!=e.value&&e.hasOwnProperty("value")&&t.uint32(18).bytes(e.value),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.common.Policy;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.type=e.int32();break;case 2:r.value=e.bytes();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.type&&e.hasOwnProperty("type")&&!c.isInteger(e.type)?"type: integer expected":null!=e.value&&e.hasOwnProperty("value")&&!(e.value&&"number"==typeof e.value.length||c.isString(e.value))?"value: buffer expected":null},e.fromObject=function(e){if(e instanceof u.common.Policy)return e;var t=new u.common.Policy;return null!=e.type&&(t.type=0|e.type),null!=e.value&&("string"==typeof e.value?c.base64.decode(e.value,t.value=c.newBuffer(c.base64.length(e.value)),0):e.value.length&&(t.value=e.value)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.type=0,n.value=t.bytes===String?"":[]),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.value&&e.hasOwnProperty("value")&&(n.value=t.bytes===String?c.base64.encode(e.value,0,e.value.length):t.bytes===Array?Array.prototype.slice.call(e.value):e.value),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.PolicyType=function(){var e={},t=Object.create(e);return t[e[0]="UNKNOWN"]=0,t[e[1]="SIGNATURE"]=1,t[e[2]="MSP"]=2,t[e[3]="IMPLICIT_META"]=3,t}(),e}(),e.SignaturePolicyEnvelope=function(){function e(e){if(this.identities=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.version=0,e.prototype.rule=null,e.prototype.identities=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.version&&e.hasOwnProperty("version")&&t.uint32(8).int32(e.version),null!=e.rule&&e.hasOwnProperty("rule")&&u.common.SignaturePolicy.encode(e.rule,t.uint32(18).fork()).ldelim(),null!=e.identities&&e.identities.length)for(var n=0;n<e.identities.length;++n)u.common.MSPPrincipal.encode(e.identities[n],t.uint32(26).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.common.SignaturePolicyEnvelope;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.version=e.int32();break;case 2:r.rule=u.common.SignaturePolicy.decode(e,e.uint32());break;case 3:r.identities&&r.identities.length||(r.identities=[]),r.identities.push(u.common.MSPPrincipal.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.version&&e.hasOwnProperty("version")&&!c.isInteger(e.version))return"version: integer expected";if(null!=e.rule&&e.hasOwnProperty("rule")){var t=u.common.SignaturePolicy.verify(e.rule);if(t)return"rule."+t}if(null!=e.identities&&e.hasOwnProperty("identities")){if(!Array.isArray(e.identities))return"identities: array expected";for(var n=0;n<e.identities.length;++n){var i=u.common.MSPPrincipal.verify(e.identities[n]);if(i)return"identities."+i}}return null},e.fromObject=function(e){if(e instanceof u.common.SignaturePolicyEnvelope)return e;var t=new u.common.SignaturePolicyEnvelope;if(null!=e.version&&(t.version=0|e.version),null!=e.rule){if("object"!==r(e.rule))throw TypeError(".common.SignaturePolicyEnvelope.rule: object expected");t.rule=u.common.SignaturePolicy.fromObject(e.rule)}if(e.identities){if(!Array.isArray(e.identities))throw TypeError(".common.SignaturePolicyEnvelope.identities: array expected");t.identities=[];for(var n=0;n<e.identities.length;++n){if("object"!==r(e.identities[n]))throw TypeError(".common.SignaturePolicyEnvelope.identities: object expected");t.identities[n]=u.common.MSPPrincipal.fromObject(e.identities[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.identities=[]),t.defaults&&(n.version=0,n.rule=null),null!=e.version&&e.hasOwnProperty("version")&&(n.version=e.version),null!=e.rule&&e.hasOwnProperty("rule")&&(n.rule=u.common.SignaturePolicy.toObject(e.rule,t)),e.identities&&e.identities.length){n.identities=[];for(var r=0;r<e.identities.length;++r)n.identities[r]=u.common.MSPPrincipal.toObject(e.identities[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.SignaturePolicy=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}e.prototype.signedBy=0,e.prototype.nOutOf=null;var t=void 0;return Object.defineProperty(e.prototype,"Type",{get:c.oneOfGetter(t=["signedBy","nOutOf"]),set:c.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.signedBy&&e.hasOwnProperty("signedBy")&&t.uint32(8).int32(e.signedBy),null!=e.nOutOf&&e.hasOwnProperty("nOutOf")&&u.common.SignaturePolicy.NOutOf.encode(e.nOutOf,t.uint32(18).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.common.SignaturePolicy;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.signedBy=e.int32();break;case 2:r.nOutOf=u.common.SignaturePolicy.NOutOf.decode(e,e.uint32());break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";var t={};if(null!=e.signedBy&&e.hasOwnProperty("signedBy")&&(t.Type=1,!c.isInteger(e.signedBy)))return"signedBy: integer expected";if(null!=e.nOutOf&&e.hasOwnProperty("nOutOf")){if(1===t.Type)return"Type: multiple values";t.Type=1;var n=u.common.SignaturePolicy.NOutOf.verify(e.nOutOf);if(n)return"nOutOf."+n}return null},e.fromObject=function(e){if(e instanceof u.common.SignaturePolicy)return e;var t=new u.common.SignaturePolicy;if(null!=e.signedBy&&(t.signedBy=0|e.signedBy),null!=e.nOutOf){if("object"!==r(e.nOutOf))throw TypeError(".common.SignaturePolicy.nOutOf: object expected");t.nOutOf=u.common.SignaturePolicy.NOutOf.fromObject(e.nOutOf)}return t},e.toObject=function(e,t){t||(t={});var n={};return null!=e.signedBy&&e.hasOwnProperty("signedBy")&&(n.signedBy=e.signedBy,t.oneofs&&(n.Type="signedBy")),null!=e.nOutOf&&e.hasOwnProperty("nOutOf")&&(n.nOutOf=u.common.SignaturePolicy.NOutOf.toObject(e.nOutOf,t),t.oneofs&&(n.Type="nOutOf")),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.NOutOf=function(){function e(e){if(this.rules=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.n=0,e.prototype.rules=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.n&&e.hasOwnProperty("n")&&t.uint32(8).int32(e.n),null!=e.rules&&e.rules.length)for(var n=0;n<e.rules.length;++n)u.common.SignaturePolicy.encode(e.rules[n],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.common.SignaturePolicy.NOutOf;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.n=e.int32();break;case 2:r.rules&&r.rules.length||(r.rules=[]),r.rules.push(u.common.SignaturePolicy.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.n&&e.hasOwnProperty("n")&&!c.isInteger(e.n))return"n: integer expected";if(null!=e.rules&&e.hasOwnProperty("rules")){if(!Array.isArray(e.rules))return"rules: array expected";for(var t=0;t<e.rules.length;++t){var n=u.common.SignaturePolicy.verify(e.rules[t]);if(n)return"rules."+n}}return null},e.fromObject=function(e){if(e instanceof u.common.SignaturePolicy.NOutOf)return e;var t=new u.common.SignaturePolicy.NOutOf;if(null!=e.n&&(t.n=0|e.n),e.rules){if(!Array.isArray(e.rules))throw TypeError(".common.SignaturePolicy.NOutOf.rules: array expected");t.rules=[];for(var n=0;n<e.rules.length;++n){if("object"!==r(e.rules[n]))throw TypeError(".common.SignaturePolicy.NOutOf.rules: object expected");t.rules[n]=u.common.SignaturePolicy.fromObject(e.rules[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.rules=[]),t.defaults&&(n.n=0),null!=e.n&&e.hasOwnProperty("n")&&(n.n=e.n),e.rules&&e.rules.length){n.rules=[];for(var r=0;r<e.rules.length;++r)n.rules[r]=u.common.SignaturePolicy.toObject(e.rules[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e}(),e.ImplicitMetaPolicy=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.subPolicy="",e.prototype.rule=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.subPolicy&&e.hasOwnProperty("subPolicy")&&t.uint32(10).string(e.subPolicy),null!=e.rule&&e.hasOwnProperty("rule")&&t.uint32(16).int32(e.rule),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.common.ImplicitMetaPolicy;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.subPolicy=e.string();break;case 2:r.rule=e.int32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.subPolicy&&e.hasOwnProperty("subPolicy")&&!c.isString(e.subPolicy))return"subPolicy: string expected";if(null!=e.rule&&e.hasOwnProperty("rule"))switch(e.rule){default:return"rule: enum value expected";case 0:case 1:case 2:}return null},e.fromObject=function(e){if(e instanceof u.common.ImplicitMetaPolicy)return e;var t=new u.common.ImplicitMetaPolicy;switch(null!=e.subPolicy&&(t.subPolicy=String(e.subPolicy)),e.rule){case"ANY":case 0:t.rule=0;break;case"ALL":case 1:t.rule=1;break;case"MAJORITY":case 2:t.rule=2}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.subPolicy="",n.rule=t.enums===String?"ANY":0),null!=e.subPolicy&&e.hasOwnProperty("subPolicy")&&(n.subPolicy=e.subPolicy),null!=e.rule&&e.hasOwnProperty("rule")&&(n.rule=t.enums===String?u.common.ImplicitMetaPolicy.Rule[e.rule]:e.rule),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.Rule=function(){var e={},t=Object.create(e);return t[e[0]="ANY"]=0,t[e[1]="ALL"]=1,t[e[2]="MAJORITY"]=2,t}(),e}(),e.MSPPrincipal=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.principalClassification=0,e.prototype.principal=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.principalClassification&&e.hasOwnProperty("principalClassification")&&t.uint32(8).int32(e.principalClassification),null!=e.principal&&e.hasOwnProperty("principal")&&t.uint32(18).bytes(e.principal),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.common.MSPPrincipal;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.principalClassification=e.int32();break;case 2:r.principal=e.bytes();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.principalClassification&&e.hasOwnProperty("principalClassification"))switch(e.principalClassification){default:return"principalClassification: enum value expected";case 0:case 1:case 2:case 3:case 4:}return null!=e.principal&&e.hasOwnProperty("principal")&&!(e.principal&&"number"==typeof e.principal.length||c.isString(e.principal))?"principal: buffer expected":null},e.fromObject=function(e){if(e instanceof u.common.MSPPrincipal)return e;var t=new u.common.MSPPrincipal;switch(e.principalClassification){case"ROLE":case 0:t.principalClassification=0;break;case"ORGANIZATION_UNIT":case 1:t.principalClassification=1;break;case"IDENTITY":case 2:t.principalClassification=2;break;case"ANONYMITY":case 3:t.principalClassification=3;break;case"COMBINED":case 4:t.principalClassification=4}return null!=e.principal&&("string"==typeof e.principal?c.base64.decode(e.principal,t.principal=c.newBuffer(c.base64.length(e.principal)),0):e.principal.length&&(t.principal=e.principal)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.principalClassification=t.enums===String?"ROLE":0,n.principal=t.bytes===String?"":[]),null!=e.principalClassification&&e.hasOwnProperty("principalClassification")&&(n.principalClassification=t.enums===String?u.common.MSPPrincipal.Classification[e.principalClassification]:e.principalClassification),null!=e.principal&&e.hasOwnProperty("principal")&&(n.principal=t.bytes===String?c.base64.encode(e.principal,0,e.principal.length):t.bytes===Array?Array.prototype.slice.call(e.principal):e.principal),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.Classification=function(){var e={},t=Object.create(e);return t[e[0]="ROLE"]=0,t[e[1]="ORGANIZATION_UNIT"]=1,t[e[2]="IDENTITY"]=2,t[e[3]="ANONYMITY"]=3,t[e[4]="COMBINED"]=4,t}(),e}(),e.OrganizationUnit=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.mspIdentifier="",e.prototype.organizationalUnitIdentifier="",e.prototype.certifiersIdentifier=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.mspIdentifier&&e.hasOwnProperty("mspIdentifier")&&t.uint32(10).string(e.mspIdentifier),null!=e.organizationalUnitIdentifier&&e.hasOwnProperty("organizationalUnitIdentifier")&&t.uint32(18).string(e.organizationalUnitIdentifier),null!=e.certifiersIdentifier&&e.hasOwnProperty("certifiersIdentifier")&&t.uint32(26).bytes(e.certifiersIdentifier),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.common.OrganizationUnit;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.mspIdentifier=e.string();break;case 2:r.organizationalUnitIdentifier=e.string();break;case 3:r.certifiersIdentifier=e.bytes();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.mspIdentifier&&e.hasOwnProperty("mspIdentifier")&&!c.isString(e.mspIdentifier)?"mspIdentifier: string expected":null!=e.organizationalUnitIdentifier&&e.hasOwnProperty("organizationalUnitIdentifier")&&!c.isString(e.organizationalUnitIdentifier)?"organizationalUnitIdentifier: string expected":null!=e.certifiersIdentifier&&e.hasOwnProperty("certifiersIdentifier")&&!(e.certifiersIdentifier&&"number"==typeof e.certifiersIdentifier.length||c.isString(e.certifiersIdentifier))?"certifiersIdentifier: buffer expected":null},e.fromObject=function(e){if(e instanceof u.common.OrganizationUnit)return e;var t=new u.common.OrganizationUnit;return null!=e.mspIdentifier&&(t.mspIdentifier=String(e.mspIdentifier)),null!=e.organizationalUnitIdentifier&&(t.organizationalUnitIdentifier=String(e.organizationalUnitIdentifier)),null!=e.certifiersIdentifier&&("string"==typeof e.certifiersIdentifier?c.base64.decode(e.certifiersIdentifier,t.certifiersIdentifier=c.newBuffer(c.base64.length(e.certifiersIdentifier)),0):e.certifiersIdentifier.length&&(t.certifiersIdentifier=e.certifiersIdentifier)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.mspIdentifier="",n.organizationalUnitIdentifier="",n.certifiersIdentifier=t.bytes===String?"":[]),null!=e.mspIdentifier&&e.hasOwnProperty("mspIdentifier")&&(n.mspIdentifier=e.mspIdentifier),null!=e.organizationalUnitIdentifier&&e.hasOwnProperty("organizationalUnitIdentifier")&&(n.organizationalUnitIdentifier=e.organizationalUnitIdentifier),null!=e.certifiersIdentifier&&e.hasOwnProperty("certifiersIdentifier")&&(n.certifiersIdentifier=t.bytes===String?c.base64.encode(e.certifiersIdentifier,0,e.certifiersIdentifier.length):t.bytes===Array?Array.prototype.slice.call(e.certifiersIdentifier):e.certifiersIdentifier),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.MSPRole=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.mspIdentifier="",e.prototype.role=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.mspIdentifier&&e.hasOwnProperty("mspIdentifier")&&t.uint32(10).string(e.mspIdentifier),null!=e.role&&e.hasOwnProperty("role")&&t.uint32(16).int32(e.role),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.common.MSPRole;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.mspIdentifier=e.string();break;case 2:r.role=e.int32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.mspIdentifier&&e.hasOwnProperty("mspIdentifier")&&!c.isString(e.mspIdentifier))return"mspIdentifier: string expected";if(null!=e.role&&e.hasOwnProperty("role"))switch(e.role){default:return"role: enum value expected";case 0:case 1:case 2:case 3:}return null},e.fromObject=function(e){if(e instanceof u.common.MSPRole)return e;var t=new u.common.MSPRole;switch(null!=e.mspIdentifier&&(t.mspIdentifier=String(e.mspIdentifier)),e.role){case"MEMBER":case 0:t.role=0;break;case"ADMIN":case 1:t.role=1;break;case"CLIENT":case 2:t.role=2;break;case"PEER":case 3:t.role=3}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.mspIdentifier="",n.role=t.enums===String?"MEMBER":0),null!=e.mspIdentifier&&e.hasOwnProperty("mspIdentifier")&&(n.mspIdentifier=e.mspIdentifier),null!=e.role&&e.hasOwnProperty("role")&&(n.role=t.enums===String?u.common.MSPRole.MSPRoleType[e.role]:e.role),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.MSPRoleType=function(){var e={},t=Object.create(e);return t[e[0]="MEMBER"]=0,t[e[1]="ADMIN"]=1,t[e[2]="CLIENT"]=2,t[e[3]="PEER"]=3,t}(),e}(),e.MSPIdentityAnonymity=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.anonymityType=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.anonymityType&&e.hasOwnProperty("anonymityType")&&t.uint32(8).int32(e.anonymityType),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.common.MSPIdentityAnonymity;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.anonymityType=e.int32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.anonymityType&&e.hasOwnProperty("anonymityType"))switch(e.anonymityType){default:return"anonymityType: enum value expected";case 0:case 1:}return null},e.fromObject=function(e){if(e instanceof u.common.MSPIdentityAnonymity)return e;var t=new u.common.MSPIdentityAnonymity;switch(e.anonymityType){case"NOMINAL":case 0:t.anonymityType=0;break;case"ANONYMOUS":case 1:t.anonymityType=1}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.anonymityType=t.enums===String?"NOMINAL":0),null!=e.anonymityType&&e.hasOwnProperty("anonymityType")&&(n.anonymityType=t.enums===String?u.common.MSPIdentityAnonymity.MSPIdentityAnonymityType[e.anonymityType]:e.anonymityType),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.MSPIdentityAnonymityType=function(){var e={},t=Object.create(e);return t[e[0]="NOMINAL"]=0,t[e[1]="ANONYMOUS"]=1,t}(),e}(),e.CombinedPrincipal=function(){function e(e){if(this.principals=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.principals=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.principals&&e.principals.length)for(var n=0;n<e.principals.length;++n)u.common.MSPPrincipal.encode(e.principals[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.common.CombinedPrincipal;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.principals&&r.principals.length||(r.principals=[]),r.principals.push(u.common.MSPPrincipal.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.principals&&e.hasOwnProperty("principals")){if(!Array.isArray(e.principals))return"principals: array expected";for(var t=0;t<e.principals.length;++t){var n=u.common.MSPPrincipal.verify(e.principals[t]);if(n)return"principals."+n}}return null},e.fromObject=function(e){if(e instanceof u.common.CombinedPrincipal)return e;var t=new u.common.CombinedPrincipal;if(e.principals){if(!Array.isArray(e.principals))throw TypeError(".common.CombinedPrincipal.principals: array expected");t.principals=[];for(var n=0;n<e.principals.length;++n){if("object"!==r(e.principals[n]))throw TypeError(".common.CombinedPrincipal.principals: object expected");t.principals[n]=u.common.MSPPrincipal.fromObject(e.principals[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.principals=[]),e.principals&&e.principals.length){n.principals=[];for(var r=0;r<e.principals.length;++r)n.principals[r]=u.common.MSPPrincipal.toObject(e.principals[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.Status=function(){var e={},t=Object.create(e);return t[e[0]="UNKNOWN"]=0,t[e[200]="SUCCESS"]=200,t[e[400]="BAD_REQUEST"]=400,t[e[403]="FORBIDDEN"]=403,t[e[404]="NOT_FOUND"]=404,t[e[413]="REQUEST_ENTITY_TOO_LARGE"]=413,t[e[500]="INTERNAL_SERVER_ERROR"]=500,t[e[501]="NOT_IMPLEMENTED"]=501,t[e[503]="SERVICE_UNAVAILABLE"]=503,t}(),e.HeaderType=function(){var e={},t=Object.create(e);return t[e[0]="MESSAGE"]=0,t[e[1]="CONFIG"]=1,t[e[2]="CONFIG_UPDATE"]=2,t[e[3]="ENDORSER_TRANSACTION"]=3,t[e[4]="ORDERER_TRANSACTION"]=4,t[e[5]="DELIVER_SEEK_INFO"]=5,t[e[6]="CHAINCODE_PACKAGE"]=6,t[e[8]="PEER_ADMIN_OPERATION"]=8,t}(),e.BlockMetadataIndex=function(){var e={},t=Object.create(e);return t[e[0]="SIGNATURES"]=0,t[e[1]="LAST_CONFIG"]=1,t[e[2]="TRANSACTIONS_FILTER"]=2,t[e[3]="ORDERER"]=3,t}(),e.LastConfig=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.index=c.Long?c.Long.fromBits(0,0,!0):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.index&&e.hasOwnProperty("index")&&t.uint32(8).uint64(e.index),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.common.LastConfig;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.index=e.uint64();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.index&&e.hasOwnProperty("index")&&!(c.isInteger(e.index)||e.index&&c.isInteger(e.index.low)&&c.isInteger(e.index.high))?"index: integer|Long expected":null},e.fromObject=function(e){if(e instanceof u.common.LastConfig)return e;var t=new u.common.LastConfig;return null!=e.index&&(c.Long?(t.index=c.Long.fromValue(e.index)).unsigned=!0:"string"==typeof e.index?t.index=parseInt(e.index,10):"number"==typeof e.index?t.index=e.index:"object"===r(e.index)&&(t.index=new c.LongBits(e.index.low>>>0,e.index.high>>>0).toNumber(!0))),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults)if(c.Long){var r=new c.Long(0,0,!0);n.index=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.index=t.longs===String?"0":0;return null!=e.index&&e.hasOwnProperty("index")&&("number"==typeof e.index?n.index=t.longs===String?String(e.index):e.index:n.index=t.longs===String?c.Long.prototype.toString.call(e.index):t.longs===Number?new c.LongBits(e.index.low>>>0,e.index.high>>>0).toNumber(!0):e.index),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.Metadata=function(){function e(e){if(this.signatures=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.value=c.newBuffer([]),e.prototype.signatures=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.value&&e.hasOwnProperty("value")&&t.uint32(10).bytes(e.value),null!=e.signatures&&e.signatures.length)for(var n=0;n<e.signatures.length;++n)u.common.MetadataSignature.encode(e.signatures[n],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.common.Metadata;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.value=e.bytes();break;case 2:r.signatures&&r.signatures.length||(r.signatures=[]),r.signatures.push(u.common.MetadataSignature.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.value&&e.hasOwnProperty("value")&&!(e.value&&"number"==typeof e.value.length||c.isString(e.value)))return"value: buffer expected";if(null!=e.signatures&&e.hasOwnProperty("signatures")){if(!Array.isArray(e.signatures))return"signatures: array expected";for(var t=0;t<e.signatures.length;++t){var n=u.common.MetadataSignature.verify(e.signatures[t]);if(n)return"signatures."+n}}return null},e.fromObject=function(e){if(e instanceof u.common.Metadata)return e;var t=new u.common.Metadata;if(null!=e.value&&("string"==typeof e.value?c.base64.decode(e.value,t.value=c.newBuffer(c.base64.length(e.value)),0):e.value.length&&(t.value=e.value)),e.signatures){if(!Array.isArray(e.signatures))throw TypeError(".common.Metadata.signatures: array expected");t.signatures=[];for(var n=0;n<e.signatures.length;++n){if("object"!==r(e.signatures[n]))throw TypeError(".common.Metadata.signatures: object expected");t.signatures[n]=u.common.MetadataSignature.fromObject(e.signatures[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.signatures=[]),t.defaults&&(n.value=t.bytes===String?"":[]),null!=e.value&&e.hasOwnProperty("value")&&(n.value=t.bytes===String?c.base64.encode(e.value,0,e.value.length):t.bytes===Array?Array.prototype.slice.call(e.value):e.value),e.signatures&&e.signatures.length){n.signatures=[];for(var r=0;r<e.signatures.length;++r)n.signatures[r]=u.common.MetadataSignature.toObject(e.signatures[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.MetadataSignature=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.signatureHeader=c.newBuffer([]),e.prototype.signature=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.signatureHeader&&e.hasOwnProperty("signatureHeader")&&t.uint32(10).bytes(e.signatureHeader),null!=e.signature&&e.hasOwnProperty("signature")&&t.uint32(18).bytes(e.signature),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.common.MetadataSignature;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.signatureHeader=e.bytes();break;case 2:r.signature=e.bytes();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.signatureHeader&&e.hasOwnProperty("signatureHeader")&&!(e.signatureHeader&&"number"==typeof e.signatureHeader.length||c.isString(e.signatureHeader))?"signatureHeader: buffer expected":null!=e.signature&&e.hasOwnProperty("signature")&&!(e.signature&&"number"==typeof e.signature.length||c.isString(e.signature))?"signature: buffer expected":null},e.fromObject=function(e){if(e instanceof u.common.MetadataSignature)return e;var t=new u.common.MetadataSignature;return null!=e.signatureHeader&&("string"==typeof e.signatureHeader?c.base64.decode(e.signatureHeader,t.signatureHeader=c.newBuffer(c.base64.length(e.signatureHeader)),0):e.signatureHeader.length&&(t.signatureHeader=e.signatureHeader)),null!=e.signature&&("string"==typeof e.signature?c.base64.decode(e.signature,t.signature=c.newBuffer(c.base64.length(e.signature)),0):e.signature.length&&(t.signature=e.signature)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.signatureHeader=t.bytes===String?"":[],n.signature=t.bytes===String?"":[]),null!=e.signatureHeader&&e.hasOwnProperty("signatureHeader")&&(n.signatureHeader=t.bytes===String?c.base64.encode(e.signatureHeader,0,e.signatureHeader.length):t.bytes===Array?Array.prototype.slice.call(e.signatureHeader):e.signatureHeader),null!=e.signature&&e.hasOwnProperty("signature")&&(n.signature=t.bytes===String?c.base64.encode(e.signature,0,e.signature.length):t.bytes===Array?Array.prototype.slice.call(e.signature):e.signature),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.Header=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.channelHeader=c.newBuffer([]),e.prototype.signatureHeader=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.channelHeader&&e.hasOwnProperty("channelHeader")&&t.uint32(10).bytes(e.channelHeader),null!=e.signatureHeader&&e.hasOwnProperty("signatureHeader")&&t.uint32(18).bytes(e.signatureHeader),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.common.Header;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.channelHeader=e.bytes();break;case 2:r.signatureHeader=e.bytes();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.channelHeader&&e.hasOwnProperty("channelHeader")&&!(e.channelHeader&&"number"==typeof e.channelHeader.length||c.isString(e.channelHeader))?"channelHeader: buffer expected":null!=e.signatureHeader&&e.hasOwnProperty("signatureHeader")&&!(e.signatureHeader&&"number"==typeof e.signatureHeader.length||c.isString(e.signatureHeader))?"signatureHeader: buffer expected":null},e.fromObject=function(e){if(e instanceof u.common.Header)return e;var t=new u.common.Header;return null!=e.channelHeader&&("string"==typeof e.channelHeader?c.base64.decode(e.channelHeader,t.channelHeader=c.newBuffer(c.base64.length(e.channelHeader)),0):e.channelHeader.length&&(t.channelHeader=e.channelHeader)),null!=e.signatureHeader&&("string"==typeof e.signatureHeader?c.base64.decode(e.signatureHeader,t.signatureHeader=c.newBuffer(c.base64.length(e.signatureHeader)),0):e.signatureHeader.length&&(t.signatureHeader=e.signatureHeader)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.channelHeader=t.bytes===String?"":[],n.signatureHeader=t.bytes===String?"":[]),null!=e.channelHeader&&e.hasOwnProperty("channelHeader")&&(n.channelHeader=t.bytes===String?c.base64.encode(e.channelHeader,0,e.channelHeader.length):t.bytes===Array?Array.prototype.slice.call(e.channelHeader):e.channelHeader),null!=e.signatureHeader&&e.hasOwnProperty("signatureHeader")&&(n.signatureHeader=t.bytes===String?c.base64.encode(e.signatureHeader,0,e.signatureHeader.length):t.bytes===Array?Array.prototype.slice.call(e.signatureHeader):e.signatureHeader),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.ChannelHeader=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.version=0,e.prototype.timestamp=null,e.prototype.channelId="",e.prototype.txId="",e.prototype.epoch=c.Long?c.Long.fromBits(0,0,!0):0,e.prototype.extension=c.newBuffer([]),e.prototype.tlsCertHash=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.type&&e.hasOwnProperty("type")&&t.uint32(8).int32(e.type),null!=e.version&&e.hasOwnProperty("version")&&t.uint32(16).int32(e.version),null!=e.timestamp&&e.hasOwnProperty("timestamp")&&u.google.protobuf.Timestamp.encode(e.timestamp,t.uint32(26).fork()).ldelim(),null!=e.channelId&&e.hasOwnProperty("channelId")&&t.uint32(34).string(e.channelId),null!=e.txId&&e.hasOwnProperty("txId")&&t.uint32(42).string(e.txId),null!=e.epoch&&e.hasOwnProperty("epoch")&&t.uint32(48).uint64(e.epoch),null!=e.extension&&e.hasOwnProperty("extension")&&t.uint32(58).bytes(e.extension),null!=e.tlsCertHash&&e.hasOwnProperty("tlsCertHash")&&t.uint32(66).bytes(e.tlsCertHash),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.common.ChannelHeader;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.type=e.int32();break;case 2:r.version=e.int32();break;case 3:r.timestamp=u.google.protobuf.Timestamp.decode(e,e.uint32());break;case 4:r.channelId=e.string();break;case 5:r.txId=e.string();break;case 6:r.epoch=e.uint64();break;case 7:r.extension=e.bytes();break;case 8:r.tlsCertHash=e.bytes();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type")&&!c.isInteger(e.type))return"type: integer expected";if(null!=e.version&&e.hasOwnProperty("version")&&!c.isInteger(e.version))return"version: integer expected";if(null!=e.timestamp&&e.hasOwnProperty("timestamp")){var t=u.google.protobuf.Timestamp.verify(e.timestamp);if(t)return"timestamp."+t}return null!=e.channelId&&e.hasOwnProperty("channelId")&&!c.isString(e.channelId)?"channelId: string expected":null!=e.txId&&e.hasOwnProperty("txId")&&!c.isString(e.txId)?"txId: string expected":null!=e.epoch&&e.hasOwnProperty("epoch")&&!(c.isInteger(e.epoch)||e.epoch&&c.isInteger(e.epoch.low)&&c.isInteger(e.epoch.high))?"epoch: integer|Long expected":null!=e.extension&&e.hasOwnProperty("extension")&&!(e.extension&&"number"==typeof e.extension.length||c.isString(e.extension))?"extension: buffer expected":null!=e.tlsCertHash&&e.hasOwnProperty("tlsCertHash")&&!(e.tlsCertHash&&"number"==typeof e.tlsCertHash.length||c.isString(e.tlsCertHash))?"tlsCertHash: buffer expected":null},e.fromObject=function(e){if(e instanceof u.common.ChannelHeader)return e;var t=new u.common.ChannelHeader;if(null!=e.type&&(t.type=0|e.type),null!=e.version&&(t.version=0|e.version),null!=e.timestamp){if("object"!==r(e.timestamp))throw TypeError(".common.ChannelHeader.timestamp: object expected");t.timestamp=u.google.protobuf.Timestamp.fromObject(e.timestamp)}return null!=e.channelId&&(t.channelId=String(e.channelId)),null!=e.txId&&(t.txId=String(e.txId)),null!=e.epoch&&(c.Long?(t.epoch=c.Long.fromValue(e.epoch)).unsigned=!0:"string"==typeof e.epoch?t.epoch=parseInt(e.epoch,10):"number"==typeof e.epoch?t.epoch=e.epoch:"object"===r(e.epoch)&&(t.epoch=new c.LongBits(e.epoch.low>>>0,e.epoch.high>>>0).toNumber(!0))),null!=e.extension&&("string"==typeof e.extension?c.base64.decode(e.extension,t.extension=c.newBuffer(c.base64.length(e.extension)),0):e.extension.length&&(t.extension=e.extension)),null!=e.tlsCertHash&&("string"==typeof e.tlsCertHash?c.base64.decode(e.tlsCertHash,t.tlsCertHash=c.newBuffer(c.base64.length(e.tlsCertHash)),0):e.tlsCertHash.length&&(t.tlsCertHash=e.tlsCertHash)),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(n.type=0,n.version=0,n.timestamp=null,n.channelId="",n.txId="",c.Long){var r=new c.Long(0,0,!0);n.epoch=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.epoch=t.longs===String?"0":0;n.extension=t.bytes===String?"":[],n.tlsCertHash=t.bytes===String?"":[]}return null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.version&&e.hasOwnProperty("version")&&(n.version=e.version),null!=e.timestamp&&e.hasOwnProperty("timestamp")&&(n.timestamp=u.google.protobuf.Timestamp.toObject(e.timestamp,t)),null!=e.channelId&&e.hasOwnProperty("channelId")&&(n.channelId=e.channelId),null!=e.txId&&e.hasOwnProperty("txId")&&(n.txId=e.txId),null!=e.epoch&&e.hasOwnProperty("epoch")&&("number"==typeof e.epoch?n.epoch=t.longs===String?String(e.epoch):e.epoch:n.epoch=t.longs===String?c.Long.prototype.toString.call(e.epoch):t.longs===Number?new c.LongBits(e.epoch.low>>>0,e.epoch.high>>>0).toNumber(!0):e.epoch),null!=e.extension&&e.hasOwnProperty("extension")&&(n.extension=t.bytes===String?c.base64.encode(e.extension,0,e.extension.length):t.bytes===Array?Array.prototype.slice.call(e.extension):e.extension),null!=e.tlsCertHash&&e.hasOwnProperty("tlsCertHash")&&(n.tlsCertHash=t.bytes===String?c.base64.encode(e.tlsCertHash,0,e.tlsCertHash.length):t.bytes===Array?Array.prototype.slice.call(e.tlsCertHash):e.tlsCertHash),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.SignatureHeader=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.creator=c.newBuffer([]),e.prototype.nonce=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.creator&&e.hasOwnProperty("creator")&&t.uint32(10).bytes(e.creator),null!=e.nonce&&e.hasOwnProperty("nonce")&&t.uint32(18).bytes(e.nonce),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.common.SignatureHeader;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.creator=e.bytes();break;case 2:r.nonce=e.bytes();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.creator&&e.hasOwnProperty("creator")&&!(e.creator&&"number"==typeof e.creator.length||c.isString(e.creator))?"creator: buffer expected":null!=e.nonce&&e.hasOwnProperty("nonce")&&!(e.nonce&&"number"==typeof e.nonce.length||c.isString(e.nonce))?"nonce: buffer expected":null},e.fromObject=function(e){if(e instanceof u.common.SignatureHeader)return e;var t=new u.common.SignatureHeader;return null!=e.creator&&("string"==typeof e.creator?c.base64.decode(e.creator,t.creator=c.newBuffer(c.base64.length(e.creator)),0):e.creator.length&&(t.creator=e.creator)),null!=e.nonce&&("string"==typeof e.nonce?c.base64.decode(e.nonce,t.nonce=c.newBuffer(c.base64.length(e.nonce)),0):e.nonce.length&&(t.nonce=e.nonce)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.creator=t.bytes===String?"":[],n.nonce=t.bytes===String?"":[]),null!=e.creator&&e.hasOwnProperty("creator")&&(n.creator=t.bytes===String?c.base64.encode(e.creator,0,e.creator.length):t.bytes===Array?Array.prototype.slice.call(e.creator):e.creator),null!=e.nonce&&e.hasOwnProperty("nonce")&&(n.nonce=t.bytes===String?c.base64.encode(e.nonce,0,e.nonce.length):t.bytes===Array?Array.prototype.slice.call(e.nonce):e.nonce),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.Payload=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.header=null,e.prototype.data=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.header&&e.hasOwnProperty("header")&&u.common.Header.encode(e.header,t.uint32(10).fork()).ldelim(),null!=e.data&&e.hasOwnProperty("data")&&t.uint32(18).bytes(e.data),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.common.Payload;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.header=u.common.Header.decode(e,e.uint32());break;case 2:r.data=e.bytes();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.header&&e.hasOwnProperty("header")){var t=u.common.Header.verify(e.header);if(t)return"header."+t}return null!=e.data&&e.hasOwnProperty("data")&&!(e.data&&"number"==typeof e.data.length||c.isString(e.data))?"data: buffer expected":null},e.fromObject=function(e){if(e instanceof u.common.Payload)return e;var t=new u.common.Payload;if(null!=e.header){if("object"!==r(e.header))throw TypeError(".common.Payload.header: object expected");t.header=u.common.Header.fromObject(e.header)}return null!=e.data&&("string"==typeof e.data?c.base64.decode(e.data,t.data=c.newBuffer(c.base64.length(e.data)),0):e.data.length&&(t.data=e.data)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.header=null,n.data=t.bytes===String?"":[]),null!=e.header&&e.hasOwnProperty("header")&&(n.header=u.common.Header.toObject(e.header,t)),null!=e.data&&e.hasOwnProperty("data")&&(n.data=t.bytes===String?c.base64.encode(e.data,0,e.data.length):t.bytes===Array?Array.prototype.slice.call(e.data):e.data),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.Envelope=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.payload=c.newBuffer([]),e.prototype.signature=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.payload&&e.hasOwnProperty("payload")&&t.uint32(10).bytes(e.payload),null!=e.signature&&e.hasOwnProperty("signature")&&t.uint32(18).bytes(e.signature),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.common.Envelope;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.payload=e.bytes();break;case 2:r.signature=e.bytes();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.payload&&e.hasOwnProperty("payload")&&!(e.payload&&"number"==typeof e.payload.length||c.isString(e.payload))?"payload: buffer expected":null!=e.signature&&e.hasOwnProperty("signature")&&!(e.signature&&"number"==typeof e.signature.length||c.isString(e.signature))?"signature: buffer expected":null},e.fromObject=function(e){if(e instanceof u.common.Envelope)return e;var t=new u.common.Envelope;return null!=e.payload&&("string"==typeof e.payload?c.base64.decode(e.payload,t.payload=c.newBuffer(c.base64.length(e.payload)),0):e.payload.length&&(t.payload=e.payload)),null!=e.signature&&("string"==typeof e.signature?c.base64.decode(e.signature,t.signature=c.newBuffer(c.base64.length(e.signature)),0):e.signature.length&&(t.signature=e.signature)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.payload=t.bytes===String?"":[],n.signature=t.bytes===String?"":[]),null!=e.payload&&e.hasOwnProperty("payload")&&(n.payload=t.bytes===String?c.base64.encode(e.payload,0,e.payload.length):t.bytes===Array?Array.prototype.slice.call(e.payload):e.payload),null!=e.signature&&e.hasOwnProperty("signature")&&(n.signature=t.bytes===String?c.base64.encode(e.signature,0,e.signature.length):t.bytes===Array?Array.prototype.slice.call(e.signature):e.signature),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.Block=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.header=null,e.prototype.data=null,e.prototype.metadata=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.header&&e.hasOwnProperty("header")&&u.common.BlockHeader.encode(e.header,t.uint32(10).fork()).ldelim(),null!=e.data&&e.hasOwnProperty("data")&&u.common.BlockData.encode(e.data,t.uint32(18).fork()).ldelim(),null!=e.metadata&&e.hasOwnProperty("metadata")&&u.common.BlockMetadata.encode(e.metadata,t.uint32(26).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.common.Block;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.header=u.common.BlockHeader.decode(e,e.uint32());break;case 2:r.data=u.common.BlockData.decode(e,e.uint32());break;case 3:r.metadata=u.common.BlockMetadata.decode(e,e.uint32());break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.header&&e.hasOwnProperty("header")){var t=u.common.BlockHeader.verify(e.header);if(t)return"header."+t}if(null!=e.data&&e.hasOwnProperty("data")){var n=u.common.BlockData.verify(e.data);if(n)return"data."+n}if(null!=e.metadata&&e.hasOwnProperty("metadata")){var i=u.common.BlockMetadata.verify(e.metadata);if(i)return"metadata."+i}return null},e.fromObject=function(e){if(e instanceof u.common.Block)return e;var t=new u.common.Block;if(null!=e.header){if("object"!==r(e.header))throw TypeError(".common.Block.header: object expected");t.header=u.common.BlockHeader.fromObject(e.header)}if(null!=e.data){if("object"!==r(e.data))throw TypeError(".common.Block.data: object expected");t.data=u.common.BlockData.fromObject(e.data)}if(null!=e.metadata){if("object"!==r(e.metadata))throw TypeError(".common.Block.metadata: object expected");t.metadata=u.common.BlockMetadata.fromObject(e.metadata)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.header=null,n.data=null,n.metadata=null),null!=e.header&&e.hasOwnProperty("header")&&(n.header=u.common.BlockHeader.toObject(e.header,t)),null!=e.data&&e.hasOwnProperty("data")&&(n.data=u.common.BlockData.toObject(e.data,t)),null!=e.metadata&&e.hasOwnProperty("metadata")&&(n.metadata=u.common.BlockMetadata.toObject(e.metadata,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.BlockHeader=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.number=c.Long?c.Long.fromBits(0,0,!0):0,e.prototype.previousHash=c.newBuffer([]),e.prototype.dataHash=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.number&&e.hasOwnProperty("number")&&t.uint32(8).uint64(e.number),null!=e.previousHash&&e.hasOwnProperty("previousHash")&&t.uint32(18).bytes(e.previousHash),null!=e.dataHash&&e.hasOwnProperty("dataHash")&&t.uint32(26).bytes(e.dataHash),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.common.BlockHeader;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.number=e.uint64();break;case 2:r.previousHash=e.bytes();break;case 3:r.dataHash=e.bytes();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.number&&e.hasOwnProperty("number")&&!(c.isInteger(e.number)||e.number&&c.isInteger(e.number.low)&&c.isInteger(e.number.high))?"number: integer|Long expected":null!=e.previousHash&&e.hasOwnProperty("previousHash")&&!(e.previousHash&&"number"==typeof e.previousHash.length||c.isString(e.previousHash))?"previousHash: buffer expected":null!=e.dataHash&&e.hasOwnProperty("dataHash")&&!(e.dataHash&&"number"==typeof e.dataHash.length||c.isString(e.dataHash))?"dataHash: buffer expected":null},e.fromObject=function(e){if(e instanceof u.common.BlockHeader)return e;var t=new u.common.BlockHeader;return null!=e.number&&(c.Long?(t.number=c.Long.fromValue(e.number)).unsigned=!0:"string"==typeof e.number?t.number=parseInt(e.number,10):"number"==typeof e.number?t.number=e.number:"object"===r(e.number)&&(t.number=new c.LongBits(e.number.low>>>0,e.number.high>>>0).toNumber(!0))),null!=e.previousHash&&("string"==typeof e.previousHash?c.base64.decode(e.previousHash,t.previousHash=c.newBuffer(c.base64.length(e.previousHash)),0):e.previousHash.length&&(t.previousHash=e.previousHash)),null!=e.dataHash&&("string"==typeof e.dataHash?c.base64.decode(e.dataHash,t.dataHash=c.newBuffer(c.base64.length(e.dataHash)),0):e.dataHash.length&&(t.dataHash=e.dataHash)),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(c.Long){var r=new c.Long(0,0,!0);n.number=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.number=t.longs===String?"0":0;n.previousHash=t.bytes===String?"":[],n.dataHash=t.bytes===String?"":[]}return null!=e.number&&e.hasOwnProperty("number")&&("number"==typeof e.number?n.number=t.longs===String?String(e.number):e.number:n.number=t.longs===String?c.Long.prototype.toString.call(e.number):t.longs===Number?new c.LongBits(e.number.low>>>0,e.number.high>>>0).toNumber(!0):e.number),null!=e.previousHash&&e.hasOwnProperty("previousHash")&&(n.previousHash=t.bytes===String?c.base64.encode(e.previousHash,0,e.previousHash.length):t.bytes===Array?Array.prototype.slice.call(e.previousHash):e.previousHash),null!=e.dataHash&&e.hasOwnProperty("dataHash")&&(n.dataHash=t.bytes===String?c.base64.encode(e.dataHash,0,e.dataHash.length):t.bytes===Array?Array.prototype.slice.call(e.dataHash):e.dataHash),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.BlockData=function(){function e(e){if(this.data=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.data=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.data&&e.data.length)for(var n=0;n<e.data.length;++n)t.uint32(10).bytes(e.data[n]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.common.BlockData;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.data&&r.data.length||(r.data=[]),r.data.push(e.bytes());break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.data&&e.hasOwnProperty("data")){if(!Array.isArray(e.data))return"data: array expected";for(var t=0;t<e.data.length;++t)if(!(e.data[t]&&"number"==typeof e.data[t].length||c.isString(e.data[t])))return"data: buffer[] expected"}return null},e.fromObject=function(e){if(e instanceof u.common.BlockData)return e;var t=new u.common.BlockData;if(e.data){if(!Array.isArray(e.data))throw TypeError(".common.BlockData.data: array expected");t.data=[];for(var n=0;n<e.data.length;++n)"string"==typeof e.data[n]?c.base64.decode(e.data[n],t.data[n]=c.newBuffer(c.base64.length(e.data[n])),0):e.data[n].length&&(t.data[n]=e.data[n])}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.data=[]),e.data&&e.data.length){n.data=[];for(var r=0;r<e.data.length;++r)n.data[r]=t.bytes===String?c.base64.encode(e.data[r],0,e.data[r].length):t.bytes===Array?Array.prototype.slice.call(e.data[r]):e.data[r]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.BlockMetadata=function(){function e(e){if(this.metadata=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.metadata=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.metadata&&e.metadata.length)for(var n=0;n<e.metadata.length;++n)t.uint32(10).bytes(e.metadata[n]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.common.BlockMetadata;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.metadata&&r.metadata.length||(r.metadata=[]),r.metadata.push(e.bytes());break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.metadata&&e.hasOwnProperty("metadata")){if(!Array.isArray(e.metadata))return"metadata: array expected";for(var t=0;t<e.metadata.length;++t)if(!(e.metadata[t]&&"number"==typeof e.metadata[t].length||c.isString(e.metadata[t])))return"metadata: buffer[] expected"}return null},e.fromObject=function(e){if(e instanceof u.common.BlockMetadata)return e;var t=new u.common.BlockMetadata;if(e.metadata){if(!Array.isArray(e.metadata))throw TypeError(".common.BlockMetadata.metadata: array expected");t.metadata=[];for(var n=0;n<e.metadata.length;++n)"string"==typeof e.metadata[n]?c.base64.decode(e.metadata[n],t.metadata[n]=c.newBuffer(c.base64.length(e.metadata[n])),0):e.metadata[n].length&&(t.metadata[n]=e.metadata[n])}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.metadata=[]),e.metadata&&e.metadata.length){n.metadata=[];for(var r=0;r<e.metadata.length;++r)n.metadata[r]=t.bytes===String?c.base64.encode(e.metadata[r],0,e.metadata[r].length):t.bytes===Array?Array.prototype.slice.call(e.metadata[r]):e.metadata[r]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.BlockchainInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.height=c.Long?c.Long.fromBits(0,0,!0):0,e.prototype.currentBlockHash=c.newBuffer([]),e.prototype.previousBlockHash=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.height&&e.hasOwnProperty("height")&&t.uint32(8).uint64(e.height),null!=e.currentBlockHash&&e.hasOwnProperty("currentBlockHash")&&t.uint32(18).bytes(e.currentBlockHash),null!=e.previousBlockHash&&e.hasOwnProperty("previousBlockHash")&&t.uint32(26).bytes(e.previousBlockHash),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.common.BlockchainInfo;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.height=e.uint64();break;case 2:r.currentBlockHash=e.bytes();break;case 3:r.previousBlockHash=e.bytes();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.height&&e.hasOwnProperty("height")&&!(c.isInteger(e.height)||e.height&&c.isInteger(e.height.low)&&c.isInteger(e.height.high))?"height: integer|Long expected":null!=e.currentBlockHash&&e.hasOwnProperty("currentBlockHash")&&!(e.currentBlockHash&&"number"==typeof e.currentBlockHash.length||c.isString(e.currentBlockHash))?"currentBlockHash: buffer expected":null!=e.previousBlockHash&&e.hasOwnProperty("previousBlockHash")&&!(e.previousBlockHash&&"number"==typeof e.previousBlockHash.length||c.isString(e.previousBlockHash))?"previousBlockHash: buffer expected":null},e.fromObject=function(e){if(e instanceof u.common.BlockchainInfo)return e;var t=new u.common.BlockchainInfo;return null!=e.height&&(c.Long?(t.height=c.Long.fromValue(e.height)).unsigned=!0:"string"==typeof e.height?t.height=parseInt(e.height,10):"number"==typeof e.height?t.height=e.height:"object"===r(e.height)&&(t.height=new c.LongBits(e.height.low>>>0,e.height.high>>>0).toNumber(!0))),null!=e.currentBlockHash&&("string"==typeof e.currentBlockHash?c.base64.decode(e.currentBlockHash,t.currentBlockHash=c.newBuffer(c.base64.length(e.currentBlockHash)),0):e.currentBlockHash.length&&(t.currentBlockHash=e.currentBlockHash)),null!=e.previousBlockHash&&("string"==typeof e.previousBlockHash?c.base64.decode(e.previousBlockHash,t.previousBlockHash=c.newBuffer(c.base64.length(e.previousBlockHash)),0):e.previousBlockHash.length&&(t.previousBlockHash=e.previousBlockHash)),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(c.Long){var r=new c.Long(0,0,!0);n.height=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.height=t.longs===String?"0":0;n.currentBlockHash=t.bytes===String?"":[],n.previousBlockHash=t.bytes===String?"":[]}return null!=e.height&&e.hasOwnProperty("height")&&("number"==typeof e.height?n.height=t.longs===String?String(e.height):e.height:n.height=t.longs===String?c.Long.prototype.toString.call(e.height):t.longs===Number?new c.LongBits(e.height.low>>>0,e.height.high>>>0).toNumber(!0):e.height),null!=e.currentBlockHash&&e.hasOwnProperty("currentBlockHash")&&(n.currentBlockHash=t.bytes===String?c.base64.encode(e.currentBlockHash,0,e.currentBlockHash.length):t.bytes===Array?Array.prototype.slice.call(e.currentBlockHash):e.currentBlockHash),null!=e.previousBlockHash&&e.hasOwnProperty("previousBlockHash")&&(n.previousBlockHash=t.bytes===String?c.base64.encode(e.previousBlockHash,0,e.previousBlockHash.length):t.bytes===Array?Array.prototype.slice.call(e.previousBlockHash):e.previousBlockHash),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.HashingAlgorithm=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.name&&e.hasOwnProperty("name")&&t.uint32(10).string(e.name),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.common.HashingAlgorithm;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.name=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.name&&e.hasOwnProperty("name")&&!c.isString(e.name)?"name: string expected":null},e.fromObject=function(e){if(e instanceof u.common.HashingAlgorithm)return e;var t=new u.common.HashingAlgorithm;return null!=e.name&&(t.name=String(e.name)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.name=""),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.BlockDataHashingStructure=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.width=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.width&&e.hasOwnProperty("width")&&t.uint32(8).uint32(e.width),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.common.BlockDataHashingStructure;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.width=e.uint32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.width&&e.hasOwnProperty("width")&&!c.isInteger(e.width)?"width: integer expected":null},e.fromObject=function(e){if(e instanceof u.common.BlockDataHashingStructure)return e;var t=new u.common.BlockDataHashingStructure;return null!=e.width&&(t.width=e.width>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.width=0),null!=e.width&&e.hasOwnProperty("width")&&(n.width=e.width),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.OrdererAddresses=function(){function e(e){if(this.addresses=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.addresses=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.addresses&&e.addresses.length)for(var n=0;n<e.addresses.length;++n)t.uint32(10).string(e.addresses[n]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.common.OrdererAddresses;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.addresses&&r.addresses.length||(r.addresses=[]),r.addresses.push(e.string());break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.addresses&&e.hasOwnProperty("addresses")){if(!Array.isArray(e.addresses))return"addresses: array expected";for(var t=0;t<e.addresses.length;++t)if(!c.isString(e.addresses[t]))return"addresses: string[] expected"}return null},e.fromObject=function(e){if(e instanceof u.common.OrdererAddresses)return e;var t=new u.common.OrdererAddresses;if(e.addresses){if(!Array.isArray(e.addresses))throw TypeError(".common.OrdererAddresses.addresses: array expected");t.addresses=[];for(var n=0;n<e.addresses.length;++n)t.addresses[n]=String(e.addresses[n])}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.addresses=[]),e.addresses&&e.addresses.length){n.addresses=[];for(var r=0;r<e.addresses.length;++r)n.addresses[r]=e.addresses[r]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.Consortium=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.name&&e.hasOwnProperty("name")&&t.uint32(10).string(e.name),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.common.Consortium;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.name=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.name&&e.hasOwnProperty("name")&&!c.isString(e.name)?"name: string expected":null},e.fromObject=function(e){if(e instanceof u.common.Consortium)return e;var t=new u.common.Consortium;return null!=e.name&&(t.name=String(e.name)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.name=""),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.Capabilities=function(){function e(e){if(this.capabilities={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.capabilities=c.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.capabilities&&e.hasOwnProperty("capabilities"))for(var n=Object.keys(e.capabilities),r=0;r<n.length;++r)t.uint32(10).fork().uint32(10).string(n[r]),u.common.Capability.encode(e.capabilities[n[r]],t.uint32(18).fork()).ldelim().ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.common.Capabilities,i=void 0;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:e.skip().pos++,r.capabilities===c.emptyObject&&(r.capabilities={}),i=e.string(),e.pos++,r.capabilities[i]=u.common.Capability.decode(e,e.uint32());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.capabilities&&e.hasOwnProperty("capabilities")){if(!c.isObject(e.capabilities))return"capabilities: object expected";for(var t=Object.keys(e.capabilities),n=0;n<t.length;++n){var i=u.common.Capability.verify(e.capabilities[t[n]]);if(i)return"capabilities."+i}}return null},e.fromObject=function(e){if(e instanceof u.common.Capabilities)return e;var t=new u.common.Capabilities;if(e.capabilities){if("object"!==r(e.capabilities))throw TypeError(".common.Capabilities.capabilities: object expected");t.capabilities={};for(var n=Object.keys(e.capabilities),i=0;i<n.length;++i){if("object"!==r(e.capabilities[n[i]]))throw TypeError(".common.Capabilities.capabilities: object expected");t.capabilities[n[i]]=u.common.Capability.fromObject(e.capabilities[n[i]])}}return t},e.toObject=function(e,t){t||(t={});var n={};(t.objects||t.defaults)&&(n.capabilities={});var r=void 0;if(e.capabilities&&(r=Object.keys(e.capabilities)).length){n.capabilities={};for(var i=0;i<r.length;++i)n.capabilities[r[i]]=u.common.Capability.toObject(e.capabilities[r[i]],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.Capability=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.common.Capability;e.pos<n;){var i=e.uint32();e.skipType(7&i)}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof u.common.Capability?e:new u.common.Capability},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.ConfigEnvelope=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.config=null,e.prototype.lastUpdate=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.config&&e.hasOwnProperty("config")&&u.common.Config.encode(e.config,t.uint32(10).fork()).ldelim(),null!=e.lastUpdate&&e.hasOwnProperty("lastUpdate")&&u.common.Envelope.encode(e.lastUpdate,t.uint32(18).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.common.ConfigEnvelope;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.config=u.common.Config.decode(e,e.uint32());break;case 2:r.lastUpdate=u.common.Envelope.decode(e,e.uint32());break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.config&&e.hasOwnProperty("config")){var t=u.common.Config.verify(e.config);if(t)return"config."+t}if(null!=e.lastUpdate&&e.hasOwnProperty("lastUpdate")){var n=u.common.Envelope.verify(e.lastUpdate);if(n)return"lastUpdate."+n}return null},e.fromObject=function(e){if(e instanceof u.common.ConfigEnvelope)return e;var t=new u.common.ConfigEnvelope;if(null!=e.config){if("object"!==r(e.config))throw TypeError(".common.ConfigEnvelope.config: object expected");t.config=u.common.Config.fromObject(e.config)}if(null!=e.lastUpdate){if("object"!==r(e.lastUpdate))throw TypeError(".common.ConfigEnvelope.lastUpdate: object expected");t.lastUpdate=u.common.Envelope.fromObject(e.lastUpdate)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.config=null,n.lastUpdate=null),null!=e.config&&e.hasOwnProperty("config")&&(n.config=u.common.Config.toObject(e.config,t)),null!=e.lastUpdate&&e.hasOwnProperty("lastUpdate")&&(n.lastUpdate=u.common.Envelope.toObject(e.lastUpdate,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.ConfigGroupSchema=function(){function e(e){if(this.groups={},this.values={},this.policies={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.groups=c.emptyObject,e.prototype.values=c.emptyObject,e.prototype.policies=c.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.groups&&e.hasOwnProperty("groups"))for(var n=Object.keys(e.groups),r=0;r<n.length;++r)t.uint32(10).fork().uint32(10).string(n[r]),u.common.ConfigGroupSchema.encode(e.groups[n[r]],t.uint32(18).fork()).ldelim().ldelim();if(null!=e.values&&e.hasOwnProperty("values"))for(var i=Object.keys(e.values),o=0;o<i.length;++o)t.uint32(18).fork().uint32(10).string(i[o]),u.common.ConfigValueSchema.encode(e.values[i[o]],t.uint32(18).fork()).ldelim().ldelim();if(null!=e.policies&&e.hasOwnProperty("policies"))for(var s=Object.keys(e.policies),c=0;c<s.length;++c)t.uint32(26).fork().uint32(10).string(s[c]),u.common.ConfigPolicySchema.encode(e.policies[s[c]],t.uint32(18).fork()).ldelim().ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.common.ConfigGroupSchema,i=void 0;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:e.skip().pos++,r.groups===c.emptyObject&&(r.groups={}),i=e.string(),e.pos++,r.groups[i]=u.common.ConfigGroupSchema.decode(e,e.uint32());break;case 2:e.skip().pos++,r.values===c.emptyObject&&(r.values={}),i=e.string(),e.pos++,r.values[i]=u.common.ConfigValueSchema.decode(e,e.uint32());break;case 3:e.skip().pos++,r.policies===c.emptyObject&&(r.policies={}),i=e.string(),e.pos++,r.policies[i]=u.common.ConfigPolicySchema.decode(e,e.uint32());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.groups&&e.hasOwnProperty("groups")){if(!c.isObject(e.groups))return"groups: object expected";for(var t=Object.keys(e.groups),n=0;n<t.length;++n){var i=u.common.ConfigGroupSchema.verify(e.groups[t[n]]);if(i)return"groups."+i}}if(null!=e.values&&e.hasOwnProperty("values")){if(!c.isObject(e.values))return"values: object expected";for(var o=Object.keys(e.values),s=0;s<o.length;++s){var a=u.common.ConfigValueSchema.verify(e.values[o[s]]);if(a)return"values."+a}}if(null!=e.policies&&e.hasOwnProperty("policies")){if(!c.isObject(e.policies))return"policies: object expected";for(var l=Object.keys(e.policies),f=0;f<l.length;++f){var h=u.common.ConfigPolicySchema.verify(e.policies[l[f]]);if(h)return"policies."+h}}return null},e.fromObject=function(e){if(e instanceof u.common.ConfigGroupSchema)return e;var t=new u.common.ConfigGroupSchema;if(e.groups){if("object"!==r(e.groups))throw TypeError(".common.ConfigGroupSchema.groups: object expected");t.groups={};for(var n=Object.keys(e.groups),i=0;i<n.length;++i){if("object"!==r(e.groups[n[i]]))throw TypeError(".common.ConfigGroupSchema.groups: object expected");t.groups[n[i]]=u.common.ConfigGroupSchema.fromObject(e.groups[n[i]])}}if(e.values){if("object"!==r(e.values))throw TypeError(".common.ConfigGroupSchema.values: object expected");t.values={};for(var o=Object.keys(e.values),s=0;s<o.length;++s){if("object"!==r(e.values[o[s]]))throw TypeError(".common.ConfigGroupSchema.values: object expected");t.values[o[s]]=u.common.ConfigValueSchema.fromObject(e.values[o[s]])}}if(e.policies){if("object"!==r(e.policies))throw TypeError(".common.ConfigGroupSchema.policies: object expected");t.policies={};for(var a=Object.keys(e.policies),c=0;c<a.length;++c){if("object"!==r(e.policies[a[c]]))throw TypeError(".common.ConfigGroupSchema.policies: object expected");t.policies[a[c]]=u.common.ConfigPolicySchema.fromObject(e.policies[a[c]])}}return t},e.toObject=function(e,t){t||(t={});var n={};(t.objects||t.defaults)&&(n.groups={},n.values={},n.policies={});var r=void 0;if(e.groups&&(r=Object.keys(e.groups)).length){n.groups={};for(var i=0;i<r.length;++i)n.groups[r[i]]=u.common.ConfigGroupSchema.toObject(e.groups[r[i]],t)}if(e.values&&(r=Object.keys(e.values)).length){n.values={};for(var o=0;o<r.length;++o)n.values[r[o]]=u.common.ConfigValueSchema.toObject(e.values[r[o]],t)}if(e.policies&&(r=Object.keys(e.policies)).length){n.policies={};for(var s=0;s<r.length;++s)n.policies[r[s]]=u.common.ConfigPolicySchema.toObject(e.policies[r[s]],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.ConfigValueSchema=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.common.ConfigValueSchema;e.pos<n;){var i=e.uint32();e.skipType(7&i)}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof u.common.ConfigValueSchema?e:new u.common.ConfigValueSchema},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.ConfigPolicySchema=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.common.ConfigPolicySchema;e.pos<n;){var i=e.uint32();e.skipType(7&i)}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof u.common.ConfigPolicySchema?e:new u.common.ConfigPolicySchema},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.Config=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.sequence=c.Long?c.Long.fromBits(0,0,!0):0,e.prototype.channelGroup=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.sequence&&e.hasOwnProperty("sequence")&&t.uint32(8).uint64(e.sequence),null!=e.channelGroup&&e.hasOwnProperty("channelGroup")&&u.common.ConfigGroup.encode(e.channelGroup,t.uint32(18).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.common.Config;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.sequence=e.uint64();break;case 2:r.channelGroup=u.common.ConfigGroup.decode(e,e.uint32());break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.sequence&&e.hasOwnProperty("sequence")&&!(c.isInteger(e.sequence)||e.sequence&&c.isInteger(e.sequence.low)&&c.isInteger(e.sequence.high)))return"sequence: integer|Long expected";if(null!=e.channelGroup&&e.hasOwnProperty("channelGroup")){var t=u.common.ConfigGroup.verify(e.channelGroup);if(t)return"channelGroup."+t}return null},e.fromObject=function(e){if(e instanceof u.common.Config)return e;var t=new u.common.Config;if(null!=e.sequence&&(c.Long?(t.sequence=c.Long.fromValue(e.sequence)).unsigned=!0:"string"==typeof e.sequence?t.sequence=parseInt(e.sequence,10):"number"==typeof e.sequence?t.sequence=e.sequence:"object"===r(e.sequence)&&(t.sequence=new c.LongBits(e.sequence.low>>>0,e.sequence.high>>>0).toNumber(!0))),null!=e.channelGroup){if("object"!==r(e.channelGroup))throw TypeError(".common.Config.channelGroup: object expected");t.channelGroup=u.common.ConfigGroup.fromObject(e.channelGroup)}return t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(c.Long){var r=new c.Long(0,0,!0);n.sequence=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.sequence=t.longs===String?"0":0;n.channelGroup=null}return null!=e.sequence&&e.hasOwnProperty("sequence")&&("number"==typeof e.sequence?n.sequence=t.longs===String?String(e.sequence):e.sequence:n.sequence=t.longs===String?c.Long.prototype.toString.call(e.sequence):t.longs===Number?new c.LongBits(e.sequence.low>>>0,e.sequence.high>>>0).toNumber(!0):e.sequence),null!=e.channelGroup&&e.hasOwnProperty("channelGroup")&&(n.channelGroup=u.common.ConfigGroup.toObject(e.channelGroup,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.ConfigUpdateEnvelope=function(){function e(e){if(this.signatures=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.configUpdate=c.newBuffer([]),e.prototype.signatures=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.configUpdate&&e.hasOwnProperty("configUpdate")&&t.uint32(10).bytes(e.configUpdate),null!=e.signatures&&e.signatures.length)for(var n=0;n<e.signatures.length;++n)u.common.ConfigSignature.encode(e.signatures[n],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.common.ConfigUpdateEnvelope;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.configUpdate=e.bytes();break;case 2:r.signatures&&r.signatures.length||(r.signatures=[]),r.signatures.push(u.common.ConfigSignature.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.configUpdate&&e.hasOwnProperty("configUpdate")&&!(e.configUpdate&&"number"==typeof e.configUpdate.length||c.isString(e.configUpdate)))return"configUpdate: buffer expected";if(null!=e.signatures&&e.hasOwnProperty("signatures")){if(!Array.isArray(e.signatures))return"signatures: array expected";for(var t=0;t<e.signatures.length;++t){var n=u.common.ConfigSignature.verify(e.signatures[t]);if(n)return"signatures."+n}}return null},e.fromObject=function(e){if(e instanceof u.common.ConfigUpdateEnvelope)return e;var t=new u.common.ConfigUpdateEnvelope;if(null!=e.configUpdate&&("string"==typeof e.configUpdate?c.base64.decode(e.configUpdate,t.configUpdate=c.newBuffer(c.base64.length(e.configUpdate)),0):e.configUpdate.length&&(t.configUpdate=e.configUpdate)),e.signatures){if(!Array.isArray(e.signatures))throw TypeError(".common.ConfigUpdateEnvelope.signatures: array expected");t.signatures=[];for(var n=0;n<e.signatures.length;++n){if("object"!==r(e.signatures[n]))throw TypeError(".common.ConfigUpdateEnvelope.signatures: object expected");t.signatures[n]=u.common.ConfigSignature.fromObject(e.signatures[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.signatures=[]),t.defaults&&(n.configUpdate=t.bytes===String?"":[]),null!=e.configUpdate&&e.hasOwnProperty("configUpdate")&&(n.configUpdate=t.bytes===String?c.base64.encode(e.configUpdate,0,e.configUpdate.length):t.bytes===Array?Array.prototype.slice.call(e.configUpdate):e.configUpdate),e.signatures&&e.signatures.length){n.signatures=[];for(var r=0;r<e.signatures.length;++r)n.signatures[r]=u.common.ConfigSignature.toObject(e.signatures[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.ConfigUpdate=function(){function e(e){if(this.isolatedData={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.channelId="",e.prototype.readSet=null,e.prototype.writeSet=null,e.prototype.isolatedData=c.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.channelId&&e.hasOwnProperty("channelId")&&t.uint32(10).string(e.channelId),null!=e.readSet&&e.hasOwnProperty("readSet")&&u.common.ConfigGroup.encode(e.readSet,t.uint32(18).fork()).ldelim(),null!=e.writeSet&&e.hasOwnProperty("writeSet")&&u.common.ConfigGroup.encode(e.writeSet,t.uint32(26).fork()).ldelim(),null!=e.isolatedData&&e.hasOwnProperty("isolatedData"))for(var n=Object.keys(e.isolatedData),r=0;r<n.length;++r)t.uint32(42).fork().uint32(10).string(n[r]).uint32(18).bytes(e.isolatedData[n[r]]).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.common.ConfigUpdate,i=void 0;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.channelId=e.string();break;case 2:r.readSet=u.common.ConfigGroup.decode(e,e.uint32());break;case 3:r.writeSet=u.common.ConfigGroup.decode(e,e.uint32());break;case 5:e.skip().pos++,r.isolatedData===c.emptyObject&&(r.isolatedData={}),i=e.string(),e.pos++,r.isolatedData[i]=e.bytes();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.channelId&&e.hasOwnProperty("channelId")&&!c.isString(e.channelId))return"channelId: string expected";if(null!=e.readSet&&e.hasOwnProperty("readSet")){var t=u.common.ConfigGroup.verify(e.readSet);if(t)return"readSet."+t}if(null!=e.writeSet&&e.hasOwnProperty("writeSet")){var n=u.common.ConfigGroup.verify(e.writeSet);if(n)return"writeSet."+n}if(null!=e.isolatedData&&e.hasOwnProperty("isolatedData")){if(!c.isObject(e.isolatedData))return"isolatedData: object expected";for(var i=Object.keys(e.isolatedData),o=0;o<i.length;++o)if(!(e.isolatedData[i[o]]&&"number"==typeof e.isolatedData[i[o]].length||c.isString(e.isolatedData[i[o]])))return"isolatedData: buffer{k:string} expected"}return null},e.fromObject=function(e){if(e instanceof u.common.ConfigUpdate)return e;var t=new u.common.ConfigUpdate;if(null!=e.channelId&&(t.channelId=String(e.channelId)),null!=e.readSet){if("object"!==r(e.readSet))throw TypeError(".common.ConfigUpdate.readSet: object expected");t.readSet=u.common.ConfigGroup.fromObject(e.readSet)}if(null!=e.writeSet){if("object"!==r(e.writeSet))throw TypeError(".common.ConfigUpdate.writeSet: object expected");t.writeSet=u.common.ConfigGroup.fromObject(e.writeSet)}if(e.isolatedData){if("object"!==r(e.isolatedData))throw TypeError(".common.ConfigUpdate.isolatedData: object expected");t.isolatedData={};for(var n=Object.keys(e.isolatedData),i=0;i<n.length;++i)"string"==typeof e.isolatedData[n[i]]?c.base64.decode(e.isolatedData[n[i]],t.isolatedData[n[i]]=c.newBuffer(c.base64.length(e.isolatedData[n[i]])),0):e.isolatedData[n[i]].length&&(t.isolatedData[n[i]]=e.isolatedData[n[i]])}return t},e.toObject=function(e,t){t||(t={});var n={};(t.objects||t.defaults)&&(n.isolatedData={}),t.defaults&&(n.channelId="",n.readSet=null,n.writeSet=null),null!=e.channelId&&e.hasOwnProperty("channelId")&&(n.channelId=e.channelId),null!=e.readSet&&e.hasOwnProperty("readSet")&&(n.readSet=u.common.ConfigGroup.toObject(e.readSet,t)),null!=e.writeSet&&e.hasOwnProperty("writeSet")&&(n.writeSet=u.common.ConfigGroup.toObject(e.writeSet,t));var r=void 0;if(e.isolatedData&&(r=Object.keys(e.isolatedData)).length){n.isolatedData={};for(var i=0;i<r.length;++i)n.isolatedData[r[i]]=t.bytes===String?c.base64.encode(e.isolatedData[r[i]],0,e.isolatedData[r[i]].length):t.bytes===Array?Array.prototype.slice.call(e.isolatedData[r[i]]):e.isolatedData[r[i]]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.ConfigGroup=function(){function e(e){if(this.groups={},this.values={},this.policies={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.version=c.Long?c.Long.fromBits(0,0,!0):0,e.prototype.groups=c.emptyObject,e.prototype.values=c.emptyObject,e.prototype.policies=c.emptyObject,e.prototype.modPolicy="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.version&&e.hasOwnProperty("version")&&t.uint32(8).uint64(e.version),null!=e.groups&&e.hasOwnProperty("groups"))for(var n=Object.keys(e.groups),r=0;r<n.length;++r)t.uint32(18).fork().uint32(10).string(n[r]),u.common.ConfigGroup.encode(e.groups[n[r]],t.uint32(18).fork()).ldelim().ldelim();if(null!=e.values&&e.hasOwnProperty("values"))for(var i=Object.keys(e.values),o=0;o<i.length;++o)t.uint32(26).fork().uint32(10).string(i[o]),u.common.ConfigValue.encode(e.values[i[o]],t.uint32(18).fork()).ldelim().ldelim();if(null!=e.policies&&e.hasOwnProperty("policies"))for(var s=Object.keys(e.policies),c=0;c<s.length;++c)t.uint32(34).fork().uint32(10).string(s[c]),u.common.ConfigPolicy.encode(e.policies[s[c]],t.uint32(18).fork()).ldelim().ldelim();return null!=e.modPolicy&&e.hasOwnProperty("modPolicy")&&t.uint32(42).string(e.modPolicy),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.common.ConfigGroup,i=void 0;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.version=e.uint64();break;case 2:e.skip().pos++,r.groups===c.emptyObject&&(r.groups={}),i=e.string(),e.pos++,r.groups[i]=u.common.ConfigGroup.decode(e,e.uint32());break;case 3:e.skip().pos++,r.values===c.emptyObject&&(r.values={}),i=e.string(),e.pos++,r.values[i]=u.common.ConfigValue.decode(e,e.uint32());break;case 4:e.skip().pos++,r.policies===c.emptyObject&&(r.policies={}),i=e.string(),e.pos++,r.policies[i]=u.common.ConfigPolicy.decode(e,e.uint32());break;case 5:r.modPolicy=e.string();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.version&&e.hasOwnProperty("version")&&!(c.isInteger(e.version)||e.version&&c.isInteger(e.version.low)&&c.isInteger(e.version.high)))return"version: integer|Long expected";if(null!=e.groups&&e.hasOwnProperty("groups")){if(!c.isObject(e.groups))return"groups: object expected";for(var t=Object.keys(e.groups),n=0;n<t.length;++n){var i=u.common.ConfigGroup.verify(e.groups[t[n]]);if(i)return"groups."+i}}if(null!=e.values&&e.hasOwnProperty("values")){if(!c.isObject(e.values))return"values: object expected";for(var o=Object.keys(e.values),s=0;s<o.length;++s){var a=u.common.ConfigValue.verify(e.values[o[s]]);if(a)return"values."+a}}if(null!=e.policies&&e.hasOwnProperty("policies")){if(!c.isObject(e.policies))return"policies: object expected";for(var l=Object.keys(e.policies),f=0;f<l.length;++f){var h=u.common.ConfigPolicy.verify(e.policies[l[f]]);if(h)return"policies."+h}}return null!=e.modPolicy&&e.hasOwnProperty("modPolicy")&&!c.isString(e.modPolicy)?"modPolicy: string expected":null},e.fromObject=function(e){if(e instanceof u.common.ConfigGroup)return e;var t=new u.common.ConfigGroup;if(null!=e.version&&(c.Long?(t.version=c.Long.fromValue(e.version)).unsigned=!0:"string"==typeof e.version?t.version=parseInt(e.version,10):"number"==typeof e.version?t.version=e.version:"object"===r(e.version)&&(t.version=new c.LongBits(e.version.low>>>0,e.version.high>>>0).toNumber(!0))),e.groups){if("object"!==r(e.groups))throw TypeError(".common.ConfigGroup.groups: object expected");t.groups={};for(var n=Object.keys(e.groups),i=0;i<n.length;++i){if("object"!==r(e.groups[n[i]]))throw TypeError(".common.ConfigGroup.groups: object expected");t.groups[n[i]]=u.common.ConfigGroup.fromObject(e.groups[n[i]])}}if(e.values){if("object"!==r(e.values))throw TypeError(".common.ConfigGroup.values: object expected");t.values={};for(var o=Object.keys(e.values),s=0;s<o.length;++s){if("object"!==r(e.values[o[s]]))throw TypeError(".common.ConfigGroup.values: object expected");t.values[o[s]]=u.common.ConfigValue.fromObject(e.values[o[s]])}}if(e.policies){if("object"!==r(e.policies))throw TypeError(".common.ConfigGroup.policies: object expected");t.policies={};for(var a=Object.keys(e.policies),l=0;l<a.length;++l){if("object"!==r(e.policies[a[l]]))throw TypeError(".common.ConfigGroup.policies: object expected");t.policies[a[l]]=u.common.ConfigPolicy.fromObject(e.policies[a[l]])}}return null!=e.modPolicy&&(t.modPolicy=String(e.modPolicy)),t},e.toObject=function(e,t){t||(t={});var n={};if((t.objects||t.defaults)&&(n.groups={},n.values={},n.policies={}),t.defaults){if(c.Long){var r=new c.Long(0,0,!0);n.version=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.version=t.longs===String?"0":0;n.modPolicy=""}null!=e.version&&e.hasOwnProperty("version")&&("number"==typeof e.version?n.version=t.longs===String?String(e.version):e.version:n.version=t.longs===String?c.Long.prototype.toString.call(e.version):t.longs===Number?new c.LongBits(e.version.low>>>0,e.version.high>>>0).toNumber(!0):e.version);var i=void 0;if(e.groups&&(i=Object.keys(e.groups)).length){n.groups={};for(var o=0;o<i.length;++o)n.groups[i[o]]=u.common.ConfigGroup.toObject(e.groups[i[o]],t)}if(e.values&&(i=Object.keys(e.values)).length){n.values={};for(var s=0;s<i.length;++s)n.values[i[s]]=u.common.ConfigValue.toObject(e.values[i[s]],t)}if(e.policies&&(i=Object.keys(e.policies)).length){n.policies={};for(var a=0;a<i.length;++a)n.policies[i[a]]=u.common.ConfigPolicy.toObject(e.policies[i[a]],t)}return null!=e.modPolicy&&e.hasOwnProperty("modPolicy")&&(n.modPolicy=e.modPolicy),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.ConfigValue=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.version=c.Long?c.Long.fromBits(0,0,!0):0,e.prototype.value=c.newBuffer([]),e.prototype.modPolicy="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.version&&e.hasOwnProperty("version")&&t.uint32(8).uint64(e.version),null!=e.value&&e.hasOwnProperty("value")&&t.uint32(18).bytes(e.value),null!=e.modPolicy&&e.hasOwnProperty("modPolicy")&&t.uint32(26).string(e.modPolicy),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.common.ConfigValue;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.version=e.uint64();break;case 2:r.value=e.bytes();break;case 3:r.modPolicy=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.version&&e.hasOwnProperty("version")&&!(c.isInteger(e.version)||e.version&&c.isInteger(e.version.low)&&c.isInteger(e.version.high))?"version: integer|Long expected":null!=e.value&&e.hasOwnProperty("value")&&!(e.value&&"number"==typeof e.value.length||c.isString(e.value))?"value: buffer expected":null!=e.modPolicy&&e.hasOwnProperty("modPolicy")&&!c.isString(e.modPolicy)?"modPolicy: string expected":null},e.fromObject=function(e){if(e instanceof u.common.ConfigValue)return e;var t=new u.common.ConfigValue;return null!=e.version&&(c.Long?(t.version=c.Long.fromValue(e.version)).unsigned=!0:"string"==typeof e.version?t.version=parseInt(e.version,10):"number"==typeof e.version?t.version=e.version:"object"===r(e.version)&&(t.version=new c.LongBits(e.version.low>>>0,e.version.high>>>0).toNumber(!0))),null!=e.value&&("string"==typeof e.value?c.base64.decode(e.value,t.value=c.newBuffer(c.base64.length(e.value)),0):e.value.length&&(t.value=e.value)),null!=e.modPolicy&&(t.modPolicy=String(e.modPolicy)),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(c.Long){var r=new c.Long(0,0,!0);n.version=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.version=t.longs===String?"0":0;n.value=t.bytes===String?"":[],n.modPolicy=""}return null!=e.version&&e.hasOwnProperty("version")&&("number"==typeof e.version?n.version=t.longs===String?String(e.version):e.version:n.version=t.longs===String?c.Long.prototype.toString.call(e.version):t.longs===Number?new c.LongBits(e.version.low>>>0,e.version.high>>>0).toNumber(!0):e.version),null!=e.value&&e.hasOwnProperty("value")&&(n.value=t.bytes===String?c.base64.encode(e.value,0,e.value.length):t.bytes===Array?Array.prototype.slice.call(e.value):e.value),null!=e.modPolicy&&e.hasOwnProperty("modPolicy")&&(n.modPolicy=e.modPolicy),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.ConfigPolicy=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.version=c.Long?c.Long.fromBits(0,0,!0):0,e.prototype.policy=null,e.prototype.modPolicy="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.version&&e.hasOwnProperty("version")&&t.uint32(8).uint64(e.version),null!=e.policy&&e.hasOwnProperty("policy")&&u.common.Policy.encode(e.policy,t.uint32(18).fork()).ldelim(),null!=e.modPolicy&&e.hasOwnProperty("modPolicy")&&t.uint32(26).string(e.modPolicy),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.common.ConfigPolicy;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.version=e.uint64();break;case 2:r.policy=u.common.Policy.decode(e,e.uint32());break;case 3:r.modPolicy=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.version&&e.hasOwnProperty("version")&&!(c.isInteger(e.version)||e.version&&c.isInteger(e.version.low)&&c.isInteger(e.version.high)))return"version: integer|Long expected";if(null!=e.policy&&e.hasOwnProperty("policy")){var t=u.common.Policy.verify(e.policy);if(t)return"policy."+t}return null!=e.modPolicy&&e.hasOwnProperty("modPolicy")&&!c.isString(e.modPolicy)?"modPolicy: string expected":null},e.fromObject=function(e){if(e instanceof u.common.ConfigPolicy)return e;var t=new u.common.ConfigPolicy;if(null!=e.version&&(c.Long?(t.version=c.Long.fromValue(e.version)).unsigned=!0:"string"==typeof e.version?t.version=parseInt(e.version,10):"number"==typeof e.version?t.version=e.version:"object"===r(e.version)&&(t.version=new c.LongBits(e.version.low>>>0,e.version.high>>>0).toNumber(!0))),null!=e.policy){if("object"!==r(e.policy))throw TypeError(".common.ConfigPolicy.policy: object expected");t.policy=u.common.Policy.fromObject(e.policy)}return null!=e.modPolicy&&(t.modPolicy=String(e.modPolicy)),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(c.Long){var r=new c.Long(0,0,!0);n.version=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.version=t.longs===String?"0":0;n.policy=null,n.modPolicy=""}return null!=e.version&&e.hasOwnProperty("version")&&("number"==typeof e.version?n.version=t.longs===String?String(e.version):e.version:n.version=t.longs===String?c.Long.prototype.toString.call(e.version):t.longs===Number?new c.LongBits(e.version.low>>>0,e.version.high>>>0).toNumber(!0):e.version),null!=e.policy&&e.hasOwnProperty("policy")&&(n.policy=u.common.Policy.toObject(e.policy,t)),null!=e.modPolicy&&e.hasOwnProperty("modPolicy")&&(n.modPolicy=e.modPolicy),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.ConfigSignature=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.signatureHeader=c.newBuffer([]),e.prototype.signature=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.signatureHeader&&e.hasOwnProperty("signatureHeader")&&t.uint32(10).bytes(e.signatureHeader),null!=e.signature&&e.hasOwnProperty("signature")&&t.uint32(18).bytes(e.signature),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.common.ConfigSignature;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.signatureHeader=e.bytes();break;case 2:r.signature=e.bytes();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.signatureHeader&&e.hasOwnProperty("signatureHeader")&&!(e.signatureHeader&&"number"==typeof e.signatureHeader.length||c.isString(e.signatureHeader))?"signatureHeader: buffer expected":null!=e.signature&&e.hasOwnProperty("signature")&&!(e.signature&&"number"==typeof e.signature.length||c.isString(e.signature))?"signature: buffer expected":null},e.fromObject=function(e){if(e instanceof u.common.ConfigSignature)return e;var t=new u.common.ConfigSignature;return null!=e.signatureHeader&&("string"==typeof e.signatureHeader?c.base64.decode(e.signatureHeader,t.signatureHeader=c.newBuffer(c.base64.length(e.signatureHeader)),0):e.signatureHeader.length&&(t.signatureHeader=e.signatureHeader)),null!=e.signature&&("string"==typeof e.signature?c.base64.decode(e.signature,t.signature=c.newBuffer(c.base64.length(e.signature)),0):e.signature.length&&(t.signature=e.signature)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.signatureHeader=t.bytes===String?"":[],n.signature=t.bytes===String?"":[]),null!=e.signatureHeader&&e.hasOwnProperty("signatureHeader")&&(n.signatureHeader=t.bytes===String?c.base64.encode(e.signatureHeader,0,e.signatureHeader.length):t.bytes===Array?Array.prototype.slice.call(e.signatureHeader):e.signatureHeader),null!=e.signature&&e.hasOwnProperty("signature")&&(n.signature=t.bytes===String?c.base64.encode(e.signature,0,e.signature.length):t.bytes===Array?Array.prototype.slice.call(e.signature):e.signature),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e}(),t.msp=u.msp=function(){var e={};return e.MSPConfig=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.config=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.type&&e.hasOwnProperty("type")&&t.uint32(8).int32(e.type),null!=e.config&&e.hasOwnProperty("config")&&t.uint32(18).bytes(e.config),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.msp.MSPConfig;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.type=e.int32();break;case 2:r.config=e.bytes();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.type&&e.hasOwnProperty("type")&&!c.isInteger(e.type)?"type: integer expected":null!=e.config&&e.hasOwnProperty("config")&&!(e.config&&"number"==typeof e.config.length||c.isString(e.config))?"config: buffer expected":null},e.fromObject=function(e){if(e instanceof u.msp.MSPConfig)return e;var t=new u.msp.MSPConfig;return null!=e.type&&(t.type=0|e.type),null!=e.config&&("string"==typeof e.config?c.base64.decode(e.config,t.config=c.newBuffer(c.base64.length(e.config)),0):e.config.length&&(t.config=e.config)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.type=0,n.config=t.bytes===String?"":[]),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),null!=e.config&&e.hasOwnProperty("config")&&(n.config=t.bytes===String?c.base64.encode(e.config,0,e.config.length):t.bytes===Array?Array.prototype.slice.call(e.config):e.config),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.FabricMSPConfig=function(){function e(e){if(this.rootCerts=[],this.intermediateCerts=[],this.admins=[],this.revocationList=[],this.organizationalUnitIdentifiers=[],this.tlsRootCerts=[],this.tlsIntermediateCerts=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.rootCerts=c.emptyArray,e.prototype.intermediateCerts=c.emptyArray,e.prototype.admins=c.emptyArray,e.prototype.revocationList=c.emptyArray,e.prototype.signingIdentity=null,e.prototype.organizationalUnitIdentifiers=c.emptyArray,e.prototype.cryptoConfig=null,e.prototype.tlsRootCerts=c.emptyArray,e.prototype.tlsIntermediateCerts=c.emptyArray,e.prototype.fabricNodeOus=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.name&&e.hasOwnProperty("name")&&t.uint32(10).string(e.name),null!=e.rootCerts&&e.rootCerts.length)for(var n=0;n<e.rootCerts.length;++n)t.uint32(18).bytes(e.rootCerts[n]);if(null!=e.intermediateCerts&&e.intermediateCerts.length)for(var r=0;r<e.intermediateCerts.length;++r)t.uint32(26).bytes(e.intermediateCerts[r]);if(null!=e.admins&&e.admins.length)for(var i=0;i<e.admins.length;++i)t.uint32(34).bytes(e.admins[i]);if(null!=e.revocationList&&e.revocationList.length)for(var o=0;o<e.revocationList.length;++o)t.uint32(42).bytes(e.revocationList[o]);if(null!=e.signingIdentity&&e.hasOwnProperty("signingIdentity")&&u.msp.SigningIdentityInfo.encode(e.signingIdentity,t.uint32(50).fork()).ldelim(),null!=e.organizationalUnitIdentifiers&&e.organizationalUnitIdentifiers.length)for(var s=0;s<e.organizationalUnitIdentifiers.length;++s)u.msp.FabricOUIdentifier.encode(e.organizationalUnitIdentifiers[s],t.uint32(58).fork()).ldelim();if(null!=e.cryptoConfig&&e.hasOwnProperty("cryptoConfig")&&u.msp.FabricCryptoConfig.encode(e.cryptoConfig,t.uint32(66).fork()).ldelim(),null!=e.tlsRootCerts&&e.tlsRootCerts.length)for(var c=0;c<e.tlsRootCerts.length;++c)t.uint32(74).bytes(e.tlsRootCerts[c]);if(null!=e.tlsIntermediateCerts&&e.tlsIntermediateCerts.length)for(var l=0;l<e.tlsIntermediateCerts.length;++l)t.uint32(82).bytes(e.tlsIntermediateCerts[l]);return null!=e.fabricNodeOus&&e.hasOwnProperty("fabricNodeOus")&&u.msp.FabricNodeOUs.encode(e.fabricNodeOus,t.uint32(90).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.msp.FabricMSPConfig;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.name=e.string();break;case 2:r.rootCerts&&r.rootCerts.length||(r.rootCerts=[]),r.rootCerts.push(e.bytes());break;case 3:r.intermediateCerts&&r.intermediateCerts.length||(r.intermediateCerts=[]),r.intermediateCerts.push(e.bytes());break;case 4:r.admins&&r.admins.length||(r.admins=[]),r.admins.push(e.bytes());break;case 5:r.revocationList&&r.revocationList.length||(r.revocationList=[]),r.revocationList.push(e.bytes());break;case 6:r.signingIdentity=u.msp.SigningIdentityInfo.decode(e,e.uint32());break;case 7:r.organizationalUnitIdentifiers&&r.organizationalUnitIdentifiers.length||(r.organizationalUnitIdentifiers=[]),r.organizationalUnitIdentifiers.push(u.msp.FabricOUIdentifier.decode(e,e.uint32()));break;case 8:r.cryptoConfig=u.msp.FabricCryptoConfig.decode(e,e.uint32());break;case 9:r.tlsRootCerts&&r.tlsRootCerts.length||(r.tlsRootCerts=[]),r.tlsRootCerts.push(e.bytes());break;case 10:r.tlsIntermediateCerts&&r.tlsIntermediateCerts.length||(r.tlsIntermediateCerts=[]),r.tlsIntermediateCerts.push(e.bytes());break;case 11:r.fabricNodeOus=u.msp.FabricNodeOUs.decode(e,e.uint32());break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!c.isString(e.name))return"name: string expected";if(null!=e.rootCerts&&e.hasOwnProperty("rootCerts")){if(!Array.isArray(e.rootCerts))return"rootCerts: array expected";for(var t=0;t<e.rootCerts.length;++t)if(!(e.rootCerts[t]&&"number"==typeof e.rootCerts[t].length||c.isString(e.rootCerts[t])))return"rootCerts: buffer[] expected"}if(null!=e.intermediateCerts&&e.hasOwnProperty("intermediateCerts")){if(!Array.isArray(e.intermediateCerts))return"intermediateCerts: array expected";for(var n=0;n<e.intermediateCerts.length;++n)if(!(e.intermediateCerts[n]&&"number"==typeof e.intermediateCerts[n].length||c.isString(e.intermediateCerts[n])))return"intermediateCerts: buffer[] expected"}if(null!=e.admins&&e.hasOwnProperty("admins")){if(!Array.isArray(e.admins))return"admins: array expected";for(var i=0;i<e.admins.length;++i)if(!(e.admins[i]&&"number"==typeof e.admins[i].length||c.isString(e.admins[i])))return"admins: buffer[] expected"}if(null!=e.revocationList&&e.hasOwnProperty("revocationList")){if(!Array.isArray(e.revocationList))return"revocationList: array expected";for(var o=0;o<e.revocationList.length;++o)if(!(e.revocationList[o]&&"number"==typeof e.revocationList[o].length||c.isString(e.revocationList[o])))return"revocationList: buffer[] expected"}if(null!=e.signingIdentity&&e.hasOwnProperty("signingIdentity")){var s=u.msp.SigningIdentityInfo.verify(e.signingIdentity);if(s)return"signingIdentity."+s}if(null!=e.organizationalUnitIdentifiers&&e.hasOwnProperty("organizationalUnitIdentifiers")){if(!Array.isArray(e.organizationalUnitIdentifiers))return"organizationalUnitIdentifiers: array expected";for(var a=0;a<e.organizationalUnitIdentifiers.length;++a){var l=u.msp.FabricOUIdentifier.verify(e.organizationalUnitIdentifiers[a]);if(l)return"organizationalUnitIdentifiers."+l}}if(null!=e.cryptoConfig&&e.hasOwnProperty("cryptoConfig")){var f=u.msp.FabricCryptoConfig.verify(e.cryptoConfig);if(f)return"cryptoConfig."+f}if(null!=e.tlsRootCerts&&e.hasOwnProperty("tlsRootCerts")){if(!Array.isArray(e.tlsRootCerts))return"tlsRootCerts: array expected";for(var h=0;h<e.tlsRootCerts.length;++h)if(!(e.tlsRootCerts[h]&&"number"==typeof e.tlsRootCerts[h].length||c.isString(e.tlsRootCerts[h])))return"tlsRootCerts: buffer[] expected"}if(null!=e.tlsIntermediateCerts&&e.hasOwnProperty("tlsIntermediateCerts")){if(!Array.isArray(e.tlsIntermediateCerts))return"tlsIntermediateCerts: array expected";for(var d=0;d<e.tlsIntermediateCerts.length;++d)if(!(e.tlsIntermediateCerts[d]&&"number"==typeof e.tlsIntermediateCerts[d].length||c.isString(e.tlsIntermediateCerts[d])))return"tlsIntermediateCerts: buffer[] expected"}if(null!=e.fabricNodeOus&&e.hasOwnProperty("fabricNodeOus")){var p=u.msp.FabricNodeOUs.verify(e.fabricNodeOus);if(p)return"fabricNodeOus."+p}return null},e.fromObject=function(e){if(e instanceof u.msp.FabricMSPConfig)return e;var t=new u.msp.FabricMSPConfig;if(null!=e.name&&(t.name=String(e.name)),e.rootCerts){if(!Array.isArray(e.rootCerts))throw TypeError(".msp.FabricMSPConfig.rootCerts: array expected");t.rootCerts=[];for(var n=0;n<e.rootCerts.length;++n)"string"==typeof e.rootCerts[n]?c.base64.decode(e.rootCerts[n],t.rootCerts[n]=c.newBuffer(c.base64.length(e.rootCerts[n])),0):e.rootCerts[n].length&&(t.rootCerts[n]=e.rootCerts[n])}if(e.intermediateCerts){if(!Array.isArray(e.intermediateCerts))throw TypeError(".msp.FabricMSPConfig.intermediateCerts: array expected");t.intermediateCerts=[];for(var i=0;i<e.intermediateCerts.length;++i)"string"==typeof e.intermediateCerts[i]?c.base64.decode(e.intermediateCerts[i],t.intermediateCerts[i]=c.newBuffer(c.base64.length(e.intermediateCerts[i])),0):e.intermediateCerts[i].length&&(t.intermediateCerts[i]=e.intermediateCerts[i])}if(e.admins){if(!Array.isArray(e.admins))throw TypeError(".msp.FabricMSPConfig.admins: array expected");t.admins=[];for(var o=0;o<e.admins.length;++o)"string"==typeof e.admins[o]?c.base64.decode(e.admins[o],t.admins[o]=c.newBuffer(c.base64.length(e.admins[o])),0):e.admins[o].length&&(t.admins[o]=e.admins[o])}if(e.revocationList){if(!Array.isArray(e.revocationList))throw TypeError(".msp.FabricMSPConfig.revocationList: array expected");t.revocationList=[];for(var s=0;s<e.revocationList.length;++s)"string"==typeof e.revocationList[s]?c.base64.decode(e.revocationList[s],t.revocationList[s]=c.newBuffer(c.base64.length(e.revocationList[s])),0):e.revocationList[s].length&&(t.revocationList[s]=e.revocationList[s])}if(null!=e.signingIdentity){if("object"!==r(e.signingIdentity))throw TypeError(".msp.FabricMSPConfig.signingIdentity: object expected");t.signingIdentity=u.msp.SigningIdentityInfo.fromObject(e.signingIdentity)}if(e.organizationalUnitIdentifiers){if(!Array.isArray(e.organizationalUnitIdentifiers))throw TypeError(".msp.FabricMSPConfig.organizationalUnitIdentifiers: array expected");t.organizationalUnitIdentifiers=[];for(var a=0;a<e.organizationalUnitIdentifiers.length;++a){if("object"!==r(e.organizationalUnitIdentifiers[a]))throw TypeError(".msp.FabricMSPConfig.organizationalUnitIdentifiers: object expected");t.organizationalUnitIdentifiers[a]=u.msp.FabricOUIdentifier.fromObject(e.organizationalUnitIdentifiers[a])}}if(null!=e.cryptoConfig){if("object"!==r(e.cryptoConfig))throw TypeError(".msp.FabricMSPConfig.cryptoConfig: object expected");t.cryptoConfig=u.msp.FabricCryptoConfig.fromObject(e.cryptoConfig)}if(e.tlsRootCerts){if(!Array.isArray(e.tlsRootCerts))throw TypeError(".msp.FabricMSPConfig.tlsRootCerts: array expected");t.tlsRootCerts=[];for(var l=0;l<e.tlsRootCerts.length;++l)"string"==typeof e.tlsRootCerts[l]?c.base64.decode(e.tlsRootCerts[l],t.tlsRootCerts[l]=c.newBuffer(c.base64.length(e.tlsRootCerts[l])),0):e.tlsRootCerts[l].length&&(t.tlsRootCerts[l]=e.tlsRootCerts[l])}if(e.tlsIntermediateCerts){if(!Array.isArray(e.tlsIntermediateCerts))throw TypeError(".msp.FabricMSPConfig.tlsIntermediateCerts: array expected");t.tlsIntermediateCerts=[];for(var f=0;f<e.tlsIntermediateCerts.length;++f)"string"==typeof e.tlsIntermediateCerts[f]?c.base64.decode(e.tlsIntermediateCerts[f],t.tlsIntermediateCerts[f]=c.newBuffer(c.base64.length(e.tlsIntermediateCerts[f])),0):e.tlsIntermediateCerts[f].length&&(t.tlsIntermediateCerts[f]=e.tlsIntermediateCerts[f])}if(null!=e.fabricNodeOus){if("object"!==r(e.fabricNodeOus))throw TypeError(".msp.FabricMSPConfig.fabricNodeOus: object expected");t.fabricNodeOus=u.msp.FabricNodeOUs.fromObject(e.fabricNodeOus)}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.rootCerts=[],n.intermediateCerts=[],n.admins=[],n.revocationList=[],n.organizationalUnitIdentifiers=[],n.tlsRootCerts=[],n.tlsIntermediateCerts=[]),t.defaults&&(n.name="",n.signingIdentity=null,n.cryptoConfig=null,n.fabricNodeOus=null),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),e.rootCerts&&e.rootCerts.length){n.rootCerts=[];for(var r=0;r<e.rootCerts.length;++r)n.rootCerts[r]=t.bytes===String?c.base64.encode(e.rootCerts[r],0,e.rootCerts[r].length):t.bytes===Array?Array.prototype.slice.call(e.rootCerts[r]):e.rootCerts[r]}if(e.intermediateCerts&&e.intermediateCerts.length){n.intermediateCerts=[];for(var i=0;i<e.intermediateCerts.length;++i)n.intermediateCerts[i]=t.bytes===String?c.base64.encode(e.intermediateCerts[i],0,e.intermediateCerts[i].length):t.bytes===Array?Array.prototype.slice.call(e.intermediateCerts[i]):e.intermediateCerts[i]}if(e.admins&&e.admins.length){n.admins=[];for(var o=0;o<e.admins.length;++o)n.admins[o]=t.bytes===String?c.base64.encode(e.admins[o],0,e.admins[o].length):t.bytes===Array?Array.prototype.slice.call(e.admins[o]):e.admins[o]}if(e.revocationList&&e.revocationList.length){n.revocationList=[];for(var s=0;s<e.revocationList.length;++s)n.revocationList[s]=t.bytes===String?c.base64.encode(e.revocationList[s],0,e.revocationList[s].length):t.bytes===Array?Array.prototype.slice.call(e.revocationList[s]):e.revocationList[s]}if(null!=e.signingIdentity&&e.hasOwnProperty("signingIdentity")&&(n.signingIdentity=u.msp.SigningIdentityInfo.toObject(e.signingIdentity,t)),e.organizationalUnitIdentifiers&&e.organizationalUnitIdentifiers.length){n.organizationalUnitIdentifiers=[];for(var a=0;a<e.organizationalUnitIdentifiers.length;++a)n.organizationalUnitIdentifiers[a]=u.msp.FabricOUIdentifier.toObject(e.organizationalUnitIdentifiers[a],t)}if(null!=e.cryptoConfig&&e.hasOwnProperty("cryptoConfig")&&(n.cryptoConfig=u.msp.FabricCryptoConfig.toObject(e.cryptoConfig,t)),e.tlsRootCerts&&e.tlsRootCerts.length){n.tlsRootCerts=[];for(var l=0;l<e.tlsRootCerts.length;++l)n.tlsRootCerts[l]=t.bytes===String?c.base64.encode(e.tlsRootCerts[l],0,e.tlsRootCerts[l].length):t.bytes===Array?Array.prototype.slice.call(e.tlsRootCerts[l]):e.tlsRootCerts[l]}if(e.tlsIntermediateCerts&&e.tlsIntermediateCerts.length){n.tlsIntermediateCerts=[];for(var f=0;f<e.tlsIntermediateCerts.length;++f)n.tlsIntermediateCerts[f]=t.bytes===String?c.base64.encode(e.tlsIntermediateCerts[f],0,e.tlsIntermediateCerts[f].length):t.bytes===Array?Array.prototype.slice.call(e.tlsIntermediateCerts[f]):e.tlsIntermediateCerts[f]}return null!=e.fabricNodeOus&&e.hasOwnProperty("fabricNodeOus")&&(n.fabricNodeOus=u.msp.FabricNodeOUs.toObject(e.fabricNodeOus,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.FabricCryptoConfig=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.signatureHashFamily="",e.prototype.identityIdentifierHashFunction="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.signatureHashFamily&&e.hasOwnProperty("signatureHashFamily")&&t.uint32(10).string(e.signatureHashFamily),null!=e.identityIdentifierHashFunction&&e.hasOwnProperty("identityIdentifierHashFunction")&&t.uint32(18).string(e.identityIdentifierHashFunction),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.msp.FabricCryptoConfig;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.signatureHashFamily=e.string();break;case 2:r.identityIdentifierHashFunction=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.signatureHashFamily&&e.hasOwnProperty("signatureHashFamily")&&!c.isString(e.signatureHashFamily)?"signatureHashFamily: string expected":null!=e.identityIdentifierHashFunction&&e.hasOwnProperty("identityIdentifierHashFunction")&&!c.isString(e.identityIdentifierHashFunction)?"identityIdentifierHashFunction: string expected":null},e.fromObject=function(e){if(e instanceof u.msp.FabricCryptoConfig)return e;var t=new u.msp.FabricCryptoConfig;return null!=e.signatureHashFamily&&(t.signatureHashFamily=String(e.signatureHashFamily)),null!=e.identityIdentifierHashFunction&&(t.identityIdentifierHashFunction=String(e.identityIdentifierHashFunction)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.signatureHashFamily="",n.identityIdentifierHashFunction=""),null!=e.signatureHashFamily&&e.hasOwnProperty("signatureHashFamily")&&(n.signatureHashFamily=e.signatureHashFamily),null!=e.identityIdentifierHashFunction&&e.hasOwnProperty("identityIdentifierHashFunction")&&(n.identityIdentifierHashFunction=e.identityIdentifierHashFunction),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.IdemixMSPConfig=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.ipk=c.newBuffer([]),e.prototype.signer=null,e.prototype.revocationPk=c.newBuffer([]),e.prototype.epoch=c.Long?c.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.name&&e.hasOwnProperty("name")&&t.uint32(10).string(e.name),null!=e.ipk&&e.hasOwnProperty("ipk")&&t.uint32(18).bytes(e.ipk),null!=e.signer&&e.hasOwnProperty("signer")&&u.msp.IdemixMSPSignerConfig.encode(e.signer,t.uint32(26).fork()).ldelim(),null!=e.revocationPk&&e.hasOwnProperty("revocationPk")&&t.uint32(34).bytes(e.revocationPk),null!=e.epoch&&e.hasOwnProperty("epoch")&&t.uint32(40).int64(e.epoch),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.msp.IdemixMSPConfig;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.name=e.string();break;case 2:r.ipk=e.bytes();break;case 3:r.signer=u.msp.IdemixMSPSignerConfig.decode(e,e.uint32());break;case 4:r.revocationPk=e.bytes();break;case 5:r.epoch=e.int64();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!c.isString(e.name))return"name: string expected";if(null!=e.ipk&&e.hasOwnProperty("ipk")&&!(e.ipk&&"number"==typeof e.ipk.length||c.isString(e.ipk)))return"ipk: buffer expected";if(null!=e.signer&&e.hasOwnProperty("signer")){var t=u.msp.IdemixMSPSignerConfig.verify(e.signer);if(t)return"signer."+t}return null!=e.revocationPk&&e.hasOwnProperty("revocationPk")&&!(e.revocationPk&&"number"==typeof e.revocationPk.length||c.isString(e.revocationPk))?"revocationPk: buffer expected":null!=e.epoch&&e.hasOwnProperty("epoch")&&!(c.isInteger(e.epoch)||e.epoch&&c.isInteger(e.epoch.low)&&c.isInteger(e.epoch.high))?"epoch: integer|Long expected":null},e.fromObject=function(e){if(e instanceof u.msp.IdemixMSPConfig)return e;var t=new u.msp.IdemixMSPConfig;if(null!=e.name&&(t.name=String(e.name)),null!=e.ipk&&("string"==typeof e.ipk?c.base64.decode(e.ipk,t.ipk=c.newBuffer(c.base64.length(e.ipk)),0):e.ipk.length&&(t.ipk=e.ipk)),null!=e.signer){if("object"!==r(e.signer))throw TypeError(".msp.IdemixMSPConfig.signer: object expected");t.signer=u.msp.IdemixMSPSignerConfig.fromObject(e.signer)}return null!=e.revocationPk&&("string"==typeof e.revocationPk?c.base64.decode(e.revocationPk,t.revocationPk=c.newBuffer(c.base64.length(e.revocationPk)),0):e.revocationPk.length&&(t.revocationPk=e.revocationPk)),null!=e.epoch&&(c.Long?(t.epoch=c.Long.fromValue(e.epoch)).unsigned=!1:"string"==typeof e.epoch?t.epoch=parseInt(e.epoch,10):"number"==typeof e.epoch?t.epoch=e.epoch:"object"===r(e.epoch)&&(t.epoch=new c.LongBits(e.epoch.low>>>0,e.epoch.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults)if(n.name="",n.ipk=t.bytes===String?"":[],n.signer=null,n.revocationPk=t.bytes===String?"":[],c.Long){var r=new c.Long(0,0,!1);n.epoch=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.epoch=t.longs===String?"0":0;return null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.ipk&&e.hasOwnProperty("ipk")&&(n.ipk=t.bytes===String?c.base64.encode(e.ipk,0,e.ipk.length):t.bytes===Array?Array.prototype.slice.call(e.ipk):e.ipk),null!=e.signer&&e.hasOwnProperty("signer")&&(n.signer=u.msp.IdemixMSPSignerConfig.toObject(e.signer,t)),null!=e.revocationPk&&e.hasOwnProperty("revocationPk")&&(n.revocationPk=t.bytes===String?c.base64.encode(e.revocationPk,0,e.revocationPk.length):t.bytes===Array?Array.prototype.slice.call(e.revocationPk):e.revocationPk),null!=e.epoch&&e.hasOwnProperty("epoch")&&("number"==typeof e.epoch?n.epoch=t.longs===String?String(e.epoch):e.epoch:n.epoch=t.longs===String?c.Long.prototype.toString.call(e.epoch):t.longs===Number?new c.LongBits(e.epoch.low>>>0,e.epoch.high>>>0).toNumber():e.epoch),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.IdemixMSPSignerConfig=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cred=c.newBuffer([]),e.prototype.sk=c.newBuffer([]),e.prototype.organizationalUnitIdentifier="",e.prototype.isAdmin=!1,e.prototype.enrollmentId="",e.prototype.credentialRevocationInformation=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.cred&&e.hasOwnProperty("cred")&&t.uint32(10).bytes(e.cred),null!=e.sk&&e.hasOwnProperty("sk")&&t.uint32(18).bytes(e.sk),null!=e.organizationalUnitIdentifier&&e.hasOwnProperty("organizationalUnitIdentifier")&&t.uint32(26).string(e.organizationalUnitIdentifier),null!=e.isAdmin&&e.hasOwnProperty("isAdmin")&&t.uint32(32).bool(e.isAdmin),null!=e.enrollmentId&&e.hasOwnProperty("enrollmentId")&&t.uint32(42).string(e.enrollmentId),null!=e.credentialRevocationInformation&&e.hasOwnProperty("credentialRevocationInformation")&&t.uint32(50).bytes(e.credentialRevocationInformation),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.msp.IdemixMSPSignerConfig;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.cred=e.bytes();break;case 2:r.sk=e.bytes();break;case 3:r.organizationalUnitIdentifier=e.string();break;case 4:r.isAdmin=e.bool();break;case 5:r.enrollmentId=e.string();break;case 6:r.credentialRevocationInformation=e.bytes();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.cred&&e.hasOwnProperty("cred")&&!(e.cred&&"number"==typeof e.cred.length||c.isString(e.cred))?"cred: buffer expected":null!=e.sk&&e.hasOwnProperty("sk")&&!(e.sk&&"number"==typeof e.sk.length||c.isString(e.sk))?"sk: buffer expected":null!=e.organizationalUnitIdentifier&&e.hasOwnProperty("organizationalUnitIdentifier")&&!c.isString(e.organizationalUnitIdentifier)?"organizationalUnitIdentifier: string expected":null!=e.isAdmin&&e.hasOwnProperty("isAdmin")&&"boolean"!=typeof e.isAdmin?"isAdmin: boolean expected":null!=e.enrollmentId&&e.hasOwnProperty("enrollmentId")&&!c.isString(e.enrollmentId)?"enrollmentId: string expected":null!=e.credentialRevocationInformation&&e.hasOwnProperty("credentialRevocationInformation")&&!(e.credentialRevocationInformation&&"number"==typeof e.credentialRevocationInformation.length||c.isString(e.credentialRevocationInformation))?"credentialRevocationInformation: buffer expected":null},e.fromObject=function(e){if(e instanceof u.msp.IdemixMSPSignerConfig)return e;var t=new u.msp.IdemixMSPSignerConfig;return null!=e.cred&&("string"==typeof e.cred?c.base64.decode(e.cred,t.cred=c.newBuffer(c.base64.length(e.cred)),0):e.cred.length&&(t.cred=e.cred)),null!=e.sk&&("string"==typeof e.sk?c.base64.decode(e.sk,t.sk=c.newBuffer(c.base64.length(e.sk)),0):e.sk.length&&(t.sk=e.sk)),null!=e.organizationalUnitIdentifier&&(t.organizationalUnitIdentifier=String(e.organizationalUnitIdentifier)),null!=e.isAdmin&&(t.isAdmin=Boolean(e.isAdmin)),null!=e.enrollmentId&&(t.enrollmentId=String(e.enrollmentId)),null!=e.credentialRevocationInformation&&("string"==typeof e.credentialRevocationInformation?c.base64.decode(e.credentialRevocationInformation,t.credentialRevocationInformation=c.newBuffer(c.base64.length(e.credentialRevocationInformation)),0):e.credentialRevocationInformation.length&&(t.credentialRevocationInformation=e.credentialRevocationInformation)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.cred=t.bytes===String?"":[],n.sk=t.bytes===String?"":[],n.organizationalUnitIdentifier="",n.isAdmin=!1,n.enrollmentId="",n.credentialRevocationInformation=t.bytes===String?"":[]),null!=e.cred&&e.hasOwnProperty("cred")&&(n.cred=t.bytes===String?c.base64.encode(e.cred,0,e.cred.length):t.bytes===Array?Array.prototype.slice.call(e.cred):e.cred),null!=e.sk&&e.hasOwnProperty("sk")&&(n.sk=t.bytes===String?c.base64.encode(e.sk,0,e.sk.length):t.bytes===Array?Array.prototype.slice.call(e.sk):e.sk),null!=e.organizationalUnitIdentifier&&e.hasOwnProperty("organizationalUnitIdentifier")&&(n.organizationalUnitIdentifier=e.organizationalUnitIdentifier),null!=e.isAdmin&&e.hasOwnProperty("isAdmin")&&(n.isAdmin=e.isAdmin),null!=e.enrollmentId&&e.hasOwnProperty("enrollmentId")&&(n.enrollmentId=e.enrollmentId),null!=e.credentialRevocationInformation&&e.hasOwnProperty("credentialRevocationInformation")&&(n.credentialRevocationInformation=t.bytes===String?c.base64.encode(e.credentialRevocationInformation,0,e.credentialRevocationInformation.length):t.bytes===Array?Array.prototype.slice.call(e.credentialRevocationInformation):e.credentialRevocationInformation),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.SigningIdentityInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.publicSigner=c.newBuffer([]),e.prototype.privateSigner=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.publicSigner&&e.hasOwnProperty("publicSigner")&&t.uint32(10).bytes(e.publicSigner),null!=e.privateSigner&&e.hasOwnProperty("privateSigner")&&u.msp.KeyInfo.encode(e.privateSigner,t.uint32(18).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.msp.SigningIdentityInfo;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.publicSigner=e.bytes();break;case 2:r.privateSigner=u.msp.KeyInfo.decode(e,e.uint32());break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.publicSigner&&e.hasOwnProperty("publicSigner")&&!(e.publicSigner&&"number"==typeof e.publicSigner.length||c.isString(e.publicSigner)))return"publicSigner: buffer expected";if(null!=e.privateSigner&&e.hasOwnProperty("privateSigner")){var t=u.msp.KeyInfo.verify(e.privateSigner);if(t)return"privateSigner."+t}return null},e.fromObject=function(e){if(e instanceof u.msp.SigningIdentityInfo)return e;var t=new u.msp.SigningIdentityInfo;if(null!=e.publicSigner&&("string"==typeof e.publicSigner?c.base64.decode(e.publicSigner,t.publicSigner=c.newBuffer(c.base64.length(e.publicSigner)),0):e.publicSigner.length&&(t.publicSigner=e.publicSigner)),null!=e.privateSigner){if("object"!==r(e.privateSigner))throw TypeError(".msp.SigningIdentityInfo.privateSigner: object expected");t.privateSigner=u.msp.KeyInfo.fromObject(e.privateSigner)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.publicSigner=t.bytes===String?"":[],n.privateSigner=null),null!=e.publicSigner&&e.hasOwnProperty("publicSigner")&&(n.publicSigner=t.bytes===String?c.base64.encode(e.publicSigner,0,e.publicSigner.length):t.bytes===Array?Array.prototype.slice.call(e.publicSigner):e.publicSigner),null!=e.privateSigner&&e.hasOwnProperty("privateSigner")&&(n.privateSigner=u.msp.KeyInfo.toObject(e.privateSigner,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.KeyInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.keyIdentifier="",e.prototype.keyMaterial=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.keyIdentifier&&e.hasOwnProperty("keyIdentifier")&&t.uint32(10).string(e.keyIdentifier),null!=e.keyMaterial&&e.hasOwnProperty("keyMaterial")&&t.uint32(18).bytes(e.keyMaterial),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.msp.KeyInfo;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.keyIdentifier=e.string();break;case 2:r.keyMaterial=e.bytes();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.keyIdentifier&&e.hasOwnProperty("keyIdentifier")&&!c.isString(e.keyIdentifier)?"keyIdentifier: string expected":null!=e.keyMaterial&&e.hasOwnProperty("keyMaterial")&&!(e.keyMaterial&&"number"==typeof e.keyMaterial.length||c.isString(e.keyMaterial))?"keyMaterial: buffer expected":null},e.fromObject=function(e){if(e instanceof u.msp.KeyInfo)return e;var t=new u.msp.KeyInfo;return null!=e.keyIdentifier&&(t.keyIdentifier=String(e.keyIdentifier)),null!=e.keyMaterial&&("string"==typeof e.keyMaterial?c.base64.decode(e.keyMaterial,t.keyMaterial=c.newBuffer(c.base64.length(e.keyMaterial)),0):e.keyMaterial.length&&(t.keyMaterial=e.keyMaterial)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.keyIdentifier="",n.keyMaterial=t.bytes===String?"":[]),null!=e.keyIdentifier&&e.hasOwnProperty("keyIdentifier")&&(n.keyIdentifier=e.keyIdentifier),null!=e.keyMaterial&&e.hasOwnProperty("keyMaterial")&&(n.keyMaterial=t.bytes===String?c.base64.encode(e.keyMaterial,0,e.keyMaterial.length):t.bytes===Array?Array.prototype.slice.call(e.keyMaterial):e.keyMaterial),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.FabricOUIdentifier=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.certificate=c.newBuffer([]),e.prototype.organizationalUnitIdentifier="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.certificate&&e.hasOwnProperty("certificate")&&t.uint32(10).bytes(e.certificate),null!=e.organizationalUnitIdentifier&&e.hasOwnProperty("organizationalUnitIdentifier")&&t.uint32(18).string(e.organizationalUnitIdentifier),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.msp.FabricOUIdentifier;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.certificate=e.bytes();break;case 2:r.organizationalUnitIdentifier=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.certificate&&e.hasOwnProperty("certificate")&&!(e.certificate&&"number"==typeof e.certificate.length||c.isString(e.certificate))?"certificate: buffer expected":null!=e.organizationalUnitIdentifier&&e.hasOwnProperty("organizationalUnitIdentifier")&&!c.isString(e.organizationalUnitIdentifier)?"organizationalUnitIdentifier: string expected":null},e.fromObject=function(e){if(e instanceof u.msp.FabricOUIdentifier)return e;var t=new u.msp.FabricOUIdentifier;return null!=e.certificate&&("string"==typeof e.certificate?c.base64.decode(e.certificate,t.certificate=c.newBuffer(c.base64.length(e.certificate)),0):e.certificate.length&&(t.certificate=e.certificate)),null!=e.organizationalUnitIdentifier&&(t.organizationalUnitIdentifier=String(e.organizationalUnitIdentifier)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.certificate=t.bytes===String?"":[],n.organizationalUnitIdentifier=""),null!=e.certificate&&e.hasOwnProperty("certificate")&&(n.certificate=t.bytes===String?c.base64.encode(e.certificate,0,e.certificate.length):t.bytes===Array?Array.prototype.slice.call(e.certificate):e.certificate),null!=e.organizationalUnitIdentifier&&e.hasOwnProperty("organizationalUnitIdentifier")&&(n.organizationalUnitIdentifier=e.organizationalUnitIdentifier),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.FabricNodeOUs=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.enable=!1,e.prototype.clientOuIdentifier=null,e.prototype.peerOuIdentifier=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.enable&&e.hasOwnProperty("enable")&&t.uint32(8).bool(e.enable),null!=e.clientOuIdentifier&&e.hasOwnProperty("clientOuIdentifier")&&u.msp.FabricOUIdentifier.encode(e.clientOuIdentifier,t.uint32(18).fork()).ldelim(),null!=e.peerOuIdentifier&&e.hasOwnProperty("peerOuIdentifier")&&u.msp.FabricOUIdentifier.encode(e.peerOuIdentifier,t.uint32(26).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.msp.FabricNodeOUs;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.enable=e.bool();break;case 2:r.clientOuIdentifier=u.msp.FabricOUIdentifier.decode(e,e.uint32());break;case 3:r.peerOuIdentifier=u.msp.FabricOUIdentifier.decode(e,e.uint32());break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.enable&&e.hasOwnProperty("enable")&&"boolean"!=typeof e.enable)return"enable: boolean expected";if(null!=e.clientOuIdentifier&&e.hasOwnProperty("clientOuIdentifier")){var t=u.msp.FabricOUIdentifier.verify(e.clientOuIdentifier);if(t)return"clientOuIdentifier."+t}if(null!=e.peerOuIdentifier&&e.hasOwnProperty("peerOuIdentifier")){var n=u.msp.FabricOUIdentifier.verify(e.peerOuIdentifier);if(n)return"peerOuIdentifier."+n}return null},e.fromObject=function(e){if(e instanceof u.msp.FabricNodeOUs)return e;var t=new u.msp.FabricNodeOUs;if(null!=e.enable&&(t.enable=Boolean(e.enable)),null!=e.clientOuIdentifier){if("object"!==r(e.clientOuIdentifier))throw TypeError(".msp.FabricNodeOUs.clientOuIdentifier: object expected");t.clientOuIdentifier=u.msp.FabricOUIdentifier.fromObject(e.clientOuIdentifier)}if(null!=e.peerOuIdentifier){if("object"!==r(e.peerOuIdentifier))throw TypeError(".msp.FabricNodeOUs.peerOuIdentifier: object expected");t.peerOuIdentifier=u.msp.FabricOUIdentifier.fromObject(e.peerOuIdentifier)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.enable=!1,n.clientOuIdentifier=null,n.peerOuIdentifier=null),null!=e.enable&&e.hasOwnProperty("enable")&&(n.enable=e.enable),null!=e.clientOuIdentifier&&e.hasOwnProperty("clientOuIdentifier")&&(n.clientOuIdentifier=u.msp.FabricOUIdentifier.toObject(e.clientOuIdentifier,t)),null!=e.peerOuIdentifier&&e.hasOwnProperty("peerOuIdentifier")&&(n.peerOuIdentifier=u.msp.FabricOUIdentifier.toObject(e.peerOuIdentifier,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.SerializedIdentity=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.mspid="",e.prototype.idBytes=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.mspid&&e.hasOwnProperty("mspid")&&t.uint32(10).string(e.mspid),null!=e.idBytes&&e.hasOwnProperty("idBytes")&&t.uint32(18).bytes(e.idBytes),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.msp.SerializedIdentity;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.mspid=e.string();break;case 2:r.idBytes=e.bytes();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.mspid&&e.hasOwnProperty("mspid")&&!c.isString(e.mspid)?"mspid: string expected":null!=e.idBytes&&e.hasOwnProperty("idBytes")&&!(e.idBytes&&"number"==typeof e.idBytes.length||c.isString(e.idBytes))?"idBytes: buffer expected":null},e.fromObject=function(e){if(e instanceof u.msp.SerializedIdentity)return e;var t=new u.msp.SerializedIdentity;return null!=e.mspid&&(t.mspid=String(e.mspid)),null!=e.idBytes&&("string"==typeof e.idBytes?c.base64.decode(e.idBytes,t.idBytes=c.newBuffer(c.base64.length(e.idBytes)),0):e.idBytes.length&&(t.idBytes=e.idBytes)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.mspid="",n.idBytes=t.bytes===String?"":[]),null!=e.mspid&&e.hasOwnProperty("mspid")&&(n.mspid=e.mspid),null!=e.idBytes&&e.hasOwnProperty("idBytes")&&(n.idBytes=t.bytes===String?c.base64.encode(e.idBytes,0,e.idBytes.length):t.bytes===Array?Array.prototype.slice.call(e.idBytes):e.idBytes),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.SerializedIdemixIdentity=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.nymX=c.newBuffer([]),e.prototype.nymY=c.newBuffer([]),e.prototype.ou=c.newBuffer([]),e.prototype.role=c.newBuffer([]),e.prototype.proof=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.nymX&&e.hasOwnProperty("nymX")&&t.uint32(10).bytes(e.nymX),null!=e.nymY&&e.hasOwnProperty("nymY")&&t.uint32(18).bytes(e.nymY),null!=e.ou&&e.hasOwnProperty("ou")&&t.uint32(26).bytes(e.ou),null!=e.role&&e.hasOwnProperty("role")&&t.uint32(34).bytes(e.role),null!=e.proof&&e.hasOwnProperty("proof")&&t.uint32(42).bytes(e.proof),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.msp.SerializedIdemixIdentity;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.nymX=e.bytes();break;case 2:r.nymY=e.bytes();break;case 3:r.ou=e.bytes();break;case 4:r.role=e.bytes();break;case 5:r.proof=e.bytes();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.nymX&&e.hasOwnProperty("nymX")&&!(e.nymX&&"number"==typeof e.nymX.length||c.isString(e.nymX))?"nymX: buffer expected":null!=e.nymY&&e.hasOwnProperty("nymY")&&!(e.nymY&&"number"==typeof e.nymY.length||c.isString(e.nymY))?"nymY: buffer expected":null!=e.ou&&e.hasOwnProperty("ou")&&!(e.ou&&"number"==typeof e.ou.length||c.isString(e.ou))?"ou: buffer expected":null!=e.role&&e.hasOwnProperty("role")&&!(e.role&&"number"==typeof e.role.length||c.isString(e.role))?"role: buffer expected":null!=e.proof&&e.hasOwnProperty("proof")&&!(e.proof&&"number"==typeof e.proof.length||c.isString(e.proof))?"proof: buffer expected":null},e.fromObject=function(e){if(e instanceof u.msp.SerializedIdemixIdentity)return e;var t=new u.msp.SerializedIdemixIdentity;return null!=e.nymX&&("string"==typeof e.nymX?c.base64.decode(e.nymX,t.nymX=c.newBuffer(c.base64.length(e.nymX)),0):e.nymX.length&&(t.nymX=e.nymX)),null!=e.nymY&&("string"==typeof e.nymY?c.base64.decode(e.nymY,t.nymY=c.newBuffer(c.base64.length(e.nymY)),0):e.nymY.length&&(t.nymY=e.nymY)),null!=e.ou&&("string"==typeof e.ou?c.base64.decode(e.ou,t.ou=c.newBuffer(c.base64.length(e.ou)),0):e.ou.length&&(t.ou=e.ou)),null!=e.role&&("string"==typeof e.role?c.base64.decode(e.role,t.role=c.newBuffer(c.base64.length(e.role)),0):e.role.length&&(t.role=e.role)),null!=e.proof&&("string"==typeof e.proof?c.base64.decode(e.proof,t.proof=c.newBuffer(c.base64.length(e.proof)),0):e.proof.length&&(t.proof=e.proof)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.nymX=t.bytes===String?"":[],n.nymY=t.bytes===String?"":[],n.ou=t.bytes===String?"":[],n.role=t.bytes===String?"":[],n.proof=t.bytes===String?"":[]),null!=e.nymX&&e.hasOwnProperty("nymX")&&(n.nymX=t.bytes===String?c.base64.encode(e.nymX,0,e.nymX.length):t.bytes===Array?Array.prototype.slice.call(e.nymX):e.nymX),null!=e.nymY&&e.hasOwnProperty("nymY")&&(n.nymY=t.bytes===String?c.base64.encode(e.nymY,0,e.nymY.length):t.bytes===Array?Array.prototype.slice.call(e.nymY):e.nymY),null!=e.ou&&e.hasOwnProperty("ou")&&(n.ou=t.bytes===String?c.base64.encode(e.ou,0,e.ou.length):t.bytes===Array?Array.prototype.slice.call(e.ou):e.ou),null!=e.role&&e.hasOwnProperty("role")&&(n.role=t.bytes===String?c.base64.encode(e.role,0,e.role.length):t.bytes===Array?Array.prototype.slice.call(e.role):e.role),null!=e.proof&&e.hasOwnProperty("proof")&&(n.proof=t.bytes===String?c.base64.encode(e.proof,0,e.proof.length):t.bytes===Array?Array.prototype.slice.call(e.proof):e.proof),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e}(),t.google=u.google=function(){var e={};return e.protobuf=function(){var e={};return e.Timestamp=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seconds=c.Long?c.Long.fromBits(0,0,!1):0,e.prototype.nanos=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.seconds&&e.hasOwnProperty("seconds")&&t.uint32(8).int64(e.seconds),null!=e.nanos&&e.hasOwnProperty("nanos")&&t.uint32(16).int32(e.nanos),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.google.protobuf.Timestamp;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.seconds=e.int64();break;case 2:r.nanos=e.int32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.seconds&&e.hasOwnProperty("seconds")&&!(c.isInteger(e.seconds)||e.seconds&&c.isInteger(e.seconds.low)&&c.isInteger(e.seconds.high))?"seconds: integer|Long expected":null!=e.nanos&&e.hasOwnProperty("nanos")&&!c.isInteger(e.nanos)?"nanos: integer expected":null},e.fromObject=function(e){if(e instanceof u.google.protobuf.Timestamp)return e;var t=new u.google.protobuf.Timestamp;return null!=e.seconds&&(c.Long?(t.seconds=c.Long.fromValue(e.seconds)).unsigned=!1:"string"==typeof e.seconds?t.seconds=parseInt(e.seconds,10):"number"==typeof e.seconds?t.seconds=e.seconds:"object"===r(e.seconds)&&(t.seconds=new c.LongBits(e.seconds.low>>>0,e.seconds.high>>>0).toNumber())),null!=e.nanos&&(t.nanos=0|e.nanos),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(c.Long){var r=new c.Long(0,0,!1);n.seconds=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.seconds=t.longs===String?"0":0;n.nanos=0}return null!=e.seconds&&e.hasOwnProperty("seconds")&&("number"==typeof e.seconds?n.seconds=t.longs===String?String(e.seconds):e.seconds:n.seconds=t.longs===String?c.Long.prototype.toString.call(e.seconds):t.longs===Number?new c.LongBits(e.seconds.low>>>0,e.seconds.high>>>0).toNumber():e.seconds),null!=e.nanos&&e.hasOwnProperty("nanos")&&(n.nanos=e.nanos),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e}(),e}(),t.rwset=u.rwset=function(){var e={};return e.TxReadWriteSet=function(){function e(e){if(this.nsRwset=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.dataModel=0,e.prototype.nsRwset=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.dataModel&&e.hasOwnProperty("dataModel")&&t.uint32(8).int32(e.dataModel),null!=e.nsRwset&&e.nsRwset.length)for(var n=0;n<e.nsRwset.length;++n)u.rwset.NsReadWriteSet.encode(e.nsRwset[n],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.rwset.TxReadWriteSet;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.dataModel=e.int32();break;case 2:r.nsRwset&&r.nsRwset.length||(r.nsRwset=[]),r.nsRwset.push(u.rwset.NsReadWriteSet.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.dataModel&&e.hasOwnProperty("dataModel"))switch(e.dataModel){default:return"dataModel: enum value expected";case 0:}if(null!=e.nsRwset&&e.hasOwnProperty("nsRwset")){if(!Array.isArray(e.nsRwset))return"nsRwset: array expected";for(var t=0;t<e.nsRwset.length;++t){var n=u.rwset.NsReadWriteSet.verify(e.nsRwset[t]);if(n)return"nsRwset."+n}}return null},e.fromObject=function(e){if(e instanceof u.rwset.TxReadWriteSet)return e;var t=new u.rwset.TxReadWriteSet;switch(e.dataModel){case"KV":case 0:t.dataModel=0}if(e.nsRwset){if(!Array.isArray(e.nsRwset))throw TypeError(".rwset.TxReadWriteSet.nsRwset: array expected");t.nsRwset=[];for(var n=0;n<e.nsRwset.length;++n){if("object"!==r(e.nsRwset[n]))throw TypeError(".rwset.TxReadWriteSet.nsRwset: object expected");t.nsRwset[n]=u.rwset.NsReadWriteSet.fromObject(e.nsRwset[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.nsRwset=[]),t.defaults&&(n.dataModel=t.enums===String?"KV":0),null!=e.dataModel&&e.hasOwnProperty("dataModel")&&(n.dataModel=t.enums===String?u.rwset.TxReadWriteSet.DataModel[e.dataModel]:e.dataModel),e.nsRwset&&e.nsRwset.length){n.nsRwset=[];for(var r=0;r<e.nsRwset.length;++r)n.nsRwset[r]=u.rwset.NsReadWriteSet.toObject(e.nsRwset[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.DataModel=function(){var e={},t=Object.create(e);return t[e[0]="KV"]=0,t}(),e}(),e.NsReadWriteSet=function(){function e(e){if(this.collectionHashedRwset=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.namespace="",e.prototype.rwset=c.newBuffer([]),e.prototype.collectionHashedRwset=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.namespace&&e.hasOwnProperty("namespace")&&t.uint32(10).string(e.namespace),null!=e.rwset&&e.hasOwnProperty("rwset")&&t.uint32(18).bytes(e.rwset),null!=e.collectionHashedRwset&&e.collectionHashedRwset.length)for(var n=0;n<e.collectionHashedRwset.length;++n)u.rwset.CollectionHashedReadWriteSet.encode(e.collectionHashedRwset[n],t.uint32(26).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.rwset.NsReadWriteSet;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.namespace=e.string();break;case 2:r.rwset=e.bytes();break;case 3:r.collectionHashedRwset&&r.collectionHashedRwset.length||(r.collectionHashedRwset=[]),r.collectionHashedRwset.push(u.rwset.CollectionHashedReadWriteSet.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.namespace&&e.hasOwnProperty("namespace")&&!c.isString(e.namespace))return"namespace: string expected";if(null!=e.rwset&&e.hasOwnProperty("rwset")&&!(e.rwset&&"number"==typeof e.rwset.length||c.isString(e.rwset)))return"rwset: buffer expected";if(null!=e.collectionHashedRwset&&e.hasOwnProperty("collectionHashedRwset")){if(!Array.isArray(e.collectionHashedRwset))return"collectionHashedRwset: array expected";for(var t=0;t<e.collectionHashedRwset.length;++t){var n=u.rwset.CollectionHashedReadWriteSet.verify(e.collectionHashedRwset[t]);if(n)return"collectionHashedRwset."+n}}return null},e.fromObject=function(e){if(e instanceof u.rwset.NsReadWriteSet)return e;var t=new u.rwset.NsReadWriteSet;if(null!=e.namespace&&(t.namespace=String(e.namespace)),null!=e.rwset&&("string"==typeof e.rwset?c.base64.decode(e.rwset,t.rwset=c.newBuffer(c.base64.length(e.rwset)),0):e.rwset.length&&(t.rwset=e.rwset)),e.collectionHashedRwset){if(!Array.isArray(e.collectionHashedRwset))throw TypeError(".rwset.NsReadWriteSet.collectionHashedRwset: array expected");t.collectionHashedRwset=[];for(var n=0;n<e.collectionHashedRwset.length;++n){if("object"!==r(e.collectionHashedRwset[n]))throw TypeError(".rwset.NsReadWriteSet.collectionHashedRwset: object expected");t.collectionHashedRwset[n]=u.rwset.CollectionHashedReadWriteSet.fromObject(e.collectionHashedRwset[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.collectionHashedRwset=[]),t.defaults&&(n.namespace="",n.rwset=t.bytes===String?"":[]),null!=e.namespace&&e.hasOwnProperty("namespace")&&(n.namespace=e.namespace),null!=e.rwset&&e.hasOwnProperty("rwset")&&(n.rwset=t.bytes===String?c.base64.encode(e.rwset,0,e.rwset.length):t.bytes===Array?Array.prototype.slice.call(e.rwset):e.rwset),e.collectionHashedRwset&&e.collectionHashedRwset.length){n.collectionHashedRwset=[];for(var r=0;r<e.collectionHashedRwset.length;++r)n.collectionHashedRwset[r]=u.rwset.CollectionHashedReadWriteSet.toObject(e.collectionHashedRwset[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.CollectionHashedReadWriteSet=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.collectionName="",e.prototype.hashedRwset=c.newBuffer([]),e.prototype.pvtRwsetHash=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.collectionName&&e.hasOwnProperty("collectionName")&&t.uint32(10).string(e.collectionName),null!=e.hashedRwset&&e.hasOwnProperty("hashedRwset")&&t.uint32(18).bytes(e.hashedRwset),null!=e.pvtRwsetHash&&e.hasOwnProperty("pvtRwsetHash")&&t.uint32(26).bytes(e.pvtRwsetHash),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.rwset.CollectionHashedReadWriteSet;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.collectionName=e.string();break;case 2:r.hashedRwset=e.bytes();break;case 3:r.pvtRwsetHash=e.bytes();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.collectionName&&e.hasOwnProperty("collectionName")&&!c.isString(e.collectionName)?"collectionName: string expected":null!=e.hashedRwset&&e.hasOwnProperty("hashedRwset")&&!(e.hashedRwset&&"number"==typeof e.hashedRwset.length||c.isString(e.hashedRwset))?"hashedRwset: buffer expected":null!=e.pvtRwsetHash&&e.hasOwnProperty("pvtRwsetHash")&&!(e.pvtRwsetHash&&"number"==typeof e.pvtRwsetHash.length||c.isString(e.pvtRwsetHash))?"pvtRwsetHash: buffer expected":null},e.fromObject=function(e){if(e instanceof u.rwset.CollectionHashedReadWriteSet)return e;var t=new u.rwset.CollectionHashedReadWriteSet;return null!=e.collectionName&&(t.collectionName=String(e.collectionName)),null!=e.hashedRwset&&("string"==typeof e.hashedRwset?c.base64.decode(e.hashedRwset,t.hashedRwset=c.newBuffer(c.base64.length(e.hashedRwset)),0):e.hashedRwset.length&&(t.hashedRwset=e.hashedRwset)),null!=e.pvtRwsetHash&&("string"==typeof e.pvtRwsetHash?c.base64.decode(e.pvtRwsetHash,t.pvtRwsetHash=c.newBuffer(c.base64.length(e.pvtRwsetHash)),0):e.pvtRwsetHash.length&&(t.pvtRwsetHash=e.pvtRwsetHash)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.collectionName="",n.hashedRwset=t.bytes===String?"":[],n.pvtRwsetHash=t.bytes===String?"":[]),null!=e.collectionName&&e.hasOwnProperty("collectionName")&&(n.collectionName=e.collectionName),null!=e.hashedRwset&&e.hasOwnProperty("hashedRwset")&&(n.hashedRwset=t.bytes===String?c.base64.encode(e.hashedRwset,0,e.hashedRwset.length):t.bytes===Array?Array.prototype.slice.call(e.hashedRwset):e.hashedRwset),null!=e.pvtRwsetHash&&e.hasOwnProperty("pvtRwsetHash")&&(n.pvtRwsetHash=t.bytes===String?c.base64.encode(e.pvtRwsetHash,0,e.pvtRwsetHash.length):t.bytes===Array?Array.prototype.slice.call(e.pvtRwsetHash):e.pvtRwsetHash),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.TxPvtReadWriteSet=function(){function e(e){if(this.nsPvtRwset=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.dataModel=0,e.prototype.nsPvtRwset=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.dataModel&&e.hasOwnProperty("dataModel")&&t.uint32(8).int32(e.dataModel),null!=e.nsPvtRwset&&e.nsPvtRwset.length)for(var n=0;n<e.nsPvtRwset.length;++n)u.rwset.NsPvtReadWriteSet.encode(e.nsPvtRwset[n],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.rwset.TxPvtReadWriteSet;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.dataModel=e.int32();break;case 2:r.nsPvtRwset&&r.nsPvtRwset.length||(r.nsPvtRwset=[]),r.nsPvtRwset.push(u.rwset.NsPvtReadWriteSet.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.dataModel&&e.hasOwnProperty("dataModel"))switch(e.dataModel){default:return"dataModel: enum value expected";case 0:}if(null!=e.nsPvtRwset&&e.hasOwnProperty("nsPvtRwset")){if(!Array.isArray(e.nsPvtRwset))return"nsPvtRwset: array expected";for(var t=0;t<e.nsPvtRwset.length;++t){var n=u.rwset.NsPvtReadWriteSet.verify(e.nsPvtRwset[t]);if(n)return"nsPvtRwset."+n}}return null},e.fromObject=function(e){if(e instanceof u.rwset.TxPvtReadWriteSet)return e;var t=new u.rwset.TxPvtReadWriteSet;switch(e.dataModel){case"KV":case 0:t.dataModel=0}if(e.nsPvtRwset){if(!Array.isArray(e.nsPvtRwset))throw TypeError(".rwset.TxPvtReadWriteSet.nsPvtRwset: array expected");t.nsPvtRwset=[];for(var n=0;n<e.nsPvtRwset.length;++n){if("object"!==r(e.nsPvtRwset[n]))throw TypeError(".rwset.TxPvtReadWriteSet.nsPvtRwset: object expected");t.nsPvtRwset[n]=u.rwset.NsPvtReadWriteSet.fromObject(e.nsPvtRwset[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.nsPvtRwset=[]),t.defaults&&(n.dataModel=t.enums===String?"KV":0),null!=e.dataModel&&e.hasOwnProperty("dataModel")&&(n.dataModel=t.enums===String?u.rwset.TxReadWriteSet.DataModel[e.dataModel]:e.dataModel),e.nsPvtRwset&&e.nsPvtRwset.length){n.nsPvtRwset=[];for(var r=0;r<e.nsPvtRwset.length;++r)n.nsPvtRwset[r]=u.rwset.NsPvtReadWriteSet.toObject(e.nsPvtRwset[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.NsPvtReadWriteSet=function(){function e(e){if(this.collectionPvtRwset=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.namespace="",e.prototype.collectionPvtRwset=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.namespace&&e.hasOwnProperty("namespace")&&t.uint32(10).string(e.namespace),null!=e.collectionPvtRwset&&e.collectionPvtRwset.length)for(var n=0;n<e.collectionPvtRwset.length;++n)u.rwset.CollectionPvtReadWriteSet.encode(e.collectionPvtRwset[n],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.rwset.NsPvtReadWriteSet;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.namespace=e.string();break;case 2:r.collectionPvtRwset&&r.collectionPvtRwset.length||(r.collectionPvtRwset=[]),r.collectionPvtRwset.push(u.rwset.CollectionPvtReadWriteSet.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.namespace&&e.hasOwnProperty("namespace")&&!c.isString(e.namespace))return"namespace: string expected";if(null!=e.collectionPvtRwset&&e.hasOwnProperty("collectionPvtRwset")){if(!Array.isArray(e.collectionPvtRwset))return"collectionPvtRwset: array expected";for(var t=0;t<e.collectionPvtRwset.length;++t){var n=u.rwset.CollectionPvtReadWriteSet.verify(e.collectionPvtRwset[t]);if(n)return"collectionPvtRwset."+n}}return null},e.fromObject=function(e){if(e instanceof u.rwset.NsPvtReadWriteSet)return e;var t=new u.rwset.NsPvtReadWriteSet;if(null!=e.namespace&&(t.namespace=String(e.namespace)),e.collectionPvtRwset){if(!Array.isArray(e.collectionPvtRwset))throw TypeError(".rwset.NsPvtReadWriteSet.collectionPvtRwset: array expected");t.collectionPvtRwset=[];for(var n=0;n<e.collectionPvtRwset.length;++n){if("object"!==r(e.collectionPvtRwset[n]))throw TypeError(".rwset.NsPvtReadWriteSet.collectionPvtRwset: object expected");t.collectionPvtRwset[n]=u.rwset.CollectionPvtReadWriteSet.fromObject(e.collectionPvtRwset[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.collectionPvtRwset=[]),t.defaults&&(n.namespace=""),null!=e.namespace&&e.hasOwnProperty("namespace")&&(n.namespace=e.namespace),e.collectionPvtRwset&&e.collectionPvtRwset.length){n.collectionPvtRwset=[];for(var r=0;r<e.collectionPvtRwset.length;++r)n.collectionPvtRwset[r]=u.rwset.CollectionPvtReadWriteSet.toObject(e.collectionPvtRwset[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.CollectionPvtReadWriteSet=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.collectionName="",e.prototype.rwset=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.collectionName&&e.hasOwnProperty("collectionName")&&t.uint32(10).string(e.collectionName),null!=e.rwset&&e.hasOwnProperty("rwset")&&t.uint32(18).bytes(e.rwset),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.rwset.CollectionPvtReadWriteSet;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.collectionName=e.string();break;case 2:r.rwset=e.bytes();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.collectionName&&e.hasOwnProperty("collectionName")&&!c.isString(e.collectionName)?"collectionName: string expected":null!=e.rwset&&e.hasOwnProperty("rwset")&&!(e.rwset&&"number"==typeof e.rwset.length||c.isString(e.rwset))?"rwset: buffer expected":null},e.fromObject=function(e){if(e instanceof u.rwset.CollectionPvtReadWriteSet)return e;var t=new u.rwset.CollectionPvtReadWriteSet;return null!=e.collectionName&&(t.collectionName=String(e.collectionName)),null!=e.rwset&&("string"==typeof e.rwset?c.base64.decode(e.rwset,t.rwset=c.newBuffer(c.base64.length(e.rwset)),0):e.rwset.length&&(t.rwset=e.rwset)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.collectionName="",n.rwset=t.bytes===String?"":[]),null!=e.collectionName&&e.hasOwnProperty("collectionName")&&(n.collectionName=e.collectionName),null!=e.rwset&&e.hasOwnProperty("rwset")&&(n.rwset=t.bytes===String?c.base64.encode(e.rwset,0,e.rwset.length):t.bytes===Array?Array.prototype.slice.call(e.rwset):e.rwset),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e}(),t.kvrwset=u.kvrwset=function(){var e={};return e.KVRWSet=function(){function e(e){if(this.reads=[],this.rangeQueriesInfo=[],this.writes=[],this.metadataWrites=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.reads=c.emptyArray,e.prototype.rangeQueriesInfo=c.emptyArray,e.prototype.writes=c.emptyArray,e.prototype.metadataWrites=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.reads&&e.reads.length)for(var n=0;n<e.reads.length;++n)u.kvrwset.KVRead.encode(e.reads[n],t.uint32(10).fork()).ldelim();if(null!=e.rangeQueriesInfo&&e.rangeQueriesInfo.length)for(var r=0;r<e.rangeQueriesInfo.length;++r)u.kvrwset.RangeQueryInfo.encode(e.rangeQueriesInfo[r],t.uint32(18).fork()).ldelim();if(null!=e.writes&&e.writes.length)for(var i=0;i<e.writes.length;++i)u.kvrwset.KVWrite.encode(e.writes[i],t.uint32(26).fork()).ldelim();if(null!=e.metadataWrites&&e.metadataWrites.length)for(var o=0;o<e.metadataWrites.length;++o)u.kvrwset.KVMetadataWrite.encode(e.metadataWrites[o],t.uint32(34).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.kvrwset.KVRWSet;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.reads&&r.reads.length||(r.reads=[]),r.reads.push(u.kvrwset.KVRead.decode(e,e.uint32()));break;case 2:r.rangeQueriesInfo&&r.rangeQueriesInfo.length||(r.rangeQueriesInfo=[]),r.rangeQueriesInfo.push(u.kvrwset.RangeQueryInfo.decode(e,e.uint32()));break;case 3:r.writes&&r.writes.length||(r.writes=[]),r.writes.push(u.kvrwset.KVWrite.decode(e,e.uint32()));break;case 4:r.metadataWrites&&r.metadataWrites.length||(r.metadataWrites=[]),r.metadataWrites.push(u.kvrwset.KVMetadataWrite.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.reads&&e.hasOwnProperty("reads")){if(!Array.isArray(e.reads))return"reads: array expected";for(var t=0;t<e.reads.length;++t){var n=u.kvrwset.KVRead.verify(e.reads[t]);if(n)return"reads."+n}}if(null!=e.rangeQueriesInfo&&e.hasOwnProperty("rangeQueriesInfo")){if(!Array.isArray(e.rangeQueriesInfo))return"rangeQueriesInfo: array expected";for(var i=0;i<e.rangeQueriesInfo.length;++i){var o=u.kvrwset.RangeQueryInfo.verify(e.rangeQueriesInfo[i]);if(o)return"rangeQueriesInfo."+o}}if(null!=e.writes&&e.hasOwnProperty("writes")){if(!Array.isArray(e.writes))return"writes: array expected";for(var s=0;s<e.writes.length;++s){var a=u.kvrwset.KVWrite.verify(e.writes[s]);if(a)return"writes."+a}}if(null!=e.metadataWrites&&e.hasOwnProperty("metadataWrites")){if(!Array.isArray(e.metadataWrites))return"metadataWrites: array expected";for(var c=0;c<e.metadataWrites.length;++c){var l=u.kvrwset.KVMetadataWrite.verify(e.metadataWrites[c]);if(l)return"metadataWrites."+l}}return null},e.fromObject=function(e){if(e instanceof u.kvrwset.KVRWSet)return e;var t=new u.kvrwset.KVRWSet;if(e.reads){if(!Array.isArray(e.reads))throw TypeError(".kvrwset.KVRWSet.reads: array expected");t.reads=[];for(var n=0;n<e.reads.length;++n){if("object"!==r(e.reads[n]))throw TypeError(".kvrwset.KVRWSet.reads: object expected");t.reads[n]=u.kvrwset.KVRead.fromObject(e.reads[n])}}if(e.rangeQueriesInfo){if(!Array.isArray(e.rangeQueriesInfo))throw TypeError(".kvrwset.KVRWSet.rangeQueriesInfo: array expected");t.rangeQueriesInfo=[];for(var i=0;i<e.rangeQueriesInfo.length;++i){if("object"!==r(e.rangeQueriesInfo[i]))throw TypeError(".kvrwset.KVRWSet.rangeQueriesInfo: object expected");t.rangeQueriesInfo[i]=u.kvrwset.RangeQueryInfo.fromObject(e.rangeQueriesInfo[i])}}if(e.writes){if(!Array.isArray(e.writes))throw TypeError(".kvrwset.KVRWSet.writes: array expected");t.writes=[];for(var o=0;o<e.writes.length;++o){if("object"!==r(e.writes[o]))throw TypeError(".kvrwset.KVRWSet.writes: object expected");t.writes[o]=u.kvrwset.KVWrite.fromObject(e.writes[o])}}if(e.metadataWrites){if(!Array.isArray(e.metadataWrites))throw TypeError(".kvrwset.KVRWSet.metadataWrites: array expected");t.metadataWrites=[];for(var s=0;s<e.metadataWrites.length;++s){if("object"!==r(e.metadataWrites[s]))throw TypeError(".kvrwset.KVRWSet.metadataWrites: object expected");t.metadataWrites[s]=u.kvrwset.KVMetadataWrite.fromObject(e.metadataWrites[s])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.reads=[],n.rangeQueriesInfo=[],n.writes=[],n.metadataWrites=[]),e.reads&&e.reads.length){n.reads=[];for(var r=0;r<e.reads.length;++r)n.reads[r]=u.kvrwset.KVRead.toObject(e.reads[r],t)}if(e.rangeQueriesInfo&&e.rangeQueriesInfo.length){n.rangeQueriesInfo=[];for(var i=0;i<e.rangeQueriesInfo.length;++i)n.rangeQueriesInfo[i]=u.kvrwset.RangeQueryInfo.toObject(e.rangeQueriesInfo[i],t)}if(e.writes&&e.writes.length){n.writes=[];for(var o=0;o<e.writes.length;++o)n.writes[o]=u.kvrwset.KVWrite.toObject(e.writes[o],t)}if(e.metadataWrites&&e.metadataWrites.length){n.metadataWrites=[];for(var s=0;s<e.metadataWrites.length;++s)n.metadataWrites[s]=u.kvrwset.KVMetadataWrite.toObject(e.metadataWrites[s],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.HashedRWSet=function(){function e(e){if(this.hashedReads=[],this.hashedWrites=[],this.metadataWrites=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.hashedReads=c.emptyArray,e.prototype.hashedWrites=c.emptyArray,e.prototype.metadataWrites=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.hashedReads&&e.hashedReads.length)for(var n=0;n<e.hashedReads.length;++n)u.kvrwset.KVReadHash.encode(e.hashedReads[n],t.uint32(10).fork()).ldelim();if(null!=e.hashedWrites&&e.hashedWrites.length)for(var r=0;r<e.hashedWrites.length;++r)u.kvrwset.KVWriteHash.encode(e.hashedWrites[r],t.uint32(18).fork()).ldelim();if(null!=e.metadataWrites&&e.metadataWrites.length)for(var i=0;i<e.metadataWrites.length;++i)u.kvrwset.KVMetadataWriteHash.encode(e.metadataWrites[i],t.uint32(26).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.kvrwset.HashedRWSet;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.hashedReads&&r.hashedReads.length||(r.hashedReads=[]),r.hashedReads.push(u.kvrwset.KVReadHash.decode(e,e.uint32()));break;case 2:r.hashedWrites&&r.hashedWrites.length||(r.hashedWrites=[]),r.hashedWrites.push(u.kvrwset.KVWriteHash.decode(e,e.uint32()));break;case 3:r.metadataWrites&&r.metadataWrites.length||(r.metadataWrites=[]),r.metadataWrites.push(u.kvrwset.KVMetadataWriteHash.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.hashedReads&&e.hasOwnProperty("hashedReads")){if(!Array.isArray(e.hashedReads))return"hashedReads: array expected";for(var t=0;t<e.hashedReads.length;++t){var n=u.kvrwset.KVReadHash.verify(e.hashedReads[t]);if(n)return"hashedReads."+n}}if(null!=e.hashedWrites&&e.hasOwnProperty("hashedWrites")){if(!Array.isArray(e.hashedWrites))return"hashedWrites: array expected";for(var i=0;i<e.hashedWrites.length;++i){var o=u.kvrwset.KVWriteHash.verify(e.hashedWrites[i]);if(o)return"hashedWrites."+o}}if(null!=e.metadataWrites&&e.hasOwnProperty("metadataWrites")){if(!Array.isArray(e.metadataWrites))return"metadataWrites: array expected";for(var s=0;s<e.metadataWrites.length;++s){var a=u.kvrwset.KVMetadataWriteHash.verify(e.metadataWrites[s]);if(a)return"metadataWrites."+a}}return null},e.fromObject=function(e){if(e instanceof u.kvrwset.HashedRWSet)return e;var t=new u.kvrwset.HashedRWSet;if(e.hashedReads){if(!Array.isArray(e.hashedReads))throw TypeError(".kvrwset.HashedRWSet.hashedReads: array expected");t.hashedReads=[];for(var n=0;n<e.hashedReads.length;++n){if("object"!==r(e.hashedReads[n]))throw TypeError(".kvrwset.HashedRWSet.hashedReads: object expected");t.hashedReads[n]=u.kvrwset.KVReadHash.fromObject(e.hashedReads[n])}}if(e.hashedWrites){if(!Array.isArray(e.hashedWrites))throw TypeError(".kvrwset.HashedRWSet.hashedWrites: array expected");t.hashedWrites=[];for(var i=0;i<e.hashedWrites.length;++i){if("object"!==r(e.hashedWrites[i]))throw TypeError(".kvrwset.HashedRWSet.hashedWrites: object expected");t.hashedWrites[i]=u.kvrwset.KVWriteHash.fromObject(e.hashedWrites[i])}}if(e.metadataWrites){if(!Array.isArray(e.metadataWrites))throw TypeError(".kvrwset.HashedRWSet.metadataWrites: array expected");t.metadataWrites=[];for(var o=0;o<e.metadataWrites.length;++o){if("object"!==r(e.metadataWrites[o]))throw TypeError(".kvrwset.HashedRWSet.metadataWrites: object expected");t.metadataWrites[o]=u.kvrwset.KVMetadataWriteHash.fromObject(e.metadataWrites[o])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.hashedReads=[],n.hashedWrites=[],n.metadataWrites=[]),e.hashedReads&&e.hashedReads.length){n.hashedReads=[];for(var r=0;r<e.hashedReads.length;++r)n.hashedReads[r]=u.kvrwset.KVReadHash.toObject(e.hashedReads[r],t)}if(e.hashedWrites&&e.hashedWrites.length){n.hashedWrites=[];for(var i=0;i<e.hashedWrites.length;++i)n.hashedWrites[i]=u.kvrwset.KVWriteHash.toObject(e.hashedWrites[i],t)}if(e.metadataWrites&&e.metadataWrites.length){n.metadataWrites=[];for(var o=0;o<e.metadataWrites.length;++o)n.metadataWrites[o]=u.kvrwset.KVMetadataWriteHash.toObject(e.metadataWrites[o],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.KVRead=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.key="",e.prototype.version=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.key&&e.hasOwnProperty("key")&&t.uint32(10).string(e.key),null!=e.version&&e.hasOwnProperty("version")&&u.kvrwset.Version.encode(e.version,t.uint32(18).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.kvrwset.KVRead;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.key=e.string();break;case 2:r.version=u.kvrwset.Version.decode(e,e.uint32());break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.key&&e.hasOwnProperty("key")&&!c.isString(e.key))return"key: string expected";if(null!=e.version&&e.hasOwnProperty("version")){var t=u.kvrwset.Version.verify(e.version);if(t)return"version."+t}return null},e.fromObject=function(e){if(e instanceof u.kvrwset.KVRead)return e;var t=new u.kvrwset.KVRead;if(null!=e.key&&(t.key=String(e.key)),null!=e.version){if("object"!==r(e.version))throw TypeError(".kvrwset.KVRead.version: object expected");t.version=u.kvrwset.Version.fromObject(e.version)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.key="",n.version=null),null!=e.key&&e.hasOwnProperty("key")&&(n.key=e.key),null!=e.version&&e.hasOwnProperty("version")&&(n.version=u.kvrwset.Version.toObject(e.version,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.KVWrite=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.key="",e.prototype.isDelete=!1,e.prototype.value=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.key&&e.hasOwnProperty("key")&&t.uint32(10).string(e.key),null!=e.isDelete&&e.hasOwnProperty("isDelete")&&t.uint32(16).bool(e.isDelete),null!=e.value&&e.hasOwnProperty("value")&&t.uint32(26).bytes(e.value),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.kvrwset.KVWrite;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.key=e.string();break;case 2:r.isDelete=e.bool();break;case 3:r.value=e.bytes();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.key&&e.hasOwnProperty("key")&&!c.isString(e.key)?"key: string expected":null!=e.isDelete&&e.hasOwnProperty("isDelete")&&"boolean"!=typeof e.isDelete?"isDelete: boolean expected":null!=e.value&&e.hasOwnProperty("value")&&!(e.value&&"number"==typeof e.value.length||c.isString(e.value))?"value: buffer expected":null},e.fromObject=function(e){if(e instanceof u.kvrwset.KVWrite)return e;var t=new u.kvrwset.KVWrite;return null!=e.key&&(t.key=String(e.key)),null!=e.isDelete&&(t.isDelete=Boolean(e.isDelete)),null!=e.value&&("string"==typeof e.value?c.base64.decode(e.value,t.value=c.newBuffer(c.base64.length(e.value)),0):e.value.length&&(t.value=e.value)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.key="",n.isDelete=!1,n.value=t.bytes===String?"":[]),null!=e.key&&e.hasOwnProperty("key")&&(n.key=e.key),null!=e.isDelete&&e.hasOwnProperty("isDelete")&&(n.isDelete=e.isDelete),null!=e.value&&e.hasOwnProperty("value")&&(n.value=t.bytes===String?c.base64.encode(e.value,0,e.value.length):t.bytes===Array?Array.prototype.slice.call(e.value):e.value),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.KVMetadataWrite=function(){function e(e){if(this.entries=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.key="",e.prototype.entries=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.key&&e.hasOwnProperty("key")&&t.uint32(10).string(e.key),null!=e.entries&&e.entries.length)for(var n=0;n<e.entries.length;++n)u.kvrwset.KVMetadataEntry.encode(e.entries[n],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.kvrwset.KVMetadataWrite;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.key=e.string();break;case 2:r.entries&&r.entries.length||(r.entries=[]),r.entries.push(u.kvrwset.KVMetadataEntry.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.key&&e.hasOwnProperty("key")&&!c.isString(e.key))return"key: string expected";if(null!=e.entries&&e.hasOwnProperty("entries")){if(!Array.isArray(e.entries))return"entries: array expected";for(var t=0;t<e.entries.length;++t){var n=u.kvrwset.KVMetadataEntry.verify(e.entries[t]);if(n)return"entries."+n}}return null},e.fromObject=function(e){if(e instanceof u.kvrwset.KVMetadataWrite)return e;var t=new u.kvrwset.KVMetadataWrite;if(null!=e.key&&(t.key=String(e.key)),e.entries){if(!Array.isArray(e.entries))throw TypeError(".kvrwset.KVMetadataWrite.entries: array expected");t.entries=[];for(var n=0;n<e.entries.length;++n){if("object"!==r(e.entries[n]))throw TypeError(".kvrwset.KVMetadataWrite.entries: object expected");t.entries[n]=u.kvrwset.KVMetadataEntry.fromObject(e.entries[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.entries=[]),t.defaults&&(n.key=""),null!=e.key&&e.hasOwnProperty("key")&&(n.key=e.key),e.entries&&e.entries.length){n.entries=[];for(var r=0;r<e.entries.length;++r)n.entries[r]=u.kvrwset.KVMetadataEntry.toObject(e.entries[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.KVReadHash=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.keyHash=c.newBuffer([]),e.prototype.version=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.keyHash&&e.hasOwnProperty("keyHash")&&t.uint32(10).bytes(e.keyHash),null!=e.version&&e.hasOwnProperty("version")&&u.kvrwset.Version.encode(e.version,t.uint32(18).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.kvrwset.KVReadHash;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.keyHash=e.bytes();break;case 2:r.version=u.kvrwset.Version.decode(e,e.uint32());break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.keyHash&&e.hasOwnProperty("keyHash")&&!(e.keyHash&&"number"==typeof e.keyHash.length||c.isString(e.keyHash)))return"keyHash: buffer expected";if(null!=e.version&&e.hasOwnProperty("version")){var t=u.kvrwset.Version.verify(e.version);if(t)return"version."+t}return null},e.fromObject=function(e){if(e instanceof u.kvrwset.KVReadHash)return e;var t=new u.kvrwset.KVReadHash;if(null!=e.keyHash&&("string"==typeof e.keyHash?c.base64.decode(e.keyHash,t.keyHash=c.newBuffer(c.base64.length(e.keyHash)),0):e.keyHash.length&&(t.keyHash=e.keyHash)),null!=e.version){if("object"!==r(e.version))throw TypeError(".kvrwset.KVReadHash.version: object expected");t.version=u.kvrwset.Version.fromObject(e.version)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.keyHash=t.bytes===String?"":[],n.version=null),null!=e.keyHash&&e.hasOwnProperty("keyHash")&&(n.keyHash=t.bytes===String?c.base64.encode(e.keyHash,0,e.keyHash.length):t.bytes===Array?Array.prototype.slice.call(e.keyHash):e.keyHash),null!=e.version&&e.hasOwnProperty("version")&&(n.version=u.kvrwset.Version.toObject(e.version,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.KVWriteHash=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.keyHash=c.newBuffer([]),e.prototype.isDelete=!1,e.prototype.valueHash=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.keyHash&&e.hasOwnProperty("keyHash")&&t.uint32(10).bytes(e.keyHash),null!=e.isDelete&&e.hasOwnProperty("isDelete")&&t.uint32(16).bool(e.isDelete),null!=e.valueHash&&e.hasOwnProperty("valueHash")&&t.uint32(26).bytes(e.valueHash),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.kvrwset.KVWriteHash;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.keyHash=e.bytes();break;case 2:r.isDelete=e.bool();break;case 3:r.valueHash=e.bytes();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.keyHash&&e.hasOwnProperty("keyHash")&&!(e.keyHash&&"number"==typeof e.keyHash.length||c.isString(e.keyHash))?"keyHash: buffer expected":null!=e.isDelete&&e.hasOwnProperty("isDelete")&&"boolean"!=typeof e.isDelete?"isDelete: boolean expected":null!=e.valueHash&&e.hasOwnProperty("valueHash")&&!(e.valueHash&&"number"==typeof e.valueHash.length||c.isString(e.valueHash))?"valueHash: buffer expected":null},e.fromObject=function(e){if(e instanceof u.kvrwset.KVWriteHash)return e;var t=new u.kvrwset.KVWriteHash;return null!=e.keyHash&&("string"==typeof e.keyHash?c.base64.decode(e.keyHash,t.keyHash=c.newBuffer(c.base64.length(e.keyHash)),0):e.keyHash.length&&(t.keyHash=e.keyHash)),null!=e.isDelete&&(t.isDelete=Boolean(e.isDelete)),null!=e.valueHash&&("string"==typeof e.valueHash?c.base64.decode(e.valueHash,t.valueHash=c.newBuffer(c.base64.length(e.valueHash)),0):e.valueHash.length&&(t.valueHash=e.valueHash)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.keyHash=t.bytes===String?"":[],n.isDelete=!1,n.valueHash=t.bytes===String?"":[]),null!=e.keyHash&&e.hasOwnProperty("keyHash")&&(n.keyHash=t.bytes===String?c.base64.encode(e.keyHash,0,e.keyHash.length):t.bytes===Array?Array.prototype.slice.call(e.keyHash):e.keyHash),null!=e.isDelete&&e.hasOwnProperty("isDelete")&&(n.isDelete=e.isDelete),null!=e.valueHash&&e.hasOwnProperty("valueHash")&&(n.valueHash=t.bytes===String?c.base64.encode(e.valueHash,0,e.valueHash.length):t.bytes===Array?Array.prototype.slice.call(e.valueHash):e.valueHash),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.KVMetadataWriteHash=function(){function e(e){if(this.entries=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.keyHash=c.newBuffer([]),e.prototype.entries=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.keyHash&&e.hasOwnProperty("keyHash")&&t.uint32(10).bytes(e.keyHash),null!=e.entries&&e.entries.length)for(var n=0;n<e.entries.length;++n)u.kvrwset.KVMetadataEntry.encode(e.entries[n],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.kvrwset.KVMetadataWriteHash;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.keyHash=e.bytes();break;case 2:r.entries&&r.entries.length||(r.entries=[]),r.entries.push(u.kvrwset.KVMetadataEntry.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.keyHash&&e.hasOwnProperty("keyHash")&&!(e.keyHash&&"number"==typeof e.keyHash.length||c.isString(e.keyHash)))return"keyHash: buffer expected";if(null!=e.entries&&e.hasOwnProperty("entries")){if(!Array.isArray(e.entries))return"entries: array expected";for(var t=0;t<e.entries.length;++t){var n=u.kvrwset.KVMetadataEntry.verify(e.entries[t]);if(n)return"entries."+n}}return null},e.fromObject=function(e){if(e instanceof u.kvrwset.KVMetadataWriteHash)return e;var t=new u.kvrwset.KVMetadataWriteHash;if(null!=e.keyHash&&("string"==typeof e.keyHash?c.base64.decode(e.keyHash,t.keyHash=c.newBuffer(c.base64.length(e.keyHash)),0):e.keyHash.length&&(t.keyHash=e.keyHash)),e.entries){if(!Array.isArray(e.entries))throw TypeError(".kvrwset.KVMetadataWriteHash.entries: array expected");t.entries=[];for(var n=0;n<e.entries.length;++n){if("object"!==r(e.entries[n]))throw TypeError(".kvrwset.KVMetadataWriteHash.entries: object expected");t.entries[n]=u.kvrwset.KVMetadataEntry.fromObject(e.entries[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.entries=[]),t.defaults&&(n.keyHash=t.bytes===String?"":[]),null!=e.keyHash&&e.hasOwnProperty("keyHash")&&(n.keyHash=t.bytes===String?c.base64.encode(e.keyHash,0,e.keyHash.length):t.bytes===Array?Array.prototype.slice.call(e.keyHash):e.keyHash),e.entries&&e.entries.length){n.entries=[];for(var r=0;r<e.entries.length;++r)n.entries[r]=u.kvrwset.KVMetadataEntry.toObject(e.entries[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.KVMetadataEntry=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.value=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.name&&e.hasOwnProperty("name")&&t.uint32(10).string(e.name),null!=e.value&&e.hasOwnProperty("value")&&t.uint32(18).bytes(e.value),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.kvrwset.KVMetadataEntry;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.name=e.string();break;case 2:r.value=e.bytes();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.name&&e.hasOwnProperty("name")&&!c.isString(e.name)?"name: string expected":null!=e.value&&e.hasOwnProperty("value")&&!(e.value&&"number"==typeof e.value.length||c.isString(e.value))?"value: buffer expected":null},e.fromObject=function(e){if(e instanceof u.kvrwset.KVMetadataEntry)return e;var t=new u.kvrwset.KVMetadataEntry;return null!=e.name&&(t.name=String(e.name)),null!=e.value&&("string"==typeof e.value?c.base64.decode(e.value,t.value=c.newBuffer(c.base64.length(e.value)),0):e.value.length&&(t.value=e.value)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.name="",n.value=t.bytes===String?"":[]),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.value&&e.hasOwnProperty("value")&&(n.value=t.bytes===String?c.base64.encode(e.value,0,e.value.length):t.bytes===Array?Array.prototype.slice.call(e.value):e.value),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.Version=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.blockNum=c.Long?c.Long.fromBits(0,0,!0):0,e.prototype.txNum=c.Long?c.Long.fromBits(0,0,!0):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.blockNum&&e.hasOwnProperty("blockNum")&&t.uint32(8).uint64(e.blockNum),null!=e.txNum&&e.hasOwnProperty("txNum")&&t.uint32(16).uint64(e.txNum),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.kvrwset.Version;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.blockNum=e.uint64();break;case 2:r.txNum=e.uint64();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.blockNum&&e.hasOwnProperty("blockNum")&&!(c.isInteger(e.blockNum)||e.blockNum&&c.isInteger(e.blockNum.low)&&c.isInteger(e.blockNum.high))?"blockNum: integer|Long expected":null!=e.txNum&&e.hasOwnProperty("txNum")&&!(c.isInteger(e.txNum)||e.txNum&&c.isInteger(e.txNum.low)&&c.isInteger(e.txNum.high))?"txNum: integer|Long expected":null},e.fromObject=function(e){if(e instanceof u.kvrwset.Version)return e;var t=new u.kvrwset.Version;return null!=e.blockNum&&(c.Long?(t.blockNum=c.Long.fromValue(e.blockNum)).unsigned=!0:"string"==typeof e.blockNum?t.blockNum=parseInt(e.blockNum,10):"number"==typeof e.blockNum?t.blockNum=e.blockNum:"object"===r(e.blockNum)&&(t.blockNum=new c.LongBits(e.blockNum.low>>>0,e.blockNum.high>>>0).toNumber(!0))),null!=e.txNum&&(c.Long?(t.txNum=c.Long.fromValue(e.txNum)).unsigned=!0:"string"==typeof e.txNum?t.txNum=parseInt(e.txNum,10):"number"==typeof e.txNum?t.txNum=e.txNum:"object"===r(e.txNum)&&(t.txNum=new c.LongBits(e.txNum.low>>>0,e.txNum.high>>>0).toNumber(!0))),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(c.Long){var r=new c.Long(0,0,!0);n.blockNum=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.blockNum=t.longs===String?"0":0;if(c.Long){var i=new c.Long(0,0,!0);n.txNum=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.txNum=t.longs===String?"0":0}return null!=e.blockNum&&e.hasOwnProperty("blockNum")&&("number"==typeof e.blockNum?n.blockNum=t.longs===String?String(e.blockNum):e.blockNum:n.blockNum=t.longs===String?c.Long.prototype.toString.call(e.blockNum):t.longs===Number?new c.LongBits(e.blockNum.low>>>0,e.blockNum.high>>>0).toNumber(!0):e.blockNum),null!=e.txNum&&e.hasOwnProperty("txNum")&&("number"==typeof e.txNum?n.txNum=t.longs===String?String(e.txNum):e.txNum:n.txNum=t.longs===String?c.Long.prototype.toString.call(e.txNum):t.longs===Number?new c.LongBits(e.txNum.low>>>0,e.txNum.high>>>0).toNumber(!0):e.txNum),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.RangeQueryInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}e.prototype.startKey="",e.prototype.endKey="",e.prototype.itrExhausted=!1,e.prototype.rawReads=null,e.prototype.readsMerkleHashes=null;var t=void 0;return Object.defineProperty(e.prototype,"readsInfo",{get:c.oneOfGetter(t=["rawReads","readsMerkleHashes"]),set:c.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.startKey&&e.hasOwnProperty("startKey")&&t.uint32(10).string(e.startKey),null!=e.endKey&&e.hasOwnProperty("endKey")&&t.uint32(18).string(e.endKey),null!=e.itrExhausted&&e.hasOwnProperty("itrExhausted")&&t.uint32(24).bool(e.itrExhausted),null!=e.rawReads&&e.hasOwnProperty("rawReads")&&u.kvrwset.QueryReads.encode(e.rawReads,t.uint32(34).fork()).ldelim(),null!=e.readsMerkleHashes&&e.hasOwnProperty("readsMerkleHashes")&&u.kvrwset.QueryReadsMerkleSummary.encode(e.readsMerkleHashes,t.uint32(42).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.kvrwset.RangeQueryInfo;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.startKey=e.string();break;case 2:r.endKey=e.string();break;case 3:r.itrExhausted=e.bool();break;case 4:r.rawReads=u.kvrwset.QueryReads.decode(e,e.uint32());break;case 5:r.readsMerkleHashes=u.kvrwset.QueryReadsMerkleSummary.decode(e,e.uint32());break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";var t={};if(null!=e.startKey&&e.hasOwnProperty("startKey")&&!c.isString(e.startKey))return"startKey: string expected";if(null!=e.endKey&&e.hasOwnProperty("endKey")&&!c.isString(e.endKey))return"endKey: string expected";if(null!=e.itrExhausted&&e.hasOwnProperty("itrExhausted")&&"boolean"!=typeof e.itrExhausted)return"itrExhausted: boolean expected";if(null!=e.rawReads&&e.hasOwnProperty("rawReads")){t.readsInfo=1;var n=u.kvrwset.QueryReads.verify(e.rawReads);if(n)return"rawReads."+n}if(null!=e.readsMerkleHashes&&e.hasOwnProperty("readsMerkleHashes")){if(1===t.readsInfo)return"readsInfo: multiple values";t.readsInfo=1;var i=u.kvrwset.QueryReadsMerkleSummary.verify(e.readsMerkleHashes);if(i)return"readsMerkleHashes."+i}return null},e.fromObject=function(e){if(e instanceof u.kvrwset.RangeQueryInfo)return e;var t=new u.kvrwset.RangeQueryInfo;if(null!=e.startKey&&(t.startKey=String(e.startKey)),null!=e.endKey&&(t.endKey=String(e.endKey)),null!=e.itrExhausted&&(t.itrExhausted=Boolean(e.itrExhausted)),null!=e.rawReads){if("object"!==r(e.rawReads))throw TypeError(".kvrwset.RangeQueryInfo.rawReads: object expected");t.rawReads=u.kvrwset.QueryReads.fromObject(e.rawReads)}if(null!=e.readsMerkleHashes){if("object"!==r(e.readsMerkleHashes))throw TypeError(".kvrwset.RangeQueryInfo.readsMerkleHashes: object expected");t.readsMerkleHashes=u.kvrwset.QueryReadsMerkleSummary.fromObject(e.readsMerkleHashes)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.startKey="",n.endKey="",n.itrExhausted=!1),null!=e.startKey&&e.hasOwnProperty("startKey")&&(n.startKey=e.startKey),null!=e.endKey&&e.hasOwnProperty("endKey")&&(n.endKey=e.endKey),null!=e.itrExhausted&&e.hasOwnProperty("itrExhausted")&&(n.itrExhausted=e.itrExhausted),null!=e.rawReads&&e.hasOwnProperty("rawReads")&&(n.rawReads=u.kvrwset.QueryReads.toObject(e.rawReads,t),t.oneofs&&(n.readsInfo="rawReads")),null!=e.readsMerkleHashes&&e.hasOwnProperty("readsMerkleHashes")&&(n.readsMerkleHashes=u.kvrwset.QueryReadsMerkleSummary.toObject(e.readsMerkleHashes,t),t.oneofs&&(n.readsInfo="readsMerkleHashes")),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.QueryReads=function(){function e(e){if(this.kvReads=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.kvReads=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.kvReads&&e.kvReads.length)for(var n=0;n<e.kvReads.length;++n)u.kvrwset.KVRead.encode(e.kvReads[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.kvrwset.QueryReads;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.kvReads&&r.kvReads.length||(r.kvReads=[]),r.kvReads.push(u.kvrwset.KVRead.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.kvReads&&e.hasOwnProperty("kvReads")){if(!Array.isArray(e.kvReads))return"kvReads: array expected";for(var t=0;t<e.kvReads.length;++t){var n=u.kvrwset.KVRead.verify(e.kvReads[t]);if(n)return"kvReads."+n}}return null},e.fromObject=function(e){if(e instanceof u.kvrwset.QueryReads)return e;var t=new u.kvrwset.QueryReads;if(e.kvReads){if(!Array.isArray(e.kvReads))throw TypeError(".kvrwset.QueryReads.kvReads: array expected");t.kvReads=[];for(var n=0;n<e.kvReads.length;++n){if("object"!==r(e.kvReads[n]))throw TypeError(".kvrwset.QueryReads.kvReads: object expected");t.kvReads[n]=u.kvrwset.KVRead.fromObject(e.kvReads[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.kvReads=[]),e.kvReads&&e.kvReads.length){n.kvReads=[];for(var r=0;r<e.kvReads.length;++r)n.kvReads[r]=u.kvrwset.KVRead.toObject(e.kvReads[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.QueryReadsMerkleSummary=function(){function e(e){if(this.maxLevelHashes=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.maxDegree=0,e.prototype.maxLevel=0,e.prototype.maxLevelHashes=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.maxDegree&&e.hasOwnProperty("maxDegree")&&t.uint32(8).uint32(e.maxDegree),null!=e.maxLevel&&e.hasOwnProperty("maxLevel")&&t.uint32(16).uint32(e.maxLevel),null!=e.maxLevelHashes&&e.maxLevelHashes.length)for(var n=0;n<e.maxLevelHashes.length;++n)t.uint32(26).bytes(e.maxLevelHashes[n]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.kvrwset.QueryReadsMerkleSummary;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.maxDegree=e.uint32();break;case 2:r.maxLevel=e.uint32();break;case 3:r.maxLevelHashes&&r.maxLevelHashes.length||(r.maxLevelHashes=[]),r.maxLevelHashes.push(e.bytes());break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.maxDegree&&e.hasOwnProperty("maxDegree")&&!c.isInteger(e.maxDegree))return"maxDegree: integer expected";if(null!=e.maxLevel&&e.hasOwnProperty("maxLevel")&&!c.isInteger(e.maxLevel))return"maxLevel: integer expected";if(null!=e.maxLevelHashes&&e.hasOwnProperty("maxLevelHashes")){if(!Array.isArray(e.maxLevelHashes))return"maxLevelHashes: array expected";for(var t=0;t<e.maxLevelHashes.length;++t)if(!(e.maxLevelHashes[t]&&"number"==typeof e.maxLevelHashes[t].length||c.isString(e.maxLevelHashes[t])))return"maxLevelHashes: buffer[] expected"}return null},e.fromObject=function(e){if(e instanceof u.kvrwset.QueryReadsMerkleSummary)return e;var t=new u.kvrwset.QueryReadsMerkleSummary;if(null!=e.maxDegree&&(t.maxDegree=e.maxDegree>>>0),null!=e.maxLevel&&(t.maxLevel=e.maxLevel>>>0),e.maxLevelHashes){if(!Array.isArray(e.maxLevelHashes))throw TypeError(".kvrwset.QueryReadsMerkleSummary.maxLevelHashes: array expected");t.maxLevelHashes=[];for(var n=0;n<e.maxLevelHashes.length;++n)"string"==typeof e.maxLevelHashes[n]?c.base64.decode(e.maxLevelHashes[n],t.maxLevelHashes[n]=c.newBuffer(c.base64.length(e.maxLevelHashes[n])),0):e.maxLevelHashes[n].length&&(t.maxLevelHashes[n]=e.maxLevelHashes[n])}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.maxLevelHashes=[]),t.defaults&&(n.maxDegree=0,n.maxLevel=0),null!=e.maxDegree&&e.hasOwnProperty("maxDegree")&&(n.maxDegree=e.maxDegree),null!=e.maxLevel&&e.hasOwnProperty("maxLevel")&&(n.maxLevel=e.maxLevel),e.maxLevelHashes&&e.maxLevelHashes.length){n.maxLevelHashes=[];for(var r=0;r<e.maxLevelHashes.length;++r)n.maxLevelHashes[r]=t.bytes===String?c.base64.encode(e.maxLevelHashes[r],0,e.maxLevelHashes[r].length):t.bytes===Array?Array.prototype.slice.call(e.maxLevelHashes[r]):e.maxLevelHashes[r]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e}(),t.orderer=u.orderer=function(){var e={};return e.BroadcastResponse=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.status=0,e.prototype.info="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.status&&e.hasOwnProperty("status")&&t.uint32(8).int32(e.status),null!=e.info&&e.hasOwnProperty("info")&&t.uint32(18).string(e.info),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.orderer.BroadcastResponse;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.status=e.int32();break;case 2:r.info=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.status&&e.hasOwnProperty("status"))switch(e.status){default:return"status: enum value expected";case 0:case 200:case 400:case 403:case 404:case 413:case 500:case 501:case 503:}return null!=e.info&&e.hasOwnProperty("info")&&!c.isString(e.info)?"info: string expected":null},e.fromObject=function(e){if(e instanceof u.orderer.BroadcastResponse)return e;var t=new u.orderer.BroadcastResponse;switch(e.status){case"UNKNOWN":case 0:t.status=0;break;case"SUCCESS":case 200:t.status=200;break;case"BAD_REQUEST":case 400:t.status=400;break;case"FORBIDDEN":case 403:t.status=403;break;case"NOT_FOUND":case 404:t.status=404;break;case"REQUEST_ENTITY_TOO_LARGE":case 413:t.status=413;break;case"INTERNAL_SERVER_ERROR":case 500:t.status=500;break;case"NOT_IMPLEMENTED":case 501:t.status=501;break;case"SERVICE_UNAVAILABLE":case 503:t.status=503}return null!=e.info&&(t.info=String(e.info)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.status=t.enums===String?"UNKNOWN":0,n.info=""),null!=e.status&&e.hasOwnProperty("status")&&(n.status=t.enums===String?u.common.Status[e.status]:e.status),null!=e.info&&e.hasOwnProperty("info")&&(n.info=e.info),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.SeekNewest=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.orderer.SeekNewest;e.pos<n;){var i=e.uint32();e.skipType(7&i)}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof u.orderer.SeekNewest?e:new u.orderer.SeekNewest},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.SeekOldest=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.orderer.SeekOldest;e.pos<n;){var i=e.uint32();e.skipType(7&i)}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof u.orderer.SeekOldest?e:new u.orderer.SeekOldest},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.SeekSpecified=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.number=c.Long?c.Long.fromBits(0,0,!0):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.number&&e.hasOwnProperty("number")&&t.uint32(8).uint64(e.number),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.orderer.SeekSpecified;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.number=e.uint64();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.number&&e.hasOwnProperty("number")&&!(c.isInteger(e.number)||e.number&&c.isInteger(e.number.low)&&c.isInteger(e.number.high))?"number: integer|Long expected":null},e.fromObject=function(e){if(e instanceof u.orderer.SeekSpecified)return e;var t=new u.orderer.SeekSpecified;return null!=e.number&&(c.Long?(t.number=c.Long.fromValue(e.number)).unsigned=!0:"string"==typeof e.number?t.number=parseInt(e.number,10):"number"==typeof e.number?t.number=e.number:"object"===r(e.number)&&(t.number=new c.LongBits(e.number.low>>>0,e.number.high>>>0).toNumber(!0))),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults)if(c.Long){var r=new c.Long(0,0,!0);n.number=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.number=t.longs===String?"0":0;return null!=e.number&&e.hasOwnProperty("number")&&("number"==typeof e.number?n.number=t.longs===String?String(e.number):e.number:n.number=t.longs===String?c.Long.prototype.toString.call(e.number):t.longs===Number?new c.LongBits(e.number.low>>>0,e.number.high>>>0).toNumber(!0):e.number),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.SeekPosition=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}e.prototype.newest=null,e.prototype.oldest=null,e.prototype.specified=null;var t=void 0;return Object.defineProperty(e.prototype,"Type",{get:c.oneOfGetter(t=["newest","oldest","specified"]),set:c.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.newest&&e.hasOwnProperty("newest")&&u.orderer.SeekNewest.encode(e.newest,t.uint32(10).fork()).ldelim(),null!=e.oldest&&e.hasOwnProperty("oldest")&&u.orderer.SeekOldest.encode(e.oldest,t.uint32(18).fork()).ldelim(),null!=e.specified&&e.hasOwnProperty("specified")&&u.orderer.SeekSpecified.encode(e.specified,t.uint32(26).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.orderer.SeekPosition;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.newest=u.orderer.SeekNewest.decode(e,e.uint32());break;case 2:r.oldest=u.orderer.SeekOldest.decode(e,e.uint32());break;case 3:r.specified=u.orderer.SeekSpecified.decode(e,e.uint32());break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";var t={};if(null!=e.newest&&e.hasOwnProperty("newest")){t.Type=1;var n=u.orderer.SeekNewest.verify(e.newest);if(n)return"newest."+n}if(null!=e.oldest&&e.hasOwnProperty("oldest")){if(1===t.Type)return"Type: multiple values";t.Type=1;var i=u.orderer.SeekOldest.verify(e.oldest);if(i)return"oldest."+i}if(null!=e.specified&&e.hasOwnProperty("specified")){if(1===t.Type)return"Type: multiple values";t.Type=1;var o=u.orderer.SeekSpecified.verify(e.specified);if(o)return"specified."+o}return null},e.fromObject=function(e){if(e instanceof u.orderer.SeekPosition)return e;var t=new u.orderer.SeekPosition;if(null!=e.newest){if("object"!==r(e.newest))throw TypeError(".orderer.SeekPosition.newest: object expected");t.newest=u.orderer.SeekNewest.fromObject(e.newest)}if(null!=e.oldest){if("object"!==r(e.oldest))throw TypeError(".orderer.SeekPosition.oldest: object expected");t.oldest=u.orderer.SeekOldest.fromObject(e.oldest)}if(null!=e.specified){if("object"!==r(e.specified))throw TypeError(".orderer.SeekPosition.specified: object expected");t.specified=u.orderer.SeekSpecified.fromObject(e.specified)}return t},e.toObject=function(e,t){t||(t={});var n={};return null!=e.newest&&e.hasOwnProperty("newest")&&(n.newest=u.orderer.SeekNewest.toObject(e.newest,t),t.oneofs&&(n.Type="newest")),null!=e.oldest&&e.hasOwnProperty("oldest")&&(n.oldest=u.orderer.SeekOldest.toObject(e.oldest,t),t.oneofs&&(n.Type="oldest")),null!=e.specified&&e.hasOwnProperty("specified")&&(n.specified=u.orderer.SeekSpecified.toObject(e.specified,t),t.oneofs&&(n.Type="specified")),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.SeekInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.start=null,e.prototype.stop=null,e.prototype.behavior=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.start&&e.hasOwnProperty("start")&&u.orderer.SeekPosition.encode(e.start,t.uint32(10).fork()).ldelim(),null!=e.stop&&e.hasOwnProperty("stop")&&u.orderer.SeekPosition.encode(e.stop,t.uint32(18).fork()).ldelim(),null!=e.behavior&&e.hasOwnProperty("behavior")&&t.uint32(24).int32(e.behavior),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.orderer.SeekInfo;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.start=u.orderer.SeekPosition.decode(e,e.uint32());break;case 2:r.stop=u.orderer.SeekPosition.decode(e,e.uint32());break;case 3:r.behavior=e.int32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.start&&e.hasOwnProperty("start")){var t=u.orderer.SeekPosition.verify(e.start);if(t)return"start."+t}if(null!=e.stop&&e.hasOwnProperty("stop")){var n=u.orderer.SeekPosition.verify(e.stop);if(n)return"stop."+n}if(null!=e.behavior&&e.hasOwnProperty("behavior"))switch(e.behavior){default:return"behavior: enum value expected";case 0:case 1:}return null},e.fromObject=function(e){if(e instanceof u.orderer.SeekInfo)return e;var t=new u.orderer.SeekInfo;if(null!=e.start){if("object"!==r(e.start))throw TypeError(".orderer.SeekInfo.start: object expected");t.start=u.orderer.SeekPosition.fromObject(e.start)}if(null!=e.stop){if("object"!==r(e.stop))throw TypeError(".orderer.SeekInfo.stop: object expected");t.stop=u.orderer.SeekPosition.fromObject(e.stop)}switch(e.behavior){case"BLOCK_UNTIL_READY":case 0:t.behavior=0;break;case"FAIL_IF_NOT_READY":case 1:t.behavior=1}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.start=null,n.stop=null,n.behavior=t.enums===String?"BLOCK_UNTIL_READY":0),null!=e.start&&e.hasOwnProperty("start")&&(n.start=u.orderer.SeekPosition.toObject(e.start,t)),null!=e.stop&&e.hasOwnProperty("stop")&&(n.stop=u.orderer.SeekPosition.toObject(e.stop,t)),null!=e.behavior&&e.hasOwnProperty("behavior")&&(n.behavior=t.enums===String?u.orderer.SeekInfo.SeekBehavior[e.behavior]:e.behavior),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.SeekBehavior=function(){var e={},t=Object.create(e);return t[e[0]="BLOCK_UNTIL_READY"]=0,t[e[1]="FAIL_IF_NOT_READY"]=1,t}(),e}(),e.DeliverResponse=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}e.prototype.status=0,e.prototype.block=null;var t=void 0;return Object.defineProperty(e.prototype,"Type",{get:c.oneOfGetter(t=["status","block"]),set:c.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.status&&e.hasOwnProperty("status")&&t.uint32(8).int32(e.status),null!=e.block&&e.hasOwnProperty("block")&&u.common.Block.encode(e.block,t.uint32(18).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.orderer.DeliverResponse;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.status=e.int32();break;case 2:r.block=u.common.Block.decode(e,e.uint32());break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";var t={};if(null!=e.status&&e.hasOwnProperty("status"))switch(t.Type=1,e.status){default:return"status: enum value expected";case 0:case 200:case 400:case 403:case 404:case 413:case 500:case 501:case 503:}if(null!=e.block&&e.hasOwnProperty("block")){if(1===t.Type)return"Type: multiple values";t.Type=1;var n=u.common.Block.verify(e.block);if(n)return"block."+n}return null},e.fromObject=function(e){if(e instanceof u.orderer.DeliverResponse)return e;var t=new u.orderer.DeliverResponse;switch(e.status){case"UNKNOWN":case 0:t.status=0;break;case"SUCCESS":case 200:t.status=200;break;case"BAD_REQUEST":case 400:t.status=400;break;case"FORBIDDEN":case 403:t.status=403;break;case"NOT_FOUND":case 404:t.status=404;break;case"REQUEST_ENTITY_TOO_LARGE":case 413:t.status=413;break;case"INTERNAL_SERVER_ERROR":case 500:t.status=500;break;case"NOT_IMPLEMENTED":case 501:t.status=501;break;case"SERVICE_UNAVAILABLE":case 503:t.status=503}if(null!=e.block){if("object"!==r(e.block))throw TypeError(".orderer.DeliverResponse.block: object expected");t.block=u.common.Block.fromObject(e.block)}return t},e.toObject=function(e,t){t||(t={});var n={};return null!=e.status&&e.hasOwnProperty("status")&&(n.status=t.enums===String?u.common.Status[e.status]:e.status,t.oneofs&&(n.Type="status")),null!=e.block&&e.hasOwnProperty("block")&&(n.block=u.common.Block.toObject(e.block,t),t.oneofs&&(n.Type="block")),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.AtomicBroadcast=function(){function e(e,t,n){o.rpc.Service.call(this,e,t,n)}return(e.prototype=Object.create(o.rpc.Service.prototype)).constructor=e,e.create=function(e,t,n){return new this(e,t,n)},e.prototype.broadcast=function e(t,n){return this.rpcCall(e,u.common.Envelope,u.orderer.BroadcastResponse,t,n)},e.prototype.deliver=function e(t,n){return this.rpcCall(e,u.common.Envelope,u.orderer.DeliverResponse,t,n)},e}(),e.ConsensusType=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.type&&e.hasOwnProperty("type")&&t.uint32(10).string(e.type),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.orderer.ConsensusType;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.type=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.type&&e.hasOwnProperty("type")&&!c.isString(e.type)?"type: string expected":null},e.fromObject=function(e){if(e instanceof u.orderer.ConsensusType)return e;var t=new u.orderer.ConsensusType;return null!=e.type&&(t.type=String(e.type)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.type=""),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.BatchSize=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.maxMessageCount=0,e.prototype.absoluteMaxBytes=0,e.prototype.preferredMaxBytes=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.maxMessageCount&&e.hasOwnProperty("maxMessageCount")&&t.uint32(8).uint32(e.maxMessageCount),null!=e.absoluteMaxBytes&&e.hasOwnProperty("absoluteMaxBytes")&&t.uint32(16).uint32(e.absoluteMaxBytes),null!=e.preferredMaxBytes&&e.hasOwnProperty("preferredMaxBytes")&&t.uint32(24).uint32(e.preferredMaxBytes),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.orderer.BatchSize;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.maxMessageCount=e.uint32();break;case 2:r.absoluteMaxBytes=e.uint32();break;case 3:r.preferredMaxBytes=e.uint32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.maxMessageCount&&e.hasOwnProperty("maxMessageCount")&&!c.isInteger(e.maxMessageCount)?"maxMessageCount: integer expected":null!=e.absoluteMaxBytes&&e.hasOwnProperty("absoluteMaxBytes")&&!c.isInteger(e.absoluteMaxBytes)?"absoluteMaxBytes: integer expected":null!=e.preferredMaxBytes&&e.hasOwnProperty("preferredMaxBytes")&&!c.isInteger(e.preferredMaxBytes)?"preferredMaxBytes: integer expected":null},e.fromObject=function(e){if(e instanceof u.orderer.BatchSize)return e;var t=new u.orderer.BatchSize;return null!=e.maxMessageCount&&(t.maxMessageCount=e.maxMessageCount>>>0),null!=e.absoluteMaxBytes&&(t.absoluteMaxBytes=e.absoluteMaxBytes>>>0),null!=e.preferredMaxBytes&&(t.preferredMaxBytes=e.preferredMaxBytes>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.maxMessageCount=0,n.absoluteMaxBytes=0,n.preferredMaxBytes=0),null!=e.maxMessageCount&&e.hasOwnProperty("maxMessageCount")&&(n.maxMessageCount=e.maxMessageCount),null!=e.absoluteMaxBytes&&e.hasOwnProperty("absoluteMaxBytes")&&(n.absoluteMaxBytes=e.absoluteMaxBytes),null!=e.preferredMaxBytes&&e.hasOwnProperty("preferredMaxBytes")&&(n.preferredMaxBytes=e.preferredMaxBytes),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.BatchTimeout=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.timeout="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.timeout&&e.hasOwnProperty("timeout")&&t.uint32(10).string(e.timeout),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.orderer.BatchTimeout;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.timeout=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.timeout&&e.hasOwnProperty("timeout")&&!c.isString(e.timeout)?"timeout: string expected":null},e.fromObject=function(e){if(e instanceof u.orderer.BatchTimeout)return e;var t=new u.orderer.BatchTimeout;return null!=e.timeout&&(t.timeout=String(e.timeout)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.timeout=""),null!=e.timeout&&e.hasOwnProperty("timeout")&&(n.timeout=e.timeout),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.KafkaBrokers=function(){function e(e){if(this.brokers=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.brokers=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.brokers&&e.brokers.length)for(var n=0;n<e.brokers.length;++n)t.uint32(10).string(e.brokers[n]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.orderer.KafkaBrokers;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.brokers&&r.brokers.length||(r.brokers=[]),r.brokers.push(e.string());break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.brokers&&e.hasOwnProperty("brokers")){if(!Array.isArray(e.brokers))return"brokers: array expected";for(var t=0;t<e.brokers.length;++t)if(!c.isString(e.brokers[t]))return"brokers: string[] expected"}return null},e.fromObject=function(e){if(e instanceof u.orderer.KafkaBrokers)return e;var t=new u.orderer.KafkaBrokers;if(e.brokers){if(!Array.isArray(e.brokers))throw TypeError(".orderer.KafkaBrokers.brokers: array expected");t.brokers=[];for(var n=0;n<e.brokers.length;++n)t.brokers[n]=String(e.brokers[n])}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.brokers=[]),e.brokers&&e.brokers.length){n.brokers=[];for(var r=0;r<e.brokers.length;++r)n.brokers[r]=e.brokers[r]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.ChannelRestrictions=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.maxCount=c.Long?c.Long.fromBits(0,0,!0):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.maxCount&&e.hasOwnProperty("maxCount")&&t.uint32(8).uint64(e.maxCount),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.orderer.ChannelRestrictions;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.maxCount=e.uint64();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.maxCount&&e.hasOwnProperty("maxCount")&&!(c.isInteger(e.maxCount)||e.maxCount&&c.isInteger(e.maxCount.low)&&c.isInteger(e.maxCount.high))?"maxCount: integer|Long expected":null},e.fromObject=function(e){if(e instanceof u.orderer.ChannelRestrictions)return e;var t=new u.orderer.ChannelRestrictions;return null!=e.maxCount&&(c.Long?(t.maxCount=c.Long.fromValue(e.maxCount)).unsigned=!0:"string"==typeof e.maxCount?t.maxCount=parseInt(e.maxCount,10):"number"==typeof e.maxCount?t.maxCount=e.maxCount:"object"===r(e.maxCount)&&(t.maxCount=new c.LongBits(e.maxCount.low>>>0,e.maxCount.high>>>0).toNumber(!0))),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults)if(c.Long){var r=new c.Long(0,0,!0);n.maxCount=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.maxCount=t.longs===String?"0":0;return null!=e.maxCount&&e.hasOwnProperty("maxCount")&&("number"==typeof e.maxCount?n.maxCount=t.longs===String?String(e.maxCount):e.maxCount:n.maxCount=t.longs===String?c.Long.prototype.toString.call(e.maxCount):t.longs===Number?new c.LongBits(e.maxCount.low>>>0,e.maxCount.high>>>0).toNumber(!0):e.maxCount),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e}(),t.protos=u.protos=function(){var e={};return e.ConfidentialityLevel=function(){var e={},t=Object.create(e);return t[e[0]="PUBLIC"]=0,t[e[1]="CONFIDENTIAL"]=1,t}(),e.ChaincodeID=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.path="",e.prototype.name="",e.prototype.version="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.path&&e.hasOwnProperty("path")&&t.uint32(10).string(e.path),null!=e.name&&e.hasOwnProperty("name")&&t.uint32(18).string(e.name),null!=e.version&&e.hasOwnProperty("version")&&t.uint32(26).string(e.version),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.protos.ChaincodeID;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.path=e.string();break;case 2:r.name=e.string();break;case 3:r.version=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.path&&e.hasOwnProperty("path")&&!c.isString(e.path)?"path: string expected":null!=e.name&&e.hasOwnProperty("name")&&!c.isString(e.name)?"name: string expected":null!=e.version&&e.hasOwnProperty("version")&&!c.isString(e.version)?"version: string expected":null},e.fromObject=function(e){if(e instanceof u.protos.ChaincodeID)return e;var t=new u.protos.ChaincodeID;return null!=e.path&&(t.path=String(e.path)),null!=e.name&&(t.name=String(e.name)),null!=e.version&&(t.version=String(e.version)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.path="",n.name="",n.version=""),null!=e.path&&e.hasOwnProperty("path")&&(n.path=e.path),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.version&&e.hasOwnProperty("version")&&(n.version=e.version),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.ChaincodeInput=function(){function e(e){if(this.args=[],this.decorations={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.args=c.emptyArray,e.prototype.decorations=c.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.args&&e.args.length)for(var n=0;n<e.args.length;++n)t.uint32(10).bytes(e.args[n]);if(null!=e.decorations&&e.hasOwnProperty("decorations"))for(var r=Object.keys(e.decorations),i=0;i<r.length;++i)t.uint32(18).fork().uint32(10).string(r[i]).uint32(18).bytes(e.decorations[r[i]]).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.protos.ChaincodeInput,i=void 0;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.args&&r.args.length||(r.args=[]),r.args.push(e.bytes());break;case 2:e.skip().pos++,r.decorations===c.emptyObject&&(r.decorations={}),i=e.string(),e.pos++,r.decorations[i]=e.bytes();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.args&&e.hasOwnProperty("args")){if(!Array.isArray(e.args))return"args: array expected";for(var t=0;t<e.args.length;++t)if(!(e.args[t]&&"number"==typeof e.args[t].length||c.isString(e.args[t])))return"args: buffer[] expected"}if(null!=e.decorations&&e.hasOwnProperty("decorations")){if(!c.isObject(e.decorations))return"decorations: object expected";for(var n=Object.keys(e.decorations),i=0;i<n.length;++i)if(!(e.decorations[n[i]]&&"number"==typeof e.decorations[n[i]].length||c.isString(e.decorations[n[i]])))return"decorations: buffer{k:string} expected"}return null},e.fromObject=function(e){if(e instanceof u.protos.ChaincodeInput)return e;var t=new u.protos.ChaincodeInput;if(e.args){if(!Array.isArray(e.args))throw TypeError(".protos.ChaincodeInput.args: array expected");t.args=[];for(var n=0;n<e.args.length;++n)"string"==typeof e.args[n]?c.base64.decode(e.args[n],t.args[n]=c.newBuffer(c.base64.length(e.args[n])),0):e.args[n].length&&(t.args[n]=e.args[n])}if(e.decorations){if("object"!==r(e.decorations))throw TypeError(".protos.ChaincodeInput.decorations: object expected");t.decorations={};for(var i=Object.keys(e.decorations),o=0;o<i.length;++o)"string"==typeof e.decorations[i[o]]?c.base64.decode(e.decorations[i[o]],t.decorations[i[o]]=c.newBuffer(c.base64.length(e.decorations[i[o]])),0):e.decorations[i[o]].length&&(t.decorations[i[o]]=e.decorations[i[o]])}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.args=[]),(t.objects||t.defaults)&&(n.decorations={}),e.args&&e.args.length){n.args=[];for(var r=0;r<e.args.length;++r)n.args[r]=t.bytes===String?c.base64.encode(e.args[r],0,e.args[r].length):t.bytes===Array?Array.prototype.slice.call(e.args[r]):e.args[r]}var i=void 0;if(e.decorations&&(i=Object.keys(e.decorations)).length){n.decorations={};for(var o=0;o<i.length;++o)n.decorations[i[o]]=t.bytes===String?c.base64.encode(e.decorations[i[o]],0,e.decorations[i[o]].length):t.bytes===Array?Array.prototype.slice.call(e.decorations[i[o]]):e.decorations[i[o]]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.ChaincodeSpec=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.chaincodeId=null,e.prototype.input=null,e.prototype.timeout=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.type&&e.hasOwnProperty("type")&&t.uint32(8).int32(e.type),null!=e.chaincodeId&&e.hasOwnProperty("chaincodeId")&&u.protos.ChaincodeID.encode(e.chaincodeId,t.uint32(18).fork()).ldelim(),null!=e.input&&e.hasOwnProperty("input")&&u.protos.ChaincodeInput.encode(e.input,t.uint32(26).fork()).ldelim(),null!=e.timeout&&e.hasOwnProperty("timeout")&&t.uint32(32).int32(e.timeout),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.protos.ChaincodeSpec;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.type=e.int32();break;case 2:r.chaincodeId=u.protos.ChaincodeID.decode(e,e.uint32());break;case 3:r.input=u.protos.ChaincodeInput.decode(e,e.uint32());break;case 4:r.timeout=e.int32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:}if(null!=e.chaincodeId&&e.hasOwnProperty("chaincodeId")){var t=u.protos.ChaincodeID.verify(e.chaincodeId);if(t)return"chaincodeId."+t}if(null!=e.input&&e.hasOwnProperty("input")){var n=u.protos.ChaincodeInput.verify(e.input);if(n)return"input."+n}return null!=e.timeout&&e.hasOwnProperty("timeout")&&!c.isInteger(e.timeout)?"timeout: integer expected":null},e.fromObject=function(e){if(e instanceof u.protos.ChaincodeSpec)return e;var t=new u.protos.ChaincodeSpec;switch(e.type){case"UNDEFINED":case 0:t.type=0;break;case"GOLANG":case 1:t.type=1;break;case"NODE":case 2:t.type=2;break;case"CAR":case 3:t.type=3;break;case"JAVA":case 4:t.type=4}if(null!=e.chaincodeId){if("object"!==r(e.chaincodeId))throw TypeError(".protos.ChaincodeSpec.chaincodeId: object expected");t.chaincodeId=u.protos.ChaincodeID.fromObject(e.chaincodeId)}if(null!=e.input){if("object"!==r(e.input))throw TypeError(".protos.ChaincodeSpec.input: object expected");t.input=u.protos.ChaincodeInput.fromObject(e.input)}return null!=e.timeout&&(t.timeout=0|e.timeout),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.type=t.enums===String?"UNDEFINED":0,n.chaincodeId=null,n.input=null,n.timeout=0),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?u.protos.ChaincodeSpec.Type[e.type]:e.type),null!=e.chaincodeId&&e.hasOwnProperty("chaincodeId")&&(n.chaincodeId=u.protos.ChaincodeID.toObject(e.chaincodeId,t)),null!=e.input&&e.hasOwnProperty("input")&&(n.input=u.protos.ChaincodeInput.toObject(e.input,t)),null!=e.timeout&&e.hasOwnProperty("timeout")&&(n.timeout=e.timeout),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.Type=function(){var e={},t=Object.create(e);return t[e[0]="UNDEFINED"]=0,t[e[1]="GOLANG"]=1,t[e[2]="NODE"]=2,t[e[3]="CAR"]=3,t[e[4]="JAVA"]=4,t}(),e}(),e.ChaincodeDeploymentSpec=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.chaincodeSpec=null,e.prototype.codePackage=c.newBuffer([]),e.prototype.execEnv=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.chaincodeSpec&&e.hasOwnProperty("chaincodeSpec")&&u.protos.ChaincodeSpec.encode(e.chaincodeSpec,t.uint32(10).fork()).ldelim(),null!=e.codePackage&&e.hasOwnProperty("codePackage")&&t.uint32(26).bytes(e.codePackage),null!=e.execEnv&&e.hasOwnProperty("execEnv")&&t.uint32(32).int32(e.execEnv),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.protos.ChaincodeDeploymentSpec;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.chaincodeSpec=u.protos.ChaincodeSpec.decode(e,e.uint32());break;case 3:r.codePackage=e.bytes();break;case 4:r.execEnv=e.int32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.chaincodeSpec&&e.hasOwnProperty("chaincodeSpec")){var t=u.protos.ChaincodeSpec.verify(e.chaincodeSpec);if(t)return"chaincodeSpec."+t}if(null!=e.codePackage&&e.hasOwnProperty("codePackage")&&!(e.codePackage&&"number"==typeof e.codePackage.length||c.isString(e.codePackage)))return"codePackage: buffer expected";if(null!=e.execEnv&&e.hasOwnProperty("execEnv"))switch(e.execEnv){default:return"execEnv: enum value expected";case 0:case 1:}return null},e.fromObject=function(e){if(e instanceof u.protos.ChaincodeDeploymentSpec)return e;var t=new u.protos.ChaincodeDeploymentSpec;if(null!=e.chaincodeSpec){if("object"!==r(e.chaincodeSpec))throw TypeError(".protos.ChaincodeDeploymentSpec.chaincodeSpec: object expected");t.chaincodeSpec=u.protos.ChaincodeSpec.fromObject(e.chaincodeSpec)}switch(null!=e.codePackage&&("string"==typeof e.codePackage?c.base64.decode(e.codePackage,t.codePackage=c.newBuffer(c.base64.length(e.codePackage)),0):e.codePackage.length&&(t.codePackage=e.codePackage)),e.execEnv){case"DOCKER":case 0:t.execEnv=0;break;case"SYSTEM":case 1:t.execEnv=1}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.chaincodeSpec=null,n.codePackage=t.bytes===String?"":[],n.execEnv=t.enums===String?"DOCKER":0),null!=e.chaincodeSpec&&e.hasOwnProperty("chaincodeSpec")&&(n.chaincodeSpec=u.protos.ChaincodeSpec.toObject(e.chaincodeSpec,t)),null!=e.codePackage&&e.hasOwnProperty("codePackage")&&(n.codePackage=t.bytes===String?c.base64.encode(e.codePackage,0,e.codePackage.length):t.bytes===Array?Array.prototype.slice.call(e.codePackage):e.codePackage),null!=e.execEnv&&e.hasOwnProperty("execEnv")&&(n.execEnv=t.enums===String?u.protos.ChaincodeDeploymentSpec.ExecutionEnvironment[e.execEnv]:e.execEnv),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e.ExecutionEnvironment=function(){var e={},t=Object.create(e);return t[e[0]="DOCKER"]=0,t[e[1]="SYSTEM"]=1,t}(),e}(),e.ChaincodeInvocationSpec=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.chaincodeSpec=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.chaincodeSpec&&e.hasOwnProperty("chaincodeSpec")&&u.protos.ChaincodeSpec.encode(e.chaincodeSpec,t.uint32(10).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.protos.ChaincodeInvocationSpec;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.chaincodeSpec=u.protos.ChaincodeSpec.decode(e,e.uint32());break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.chaincodeSpec&&e.hasOwnProperty("chaincodeSpec")){var t=u.protos.ChaincodeSpec.verify(e.chaincodeSpec);if(t)return"chaincodeSpec."+t}return null},e.fromObject=function(e){if(e instanceof u.protos.ChaincodeInvocationSpec)return e;var t=new u.protos.ChaincodeInvocationSpec;if(null!=e.chaincodeSpec){if("object"!==r(e.chaincodeSpec))throw TypeError(".protos.ChaincodeInvocationSpec.chaincodeSpec: object expected");t.chaincodeSpec=u.protos.ChaincodeSpec.fromObject(e.chaincodeSpec)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.chaincodeSpec=null),null!=e.chaincodeSpec&&e.hasOwnProperty("chaincodeSpec")&&(n.chaincodeSpec=u.protos.ChaincodeSpec.toObject(e.chaincodeSpec,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.LifecycleEvent=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.chaincodeName="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.chaincodeName&&e.hasOwnProperty("chaincodeName")&&t.uint32(10).string(e.chaincodeName),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.protos.LifecycleEvent;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.chaincodeName=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.chaincodeName&&e.hasOwnProperty("chaincodeName")&&!c.isString(e.chaincodeName)?"chaincodeName: string expected":null},e.fromObject=function(e){if(e instanceof u.protos.LifecycleEvent)return e;var t=new u.protos.LifecycleEvent;return null!=e.chaincodeName&&(t.chaincodeName=String(e.chaincodeName)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.chaincodeName=""),null!=e.chaincodeName&&e.hasOwnProperty("chaincodeName")&&(n.chaincodeName=e.chaincodeName),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.EventType=function(){var e={},t=Object.create(e);return t[e[0]="REGISTER"]=0,t[e[1]="BLOCK"]=1,t[e[2]="CHAINCODE"]=2,t[e[3]="REJECTION"]=3,t[e[4]="FILTEREDBLOCK"]=4,t}(),e.ChaincodeReg=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.chaincodeId="",e.prototype.eventName="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.chaincodeId&&e.hasOwnProperty("chaincodeId")&&t.uint32(10).string(e.chaincodeId),null!=e.eventName&&e.hasOwnProperty("eventName")&&t.uint32(18).string(e.eventName),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.protos.ChaincodeReg;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.chaincodeId=e.string();break;case 2:r.eventName=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.chaincodeId&&e.hasOwnProperty("chaincodeId")&&!c.isString(e.chaincodeId)?"chaincodeId: string expected":null!=e.eventName&&e.hasOwnProperty("eventName")&&!c.isString(e.eventName)?"eventName: string expected":null},e.fromObject=function(e){if(e instanceof u.protos.ChaincodeReg)return e;var t=new u.protos.ChaincodeReg;return null!=e.chaincodeId&&(t.chaincodeId=String(e.chaincodeId)),null!=e.eventName&&(t.eventName=String(e.eventName)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.chaincodeId="",n.eventName=""),null!=e.chaincodeId&&e.hasOwnProperty("chaincodeId")&&(n.chaincodeId=e.chaincodeId),null!=e.eventName&&e.hasOwnProperty("eventName")&&(n.eventName=e.eventName),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.Interest=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}e.prototype.eventType=0,e.prototype.chaincodeRegInfo=null,e.prototype.chainID="";var t=void 0;return Object.defineProperty(e.prototype,"RegInfo",{get:c.oneOfGetter(t=["chaincodeRegInfo"]),set:c.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.eventType&&e.hasOwnProperty("eventType")&&t.uint32(8).int32(e.eventType),null!=e.chaincodeRegInfo&&e.hasOwnProperty("chaincodeRegInfo")&&u.protos.ChaincodeReg.encode(e.chaincodeRegInfo,t.uint32(18).fork()).ldelim(),null!=e.chainID&&e.hasOwnProperty("chainID")&&t.uint32(26).string(e.chainID),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.protos.Interest;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.eventType=e.int32();break;case 2:r.chaincodeRegInfo=u.protos.ChaincodeReg.decode(e,e.uint32());break;case 3:r.chainID=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";var t={};if(null!=e.eventType&&e.hasOwnProperty("eventType"))switch(e.eventType){default:return"eventType: enum value expected";case 0:case 1:case 2:case 3:case 4:}if(null!=e.chaincodeRegInfo&&e.hasOwnProperty("chaincodeRegInfo")){t.RegInfo=1;var n=u.protos.ChaincodeReg.verify(e.chaincodeRegInfo);if(n)return"chaincodeRegInfo."+n}return null!=e.chainID&&e.hasOwnProperty("chainID")&&!c.isString(e.chainID)?"chainID: string expected":null},e.fromObject=function(e){if(e instanceof u.protos.Interest)return e;var t=new u.protos.Interest;switch(e.eventType){case"REGISTER":case 0:t.eventType=0;break;case"BLOCK":case 1:t.eventType=1;break;case"CHAINCODE":case 2:t.eventType=2;break;case"REJECTION":case 3:t.eventType=3;break;case"FILTEREDBLOCK":case 4:t.eventType=4}if(null!=e.chaincodeRegInfo){if("object"!==r(e.chaincodeRegInfo))throw TypeError(".protos.Interest.chaincodeRegInfo: object expected");t.chaincodeRegInfo=u.protos.ChaincodeReg.fromObject(e.chaincodeRegInfo)}return null!=e.chainID&&(t.chainID=String(e.chainID)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.eventType=t.enums===String?"REGISTER":0,n.chainID=""),null!=e.eventType&&e.hasOwnProperty("eventType")&&(n.eventType=t.enums===String?u.protos.EventType[e.eventType]:e.eventType),null!=e.chaincodeRegInfo&&e.hasOwnProperty("chaincodeRegInfo")&&(n.chaincodeRegInfo=u.protos.ChaincodeReg.toObject(e.chaincodeRegInfo,t),t.oneofs&&(n.RegInfo="chaincodeRegInfo")),null!=e.chainID&&e.hasOwnProperty("chainID")&&(n.chainID=e.chainID),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.Register=function(){function e(e){if(this.events=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.events=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.events&&e.events.length)for(var n=0;n<e.events.length;++n)u.protos.Interest.encode(e.events[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.protos.Register;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.events&&r.events.length||(r.events=[]),r.events.push(u.protos.Interest.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.events&&e.hasOwnProperty("events")){if(!Array.isArray(e.events))return"events: array expected";for(var t=0;t<e.events.length;++t){var n=u.protos.Interest.verify(e.events[t]);if(n)return"events."+n}}return null},e.fromObject=function(e){if(e instanceof u.protos.Register)return e;var t=new u.protos.Register;if(e.events){if(!Array.isArray(e.events))throw TypeError(".protos.Register.events: array expected");t.events=[];for(var n=0;n<e.events.length;++n){if("object"!==r(e.events[n]))throw TypeError(".protos.Register.events: object expected");t.events[n]=u.protos.Interest.fromObject(e.events[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.events=[]),e.events&&e.events.length){n.events=[];for(var r=0;r<e.events.length;++r)n.events[r]=u.protos.Interest.toObject(e.events[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.Rejection=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.tx=null,e.prototype.errorMsg="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.tx&&e.hasOwnProperty("tx")&&u.protos.Transaction.encode(e.tx,t.uint32(10).fork()).ldelim(),null!=e.errorMsg&&e.hasOwnProperty("errorMsg")&&t.uint32(18).string(e.errorMsg),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.protos.Rejection;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.tx=u.protos.Transaction.decode(e,e.uint32());break;case 2:r.errorMsg=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.tx&&e.hasOwnProperty("tx")){var t=u.protos.Transaction.verify(e.tx);if(t)return"tx."+t}return null!=e.errorMsg&&e.hasOwnProperty("errorMsg")&&!c.isString(e.errorMsg)?"errorMsg: string expected":null},e.fromObject=function(e){if(e instanceof u.protos.Rejection)return e;var t=new u.protos.Rejection;if(null!=e.tx){if("object"!==r(e.tx))throw TypeError(".protos.Rejection.tx: object expected");t.tx=u.protos.Transaction.fromObject(e.tx)}return null!=e.errorMsg&&(t.errorMsg=String(e.errorMsg)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.tx=null,n.errorMsg=""),null!=e.tx&&e.hasOwnProperty("tx")&&(n.tx=u.protos.Transaction.toObject(e.tx,t)),null!=e.errorMsg&&e.hasOwnProperty("errorMsg")&&(n.errorMsg=e.errorMsg),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.Unregister=function(){function e(e){if(this.events=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.events=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.events&&e.events.length)for(var n=0;n<e.events.length;++n)u.protos.Interest.encode(e.events[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.protos.Unregister;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.events&&r.events.length||(r.events=[]),r.events.push(u.protos.Interest.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.events&&e.hasOwnProperty("events")){if(!Array.isArray(e.events))return"events: array expected";for(var t=0;t<e.events.length;++t){var n=u.protos.Interest.verify(e.events[t]);if(n)return"events."+n}}return null},e.fromObject=function(e){if(e instanceof u.protos.Unregister)return e;var t=new u.protos.Unregister;if(e.events){if(!Array.isArray(e.events))throw TypeError(".protos.Unregister.events: array expected");t.events=[];for(var n=0;n<e.events.length;++n){if("object"!==r(e.events[n]))throw TypeError(".protos.Unregister.events: object expected");t.events[n]=u.protos.Interest.fromObject(e.events[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.events=[]),e.events&&e.events.length){n.events=[];for(var r=0;r<e.events.length;++r)n.events[r]=u.protos.Interest.toObject(e.events[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.FilteredBlock=function(){function e(e){if(this.filteredTransactions=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.channelId="",e.prototype.number=c.Long?c.Long.fromBits(0,0,!0):0,e.prototype.filteredTransactions=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.channelId&&e.hasOwnProperty("channelId")&&t.uint32(10).string(e.channelId),null!=e.number&&e.hasOwnProperty("number")&&t.uint32(16).uint64(e.number),null!=e.filteredTransactions&&e.filteredTransactions.length)for(var n=0;n<e.filteredTransactions.length;++n)u.protos.FilteredTransaction.encode(e.filteredTransactions[n],t.uint32(34).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.protos.FilteredBlock;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.channelId=e.string();break;case 2:r.number=e.uint64();break;case 4:r.filteredTransactions&&r.filteredTransactions.length||(r.filteredTransactions=[]),r.filteredTransactions.push(u.protos.FilteredTransaction.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.channelId&&e.hasOwnProperty("channelId")&&!c.isString(e.channelId))return"channelId: string expected";if(null!=e.number&&e.hasOwnProperty("number")&&!(c.isInteger(e.number)||e.number&&c.isInteger(e.number.low)&&c.isInteger(e.number.high)))return"number: integer|Long expected";if(null!=e.filteredTransactions&&e.hasOwnProperty("filteredTransactions")){if(!Array.isArray(e.filteredTransactions))return"filteredTransactions: array expected";for(var t=0;t<e.filteredTransactions.length;++t){var n=u.protos.FilteredTransaction.verify(e.filteredTransactions[t]);if(n)return"filteredTransactions."+n}}return null},e.fromObject=function(e){if(e instanceof u.protos.FilteredBlock)return e;var t=new u.protos.FilteredBlock;if(null!=e.channelId&&(t.channelId=String(e.channelId)),null!=e.number&&(c.Long?(t.number=c.Long.fromValue(e.number)).unsigned=!0:"string"==typeof e.number?t.number=parseInt(e.number,10):"number"==typeof e.number?t.number=e.number:"object"===r(e.number)&&(t.number=new c.LongBits(e.number.low>>>0,e.number.high>>>0).toNumber(!0))),e.filteredTransactions){if(!Array.isArray(e.filteredTransactions))throw TypeError(".protos.FilteredBlock.filteredTransactions: array expected");t.filteredTransactions=[];for(var n=0;n<e.filteredTransactions.length;++n){if("object"!==r(e.filteredTransactions[n]))throw TypeError(".protos.FilteredBlock.filteredTransactions: object expected");t.filteredTransactions[n]=u.protos.FilteredTransaction.fromObject(e.filteredTransactions[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.filteredTransactions=[]),t.defaults)if(n.channelId="",c.Long){var r=new c.Long(0,0,!0);n.number=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.number=t.longs===String?"0":0;if(null!=e.channelId&&e.hasOwnProperty("channelId")&&(n.channelId=e.channelId),null!=e.number&&e.hasOwnProperty("number")&&("number"==typeof e.number?n.number=t.longs===String?String(e.number):e.number:n.number=t.longs===String?c.Long.prototype.toString.call(e.number):t.longs===Number?new c.LongBits(e.number.low>>>0,e.number.high>>>0).toNumber(!0):e.number),e.filteredTransactions&&e.filteredTransactions.length){n.filteredTransactions=[];for(var i=0;i<e.filteredTransactions.length;++i)n.filteredTransactions[i]=u.protos.FilteredTransaction.toObject(e.filteredTransactions[i],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.FilteredTransaction=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}e.prototype.txid="",e.prototype.type=0,e.prototype.txValidationCode=0,e.prototype.transactionActions=null;var t=void 0;return Object.defineProperty(e.prototype,"Data",{get:c.oneOfGetter(t=["transactionActions"]),set:c.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.txid&&e.hasOwnProperty("txid")&&t.uint32(10).string(e.txid),null!=e.type&&e.hasOwnProperty("type")&&t.uint32(16).int32(e.type),null!=e.txValidationCode&&e.hasOwnProperty("txValidationCode")&&t.uint32(24).int32(e.txValidationCode),null!=e.transactionActions&&e.hasOwnProperty("transactionActions")&&u.protos.FilteredTransactionActions.encode(e.transactionActions,t.uint32(34).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.protos.FilteredTransaction;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.txid=e.string();break;case 2:r.type=e.int32();break;case 3:r.txValidationCode=e.int32();break;case 4:r.transactionActions=u.protos.FilteredTransactionActions.decode(e,e.uint32());break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";var t={};if(null!=e.txid&&e.hasOwnProperty("txid")&&!c.isString(e.txid))return"txid: string expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 8:}if(null!=e.txValidationCode&&e.hasOwnProperty("txValidationCode"))switch(e.txValidationCode){default:return"txValidationCode: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 254:case 255:}if(null!=e.transactionActions&&e.hasOwnProperty("transactionActions")){t.Data=1;var n=u.protos.FilteredTransactionActions.verify(e.transactionActions);if(n)return"transactionActions."+n}return null},e.fromObject=function(e){if(e instanceof u.protos.FilteredTransaction)return e;var t=new u.protos.FilteredTransaction;switch(null!=e.txid&&(t.txid=String(e.txid)),e.type){case"MESSAGE":case 0:t.type=0;break;case"CONFIG":case 1:t.type=1;break;case"CONFIG_UPDATE":case 2:t.type=2;break;case"ENDORSER_TRANSACTION":case 3:t.type=3;break;case"ORDERER_TRANSACTION":case 4:t.type=4;break;case"DELIVER_SEEK_INFO":case 5:t.type=5;break;case"CHAINCODE_PACKAGE":case 6:t.type=6;break;case"PEER_ADMIN_OPERATION":case 8:t.type=8}switch(e.txValidationCode){case"VALID":case 0:t.txValidationCode=0;break;case"NIL_ENVELOPE":case 1:t.txValidationCode=1;break;case"BAD_PAYLOAD":case 2:t.txValidationCode=2;break;case"BAD_COMMON_HEADER":case 3:t.txValidationCode=3;break;case"BAD_CREATOR_SIGNATURE":case 4:t.txValidationCode=4;break;case"INVALID_ENDORSER_TRANSACTION":case 5:t.txValidationCode=5;break;case"INVALID_CONFIG_TRANSACTION":case 6:t.txValidationCode=6;break;case"UNSUPPORTED_TX_PAYLOAD":case 7:t.txValidationCode=7;break;case"BAD_PROPOSAL_TXID":case 8:t.txValidationCode=8;break;case"DUPLICATE_TXID":case 9:t.txValidationCode=9;break;case"ENDORSEMENT_POLICY_FAILURE":case 10:t.txValidationCode=10;break;case"MVCC_READ_CONFLICT":case 11:t.txValidationCode=11;break;case"PHANTOM_READ_CONFLICT":case 12:t.txValidationCode=12;break;case"UNKNOWN_TX_TYPE":case 13:t.txValidationCode=13;break;case"TARGET_CHAIN_NOT_FOUND":case 14:t.txValidationCode=14;break;case"MARSHAL_TX_ERROR":case 15:t.txValidationCode=15;break;case"NIL_TXACTION":case 16:t.txValidationCode=16;break;case"EXPIRED_CHAINCODE":case 17:t.txValidationCode=17;break;case"CHAINCODE_VERSION_CONFLICT":case 18:t.txValidationCode=18;break;case"BAD_HEADER_EXTENSION":case 19:t.txValidationCode=19;break;case"BAD_CHANNEL_HEADER":case 20:t.txValidationCode=20;break;case"BAD_RESPONSE_PAYLOAD":case 21:t.txValidationCode=21;break;case"BAD_RWSET":case 22:t.txValidationCode=22;break;case"ILLEGAL_WRITESET":case 23:t.txValidationCode=23;break;case"NOT_VALIDATED":case 254:t.txValidationCode=254;break;case"INVALID_OTHER_REASON":case 255:t.txValidationCode=255}if(null!=e.transactionActions){if("object"!==r(e.transactionActions))throw TypeError(".protos.FilteredTransaction.transactionActions: object expected");t.transactionActions=u.protos.FilteredTransactionActions.fromObject(e.transactionActions)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.txid="",n.type=t.enums===String?"MESSAGE":0,n.txValidationCode=t.enums===String?"VALID":0),null!=e.txid&&e.hasOwnProperty("txid")&&(n.txid=e.txid),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?u.common.HeaderType[e.type]:e.type),null!=e.txValidationCode&&e.hasOwnProperty("txValidationCode")&&(n.txValidationCode=t.enums===String?u.protos.TxValidationCode[e.txValidationCode]:e.txValidationCode),null!=e.transactionActions&&e.hasOwnProperty("transactionActions")&&(n.transactionActions=u.protos.FilteredTransactionActions.toObject(e.transactionActions,t),t.oneofs&&(n.Data="transactionActions")),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.FilteredTransactionActions=function(){function e(e){if(this.chaincodeActions=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.chaincodeActions=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.chaincodeActions&&e.chaincodeActions.length)for(var n=0;n<e.chaincodeActions.length;++n)u.protos.FilteredChaincodeAction.encode(e.chaincodeActions[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.protos.FilteredTransactionActions;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.chaincodeActions&&r.chaincodeActions.length||(r.chaincodeActions=[]),r.chaincodeActions.push(u.protos.FilteredChaincodeAction.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.chaincodeActions&&e.hasOwnProperty("chaincodeActions")){if(!Array.isArray(e.chaincodeActions))return"chaincodeActions: array expected";for(var t=0;t<e.chaincodeActions.length;++t){var n=u.protos.FilteredChaincodeAction.verify(e.chaincodeActions[t]);if(n)return"chaincodeActions."+n}}return null},e.fromObject=function(e){if(e instanceof u.protos.FilteredTransactionActions)return e;var t=new u.protos.FilteredTransactionActions;if(e.chaincodeActions){if(!Array.isArray(e.chaincodeActions))throw TypeError(".protos.FilteredTransactionActions.chaincodeActions: array expected");t.chaincodeActions=[];for(var n=0;n<e.chaincodeActions.length;++n){if("object"!==r(e.chaincodeActions[n]))throw TypeError(".protos.FilteredTransactionActions.chaincodeActions: object expected");t.chaincodeActions[n]=u.protos.FilteredChaincodeAction.fromObject(e.chaincodeActions[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.chaincodeActions=[]),e.chaincodeActions&&e.chaincodeActions.length){n.chaincodeActions=[];for(var r=0;r<e.chaincodeActions.length;++r)n.chaincodeActions[r]=u.protos.FilteredChaincodeAction.toObject(e.chaincodeActions[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.FilteredChaincodeAction=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.chaincodeEvent=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.chaincodeEvent&&e.hasOwnProperty("chaincodeEvent")&&u.protos.ChaincodeEvent.encode(e.chaincodeEvent,t.uint32(10).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.protos.FilteredChaincodeAction;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.chaincodeEvent=u.protos.ChaincodeEvent.decode(e,e.uint32());break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.chaincodeEvent&&e.hasOwnProperty("chaincodeEvent")){var t=u.protos.ChaincodeEvent.verify(e.chaincodeEvent);if(t)return"chaincodeEvent."+t}return null},e.fromObject=function(e){if(e instanceof u.protos.FilteredChaincodeAction)return e;var t=new u.protos.FilteredChaincodeAction;if(null!=e.chaincodeEvent){if("object"!==r(e.chaincodeEvent))throw TypeError(".protos.FilteredChaincodeAction.chaincodeEvent: object expected");t.chaincodeEvent=u.protos.ChaincodeEvent.fromObject(e.chaincodeEvent)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.chaincodeEvent=null),null!=e.chaincodeEvent&&e.hasOwnProperty("chaincodeEvent")&&(n.chaincodeEvent=u.protos.ChaincodeEvent.toObject(e.chaincodeEvent,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.SignedEvent=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.signature=c.newBuffer([]),e.prototype.eventBytes=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.signature&&e.hasOwnProperty("signature")&&t.uint32(10).bytes(e.signature),null!=e.eventBytes&&e.hasOwnProperty("eventBytes")&&t.uint32(18).bytes(e.eventBytes),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.protos.SignedEvent;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.signature=e.bytes();break;case 2:r.eventBytes=e.bytes();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.signature&&e.hasOwnProperty("signature")&&!(e.signature&&"number"==typeof e.signature.length||c.isString(e.signature))?"signature: buffer expected":null!=e.eventBytes&&e.hasOwnProperty("eventBytes")&&!(e.eventBytes&&"number"==typeof e.eventBytes.length||c.isString(e.eventBytes))?"eventBytes: buffer expected":null},e.fromObject=function(e){if(e instanceof u.protos.SignedEvent)return e;var t=new u.protos.SignedEvent;return null!=e.signature&&("string"==typeof e.signature?c.base64.decode(e.signature,t.signature=c.newBuffer(c.base64.length(e.signature)),0):e.signature.length&&(t.signature=e.signature)),null!=e.eventBytes&&("string"==typeof e.eventBytes?c.base64.decode(e.eventBytes,t.eventBytes=c.newBuffer(c.base64.length(e.eventBytes)),0):e.eventBytes.length&&(t.eventBytes=e.eventBytes)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.signature=t.bytes===String?"":[],n.eventBytes=t.bytes===String?"":[]),null!=e.signature&&e.hasOwnProperty("signature")&&(n.signature=t.bytes===String?c.base64.encode(e.signature,0,e.signature.length):t.bytes===Array?Array.prototype.slice.call(e.signature):e.signature),null!=e.eventBytes&&e.hasOwnProperty("eventBytes")&&(n.eventBytes=t.bytes===String?c.base64.encode(e.eventBytes,0,e.eventBytes.length):t.bytes===Array?Array.prototype.slice.call(e.eventBytes):e.eventBytes),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.Event=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}e.prototype.register=null,e.prototype.block=null,e.prototype.chaincodeEvent=null,e.prototype.rejection=null,e.prototype.unregister=null,e.prototype.filteredBlock=null,e.prototype.creator=c.newBuffer([]),e.prototype.timestamp=null,e.prototype.tlsCertHash=c.newBuffer([]);var t=void 0;return Object.defineProperty(e.prototype,"Event",{get:c.oneOfGetter(t=["register","block","chaincodeEvent","rejection","unregister","filteredBlock"]),set:c.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.register&&e.hasOwnProperty("register")&&u.protos.Register.encode(e.register,t.uint32(10).fork()).ldelim(),null!=e.block&&e.hasOwnProperty("block")&&u.common.Block.encode(e.block,t.uint32(18).fork()).ldelim(),null!=e.chaincodeEvent&&e.hasOwnProperty("chaincodeEvent")&&u.protos.ChaincodeEvent.encode(e.chaincodeEvent,t.uint32(26).fork()).ldelim(),null!=e.rejection&&e.hasOwnProperty("rejection")&&u.protos.Rejection.encode(e.rejection,t.uint32(34).fork()).ldelim(),null!=e.unregister&&e.hasOwnProperty("unregister")&&u.protos.Unregister.encode(e.unregister,t.uint32(42).fork()).ldelim(),null!=e.creator&&e.hasOwnProperty("creator")&&t.uint32(50).bytes(e.creator),null!=e.filteredBlock&&e.hasOwnProperty("filteredBlock")&&u.protos.FilteredBlock.encode(e.filteredBlock,t.uint32(58).fork()).ldelim(),null!=e.timestamp&&e.hasOwnProperty("timestamp")&&u.google.protobuf.Timestamp.encode(e.timestamp,t.uint32(66).fork()).ldelim(),null!=e.tlsCertHash&&e.hasOwnProperty("tlsCertHash")&&t.uint32(74).bytes(e.tlsCertHash),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.protos.Event;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.register=u.protos.Register.decode(e,e.uint32());break;case 2:r.block=u.common.Block.decode(e,e.uint32());break;case 3:r.chaincodeEvent=u.protos.ChaincodeEvent.decode(e,e.uint32());break;case 4:r.rejection=u.protos.Rejection.decode(e,e.uint32());break;case 5:r.unregister=u.protos.Unregister.decode(e,e.uint32());break;case 7:r.filteredBlock=u.protos.FilteredBlock.decode(e,e.uint32());break;case 6:r.creator=e.bytes();break;case 8:r.timestamp=u.google.protobuf.Timestamp.decode(e,e.uint32());break;case 9:r.tlsCertHash=e.bytes();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";var t={};if(null!=e.register&&e.hasOwnProperty("register")){t.Event=1;var n=u.protos.Register.verify(e.register);if(n)return"register."+n}if(null!=e.block&&e.hasOwnProperty("block")){if(1===t.Event)return"Event: multiple values";t.Event=1;var i=u.common.Block.verify(e.block);if(i)return"block."+i}if(null!=e.chaincodeEvent&&e.hasOwnProperty("chaincodeEvent")){if(1===t.Event)return"Event: multiple values";t.Event=1;var o=u.protos.ChaincodeEvent.verify(e.chaincodeEvent);if(o)return"chaincodeEvent."+o}if(null!=e.rejection&&e.hasOwnProperty("rejection")){if(1===t.Event)return"Event: multiple values";t.Event=1;var s=u.protos.Rejection.verify(e.rejection);if(s)return"rejection."+s}if(null!=e.unregister&&e.hasOwnProperty("unregister")){if(1===t.Event)return"Event: multiple values";t.Event=1;var a=u.protos.Unregister.verify(e.unregister);if(a)return"unregister."+a}if(null!=e.filteredBlock&&e.hasOwnProperty("filteredBlock")){if(1===t.Event)return"Event: multiple values";t.Event=1;var l=u.protos.FilteredBlock.verify(e.filteredBlock);if(l)return"filteredBlock."+l}if(null!=e.creator&&e.hasOwnProperty("creator")&&!(e.creator&&"number"==typeof e.creator.length||c.isString(e.creator)))return"creator: buffer expected";if(null!=e.timestamp&&e.hasOwnProperty("timestamp")){var f=u.google.protobuf.Timestamp.verify(e.timestamp);if(f)return"timestamp."+f}return null!=e.tlsCertHash&&e.hasOwnProperty("tlsCertHash")&&!(e.tlsCertHash&&"number"==typeof e.tlsCertHash.length||c.isString(e.tlsCertHash))?"tlsCertHash: buffer expected":null},e.fromObject=function(e){if(e instanceof u.protos.Event)return e;var t=new u.protos.Event;if(null!=e.register){if("object"!==r(e.register))throw TypeError(".protos.Event.register: object expected");t.register=u.protos.Register.fromObject(e.register)}if(null!=e.block){if("object"!==r(e.block))throw TypeError(".protos.Event.block: object expected");t.block=u.common.Block.fromObject(e.block)}if(null!=e.chaincodeEvent){if("object"!==r(e.chaincodeEvent))throw TypeError(".protos.Event.chaincodeEvent: object expected");t.chaincodeEvent=u.protos.ChaincodeEvent.fromObject(e.chaincodeEvent)}if(null!=e.rejection){if("object"!==r(e.rejection))throw TypeError(".protos.Event.rejection: object expected");t.rejection=u.protos.Rejection.fromObject(e.rejection)}if(null!=e.unregister){if("object"!==r(e.unregister))throw TypeError(".protos.Event.unregister: object expected");t.unregister=u.protos.Unregister.fromObject(e.unregister)}if(null!=e.filteredBlock){if("object"!==r(e.filteredBlock))throw TypeError(".protos.Event.filteredBlock: object expected");t.filteredBlock=u.protos.FilteredBlock.fromObject(e.filteredBlock)}if(null!=e.creator&&("string"==typeof e.creator?c.base64.decode(e.creator,t.creator=c.newBuffer(c.base64.length(e.creator)),0):e.creator.length&&(t.creator=e.creator)),null!=e.timestamp){if("object"!==r(e.timestamp))throw TypeError(".protos.Event.timestamp: object expected");t.timestamp=u.google.protobuf.Timestamp.fromObject(e.timestamp)}return null!=e.tlsCertHash&&("string"==typeof e.tlsCertHash?c.base64.decode(e.tlsCertHash,t.tlsCertHash=c.newBuffer(c.base64.length(e.tlsCertHash)),0):e.tlsCertHash.length&&(t.tlsCertHash=e.tlsCertHash)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.creator=t.bytes===String?"":[],n.timestamp=null,n.tlsCertHash=t.bytes===String?"":[]),null!=e.register&&e.hasOwnProperty("register")&&(n.register=u.protos.Register.toObject(e.register,t),t.oneofs&&(n.Event="register")),null!=e.block&&e.hasOwnProperty("block")&&(n.block=u.common.Block.toObject(e.block,t),t.oneofs&&(n.Event="block")),null!=e.chaincodeEvent&&e.hasOwnProperty("chaincodeEvent")&&(n.chaincodeEvent=u.protos.ChaincodeEvent.toObject(e.chaincodeEvent,t),t.oneofs&&(n.Event="chaincodeEvent")),null!=e.rejection&&e.hasOwnProperty("rejection")&&(n.rejection=u.protos.Rejection.toObject(e.rejection,t),t.oneofs&&(n.Event="rejection")),null!=e.unregister&&e.hasOwnProperty("unregister")&&(n.unregister=u.protos.Unregister.toObject(e.unregister,t),t.oneofs&&(n.Event="unregister")),null!=e.creator&&e.hasOwnProperty("creator")&&(n.creator=t.bytes===String?c.base64.encode(e.creator,0,e.creator.length):t.bytes===Array?Array.prototype.slice.call(e.creator):e.creator),null!=e.filteredBlock&&e.hasOwnProperty("filteredBlock")&&(n.filteredBlock=u.protos.FilteredBlock.toObject(e.filteredBlock,t),t.oneofs&&(n.Event="filteredBlock")),null!=e.timestamp&&e.hasOwnProperty("timestamp")&&(n.timestamp=u.google.protobuf.Timestamp.toObject(e.timestamp,t)),null!=e.tlsCertHash&&e.hasOwnProperty("tlsCertHash")&&(n.tlsCertHash=t.bytes===String?c.base64.encode(e.tlsCertHash,0,e.tlsCertHash.length):t.bytes===Array?Array.prototype.slice.call(e.tlsCertHash):e.tlsCertHash),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.Events=function(){function e(e,t,n){o.rpc.Service.call(this,e,t,n)}return(e.prototype=Object.create(o.rpc.Service.prototype)).constructor=e,e.create=function(e,t,n){return new this(e,t,n)},e.prototype.chat=function e(t,n){return this.rpcCall(e,u.protos.SignedEvent,u.protos.Event,t,n)},e}(),e.DeliverResponse=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}e.prototype.status=0,e.prototype.block=null,e.prototype.filteredBlock=null;var t=void 0;return Object.defineProperty(e.prototype,"Type",{get:c.oneOfGetter(t=["status","block","filteredBlock"]),set:c.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.status&&e.hasOwnProperty("status")&&t.uint32(8).int32(e.status),null!=e.block&&e.hasOwnProperty("block")&&u.common.Block.encode(e.block,t.uint32(18).fork()).ldelim(),null!=e.filteredBlock&&e.hasOwnProperty("filteredBlock")&&u.protos.FilteredBlock.encode(e.filteredBlock,t.uint32(26).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.protos.DeliverResponse;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.status=e.int32();break;case 2:r.block=u.common.Block.decode(e,e.uint32());break;case 3:r.filteredBlock=u.protos.FilteredBlock.decode(e,e.uint32());break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";var t={};if(null!=e.status&&e.hasOwnProperty("status"))switch(t.Type=1,e.status){default:return"status: enum value expected";case 0:case 200:case 400:case 403:case 404:case 413:case 500:case 501:case 503:}if(null!=e.block&&e.hasOwnProperty("block")){if(1===t.Type)return"Type: multiple values";t.Type=1;var n=u.common.Block.verify(e.block);if(n)return"block."+n}if(null!=e.filteredBlock&&e.hasOwnProperty("filteredBlock")){if(1===t.Type)return"Type: multiple values";t.Type=1;var i=u.protos.FilteredBlock.verify(e.filteredBlock);if(i)return"filteredBlock."+i}return null},e.fromObject=function(e){if(e instanceof u.protos.DeliverResponse)return e;var t=new u.protos.DeliverResponse;switch(e.status){case"UNKNOWN":case 0:t.status=0;break;case"SUCCESS":case 200:t.status=200;break;case"BAD_REQUEST":case 400:t.status=400;break;case"FORBIDDEN":case 403:t.status=403;break;case"NOT_FOUND":case 404:t.status=404;break;case"REQUEST_ENTITY_TOO_LARGE":case 413:t.status=413;break;case"INTERNAL_SERVER_ERROR":case 500:t.status=500;break;case"NOT_IMPLEMENTED":case 501:t.status=501;break;case"SERVICE_UNAVAILABLE":case 503:t.status=503}if(null!=e.block){if("object"!==r(e.block))throw TypeError(".protos.DeliverResponse.block: object expected");t.block=u.common.Block.fromObject(e.block)}if(null!=e.filteredBlock){if("object"!==r(e.filteredBlock))throw TypeError(".protos.DeliverResponse.filteredBlock: object expected");t.filteredBlock=u.protos.FilteredBlock.fromObject(e.filteredBlock)}return t},e.toObject=function(e,t){t||(t={});var n={};return null!=e.status&&e.hasOwnProperty("status")&&(n.status=t.enums===String?u.common.Status[e.status]:e.status,t.oneofs&&(n.Type="status")),null!=e.block&&e.hasOwnProperty("block")&&(n.block=u.common.Block.toObject(e.block,t),t.oneofs&&(n.Type="block")),null!=e.filteredBlock&&e.hasOwnProperty("filteredBlock")&&(n.filteredBlock=u.protos.FilteredBlock.toObject(e.filteredBlock,t),t.oneofs&&(n.Type="filteredBlock")),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.Deliver=function(){function e(e,t,n){o.rpc.Service.call(this,e,t,n)}return(e.prototype=Object.create(o.rpc.Service.prototype)).constructor=e,e.create=function(e,t,n){return new this(e,t,n)},e.prototype.deliver=function e(t,n){return this.rpcCall(e,u.common.Envelope,u.protos.DeliverResponse,t,n)},e.prototype.deliverFiltered=function e(t,n){return this.rpcCall(e,u.common.Envelope,u.protos.DeliverResponse,t,n)},e}(),e.ChaincodeEvent=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.chaincodeId="",e.prototype.txId="",e.prototype.eventName="",e.prototype.payload=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.chaincodeId&&e.hasOwnProperty("chaincodeId")&&t.uint32(10).string(e.chaincodeId),null!=e.txId&&e.hasOwnProperty("txId")&&t.uint32(18).string(e.txId),null!=e.eventName&&e.hasOwnProperty("eventName")&&t.uint32(26).string(e.eventName),null!=e.payload&&e.hasOwnProperty("payload")&&t.uint32(34).bytes(e.payload),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.protos.ChaincodeEvent;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.chaincodeId=e.string();break;case 2:r.txId=e.string();break;case 3:r.eventName=e.string();break;case 4:r.payload=e.bytes();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.chaincodeId&&e.hasOwnProperty("chaincodeId")&&!c.isString(e.chaincodeId)?"chaincodeId: string expected":null!=e.txId&&e.hasOwnProperty("txId")&&!c.isString(e.txId)?"txId: string expected":null!=e.eventName&&e.hasOwnProperty("eventName")&&!c.isString(e.eventName)?"eventName: string expected":null!=e.payload&&e.hasOwnProperty("payload")&&!(e.payload&&"number"==typeof e.payload.length||c.isString(e.payload))?"payload: buffer expected":null},e.fromObject=function(e){if(e instanceof u.protos.ChaincodeEvent)return e;var t=new u.protos.ChaincodeEvent;return null!=e.chaincodeId&&(t.chaincodeId=String(e.chaincodeId)),null!=e.txId&&(t.txId=String(e.txId)),null!=e.eventName&&(t.eventName=String(e.eventName)),null!=e.payload&&("string"==typeof e.payload?c.base64.decode(e.payload,t.payload=c.newBuffer(c.base64.length(e.payload)),0):e.payload.length&&(t.payload=e.payload)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.chaincodeId="",n.txId="",n.eventName="",n.payload=t.bytes===String?"":[]),null!=e.chaincodeId&&e.hasOwnProperty("chaincodeId")&&(n.chaincodeId=e.chaincodeId),null!=e.txId&&e.hasOwnProperty("txId")&&(n.txId=e.txId),null!=e.eventName&&e.hasOwnProperty("eventName")&&(n.eventName=e.eventName),null!=e.payload&&e.hasOwnProperty("payload")&&(n.payload=t.bytes===String?c.base64.encode(e.payload,0,e.payload.length):t.bytes===Array?Array.prototype.slice.call(e.payload):e.payload),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.SignedTransaction=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.transactionBytes=c.newBuffer([]),e.prototype.signature=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.transactionBytes&&e.hasOwnProperty("transactionBytes")&&t.uint32(10).bytes(e.transactionBytes),null!=e.signature&&e.hasOwnProperty("signature")&&t.uint32(18).bytes(e.signature),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.protos.SignedTransaction;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.transactionBytes=e.bytes();break;case 2:r.signature=e.bytes();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.transactionBytes&&e.hasOwnProperty("transactionBytes")&&!(e.transactionBytes&&"number"==typeof e.transactionBytes.length||c.isString(e.transactionBytes))?"transactionBytes: buffer expected":null!=e.signature&&e.hasOwnProperty("signature")&&!(e.signature&&"number"==typeof e.signature.length||c.isString(e.signature))?"signature: buffer expected":null},e.fromObject=function(e){if(e instanceof u.protos.SignedTransaction)return e;var t=new u.protos.SignedTransaction;return null!=e.transactionBytes&&("string"==typeof e.transactionBytes?c.base64.decode(e.transactionBytes,t.transactionBytes=c.newBuffer(c.base64.length(e.transactionBytes)),0):e.transactionBytes.length&&(t.transactionBytes=e.transactionBytes)),null!=e.signature&&("string"==typeof e.signature?c.base64.decode(e.signature,t.signature=c.newBuffer(c.base64.length(e.signature)),0):e.signature.length&&(t.signature=e.signature)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.transactionBytes=t.bytes===String?"":[],n.signature=t.bytes===String?"":[]),null!=e.transactionBytes&&e.hasOwnProperty("transactionBytes")&&(n.transactionBytes=t.bytes===String?c.base64.encode(e.transactionBytes,0,e.transactionBytes.length):t.bytes===Array?Array.prototype.slice.call(e.transactionBytes):e.transactionBytes),null!=e.signature&&e.hasOwnProperty("signature")&&(n.signature=t.bytes===String?c.base64.encode(e.signature,0,e.signature.length):t.bytes===Array?Array.prototype.slice.call(e.signature):e.signature),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.ProcessedTransaction=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.transactionEnvelope=null,e.prototype.validationCode=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.transactionEnvelope&&e.hasOwnProperty("transactionEnvelope")&&u.common.Envelope.encode(e.transactionEnvelope,t.uint32(10).fork()).ldelim(),null!=e.validationCode&&e.hasOwnProperty("validationCode")&&t.uint32(16).int32(e.validationCode),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.protos.ProcessedTransaction;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.transactionEnvelope=u.common.Envelope.decode(e,e.uint32());break;case 2:r.validationCode=e.int32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.transactionEnvelope&&e.hasOwnProperty("transactionEnvelope")){var t=u.common.Envelope.verify(e.transactionEnvelope);if(t)return"transactionEnvelope."+t}return null!=e.validationCode&&e.hasOwnProperty("validationCode")&&!c.isInteger(e.validationCode)?"validationCode: integer expected":null},e.fromObject=function(e){if(e instanceof u.protos.ProcessedTransaction)return e;var t=new u.protos.ProcessedTransaction;if(null!=e.transactionEnvelope){if("object"!==r(e.transactionEnvelope))throw TypeError(".protos.ProcessedTransaction.transactionEnvelope: object expected");t.transactionEnvelope=u.common.Envelope.fromObject(e.transactionEnvelope)}return null!=e.validationCode&&(t.validationCode=0|e.validationCode),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.transactionEnvelope=null,n.validationCode=0),null!=e.transactionEnvelope&&e.hasOwnProperty("transactionEnvelope")&&(n.transactionEnvelope=u.common.Envelope.toObject(e.transactionEnvelope,t)),null!=e.validationCode&&e.hasOwnProperty("validationCode")&&(n.validationCode=e.validationCode),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.Transaction=function(){function e(e){if(this.actions=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.actions=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.actions&&e.actions.length)for(var n=0;n<e.actions.length;++n)u.protos.TransactionAction.encode(e.actions[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.protos.Transaction;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.actions&&r.actions.length||(r.actions=[]),r.actions.push(u.protos.TransactionAction.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.actions&&e.hasOwnProperty("actions")){if(!Array.isArray(e.actions))return"actions: array expected";for(var t=0;t<e.actions.length;++t){var n=u.protos.TransactionAction.verify(e.actions[t]);if(n)return"actions."+n}}return null},e.fromObject=function(e){if(e instanceof u.protos.Transaction)return e;var t=new u.protos.Transaction;if(e.actions){if(!Array.isArray(e.actions))throw TypeError(".protos.Transaction.actions: array expected");t.actions=[];for(var n=0;n<e.actions.length;++n){if("object"!==r(e.actions[n]))throw TypeError(".protos.Transaction.actions: object expected");t.actions[n]=u.protos.TransactionAction.fromObject(e.actions[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.actions=[]),e.actions&&e.actions.length){n.actions=[];for(var r=0;r<e.actions.length;++r)n.actions[r]=u.protos.TransactionAction.toObject(e.actions[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.TransactionAction=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.header=c.newBuffer([]),e.prototype.payload=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.header&&e.hasOwnProperty("header")&&t.uint32(10).bytes(e.header),null!=e.payload&&e.hasOwnProperty("payload")&&t.uint32(18).bytes(e.payload),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.protos.TransactionAction;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.header=e.bytes();break;case 2:r.payload=e.bytes();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.header&&e.hasOwnProperty("header")&&!(e.header&&"number"==typeof e.header.length||c.isString(e.header))?"header: buffer expected":null!=e.payload&&e.hasOwnProperty("payload")&&!(e.payload&&"number"==typeof e.payload.length||c.isString(e.payload))?"payload: buffer expected":null},e.fromObject=function(e){if(e instanceof u.protos.TransactionAction)return e;var t=new u.protos.TransactionAction;return null!=e.header&&("string"==typeof e.header?c.base64.decode(e.header,t.header=c.newBuffer(c.base64.length(e.header)),0):e.header.length&&(t.header=e.header)),null!=e.payload&&("string"==typeof e.payload?c.base64.decode(e.payload,t.payload=c.newBuffer(c.base64.length(e.payload)),0):e.payload.length&&(t.payload=e.payload)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.header=t.bytes===String?"":[],n.payload=t.bytes===String?"":[]),null!=e.header&&e.hasOwnProperty("header")&&(n.header=t.bytes===String?c.base64.encode(e.header,0,e.header.length):t.bytes===Array?Array.prototype.slice.call(e.header):e.header),null!=e.payload&&e.hasOwnProperty("payload")&&(n.payload=t.bytes===String?c.base64.encode(e.payload,0,e.payload.length):t.bytes===Array?Array.prototype.slice.call(e.payload):e.payload),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.ChaincodeActionPayload=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.chaincodeProposalPayload=c.newBuffer([]),e.prototype.action=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.chaincodeProposalPayload&&e.hasOwnProperty("chaincodeProposalPayload")&&t.uint32(10).bytes(e.chaincodeProposalPayload),null!=e.action&&e.hasOwnProperty("action")&&u.protos.ChaincodeEndorsedAction.encode(e.action,t.uint32(18).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.protos.ChaincodeActionPayload;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.chaincodeProposalPayload=e.bytes();break;case 2:r.action=u.protos.ChaincodeEndorsedAction.decode(e,e.uint32());break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.chaincodeProposalPayload&&e.hasOwnProperty("chaincodeProposalPayload")&&!(e.chaincodeProposalPayload&&"number"==typeof e.chaincodeProposalPayload.length||c.isString(e.chaincodeProposalPayload)))return"chaincodeProposalPayload: buffer expected";if(null!=e.action&&e.hasOwnProperty("action")){var t=u.protos.ChaincodeEndorsedAction.verify(e.action);if(t)return"action."+t}return null},e.fromObject=function(e){if(e instanceof u.protos.ChaincodeActionPayload)return e;var t=new u.protos.ChaincodeActionPayload;if(null!=e.chaincodeProposalPayload&&("string"==typeof e.chaincodeProposalPayload?c.base64.decode(e.chaincodeProposalPayload,t.chaincodeProposalPayload=c.newBuffer(c.base64.length(e.chaincodeProposalPayload)),0):e.chaincodeProposalPayload.length&&(t.chaincodeProposalPayload=e.chaincodeProposalPayload)),null!=e.action){if("object"!==r(e.action))throw TypeError(".protos.ChaincodeActionPayload.action: object expected");t.action=u.protos.ChaincodeEndorsedAction.fromObject(e.action)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.chaincodeProposalPayload=t.bytes===String?"":[],n.action=null),null!=e.chaincodeProposalPayload&&e.hasOwnProperty("chaincodeProposalPayload")&&(n.chaincodeProposalPayload=t.bytes===String?c.base64.encode(e.chaincodeProposalPayload,0,e.chaincodeProposalPayload.length):t.bytes===Array?Array.prototype.slice.call(e.chaincodeProposalPayload):e.chaincodeProposalPayload),null!=e.action&&e.hasOwnProperty("action")&&(n.action=u.protos.ChaincodeEndorsedAction.toObject(e.action,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.ChaincodeEndorsedAction=function(){function e(e){if(this.endorsements=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.proposalResponsePayload=c.newBuffer([]),e.prototype.endorsements=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.proposalResponsePayload&&e.hasOwnProperty("proposalResponsePayload")&&t.uint32(10).bytes(e.proposalResponsePayload),null!=e.endorsements&&e.endorsements.length)for(var n=0;n<e.endorsements.length;++n)u.protos.Endorsement.encode(e.endorsements[n],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.protos.ChaincodeEndorsedAction;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.proposalResponsePayload=e.bytes();break;case 2:r.endorsements&&r.endorsements.length||(r.endorsements=[]),r.endorsements.push(u.protos.Endorsement.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.proposalResponsePayload&&e.hasOwnProperty("proposalResponsePayload")&&!(e.proposalResponsePayload&&"number"==typeof e.proposalResponsePayload.length||c.isString(e.proposalResponsePayload)))return"proposalResponsePayload: buffer expected";if(null!=e.endorsements&&e.hasOwnProperty("endorsements")){if(!Array.isArray(e.endorsements))return"endorsements: array expected";for(var t=0;t<e.endorsements.length;++t){var n=u.protos.Endorsement.verify(e.endorsements[t]);if(n)return"endorsements."+n}}return null},e.fromObject=function(e){if(e instanceof u.protos.ChaincodeEndorsedAction)return e;var t=new u.protos.ChaincodeEndorsedAction;if(null!=e.proposalResponsePayload&&("string"==typeof e.proposalResponsePayload?c.base64.decode(e.proposalResponsePayload,t.proposalResponsePayload=c.newBuffer(c.base64.length(e.proposalResponsePayload)),0):e.proposalResponsePayload.length&&(t.proposalResponsePayload=e.proposalResponsePayload)),e.endorsements){if(!Array.isArray(e.endorsements))throw TypeError(".protos.ChaincodeEndorsedAction.endorsements: array expected");t.endorsements=[];for(var n=0;n<e.endorsements.length;++n){if("object"!==r(e.endorsements[n]))throw TypeError(".protos.ChaincodeEndorsedAction.endorsements: object expected");t.endorsements[n]=u.protos.Endorsement.fromObject(e.endorsements[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.endorsements=[]),t.defaults&&(n.proposalResponsePayload=t.bytes===String?"":[]),null!=e.proposalResponsePayload&&e.hasOwnProperty("proposalResponsePayload")&&(n.proposalResponsePayload=t.bytes===String?c.base64.encode(e.proposalResponsePayload,0,e.proposalResponsePayload.length):t.bytes===Array?Array.prototype.slice.call(e.proposalResponsePayload):e.proposalResponsePayload),e.endorsements&&e.endorsements.length){n.endorsements=[];for(var r=0;r<e.endorsements.length;++r)n.endorsements[r]=u.protos.Endorsement.toObject(e.endorsements[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.TxValidationCode=function(){var e={},t=Object.create(e);return t[e[0]="VALID"]=0,t[e[1]="NIL_ENVELOPE"]=1,t[e[2]="BAD_PAYLOAD"]=2,t[e[3]="BAD_COMMON_HEADER"]=3,t[e[4]="BAD_CREATOR_SIGNATURE"]=4,t[e[5]="INVALID_ENDORSER_TRANSACTION"]=5,t[e[6]="INVALID_CONFIG_TRANSACTION"]=6,t[e[7]="UNSUPPORTED_TX_PAYLOAD"]=7,t[e[8]="BAD_PROPOSAL_TXID"]=8,t[e[9]="DUPLICATE_TXID"]=9,t[e[10]="ENDORSEMENT_POLICY_FAILURE"]=10,t[e[11]="MVCC_READ_CONFLICT"]=11,t[e[12]="PHANTOM_READ_CONFLICT"]=12,t[e[13]="UNKNOWN_TX_TYPE"]=13,t[e[14]="TARGET_CHAIN_NOT_FOUND"]=14,t[e[15]="MARSHAL_TX_ERROR"]=15,t[e[16]="NIL_TXACTION"]=16,t[e[17]="EXPIRED_CHAINCODE"]=17,t[e[18]="CHAINCODE_VERSION_CONFLICT"]=18,t[e[19]="BAD_HEADER_EXTENSION"]=19,t[e[20]="BAD_CHANNEL_HEADER"]=20,t[e[21]="BAD_RESPONSE_PAYLOAD"]=21,t[e[22]="BAD_RWSET"]=22,t[e[23]="ILLEGAL_WRITESET"]=23,t[e[254]="NOT_VALIDATED"]=254,t[e[255]="INVALID_OTHER_REASON"]=255,t}(),e.ProposalResponse=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.version=0,e.prototype.timestamp=null,e.prototype.response=null,e.prototype.payload=c.newBuffer([]),e.prototype.endorsement=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.version&&e.hasOwnProperty("version")&&t.uint32(8).int32(e.version),null!=e.timestamp&&e.hasOwnProperty("timestamp")&&u.google.protobuf.Timestamp.encode(e.timestamp,t.uint32(18).fork()).ldelim(),null!=e.response&&e.hasOwnProperty("response")&&u.protos.Response.encode(e.response,t.uint32(34).fork()).ldelim(),null!=e.payload&&e.hasOwnProperty("payload")&&t.uint32(42).bytes(e.payload),null!=e.endorsement&&e.hasOwnProperty("endorsement")&&u.protos.Endorsement.encode(e.endorsement,t.uint32(50).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.protos.ProposalResponse;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.version=e.int32();break;case 2:r.timestamp=u.google.protobuf.Timestamp.decode(e,e.uint32());break;case 4:r.response=u.protos.Response.decode(e,e.uint32());break;case 5:r.payload=e.bytes();break;case 6:r.endorsement=u.protos.Endorsement.decode(e,e.uint32());break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.version&&e.hasOwnProperty("version")&&!c.isInteger(e.version))return"version: integer expected";if(null!=e.timestamp&&e.hasOwnProperty("timestamp")){var t=u.google.protobuf.Timestamp.verify(e.timestamp);if(t)return"timestamp."+t}if(null!=e.response&&e.hasOwnProperty("response")){var n=u.protos.Response.verify(e.response);if(n)return"response."+n}if(null!=e.payload&&e.hasOwnProperty("payload")&&!(e.payload&&"number"==typeof e.payload.length||c.isString(e.payload)))return"payload: buffer expected";if(null!=e.endorsement&&e.hasOwnProperty("endorsement")){var i=u.protos.Endorsement.verify(e.endorsement);if(i)return"endorsement."+i}return null},e.fromObject=function(e){if(e instanceof u.protos.ProposalResponse)return e;var t=new u.protos.ProposalResponse;if(null!=e.version&&(t.version=0|e.version),null!=e.timestamp){if("object"!==r(e.timestamp))throw TypeError(".protos.ProposalResponse.timestamp: object expected");t.timestamp=u.google.protobuf.Timestamp.fromObject(e.timestamp)}if(null!=e.response){if("object"!==r(e.response))throw TypeError(".protos.ProposalResponse.response: object expected");t.response=u.protos.Response.fromObject(e.response)}if(null!=e.payload&&("string"==typeof e.payload?c.base64.decode(e.payload,t.payload=c.newBuffer(c.base64.length(e.payload)),0):e.payload.length&&(t.payload=e.payload)),null!=e.endorsement){if("object"!==r(e.endorsement))throw TypeError(".protos.ProposalResponse.endorsement: object expected");t.endorsement=u.protos.Endorsement.fromObject(e.endorsement)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.version=0,n.timestamp=null,n.response=null,n.payload=t.bytes===String?"":[],n.endorsement=null),null!=e.version&&e.hasOwnProperty("version")&&(n.version=e.version),null!=e.timestamp&&e.hasOwnProperty("timestamp")&&(n.timestamp=u.google.protobuf.Timestamp.toObject(e.timestamp,t)),null!=e.response&&e.hasOwnProperty("response")&&(n.response=u.protos.Response.toObject(e.response,t)),null!=e.payload&&e.hasOwnProperty("payload")&&(n.payload=t.bytes===String?c.base64.encode(e.payload,0,e.payload.length):t.bytes===Array?Array.prototype.slice.call(e.payload):e.payload),null!=e.endorsement&&e.hasOwnProperty("endorsement")&&(n.endorsement=u.protos.Endorsement.toObject(e.endorsement,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.Response=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.status=0,e.prototype.message="",e.prototype.payload=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.status&&e.hasOwnProperty("status")&&t.uint32(8).int32(e.status),null!=e.message&&e.hasOwnProperty("message")&&t.uint32(18).string(e.message),null!=e.payload&&e.hasOwnProperty("payload")&&t.uint32(26).bytes(e.payload),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.protos.Response;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.status=e.int32();break;case 2:r.message=e.string();break;case 3:r.payload=e.bytes();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.status&&e.hasOwnProperty("status")&&!c.isInteger(e.status)?"status: integer expected":null!=e.message&&e.hasOwnProperty("message")&&!c.isString(e.message)?"message: string expected":null!=e.payload&&e.hasOwnProperty("payload")&&!(e.payload&&"number"==typeof e.payload.length||c.isString(e.payload))?"payload: buffer expected":null},e.fromObject=function(e){if(e instanceof u.protos.Response)return e;var t=new u.protos.Response;return null!=e.status&&(t.status=0|e.status),null!=e.message&&(t.message=String(e.message)),null!=e.payload&&("string"==typeof e.payload?c.base64.decode(e.payload,t.payload=c.newBuffer(c.base64.length(e.payload)),0):e.payload.length&&(t.payload=e.payload)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.status=0,n.message="",n.payload=t.bytes===String?"":[]),null!=e.status&&e.hasOwnProperty("status")&&(n.status=e.status),null!=e.message&&e.hasOwnProperty("message")&&(n.message=e.message),null!=e.payload&&e.hasOwnProperty("payload")&&(n.payload=t.bytes===String?c.base64.encode(e.payload,0,e.payload.length):t.bytes===Array?Array.prototype.slice.call(e.payload):e.payload),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.ProposalResponsePayload=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.proposalHash=c.newBuffer([]),e.prototype.extension=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.proposalHash&&e.hasOwnProperty("proposalHash")&&t.uint32(10).bytes(e.proposalHash),null!=e.extension&&e.hasOwnProperty("extension")&&t.uint32(18).bytes(e.extension),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.protos.ProposalResponsePayload;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.proposalHash=e.bytes();break;case 2:r.extension=e.bytes();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.proposalHash&&e.hasOwnProperty("proposalHash")&&!(e.proposalHash&&"number"==typeof e.proposalHash.length||c.isString(e.proposalHash))?"proposalHash: buffer expected":null!=e.extension&&e.hasOwnProperty("extension")&&!(e.extension&&"number"==typeof e.extension.length||c.isString(e.extension))?"extension: buffer expected":null},e.fromObject=function(e){if(e instanceof u.protos.ProposalResponsePayload)return e;var t=new u.protos.ProposalResponsePayload;return null!=e.proposalHash&&("string"==typeof e.proposalHash?c.base64.decode(e.proposalHash,t.proposalHash=c.newBuffer(c.base64.length(e.proposalHash)),0):e.proposalHash.length&&(t.proposalHash=e.proposalHash)),null!=e.extension&&("string"==typeof e.extension?c.base64.decode(e.extension,t.extension=c.newBuffer(c.base64.length(e.extension)),0):e.extension.length&&(t.extension=e.extension)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.proposalHash=t.bytes===String?"":[],n.extension=t.bytes===String?"":[]),null!=e.proposalHash&&e.hasOwnProperty("proposalHash")&&(n.proposalHash=t.bytes===String?c.base64.encode(e.proposalHash,0,e.proposalHash.length):t.bytes===Array?Array.prototype.slice.call(e.proposalHash):e.proposalHash),null!=e.extension&&e.hasOwnProperty("extension")&&(n.extension=t.bytes===String?c.base64.encode(e.extension,0,e.extension.length):t.bytes===Array?Array.prototype.slice.call(e.extension):e.extension),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.Endorsement=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.endorser=c.newBuffer([]),e.prototype.signature=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.endorser&&e.hasOwnProperty("endorser")&&t.uint32(10).bytes(e.endorser),null!=e.signature&&e.hasOwnProperty("signature")&&t.uint32(18).bytes(e.signature),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.protos.Endorsement;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.endorser=e.bytes();break;case 2:r.signature=e.bytes();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.endorser&&e.hasOwnProperty("endorser")&&!(e.endorser&&"number"==typeof e.endorser.length||c.isString(e.endorser))?"endorser: buffer expected":null!=e.signature&&e.hasOwnProperty("signature")&&!(e.signature&&"number"==typeof e.signature.length||c.isString(e.signature))?"signature: buffer expected":null},e.fromObject=function(e){if(e instanceof u.protos.Endorsement)return e;var t=new u.protos.Endorsement;return null!=e.endorser&&("string"==typeof e.endorser?c.base64.decode(e.endorser,t.endorser=c.newBuffer(c.base64.length(e.endorser)),0):e.endorser.length&&(t.endorser=e.endorser)),null!=e.signature&&("string"==typeof e.signature?c.base64.decode(e.signature,t.signature=c.newBuffer(c.base64.length(e.signature)),0):e.signature.length&&(t.signature=e.signature)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.endorser=t.bytes===String?"":[],n.signature=t.bytes===String?"":[]),null!=e.endorser&&e.hasOwnProperty("endorser")&&(n.endorser=t.bytes===String?c.base64.encode(e.endorser,0,e.endorser.length):t.bytes===Array?Array.prototype.slice.call(e.endorser):e.endorser),null!=e.signature&&e.hasOwnProperty("signature")&&(n.signature=t.bytes===String?c.base64.encode(e.signature,0,e.signature.length):t.bytes===Array?Array.prototype.slice.call(e.signature):e.signature),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.ChaincodeQueryResponse=function(){function e(e){if(this.chaincodes=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.chaincodes=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.chaincodes&&e.chaincodes.length)for(var n=0;n<e.chaincodes.length;++n)u.protos.ChaincodeInfo.encode(e.chaincodes[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.protos.ChaincodeQueryResponse;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.chaincodes&&r.chaincodes.length||(r.chaincodes=[]),r.chaincodes.push(u.protos.ChaincodeInfo.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.chaincodes&&e.hasOwnProperty("chaincodes")){if(!Array.isArray(e.chaincodes))return"chaincodes: array expected";for(var t=0;t<e.chaincodes.length;++t){var n=u.protos.ChaincodeInfo.verify(e.chaincodes[t]);if(n)return"chaincodes."+n}}return null},e.fromObject=function(e){if(e instanceof u.protos.ChaincodeQueryResponse)return e;var t=new u.protos.ChaincodeQueryResponse;if(e.chaincodes){if(!Array.isArray(e.chaincodes))throw TypeError(".protos.ChaincodeQueryResponse.chaincodes: array expected");t.chaincodes=[];for(var n=0;n<e.chaincodes.length;++n){if("object"!==r(e.chaincodes[n]))throw TypeError(".protos.ChaincodeQueryResponse.chaincodes: object expected");t.chaincodes[n]=u.protos.ChaincodeInfo.fromObject(e.chaincodes[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.chaincodes=[]),e.chaincodes&&e.chaincodes.length){n.chaincodes=[];for(var r=0;r<e.chaincodes.length;++r)n.chaincodes[r]=u.protos.ChaincodeInfo.toObject(e.chaincodes[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.ChaincodeInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.version="",e.prototype.path="",e.prototype.input="",e.prototype.escc="",e.prototype.vscc="",e.prototype.id=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.name&&e.hasOwnProperty("name")&&t.uint32(10).string(e.name),null!=e.version&&e.hasOwnProperty("version")&&t.uint32(18).string(e.version),null!=e.path&&e.hasOwnProperty("path")&&t.uint32(26).string(e.path),null!=e.input&&e.hasOwnProperty("input")&&t.uint32(34).string(e.input),null!=e.escc&&e.hasOwnProperty("escc")&&t.uint32(42).string(e.escc),null!=e.vscc&&e.hasOwnProperty("vscc")&&t.uint32(50).string(e.vscc),null!=e.id&&e.hasOwnProperty("id")&&t.uint32(58).bytes(e.id),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.protos.ChaincodeInfo;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.name=e.string();break;case 2:r.version=e.string();break;case 3:r.path=e.string();break;case 4:r.input=e.string();break;case 5:r.escc=e.string();break;case 6:r.vscc=e.string();break;case 7:r.id=e.bytes();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.name&&e.hasOwnProperty("name")&&!c.isString(e.name)?"name: string expected":null!=e.version&&e.hasOwnProperty("version")&&!c.isString(e.version)?"version: string expected":null!=e.path&&e.hasOwnProperty("path")&&!c.isString(e.path)?"path: string expected":null!=e.input&&e.hasOwnProperty("input")&&!c.isString(e.input)?"input: string expected":null!=e.escc&&e.hasOwnProperty("escc")&&!c.isString(e.escc)?"escc: string expected":null!=e.vscc&&e.hasOwnProperty("vscc")&&!c.isString(e.vscc)?"vscc: string expected":null!=e.id&&e.hasOwnProperty("id")&&!(e.id&&"number"==typeof e.id.length||c.isString(e.id))?"id: buffer expected":null},e.fromObject=function(e){if(e instanceof u.protos.ChaincodeInfo)return e;var t=new u.protos.ChaincodeInfo;return null!=e.name&&(t.name=String(e.name)),null!=e.version&&(t.version=String(e.version)),null!=e.path&&(t.path=String(e.path)),null!=e.input&&(t.input=String(e.input)),null!=e.escc&&(t.escc=String(e.escc)),null!=e.vscc&&(t.vscc=String(e.vscc)),null!=e.id&&("string"==typeof e.id?c.base64.decode(e.id,t.id=c.newBuffer(c.base64.length(e.id)),0):e.id.length&&(t.id=e.id)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.name="",n.version="",n.path="",n.input="",n.escc="",n.vscc="",n.id=t.bytes===String?"":[]),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.version&&e.hasOwnProperty("version")&&(n.version=e.version),null!=e.path&&e.hasOwnProperty("path")&&(n.path=e.path),null!=e.input&&e.hasOwnProperty("input")&&(n.input=e.input),null!=e.escc&&e.hasOwnProperty("escc")&&(n.escc=e.escc),null!=e.vscc&&e.hasOwnProperty("vscc")&&(n.vscc=e.vscc),null!=e.id&&e.hasOwnProperty("id")&&(n.id=t.bytes===String?c.base64.encode(e.id,0,e.id.length):t.bytes===Array?Array.prototype.slice.call(e.id):e.id),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.ChannelQueryResponse=function(){function e(e){if(this.channels=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.channels=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.channels&&e.channels.length)for(var n=0;n<e.channels.length;++n)u.protos.ChannelInfo.encode(e.channels[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.protos.ChannelQueryResponse;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.channels&&r.channels.length||(r.channels=[]),r.channels.push(u.protos.ChannelInfo.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.channels&&e.hasOwnProperty("channels")){if(!Array.isArray(e.channels))return"channels: array expected";for(var t=0;t<e.channels.length;++t){var n=u.protos.ChannelInfo.verify(e.channels[t]);if(n)return"channels."+n}}return null},e.fromObject=function(e){if(e instanceof u.protos.ChannelQueryResponse)return e;var t=new u.protos.ChannelQueryResponse;if(e.channels){if(!Array.isArray(e.channels))throw TypeError(".protos.ChannelQueryResponse.channels: array expected");t.channels=[];for(var n=0;n<e.channels.length;++n){if("object"!==r(e.channels[n]))throw TypeError(".protos.ChannelQueryResponse.channels: object expected");t.channels[n]=u.protos.ChannelInfo.fromObject(e.channels[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.channels=[]),e.channels&&e.channels.length){n.channels=[];for(var r=0;r<e.channels.length;++r)n.channels[r]=u.protos.ChannelInfo.toObject(e.channels[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.ChannelInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.channelId="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.channelId&&e.hasOwnProperty("channelId")&&t.uint32(10).string(e.channelId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.protos.ChannelInfo;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.channelId=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.channelId&&e.hasOwnProperty("channelId")&&!c.isString(e.channelId)?"channelId: string expected":null},e.fromObject=function(e){if(e instanceof u.protos.ChannelInfo)return e;var t=new u.protos.ChannelInfo;return null!=e.channelId&&(t.channelId=String(e.channelId)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.channelId=""),null!=e.channelId&&e.hasOwnProperty("channelId")&&(n.channelId=e.channelId),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.PeerID=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.name&&e.hasOwnProperty("name")&&t.uint32(10).string(e.name),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.protos.PeerID;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.name=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.name&&e.hasOwnProperty("name")&&!c.isString(e.name)?"name: string expected":null},e.fromObject=function(e){if(e instanceof u.protos.PeerID)return e;var t=new u.protos.PeerID;return null!=e.name&&(t.name=String(e.name)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.name=""),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.PeerEndpoint=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=null,e.prototype.address="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.id&&e.hasOwnProperty("id")&&u.protos.PeerID.encode(e.id,t.uint32(10).fork()).ldelim(),null!=e.address&&e.hasOwnProperty("address")&&t.uint32(18).string(e.address),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.protos.PeerEndpoint;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.id=u.protos.PeerID.decode(e,e.uint32());break;case 2:r.address=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.id&&e.hasOwnProperty("id")){var t=u.protos.PeerID.verify(e.id);if(t)return"id."+t}return null!=e.address&&e.hasOwnProperty("address")&&!c.isString(e.address)?"address: string expected":null},e.fromObject=function(e){if(e instanceof u.protos.PeerEndpoint)return e;var t=new u.protos.PeerEndpoint;if(null!=e.id){if("object"!==r(e.id))throw TypeError(".protos.PeerEndpoint.id: object expected");t.id=u.protos.PeerID.fromObject(e.id)}return null!=e.address&&(t.address=String(e.address)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id=null,n.address=""),null!=e.id&&e.hasOwnProperty("id")&&(n.id=u.protos.PeerID.toObject(e.id,t)),null!=e.address&&e.hasOwnProperty("address")&&(n.address=e.address),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.Endorser=function(){function e(e,t,n){o.rpc.Service.call(this,e,t,n)}return(e.prototype=Object.create(o.rpc.Service.prototype)).constructor=e,e.create=function(e,t,n){return new this(e,t,n)},e.prototype.processProposal=function e(t,n){return this.rpcCall(e,u.protos.SignedProposal,u.protos.ProposalResponse,t,n)},e}(),e.SignedProposal=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.proposalBytes=c.newBuffer([]),e.prototype.signature=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.proposalBytes&&e.hasOwnProperty("proposalBytes")&&t.uint32(10).bytes(e.proposalBytes),null!=e.signature&&e.hasOwnProperty("signature")&&t.uint32(18).bytes(e.signature),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.protos.SignedProposal;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.proposalBytes=e.bytes();break;case 2:r.signature=e.bytes();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.proposalBytes&&e.hasOwnProperty("proposalBytes")&&!(e.proposalBytes&&"number"==typeof e.proposalBytes.length||c.isString(e.proposalBytes))?"proposalBytes: buffer expected":null!=e.signature&&e.hasOwnProperty("signature")&&!(e.signature&&"number"==typeof e.signature.length||c.isString(e.signature))?"signature: buffer expected":null},e.fromObject=function(e){if(e instanceof u.protos.SignedProposal)return e;var t=new u.protos.SignedProposal;return null!=e.proposalBytes&&("string"==typeof e.proposalBytes?c.base64.decode(e.proposalBytes,t.proposalBytes=c.newBuffer(c.base64.length(e.proposalBytes)),0):e.proposalBytes.length&&(t.proposalBytes=e.proposalBytes)),null!=e.signature&&("string"==typeof e.signature?c.base64.decode(e.signature,t.signature=c.newBuffer(c.base64.length(e.signature)),0):e.signature.length&&(t.signature=e.signature)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.proposalBytes=t.bytes===String?"":[],n.signature=t.bytes===String?"":[]),null!=e.proposalBytes&&e.hasOwnProperty("proposalBytes")&&(n.proposalBytes=t.bytes===String?c.base64.encode(e.proposalBytes,0,e.proposalBytes.length):t.bytes===Array?Array.prototype.slice.call(e.proposalBytes):e.proposalBytes),null!=e.signature&&e.hasOwnProperty("signature")&&(n.signature=t.bytes===String?c.base64.encode(e.signature,0,e.signature.length):t.bytes===Array?Array.prototype.slice.call(e.signature):e.signature),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.Proposal=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.header=c.newBuffer([]),e.prototype.payload=c.newBuffer([]),e.prototype.extension=c.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.header&&e.hasOwnProperty("header")&&t.uint32(10).bytes(e.header),null!=e.payload&&e.hasOwnProperty("payload")&&t.uint32(18).bytes(e.payload),null!=e.extension&&e.hasOwnProperty("extension")&&t.uint32(26).bytes(e.extension),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.protos.Proposal;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.header=e.bytes();break;case 2:r.payload=e.bytes();break;case 3:r.extension=e.bytes();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.header&&e.hasOwnProperty("header")&&!(e.header&&"number"==typeof e.header.length||c.isString(e.header))?"header: buffer expected":null!=e.payload&&e.hasOwnProperty("payload")&&!(e.payload&&"number"==typeof e.payload.length||c.isString(e.payload))?"payload: buffer expected":null!=e.extension&&e.hasOwnProperty("extension")&&!(e.extension&&"number"==typeof e.extension.length||c.isString(e.extension))?"extension: buffer expected":null},e.fromObject=function(e){if(e instanceof u.protos.Proposal)return e;var t=new u.protos.Proposal;return null!=e.header&&("string"==typeof e.header?c.base64.decode(e.header,t.header=c.newBuffer(c.base64.length(e.header)),0):e.header.length&&(t.header=e.header)),null!=e.payload&&("string"==typeof e.payload?c.base64.decode(e.payload,t.payload=c.newBuffer(c.base64.length(e.payload)),0):e.payload.length&&(t.payload=e.payload)),null!=e.extension&&("string"==typeof e.extension?c.base64.decode(e.extension,t.extension=c.newBuffer(c.base64.length(e.extension)),0):e.extension.length&&(t.extension=e.extension)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.header=t.bytes===String?"":[],n.payload=t.bytes===String?"":[],n.extension=t.bytes===String?"":[]),null!=e.header&&e.hasOwnProperty("header")&&(n.header=t.bytes===String?c.base64.encode(e.header,0,e.header.length):t.bytes===Array?Array.prototype.slice.call(e.header):e.header),null!=e.payload&&e.hasOwnProperty("payload")&&(n.payload=t.bytes===String?c.base64.encode(e.payload,0,e.payload.length):t.bytes===Array?Array.prototype.slice.call(e.payload):e.payload),null!=e.extension&&e.hasOwnProperty("extension")&&(n.extension=t.bytes===String?c.base64.encode(e.extension,0,e.extension.length):t.bytes===Array?Array.prototype.slice.call(e.extension):e.extension),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.ChaincodeHeaderExtension=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.payloadVisibility=c.newBuffer([]),e.prototype.chaincodeId=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.payloadVisibility&&e.hasOwnProperty("payloadVisibility")&&t.uint32(10).bytes(e.payloadVisibility),null!=e.chaincodeId&&e.hasOwnProperty("chaincodeId")&&u.protos.ChaincodeID.encode(e.chaincodeId,t.uint32(18).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.protos.ChaincodeHeaderExtension;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.payloadVisibility=e.bytes();break;case 2:r.chaincodeId=u.protos.ChaincodeID.decode(e,e.uint32());break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.payloadVisibility&&e.hasOwnProperty("payloadVisibility")&&!(e.payloadVisibility&&"number"==typeof e.payloadVisibility.length||c.isString(e.payloadVisibility)))return"payloadVisibility: buffer expected";if(null!=e.chaincodeId&&e.hasOwnProperty("chaincodeId")){var t=u.protos.ChaincodeID.verify(e.chaincodeId);if(t)return"chaincodeId."+t}return null},e.fromObject=function(e){if(e instanceof u.protos.ChaincodeHeaderExtension)return e;var t=new u.protos.ChaincodeHeaderExtension;if(null!=e.payloadVisibility&&("string"==typeof e.payloadVisibility?c.base64.decode(e.payloadVisibility,t.payloadVisibility=c.newBuffer(c.base64.length(e.payloadVisibility)),0):e.payloadVisibility.length&&(t.payloadVisibility=e.payloadVisibility)),null!=e.chaincodeId){if("object"!==r(e.chaincodeId))throw TypeError(".protos.ChaincodeHeaderExtension.chaincodeId: object expected");t.chaincodeId=u.protos.ChaincodeID.fromObject(e.chaincodeId)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.payloadVisibility=t.bytes===String?"":[],n.chaincodeId=null),null!=e.payloadVisibility&&e.hasOwnProperty("payloadVisibility")&&(n.payloadVisibility=t.bytes===String?c.base64.encode(e.payloadVisibility,0,e.payloadVisibility.length):t.bytes===Array?Array.prototype.slice.call(e.payloadVisibility):e.payloadVisibility),null!=e.chaincodeId&&e.hasOwnProperty("chaincodeId")&&(n.chaincodeId=u.protos.ChaincodeID.toObject(e.chaincodeId,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.ChaincodeProposalPayload=function(){function e(e){if(this.TransientMap={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.input=c.newBuffer([]),e.prototype.TransientMap=c.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.input&&e.hasOwnProperty("input")&&t.uint32(10).bytes(e.input),null!=e.TransientMap&&e.hasOwnProperty("TransientMap"))for(var n=Object.keys(e.TransientMap),r=0;r<n.length;++r)t.uint32(18).fork().uint32(10).string(n[r]).uint32(18).bytes(e.TransientMap[n[r]]).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.protos.ChaincodeProposalPayload,i=void 0;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.input=e.bytes();break;case 2:e.skip().pos++,r.TransientMap===c.emptyObject&&(r.TransientMap={}),i=e.string(),e.pos++,r.TransientMap[i]=e.bytes();break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.input&&e.hasOwnProperty("input")&&!(e.input&&"number"==typeof e.input.length||c.isString(e.input)))return"input: buffer expected";if(null!=e.TransientMap&&e.hasOwnProperty("TransientMap")){if(!c.isObject(e.TransientMap))return"TransientMap: object expected";for(var t=Object.keys(e.TransientMap),n=0;n<t.length;++n)if(!(e.TransientMap[t[n]]&&"number"==typeof e.TransientMap[t[n]].length||c.isString(e.TransientMap[t[n]])))return"TransientMap: buffer{k:string} expected"}return null},e.fromObject=function(e){if(e instanceof u.protos.ChaincodeProposalPayload)return e;var t=new u.protos.ChaincodeProposalPayload;if(null!=e.input&&("string"==typeof e.input?c.base64.decode(e.input,t.input=c.newBuffer(c.base64.length(e.input)),0):e.input.length&&(t.input=e.input)),e.TransientMap){if("object"!==r(e.TransientMap))throw TypeError(".protos.ChaincodeProposalPayload.TransientMap: object expected");t.TransientMap={};for(var n=Object.keys(e.TransientMap),i=0;i<n.length;++i)"string"==typeof e.TransientMap[n[i]]?c.base64.decode(e.TransientMap[n[i]],t.TransientMap[n[i]]=c.newBuffer(c.base64.length(e.TransientMap[n[i]])),0):e.TransientMap[n[i]].length&&(t.TransientMap[n[i]]=e.TransientMap[n[i]])}return t},e.toObject=function(e,t){t||(t={});var n={};(t.objects||t.defaults)&&(n.TransientMap={}),t.defaults&&(n.input=t.bytes===String?"":[]),null!=e.input&&e.hasOwnProperty("input")&&(n.input=t.bytes===String?c.base64.encode(e.input,0,e.input.length):t.bytes===Array?Array.prototype.slice.call(e.input):e.input);var r=void 0;if(e.TransientMap&&(r=Object.keys(e.TransientMap)).length){n.TransientMap={};for(var i=0;i<r.length;++i)n.TransientMap[r[i]]=t.bytes===String?c.base64.encode(e.TransientMap[r[i]],0,e.TransientMap[r[i]].length):t.bytes===Array?Array.prototype.slice.call(e.TransientMap[r[i]]):e.TransientMap[r[i]]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.ChaincodeAction=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.results=c.newBuffer([]),e.prototype.events=c.newBuffer([]),e.prototype.response=null,e.prototype.chaincodeId=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.results&&e.hasOwnProperty("results")&&t.uint32(10).bytes(e.results),null!=e.events&&e.hasOwnProperty("events")&&t.uint32(18).bytes(e.events),null!=e.response&&e.hasOwnProperty("response")&&u.protos.Response.encode(e.response,t.uint32(26).fork()).ldelim(),null!=e.chaincodeId&&e.hasOwnProperty("chaincodeId")&&u.protos.ChaincodeID.encode(e.chaincodeId,t.uint32(34).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.protos.ChaincodeAction;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.results=e.bytes();break;case 2:r.events=e.bytes();break;case 3:r.response=u.protos.Response.decode(e,e.uint32());break;case 4:r.chaincodeId=u.protos.ChaincodeID.decode(e,e.uint32());break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.results&&e.hasOwnProperty("results")&&!(e.results&&"number"==typeof e.results.length||c.isString(e.results)))return"results: buffer expected";if(null!=e.events&&e.hasOwnProperty("events")&&!(e.events&&"number"==typeof e.events.length||c.isString(e.events)))return"events: buffer expected";if(null!=e.response&&e.hasOwnProperty("response")){var t=u.protos.Response.verify(e.response);if(t)return"response."+t}if(null!=e.chaincodeId&&e.hasOwnProperty("chaincodeId")){var n=u.protos.ChaincodeID.verify(e.chaincodeId);if(n)return"chaincodeId."+n}return null},e.fromObject=function(e){if(e instanceof u.protos.ChaincodeAction)return e;var t=new u.protos.ChaincodeAction;if(null!=e.results&&("string"==typeof e.results?c.base64.decode(e.results,t.results=c.newBuffer(c.base64.length(e.results)),0):e.results.length&&(t.results=e.results)),null!=e.events&&("string"==typeof e.events?c.base64.decode(e.events,t.events=c.newBuffer(c.base64.length(e.events)),0):e.events.length&&(t.events=e.events)),null!=e.response){if("object"!==r(e.response))throw TypeError(".protos.ChaincodeAction.response: object expected");t.response=u.protos.Response.fromObject(e.response)}if(null!=e.chaincodeId){if("object"!==r(e.chaincodeId))throw TypeError(".protos.ChaincodeAction.chaincodeId: object expected");t.chaincodeId=u.protos.ChaincodeID.fromObject(e.chaincodeId)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.results=t.bytes===String?"":[],n.events=t.bytes===String?"":[],n.response=null,n.chaincodeId=null),null!=e.results&&e.hasOwnProperty("results")&&(n.results=t.bytes===String?c.base64.encode(e.results,0,e.results.length):t.bytes===Array?Array.prototype.slice.call(e.results):e.results),null!=e.events&&e.hasOwnProperty("events")&&(n.events=t.bytes===String?c.base64.encode(e.events,0,e.events.length):t.bytes===Array?Array.prototype.slice.call(e.events):e.events),null!=e.response&&e.hasOwnProperty("response")&&(n.response=u.protos.Response.toObject(e.response,t)),null!=e.chaincodeId&&e.hasOwnProperty("chaincodeId")&&(n.chaincodeId=u.protos.ChaincodeID.toObject(e.chaincodeId,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.AnchorPeers=function(){function e(e){if(this.anchorPeers=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.anchorPeers=c.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.anchorPeers&&e.anchorPeers.length)for(var n=0;n<e.anchorPeers.length;++n)u.protos.AnchorPeer.encode(e.anchorPeers[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.protos.AnchorPeers;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.anchorPeers&&r.anchorPeers.length||(r.anchorPeers=[]),r.anchorPeers.push(u.protos.AnchorPeer.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.anchorPeers&&e.hasOwnProperty("anchorPeers")){if(!Array.isArray(e.anchorPeers))return"anchorPeers: array expected";for(var t=0;t<e.anchorPeers.length;++t){var n=u.protos.AnchorPeer.verify(e.anchorPeers[t]);if(n)return"anchorPeers."+n}}return null},e.fromObject=function(e){if(e instanceof u.protos.AnchorPeers)return e;var t=new u.protos.AnchorPeers;if(e.anchorPeers){if(!Array.isArray(e.anchorPeers))throw TypeError(".protos.AnchorPeers.anchorPeers: array expected");t.anchorPeers=[];for(var n=0;n<e.anchorPeers.length;++n){if("object"!==r(e.anchorPeers[n]))throw TypeError(".protos.AnchorPeers.anchorPeers: object expected");t.anchorPeers[n]=u.protos.AnchorPeer.fromObject(e.anchorPeers[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.anchorPeers=[]),e.anchorPeers&&e.anchorPeers.length){n.anchorPeers=[];for(var r=0;r<e.anchorPeers.length;++r)n.anchorPeers[r]=u.protos.AnchorPeer.toObject(e.anchorPeers[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.AnchorPeer=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.host="",e.prototype.port=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.host&&e.hasOwnProperty("host")&&t.uint32(10).string(e.host),null!=e.port&&e.hasOwnProperty("port")&&t.uint32(16).int32(e.port),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.protos.AnchorPeer;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.host=e.string();break;case 2:r.port=e.int32();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.host&&e.hasOwnProperty("host")&&!c.isString(e.host)?"host: string expected":null!=e.port&&e.hasOwnProperty("port")&&!c.isInteger(e.port)?"port: integer expected":null},e.fromObject=function(e){if(e instanceof u.protos.AnchorPeer)return e;var t=new u.protos.AnchorPeer;return null!=e.host&&(t.host=String(e.host)),null!=e.port&&(t.port=0|e.port),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.host="",n.port=0),null!=e.host&&e.hasOwnProperty("host")&&(n.host=e.host),null!=e.port&&e.hasOwnProperty("port")&&(n.port=e.port),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.APIResource=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.policyRef="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=a.create()),null!=e.policyRef&&e.hasOwnProperty("policyRef")&&t.uint32(10).string(e.policyRef),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.protos.APIResource;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.policyRef=e.string();break;default:e.skipType(7&i)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":r(e))||null===e?"object expected":null!=e.policyRef&&e.hasOwnProperty("policyRef")&&!c.isString(e.policyRef)?"policyRef: string expected":null},e.fromObject=function(e){if(e instanceof u.protos.APIResource)return e;var t=new u.protos.APIResource;return null!=e.policyRef&&(t.policyRef=String(e.policyRef)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.policyRef=""),null!=e.policyRef&&e.hasOwnProperty("policyRef")&&(n.policyRef=e.policyRef),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.ACLs=function(){function e(e){if(this.acls={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.acls=c.emptyObject,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=a.create()),null!=e.acls&&e.hasOwnProperty("acls"))for(var n=Object.keys(e.acls),r=0;r<n.length;++r)t.uint32(10).fork().uint32(10).string(n[r]),u.protos.APIResource.encode(e.acls[n[r]],t.uint32(18).fork()).ldelim().ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof s||(e=s.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.protos.ACLs,i=void 0;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:e.skip().pos++,r.acls===c.emptyObject&&(r.acls={}),i=e.string(),e.pos++,r.acls[i]=u.protos.APIResource.decode(e,e.uint32());break;default:e.skipType(7&o)}}return r},e.decodeDelimited=function(e){return e instanceof s||(e=new s(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return"object expected";if(null!=e.acls&&e.hasOwnProperty("acls")){if(!c.isObject(e.acls))return"acls: object expected";for(var t=Object.keys(e.acls),n=0;n<t.length;++n){var i=u.protos.APIResource.verify(e.acls[t[n]]);if(i)return"acls."+i}}return null},e.fromObject=function(e){if(e instanceof u.protos.ACLs)return e;var t=new u.protos.ACLs;if(e.acls){if("object"!==r(e.acls))throw TypeError(".protos.ACLs.acls: object expected");t.acls={};for(var n=Object.keys(e.acls),i=0;i<n.length;++i){if("object"!==r(e.acls[n[i]]))throw TypeError(".protos.ACLs.acls: object expected");t.acls[n[i]]=u.protos.APIResource.fromObject(e.acls[n[i]])}}return t},e.toObject=function(e,t){t||(t={});var n={};(t.objects||t.defaults)&&(n.acls={});var r=void 0;if(e.acls&&(r=Object.keys(e.acls)).length){n.acls={};for(var i=0;i<r.length;++i)n.acls[r[i]]=u.protos.APIResource.toObject(e.acls[r[i]],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e}();t.default=u},function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(e){return i.exec(e).slice(1)};t.resolve=function(){for(var t="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var s=o>=0?arguments[o]:e.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,i="/"===s.charAt(0))}return t=n(r(t.split("/"),function(e){return!!e}),!i).join("/"),(i?"/":"")+t||"."},t.normalize=function(e){var i=t.isAbsolute(e),o="/"===s(e,-1);return e=n(r(e.split("/"),function(e){return!!e}),!i).join("/"),e||i||(e="."),e&&o&&(e+="/"),(i?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),o=r(n.split("/")),s=Math.min(i.length,o.length),a=s,c=0;c<s;c++)if(i[c]!==o[c]){a=c;break}for(var u=[],c=a;c<i.length;c++)u.push("..");return u=u.concat(o.slice(a)),u.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=o(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},t.basename=function(e,t){var n=o(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){return o(e)[3]};var s="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(t,n(6))},function(e,t){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=n,n.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)}},function(e,t,n){"use strict";function r(e,t,n,r,o){if(i.call(this,e,n),t&&"object"!=typeof t)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=r,this.comments=o||{},this.reserved=void 0,t)for(var s=Object.keys(t),a=0;a<s.length;++a)"number"==typeof t[s[a]]&&(this.valuesById[this.values[s[a]]=t[s[a]]]=s[a])}e.exports=r;var i=n(23);((r.prototype=Object.create(i.prototype)).constructor=r).className="Enum";var o=n(32),s=n(9);r.fromJSON=function(e,t){var n=new r(e,t.values,t.options,t.comment,t.comments);return n.reserved=t.reserved,n},r.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return s.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",t?this.comment:void 0,"comments",t?this.comments:void 0])},r.prototype.add=function(e,t,n){if(!s.isString(e))throw TypeError("name must be a string");if(!s.isInteger(t))throw TypeError("id must be an integer");if(void 0!==this.values[e])throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(void 0!==this.valuesById[t]){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return this.comments[e]=n||null,this},r.prototype.remove=function(e){if(!s.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(null==t)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this},r.prototype.isReservedId=function(e){return o.isReservedId(this.reserved,e)},r.prototype.isReservedName=function(e){return o.isReservedName(this.reserved,e)}},function(e,t,n){"use strict";function r(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"==typeof e)if(t){if("hex"===t)for(e=e.replace(/[^a-z0-9]+/gi,""),e.length%2!=0&&(e="0"+e),r=0;r<e.length;r+=2)n.push(parseInt(e[r]+e[r+1],16))}else for(var r=0;r<e.length;r++){var i=e.charCodeAt(r),o=i>>8,s=255&i;o?n.push(o,s):n.push(s)}else for(r=0;r<e.length;r++)n[r]=0|e[r];return n}function i(e){for(var t="",n=0;n<e.length;n++)t+=a(e[n].toString(16));return t}function o(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function s(e,t){for(var n="",r=0;r<e.length;r++){var i=e[r];"little"===t&&(i=o(i)),n+=c(i.toString(16))}return n}function a(e){return 1===e.length?"0"+e:e}function c(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}function u(e,t,n,r){var i=n-t;A(i%4==0);for(var o=new Array(i/4),s=0,a=t;s<o.length;s++,a+=4){var c;c="big"===r?e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3]:e[a+3]<<24|e[a+2]<<16|e[a+1]<<8|e[a],o[s]=c>>>0}return o}function l(e,t){for(var n=new Array(4*e.length),r=0,i=0;r<e.length;r++,i+=4){var o=e[r];"big"===t?(n[i]=o>>>24,n[i+1]=o>>>16&255,n[i+2]=o>>>8&255,n[i+3]=255&o):(n[i+3]=o>>>24,n[i+2]=o>>>16&255,n[i+1]=o>>>8&255,n[i]=255&o)}return n}function f(e,t){return e>>>t|e<<32-t}function h(e,t){return e<<t|e>>>32-t}function d(e,t){return e+t>>>0}function p(e,t,n){return e+t+n>>>0}function y(e,t,n,r){return e+t+n+r>>>0}function g(e,t,n,r,i){return e+t+n+r+i>>>0}function m(e,t,n,r){var i=e[t],o=e[t+1],s=r+o>>>0,a=(s<r?1:0)+n+i;e[t]=a>>>0,e[t+1]=s}function v(e,t,n,r){return(t+r>>>0<t?1:0)+e+n>>>0}function b(e,t,n,r){return t+r>>>0}function w(e,t,n,r,i,o,s,a){var c=0,u=t;return u=u+r>>>0,c+=u<t?1:0,u=u+o>>>0,c+=u<o?1:0,u=u+a>>>0,c+=u<a?1:0,e+n+i+s+c>>>0}function S(e,t,n,r,i,o,s,a){return t+r+o+a>>>0}function E(e,t,n,r,i,o,s,a,c,u){var l=0,f=t;return f=f+r>>>0,l+=f<t?1:0,f=f+o>>>0,l+=f<o?1:0,f=f+a>>>0,l+=f<a?1:0,f=f+u>>>0,l+=f<u?1:0,e+n+i+s+c+l>>>0}function k(e,t,n,r,i,o,s,a,c,u){return t+r+o+a+u>>>0}function x(e,t,n){return(t<<32-n|e>>>n)>>>0}function _(e,t,n){return(e<<32-n|t>>>n)>>>0}function O(e,t,n){return e>>>n}function C(e,t,n){return(e<<32-n|t>>>n)>>>0}var A=n(13),P=n(1);t.inherits=P,t.toArray=r,t.toHex=i,t.htonl=o,t.toHex32=s,t.zero2=a,t.zero8=c,t.join32=u,t.split32=l,t.rotr32=f,t.rotl32=h,t.sum32=d,t.sum32_3=p,t.sum32_4=y,t.sum32_5=g,t.sum64=m,t.sum64_hi=v,t.sum64_lo=b,t.sum64_4_hi=w,t.sum64_4_lo=S,t.sum64_5_hi=E,t.sum64_5_lo=k,t.rotr64_hi=x,t.rotr64_lo=_,t.shr64_hi=O,t.shr64_lo=C},function(e,t,n){"use strict";(function(e){function r(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;++i)void 0!==e[r[i]]&&n||(e[r[i]]=t[r[i]]);return e}function i(e){function t(e,n){if(!(this instanceof t))return new t(e,n);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&r(this,n)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}var o=t;o.asPromise=n(88),o.base64=n(173),o.EventEmitter=n(174),o.float=n(175),o.inquire=n(89),o.utf8=n(176),o.pool=n(177),o.LongBits=n(178),o.emptyArray=Object.freeze?Object.freeze([]):[],o.emptyObject=Object.freeze?Object.freeze({}):{},o.isNode=Boolean(e.process&&e.process.versions&&e.process.versions.node),o.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},o.isString=function(e){return"string"==typeof e||e instanceof String},o.isObject=function(e){return e&&"object"==typeof e},o.isset=o.isSet=function(e,t){var n=e[t];return!(null==n||!e.hasOwnProperty(t))&&("object"!=typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},o.Buffer=function(){try{var e=o.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),o._Buffer_from=null,o._Buffer_allocUnsafe=null,o.newBuffer=function(e){return"number"==typeof e?o.Buffer?o._Buffer_allocUnsafe(e):new o.Array(e):o.Buffer?o._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},o.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,o.Long=e.dcodeIO&&e.dcodeIO.Long||o.inquire("long"),o.key2Re=/^true|false|0|1$/,o.key32Re=/^-?(?:0|[1-9][0-9]*)$/,o.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,o.longToHash=function(e){return e?o.LongBits.from(e).toHash():o.LongBits.zeroHash},o.longFromHash=function(e,t){var n=o.LongBits.fromHash(e);return o.Long?o.Long.fromBits(n.lo,n.hi,t):n.toNumber(Boolean(t))},o.merge=r,o.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},o.newError=i,o.ProtocolError=i("ProtocolError"),o.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var e=Object.keys(this),n=e.length-1;n>-1;--n)if(1===t[e[n]]&&void 0!==this[e[n]]&&null!==this[e[n]])return e[n]}},o.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}},o.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},o._configure=function(){var e=o.Buffer;if(!e)return void(o._Buffer_from=o._Buffer_allocUnsafe=null);o._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,n){return new e(t,n)},o._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}}}).call(t,n(5))},function(e,t,n){t=e.exports=n(104),t.Stream=t,t.Readable=t,t.Writable=n(68),t.Duplex=n(21),t.Transform=n(107),t.PassThrough=n(204)},function(e,t,n){function r(e){o.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}var i=n(2).Buffer,o=n(20).Transform,s=n(49).StringDecoder;n(1)(r,o),r.prototype.update=function(e,t,n){"string"==typeof e&&(e=i.from(e,t));var r=this._update(e);return this.hashMode?this:(n&&(r=this._toString(r,n)),r)},r.prototype.setAutoPadding=function(){},r.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},r.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},r.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},r.prototype._transform=function(e,t,n){var r;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){r=e}finally{n(r)}},r.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},r.prototype._finalOrDigest=function(e){var t=this.__final()||i.alloc(0);return e&&(t=this._toString(t,e,!0)),t},r.prototype._toString=function(e,t,n){if(this._decoder||(this._decoder=new s(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var r=this._decoder.write(e);return n&&(r+=this._decoder.end()),r},e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r,o,s,l){if(c.isObject(r)?(l=o,s=r,r=o=void 0):c.isObject(o)&&(l=s,s=o,o=void 0),i.call(this,e,s),!c.isInteger(t)||t<0)throw TypeError("id must be a non-negative integer");if(!c.isString(n))throw TypeError("type must be a string");if(void 0!==r&&!u.test(r=r.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(void 0!==o&&!c.isString(o))throw TypeError("extend must be a string");this.rule=r&&"optional"!==r?r:void 0,this.type=n,this.id=t,this.extend=o||void 0,this.required="required"===r,this.optional=!this.required,this.repeated="repeated"===r,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!c.Long&&void 0!==a.long[n],this.bytes="bytes"===n,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=l}e.exports=r;var i=n(23);((r.prototype=Object.create(i.prototype)).constructor=r).className="Field";var o,s=n(14),a=n(24),c=n(9),u=/^required|optional|repeated$/;r.fromJSON=function(e,t){return new r(e,t.id,t.type,t.rule,t.extend,t.options,t.comment)},Object.defineProperty(r.prototype,"packed",{get:function(){return null===this._packed&&(this._packed=!1!==this.getOption("packed")),this._packed}}),r.prototype.setOption=function(e,t,n){return"packed"===e&&(this._packed=null),i.prototype.setOption.call(this,e,t,n)},r.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return c.toObject(["rule","optional"!==this.rule&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},r.prototype.resolve=function(){if(this.resolved)return this;if(void 0===(this.typeDefault=a.defaults[this.type])&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof o?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof s&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof s)||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=c.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var e;c.base64.test(this.typeDefault)?c.base64.decode(this.typeDefault,e=c.newBuffer(c.base64.length(this.typeDefault)),0):c.utf8.write(this.typeDefault,e=c.newBuffer(c.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=c.emptyObject:this.repeated?this.defaultValue=c.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof o&&(this.parent.ctor.prototype[this.name]=this.defaultValue),i.prototype.resolve.call(this)},r.d=function(e,t,n,i){return"function"==typeof t?t=c.decorateType(t).name:t&&"object"==typeof t&&(t=c.decorateEnum(t).name),function(o,s){c.decorateType(o.constructor).add(new r(s,e,t,n,{default:i}))}},r._configure=function(e){o=e}},function(e,t,n){function r(){i.call(this)}e.exports=r;var i=n(34).EventEmitter;n(1)(r,i),r.Readable=n(17),r.Writable=n(205),r.Duplex=n(108),r.Transform=n(206),r.PassThrough=n(207),r.Stream=r,r.prototype.pipe=function(e,t){function n(t){e.writable&&!1===e.write(t)&&u.pause&&u.pause()}function r(){u.readable&&u.resume&&u.resume()}function o(){l||(l=!0,e.end())}function s(){l||(l=!0,"function"==typeof e.destroy&&e.destroy())}function a(e){if(c(),0===i.listenerCount(this,"error"))throw e}function c(){u.removeListener("data",n),e.removeListener("drain",r),u.removeListener("end",o),u.removeListener("close",s),u.removeListener("error",a),e.removeListener("error",a),u.removeListener("end",c),u.removeListener("close",c),e.removeListener("close",c)}var u=this;u.on("data",n),e.on("drain",r),e._isStdio||t&&!1===t.end||(u.on("end",o),u.on("close",s));var l=!1;return u.on("error",a),e.on("error",a),u.on("end",c),u.on("close",c),e.on("close",c),e.emit("pipe",u),e}},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);u.call(this,e),l.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",i)}function i(){this.allowHalfOpen||this._writableState.ended||s.nextTick(o,this)}function o(e){e.end()}var s=n(48),a=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=r;var c=n(35);c.inherits=n(1);var u=n(104),l=n(68);c.inherits(r,u);for(var f=a(l.prototype),h=0;h<f.length;h++){var d=f[h];r.prototype[d]||(r.prototype[d]=l.prototype[d])}Object.defineProperty(r.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(r.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),r.prototype._destroy=function(e,t){this.push(null),this.end(),s.nextTick(t,e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(149);t.Metadata=r.BrowserHeaders},function(e,t,n){"use strict";function r(e,t){if(!o.isString(e))throw TypeError("name must be a string");if(t&&!o.isObject(t))throw TypeError("options must be an object");this.options=t,this.name=e,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}e.exports=r,r.className="ReflectionObject";var i,o=n(9);Object.defineProperties(r.prototype,{root:{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}},fullName:{get:function(){for(var e=[this.name],t=this.parent;t;)e.unshift(t.name),t=t.parent;return e.join(".")}}}),r.prototype.toJSON=function(){throw Error()},r.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof i&&t._handleAdd(this)},r.prototype.onRemove=function(e){var t=e.root;t instanceof i&&t._handleRemove(this),this.parent=null,this.resolved=!1},r.prototype.resolve=function(){return this.resolved?this:(this.root instanceof i&&(this.resolved=!0),this)},r.prototype.getOption=function(e){if(this.options)return this.options[e]},r.prototype.setOption=function(e,t,n){return n&&this.options&&void 0!==this.options[e]||((this.options||(this.options={}))[e]=t),this},r.prototype.setOptions=function(e,t){if(e)for(var n=Object.keys(e),r=0;r<n.length;++r)this.setOption(n[r],e[n[r]],t);return this},r.prototype.toString=function(){var e=this.constructor.className,t=this.fullName;return t.length?e+" "+t:e},r._configure=function(e){i=e}},function(e,t,n){"use strict";function r(e,t){var n=0,r={};for(t|=0;n<e.length;)r[s[n+t]]=e[n++];return r}var i=t,o=n(9),s=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];i.basic=r([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),i.defaults=r([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",o.emptyArray,null]),i.long=r([0,0,0,1,1],7),i.mapKey=r([0,0,0,5,5,0,0,0,1,1,0,2],2),i.packed=r([1,5,0,0,0,5,5,0,0,0,1,1,0])},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(3);e.exports.KeyValueStore=function(){function e(){r(this,e)}return i(e,[{key:"getValue",value:function(e){}},{key:"setValue",value:function(e,t){}}]),e}(),e.exports.CryptoSuite=function(){function e(){r(this,e)}return i(e,[{key:"generateKey",value:function(e){throw new Error("Can't call abstract method, must be implemented by sub-class!")}},{key:"deriveKey",value:function(e,t){throw new Error("Can't call abstract method, must be implemented by sub-class!")}},{key:"importKey",value:function(e,t){throw new Error("Can't call abstract method, must be implemented by sub-class!")}},{key:"getKey",value:function(e){throw new Error("Can't call abstract method, must be implemented by sub-class!")}},{key:"hash",value:function(e,t){throw new Error("Can't call abstract method, must be implemented by sub-class!")}},{key:"sign",value:function(e,t){throw new Error("Can't call abstract method, must be implemented by sub-class!")}},{key:"verify",value:function(e,t,n){throw new Error("Can't call abstract method, must be implemented by sub-class!")}},{key:"encrypt",value:function(e,t,n){throw new Error("Can't call abstract method, must be implemented by sub-class!")}},{key:"decrypt",value:function(e,t,n){throw new Error("Can't call abstract method, must be implemented by sub-class!")}},{key:"setCryptoKeyStore",value:function(e){throw new Error("Can't call abstract method, must be implemented by sub-class!")}}]),e}(),e.exports.Key=function(){function e(){r(this,e)}return i(e,[{key:"getSKI",value:function(){}},{key:"isSymmetric",value:function(){}},{key:"isPrivate",value:function(){}},{key:"getPublicKey",value:function(){}},{key:"toBytes",value:function(){}}]),e}(),e.exports.CryptoAlgorithms={ECDSA:"ECDSA",ECDSAP256:"ECDSAP256",ECDSAP384:"ECDSAP384",ECDSAReRand:"ECDSA_RERAND",RSA:"RSA",RSA1024:"RSA1024",RSA2048:"RSA2048",RSA3072:"RSA3072",RSA4096:"RSA4096",AES:"AES",AES128:"AES128",AES192:"AES192",AES256:"AES256",HMAC:"HMAC",HMACTruncated256:"HMAC_TRUNCATED_256",SHA:"SHA",SHA256:"SHA256",SHA384:"SHA384",SHA3_256:"SHA3_256",SHA3_384:"SHA3_384",X509Certificate:"X509Certificate"}},function(e,t,n){"use strict";function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(e,t,n){if(e&&u.isObject(e)&&e instanceof r)return e;var i=new r;return i.parse(e,t,n),i}function o(e){return u.isString(e)&&(e=i(e)),e instanceof r?e.format():r.prototype.format.call(e)}function s(e,t){return i(e,!1,!0).resolve(t)}function a(e,t){return e?i(e,!1,!0).resolveObject(t):t}var c=n(208),u=n(209);t.parse=i,t.resolve=s,t.resolveObject=a,t.format=o,t.Url=r;var l=/^([a-z0-9.+-]+:)/i,f=/:[0-9]*$/,h=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,d=["<",">",'"',"`"," ","\r","\n","\t"],p=["{","}","|","\\","^","`"].concat(d),y=["'"].concat(p),g=["%","/","?",";","#"].concat(y),m=["/","?","#"],v=/^[+a-z0-9A-Z_-]{0,63}$/,b=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,w={javascript:!0,"javascript:":!0},S={javascript:!0,"javascript:":!0},E={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},k=n(210);r.prototype.parse=function(e,t,n){if(!u.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),i=-1!==r&&r<e.indexOf("#")?"?":"#",o=e.split(i),s=/\\/g;o[0]=o[0].replace(s,"/"),e=o.join(i);var a=e;if(a=a.trim(),!n&&1===e.split("#").length){var f=h.exec(a);if(f)return this.path=a,this.href=a,this.pathname=f[1],f[2]?(this.search=f[2],this.query=t?k.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var d=l.exec(a);if(d){d=d[0];var p=d.toLowerCase();this.protocol=p,a=a.substr(d.length)}if(n||d||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var x="//"===a.substr(0,2);!x||d&&S[d]||(a=a.substr(2),this.slashes=!0)}if(!S[d]&&(x||d&&!E[d])){for(var _=-1,O=0;O<m.length;O++){var C=a.indexOf(m[O]);-1!==C&&(-1===_||C<_)&&(_=C)}var A,P;P=-1===_?a.lastIndexOf("@"):a.lastIndexOf("@",_),-1!==P&&(A=a.slice(0,P),a=a.slice(P+1),this.auth=decodeURIComponent(A)),_=-1;for(var O=0;O<g.length;O++){var C=a.indexOf(g[O]);-1!==C&&(-1===_||C<_)&&(_=C)}-1===_&&(_=a.length),this.host=a.slice(0,_),a=a.slice(_),this.parseHost(),this.hostname=this.hostname||"";var I="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!I)for(var D=this.hostname.split(/\./),O=0,R=D.length;O<R;O++){var j=D[O];if(j&&!j.match(v)){for(var T="",N=0,B=j.length;N<B;N++)j.charCodeAt(N)>127?T+="x":T+=j[N];if(!T.match(v)){var F=D.slice(0,O),M=D.slice(O+1),L=j.match(b);L&&(F.push(L[1]),M.unshift(L[2])),M.length&&(a="/"+M.join(".")+a),this.hostname=F.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),I||(this.hostname=c.toASCII(this.hostname));var H=this.port?":"+this.port:"",q=this.hostname||"";this.host=q+H,this.href+=this.host,I&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!w[p])for(var O=0,R=y.length;O<R;O++){var U=y[O];if(-1!==a.indexOf(U)){var K=encodeURIComponent(U);K===U&&(K=escape(U)),a=a.split(U).join(K)}}var V=a.indexOf("#");-1!==V&&(this.hash=a.substr(V),a=a.slice(0,V));var z=a.indexOf("?");if(-1!==z?(this.search=a.substr(z),this.query=a.substr(z+1),t&&(this.query=k.parse(this.query)),a=a.slice(0,z)):t&&(this.search="",this.query={}),a&&(this.pathname=a),E[p]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var H=this.pathname||"",J=this.search||"";this.path=H+J}return this.href=this.format(),this},r.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&u.isObject(this.query)&&Object.keys(this.query).length&&(o=k.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||E[t])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),s=s.replace("#","%23"),t+i+n+s+r},r.prototype.resolve=function(e){return this.resolveObject(i(e,!1,!0)).format()},r.prototype.resolveObject=function(e){if(u.isString(e)){var t=new r;t.parse(e,!1,!0),e=t}for(var n=new r,i=Object.keys(this),o=0;o<i.length;o++){var s=i[o];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),c=0;c<a.length;c++){var l=a[c];"protocol"!==l&&(n[l]=e[l])}return E[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!E[e.protocol]){for(var f=Object.keys(e),h=0;h<f.length;h++){var d=f[h];n[d]=e[d]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||S[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var y=n.pathname||"",g=n.search||"";n.path=y+g}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var m=n.pathname&&"/"===n.pathname.charAt(0),v=e.host||e.pathname&&"/"===e.pathname.charAt(0),b=v||m||n.host&&e.pathname,w=b,k=n.pathname&&n.pathname.split("/")||[],p=e.pathname&&e.pathname.split("/")||[],x=n.protocol&&!E[n.protocol];if(x&&(n.hostname="",n.port=null,n.host&&(""===k[0]?k[0]=n.host:k.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),b=b&&(""===p[0]||""===k[0])),v)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,k=p;else if(p.length)k||(k=[]),k.pop(),k=k.concat(p),n.search=e.search,n.query=e.query;else if(!u.isNullOrUndefined(e.search)){if(x){n.hostname=n.host=k.shift();var _=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");_&&(n.auth=_.shift(),n.host=n.hostname=_.shift())}return n.search=e.search,n.query=e.query,u.isNull(n.pathname)&&u.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!k.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var O=k.slice(-1)[0],C=(n.host||e.host||k.length>1)&&("."===O||".."===O)||""===O,A=0,P=k.length;P>=0;P--)O=k[P],"."===O?k.splice(P,1):".."===O?(k.splice(P,1),A++):A&&(k.splice(P,1),A--);if(!b&&!w)for(;A--;A)k.unshift("..");!b||""===k[0]||k[0]&&"/"===k[0].charAt(0)||k.unshift(""),C&&"/"!==k.join("/").substr(-1)&&k.push("");var I=""===k[0]||k[0]&&"/"===k[0].charAt(0);if(x){n.hostname=n.host=I?"":k.length?k.shift():"";var _=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");_&&(n.auth=_.shift(),n.host=n.hostname=_.shift())}return b=b||n.host&&k.length,b&&!I&&k.unshift(""),k.length?n.pathname=k.join("/"):(n.pathname=null,n.path=null),u.isNull(n.pathname)&&u.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var e=this.host,t=f.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){"use strict";(function(t,r){function i(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}function o(e,n){if(e>65536)throw new Error("requested too many random bytes");var i=new t.Uint8Array(e);e>0&&a.getRandomValues(i);var o=s.from(i.buffer);return"function"==typeof n?r.nextTick(function(){n(null,o)}):o}var s=n(2).Buffer,a=t.crypto||t.msCrypto;a&&a.getRandomValues?e.exports=o:e.exports=i}).call(t,n(5),n(6))},function(e,t,n){function r(e,t){this._block=i.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}var i=n(2).Buffer;r.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=i.from(e,t));for(var n=this._block,r=this._blockSize,o=e.length,s=this._len,a=0;a<o;){for(var c=s%r,u=Math.min(o-a,r-c),l=0;l<u;l++)n[c+l]=e[a+l];s+=u,a+=u,s%r==0&&this._update(n)}return this._len+=o,this},r.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var r=(4294967295&n)>>>0,i=(n-r)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var o=this._hash();return e?o.toString(e):o},r.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=r},function(e,t,n){(function(t){function n(e,t){return function(){return t.apply(e,Array.prototype.slice.call(arguments,0))}}function r(e,t){return Array.prototype.slice.call(e,t||0)}function i(e,t){s(e,function(e,n){return t(e,n),!1})}function o(e,t){var n=a(e)?[]:{};return s(e,function(e,r){return n[r]=t(e,r),!1}),n}function s(e,t){if(a(e)){for(var n=0;n<e.length;n++)if(t(e[n],n))return e[n]}else for(var r in e)if(e.hasOwnProperty(r)&&t(e[r],r))return e[r]}function a(e){return null!=e&&"function"!=typeof e&&"number"==typeof e.length}function c(e){return e&&"[object Function]"==={}.toString.call(e)}function u(e){return e&&"[object Object]"==={}.toString.call(e)}var l=function(){return Object.assign?Object.assign:function(e,t,n,r){for(var o=1;o<arguments.length;o++)i(Object(arguments[o]),function(t,n){e[n]=t});return e}}(),f=function(){function e(){}return Object.create?function(e,t,n,i){var o=r(arguments,1);return l.apply(this,[Object.create(e)].concat(o))}:function(t,n,i,o){var s=r(arguments,1);return e.prototype=t,l.apply(this,[new e].concat(s))}}(),h=function(){return String.prototype.trim?function(e){return String.prototype.trim.call(e)}:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}(),d="undefined"!=typeof window?window:t;e.exports={assign:l,create:f,trim:h,bind:n,slice:r,each:i,map:o,pluck:s,isList:a,isFunction:c,isObject:u,Global:d}}).call(t,n(5))},function(e,t,n){"use strict";function r(e){return void 0===e||null===e}function i(e){return"object"==typeof e&&null!==e}function o(e){return Array.isArray(e)?e:r(e)?[]:[e]}function s(e,t){var n,r,i,o;if(t)for(o=Object.keys(t),n=0,r=o.length;n<r;n+=1)i=o[n],e[i]=t[i];return e}function a(e,t){var n,r="";for(n=0;n<t;n+=1)r+=e;return r}function c(e){return 0===e&&Number.NEGATIVE_INFINITY===1/e}e.exports.isNothing=r,e.exports.isObject=i,e.exports.toArray=o,e.exports.repeat=a,e.exports.isNegativeZero=c,e.exports.extend=s},function(e,t,n){"use strict";function r(e,t,n){var i=[];return e.include.forEach(function(e){n=r(e,t,n)}),e[t].forEach(function(e){n.forEach(function(t,n){t.tag===e.tag&&t.kind===e.kind&&i.push(n)}),n.push(e)}),n.filter(function(e,t){return-1===i.indexOf(t)})}function i(){function e(e){r[e.kind][e.tag]=r.fallback[e.tag]=e}var t,n,r={scalar:{},sequence:{},mapping:{},fallback:{}};for(t=0,n=arguments.length;t<n;t+=1)arguments[t].forEach(e);return r}function o(e){this.include=e.include||[],this.implicit=e.implicit||[],this.explicit=e.explicit||[],this.implicit.forEach(function(e){if(e.loadKind&&"scalar"!==e.loadKind)throw new a("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=r(this,"implicit",[]),this.compiledExplicit=r(this,"explicit",[]),this.compiledTypeMap=i(this.compiledImplicit,this.compiledExplicit)}var s=n(30),a=n(45),c=n(8);o.DEFAULT=null,o.create=function(){var e,t;switch(arguments.length){case 1:e=o.DEFAULT,t=arguments[0];break;case 2:e=arguments[0],t=arguments[1];break;default:throw new a("Wrong number of arguments for Schema.create function")}if(e=s.toArray(e),t=s.toArray(t),!e.every(function(e){return e instanceof o}))throw new a("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!t.every(function(e){return e instanceof c}))throw new a("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new o({include:e,explicit:t})},e.exports=o},function(e,t,n){"use strict";function r(e,t){if(e&&e.length){for(var n={},r=0;r<e.length;++r)n[e[r].name]=e[r].toJSON(t);return n}}function i(e,t){s.call(this,e,t),this.nested=void 0,this._nestedArray=null}function o(e){return e._nestedArray=null,e}e.exports=i;var s=n(23);((i.prototype=Object.create(s.prototype)).constructor=i).className="Namespace";var a,c,u=n(14),l=n(19),f=n(9);i.fromJSON=function(e,t){return new i(e,t.options).addJSON(t.nested)},i.arrayToJSON=r,i.isReservedId=function(e,t){if(e)for(var n=0;n<e.length;++n)if("string"!=typeof e[n]&&e[n][0]<=t&&e[n][1]>=t)return!0;return!1},i.isReservedName=function(e,t){if(e)for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1},Object.defineProperty(i.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=f.toArray(this.nested))}}),i.prototype.toJSON=function(e){return f.toObject(["options",this.options,"nested",r(this.nestedArray,e)])},i.prototype.addJSON=function(e){var t=this;if(e)for(var n,r=Object.keys(e),o=0;o<r.length;++o)n=e[r[o]],t.add((void 0!==n.fields?a.fromJSON:void 0!==n.values?u.fromJSON:void 0!==n.methods?c.fromJSON:void 0!==n.id?l.fromJSON:i.fromJSON)(r[o],n));return this},i.prototype.get=function(e){return this.nested&&this.nested[e]||null},i.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof u)return this.nested[e].values;throw Error("no such enum: "+e)},i.prototype.add=function(e){if(!(e instanceof l&&void 0!==e.extend||e instanceof a||e instanceof u||e instanceof c||e instanceof i))throw TypeError("object must be a valid nested object");if(this.nested){var t=this.get(e.name);if(t){if(!(t instanceof i&&e instanceof i)||t instanceof a||t instanceof c)throw Error("duplicate name '"+e.name+"' in "+this);for(var n=t.nestedArray,r=0;r<n.length;++r)e.add(n[r]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}}else this.nested={};return this.nested[e.name]=e,e.onAdd(this),o(this)},i.prototype.remove=function(e){if(!(e instanceof s))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=void 0),e.onRemove(this),o(this)},i.prototype.define=function(e,t){if(f.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&""===e[0])throw Error("path must be relative");for(var n=this;e.length>0;){var r=e.shift();if(n.nested&&n.nested[r]){if(!((n=n.nested[r])instanceof i))throw Error("path conflicts with non-namespace objects")}else n.add(n=new i(r))}return t&&n.addJSON(t),n},i.prototype.resolveAll=function(){for(var e=this.nestedArray,t=0;t<e.length;)e[t]instanceof i?e[t++].resolveAll():e[t++].resolve();return this.resolve()},i.prototype.lookup=function(e,t,n){if("boolean"==typeof t?(n=t,t=void 0):t&&!Array.isArray(t)&&(t=[t]),f.isString(e)&&e.length){if("."===e)return this.root;e=e.split(".")}else if(!e.length)return this;if(""===e[0])return this.root.lookup(e.slice(1),t);var r=this.get(e[0]);if(r){if(1===e.length){if(!t||t.indexOf(r.constructor)>-1)return r}else if(r instanceof i&&(r=r.lookup(e.slice(1),t,!0)))return r}else for(var o=0;o<this.nestedArray.length;++o)if(this._nestedArray[o]instanceof i&&(r=this._nestedArray[o].lookup(e,t,!0)))return r;return null===this.parent||n?null:this.parent.lookup(e,t)},i.prototype.lookupType=function(e){var t=this.lookup(e,[a]);if(!t)throw Error("no such type: "+e);return t},i.prototype.lookupEnum=function(e){var t=this.lookup(e,[u]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t},i.prototype.lookupTypeOrEnum=function(e){var t=this.lookup(e,[a,u]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t},i.prototype.lookupService=function(e){var t=this.lookup(e,[c]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t},i._configure=function(e,t){a=e,c=t}},function(e,t,n){"use strict";function r(e){for(var t={F_OK:f,R_OK:h,W_OK:d,X_OK:p,constants:l.constants,Stats:o.Stats},n=0,r=c;n<r.length;n++){var i=r[n];"function"==typeof e[i]&&(t[i]=e[i].bind(e))}for(var a=0,y=u;a<y.length;a++){var i=y[a];"function"==typeof e[i]&&(t[i]=e[i].bind(e))}return t.StatWatcher=e.StatWatcher,t.FSWatcher=e.FSWatcher,t.WriteStream=e.WriteStream,t.ReadStream=e.ReadStream,t._toUnixTimestamp=s.toUnixTimestamp,t}var i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(100),s=n(196),a=n(214),c=a.fsSyncMethods,u=a.fsAsyncMethods,l=n(66),f=l.constants.F_OK,h=l.constants.R_OK,d=l.constants.W_OK,p=l.constants.X_OK;t.Volume=s.Volume,t.vol=new s.Volume,t.createFsFromVolume=r,t.fs=r(t.vol),e.exports=i({},e.exports,t.fs),e.exports.semantic=!0},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function i(e){return"number"==typeof e}function o(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!i(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,i,a,c,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}if(n=this._events[e],s(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(o(n))for(a=Array.prototype.slice.call(arguments,1),u=n.slice(),i=u.length,c=0;c<i;c++)u[c].apply(this,a);return!0},n.prototype.addListener=function(e,t){var i;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(i=s(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),i||(i=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var i=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,i,s,a;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],s=n.length,i=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(a=s;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){i=a;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){(function(e){function n(e){return Array.isArray?Array.isArray(e):"[object Array]"===g(e)}function r(e){return"boolean"==typeof e}function i(e){return null===e}function o(e){return null==e}function s(e){return"number"==typeof e}function a(e){return"string"==typeof e}function c(e){return"symbol"==typeof e}function u(e){return void 0===e}function l(e){return"[object RegExp]"===g(e)}function f(e){return"object"==typeof e&&null!==e}function h(e){return"[object Date]"===g(e)}function d(e){return"[object Error]"===g(e)||e instanceof Error}function p(e){return"function"==typeof e}function y(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function g(e){return Object.prototype.toString.call(e)}t.isArray=n,t.isBoolean=r,t.isNull=i,t.isNullOrUndefined=o,t.isNumber=s,t.isString=a,t.isSymbol=c,t.isUndefined=u,t.isRegExp=l,t.isObject=f,t.isDate=h,t.isError=d,t.isFunction=p,t.isPrimitive=y,t.isBuffer=e.isBuffer}).call(t,n(0).Buffer)},function(e,t,n){"use strict";t.randomBytes=t.rng=t.pseudoRandomBytes=t.prng=n(27),t.createHash=t.Hash=n(37),t.createHmac=t.Hmac=n(113);var r=n(220),i=Object.keys(r),o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(i);t.getHashes=function(){return o};var s=n(116);t.pbkdf2=s.pbkdf2,t.pbkdf2Sync=s.pbkdf2Sync;var a=n(222);t.Cipher=a.Cipher,t.createCipher=a.createCipher,t.Cipheriv=a.Cipheriv,t.createCipheriv=a.createCipheriv,t.Decipher=a.Decipher,t.createDecipher=a.createDecipher,t.Decipheriv=a.Decipheriv,t.createDecipheriv=a.createDecipheriv,t.getCiphers=a.getCiphers,t.listCiphers=a.listCiphers;var c=n(239);t.DiffieHellmanGroup=c.DiffieHellmanGroup,t.createDiffieHellmanGroup=c.createDiffieHellmanGroup,t.getDiffieHellman=c.getDiffieHellman,t.createDiffieHellman=c.createDiffieHellman,t.DiffieHellman=c.DiffieHellman;var u=n(244);t.createSign=u.createSign,t.Sign=u.Sign,t.createVerify=u.createVerify,t.Verify=u.Verify,t.createECDH=n(282);var l=n(283);t.publicEncrypt=l.publicEncrypt,t.privateEncrypt=l.privateEncrypt,t.publicDecrypt=l.publicDecrypt,t.privateDecrypt=l.privateDecrypt;var f=n(286);t.randomFill=f.randomFill,t.randomFillSync=f.randomFillSync,t.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},t.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},function(e,t,n){"use strict";function r(e){c.call(this,"digest"),this._hash=e}var i=n(1),o=n(69),s=n(70),a=n(71),c=n(18);i(r,c),r.prototype._update=function(e){this._hash.update(e)},r.prototype._final=function(){return this._hash.digest()},e.exports=function(e){return e=e.toLowerCase(),"md5"===e?new o:"rmd160"===e||"ripemd160"===e?new s:new r(a(e))}},function(e,t,n){(function(t){e.exports=function(e,n){for(var r=Math.min(e.length,n.length),i=new t(r),o=0;o<r;++o)i[o]=e[o]^n[o];return i}}).call(t,n(0).Buffer)},function(e,t,n){"use strict";function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var i=n(15),o=n(13);t.BlockHash=r,r.prototype.update=function(e,t){if(e=i.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),0===this.pending.length&&(this.pending=null),e=i.join32(e,0,e.length-n,this.endian);for(var r=0;r<e.length;r+=this._delta32)this._update(e,r,r+this._delta32)}return this},r.prototype.digest=function(e){return this.update(this._pad()),o(null===this.pending),this._digest(e)},r.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,n=t-(e+this.padLength)%t,r=new Array(n+this.padLength);r[0]=128;for(var i=1;i<n;i++)r[i]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)r[i++]=0;r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=e>>>24&255,r[i++]=e>>>16&255,r[i++]=e>>>8&255,r[i++]=255&e}else for(r[i++]=255&e,r[i++]=e>>>8&255,r[i++]=e>>>16&255,r[i++]=e>>>24&255,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,o=8;o<this.padLength;o++)r[i++]=0;return r}},function(e,t,n){var r=t;r.bignum=n(7),r.define=n(268).define,r.base=n(41),r.constants=n(133),r.decoders=n(274),r.encoders=n(276)},function(e,t,n){var r=t;r.Reporter=n(271).Reporter,r.DecoderBuffer=n(132).DecoderBuffer,r.EncoderBuffer=n(132).EncoderBuffer,r.Node=n(272)},function(e,t){function n(e){throw new Error("Cannot find module '"+e+"'.")}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=42},function(e,t,n){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.debug?console.debug.apply(null,e):console.log.apply(null,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.debug=r},function(e,t,n){"use strict";function r(){if(o){var e=o;o=null;for(var t=0;t<e.length;t++)try{e[t]()}catch(i){null===o&&(o=[],setTimeout(function(){r()},0));for(var n=e.length-1;n>t;n--)o.unshift(e[n]);throw i}}}function i(e){if(null!==o)return void o.push(e);o=[e],setTimeout(function(){r()},0)}Object.defineProperty(t,"__esModule",{value:!0});var o=null;t.default=i},function(e,t,n){"use strict";function r(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():""),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r.prototype.toString=function(e){var t=this.name+": ";return t+=this.reason||"(unknown reason)",!e&&this.mark&&(t+=" "+this.mark.toString()),t},e.exports=r},function(e,t,n){"use strict";var r=n(31);e.exports=new r({include:[n(167)],implicit:[n(365),n(366)],explicit:[n(367),n(368),n(369),n(370)]})},function(e,t,n){"use strict";function r(e,t,n,r){if(Array.isArray(t)||(n=t,t=void 0),o.call(this,e,n),void 0!==t&&!Array.isArray(t))throw TypeError("fieldNames must be an Array");this.oneof=t||[],this.fieldsArray=[],this.comment=r}function i(e){if(e.parent)for(var t=0;t<e.fieldsArray.length;++t)e.fieldsArray[t].parent||e.parent.add(e.fieldsArray[t])}e.exports=r;var o=n(23);((r.prototype=Object.create(o.prototype)).constructor=r).className="OneOf";var s=n(19),a=n(9);r.fromJSON=function(e,t){return new r(e,t.oneof,t.options,t.comment)},r.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return a.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:void 0])},r.prototype.add=function(e){if(!(e instanceof s))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,i(this),this},r.prototype.remove=function(e){if(!(e instanceof s))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(t,1),t=this.oneof.indexOf(e.name),t>-1&&this.oneof.splice(t,1),e.partOf=null,this},r.prototype.onAdd=function(e){o.prototype.onAdd.call(this,e);for(var t=this,n=0;n<this.oneof.length;++n){var r=e.get(this.oneof[n]);r&&!r.partOf&&(r.partOf=t,t.fieldsArray.push(r))}i(this)},r.prototype.onRemove=function(e){for(var t,n=0;n<this.fieldsArray.length;++n)(t=this.fieldsArray[n]).parent&&t.parent.remove(t);o.prototype.onRemove.call(this,e)},r.d=function(){for(var e=new Array(arguments.length),t=0;t<arguments.length;)e[t]=arguments[t++];return function(t,n){a.decorateType(t.constructor).add(new r(n,e)),Object.defineProperty(t,n,{get:a.oneOfGetter(e),set:a.oneOfSetter(e)})}}},function(e,t,n){"use strict";(function(t){function n(e,n,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,n)});case 3:return t.nextTick(function(){e.call(null,n,r)});case 4:return t.nextTick(function(){e.call(null,n,r,i)});default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return t.nextTick(function(){e.apply(null,o)})}}!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:n}:e.exports=t}).call(t,n(6))},function(e,t,n){"use strict";function r(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function i(e){var t=r(e);if("string"!=typeof t&&(v.isEncoding===b||!b(e)))throw new Error("Unknown encoding: "+e);return t||e}function o(e){this.encoding=i(e);var t;switch(this.encoding){case"utf16le":this.text=h,this.end=d,t=4;break;case"utf8":this.fillLast=u,t=4;break;case"base64":this.text=p,this.end=y,t=3;break;default:return this.write=g,void(this.end=m)}this.lastNeed=0,this.lastTotal=0,this.lastChar=v.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e,t,n){var r=t.length-1;if(r<n)return 0;var i=s(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n||-2===i?0:(i=s(t[r]))>=0?(i>0&&(e.lastNeed=i-2),i):--r<n||-2===i?0:(i=s(t[r]),i>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0)}function c(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}function u(e){var t=this.lastTotal-this.lastNeed,n=c(this,e,t);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){var n=a(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t}function h(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function d(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function p(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function y(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function g(e){return e.toString(this.encoding)}function m(e){return e&&e.length?this.write(e):""}var v=n(2).Buffer,b=v.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=f,o.prototype.text=l,o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){function r(e){a.isBuffer(e)||(e=a.from(e));for(var t=e.length/4|0,n=new Array(t),r=0;r<t;r++)n[r]=e.readUInt32BE(4*r);return n}function i(e){for(;0<e.length;e++)e[0]=0}function o(e,t,n,r,i){for(var o,s,a,c,u=n[0],l=n[1],f=n[2],h=n[3],d=e[0]^t[0],p=e[1]^t[1],y=e[2]^t[2],g=e[3]^t[3],m=4,v=1;v<i;v++)o=u[d>>>24]^l[p>>>16&255]^f[y>>>8&255]^h[255&g]^t[m++],s=u[p>>>24]^l[y>>>16&255]^f[g>>>8&255]^h[255&d]^t[m++],a=u[y>>>24]^l[g>>>16&255]^f[d>>>8&255]^h[255&p]^t[m++],c=u[g>>>24]^l[d>>>16&255]^f[p>>>8&255]^h[255&y]^t[m++],d=o,p=s,y=a,g=c;return o=(r[d>>>24]<<24|r[p>>>16&255]<<16|r[y>>>8&255]<<8|r[255&g])^t[m++],s=(r[p>>>24]<<24|r[y>>>16&255]<<16|r[g>>>8&255]<<8|r[255&d])^t[m++],a=(r[y>>>24]<<24|r[g>>>16&255]<<16|r[d>>>8&255]<<8|r[255&p])^t[m++],c=(r[g>>>24]<<24|r[d>>>16&255]<<16|r[p>>>8&255]<<8|r[255&y])^t[m++],o>>>=0,s>>>=0,a>>>=0,c>>>=0,[o,s,a,c]}function s(e){this._key=r(e),this._reset()}var a=n(2).Buffer,c=[0,1,2,4,8,16,32,64,128,27,54],u=function(){for(var e=new Array(256),t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var n=[],r=[],i=[[],[],[],[]],o=[[],[],[],[]],s=0,a=0,c=0;c<256;++c){var u=a^a<<1^a<<2^a<<3^a<<4;u=u>>>8^255&u^99,n[s]=u,r[u]=s;var l=e[s],f=e[l],h=e[f],d=257*e[u]^16843008*u;i[0][s]=d<<24|d>>>8,i[1][s]=d<<16|d>>>16,i[2][s]=d<<8|d>>>24,i[3][s]=d,d=16843009*h^65537*f^257*l^16843008*s,o[0][u]=d<<24|d>>>8,o[1][u]=d<<16|d>>>16,o[2][u]=d<<8|d>>>24,o[3][u]=d,0===s?s=a=1:(s=l^e[e[e[h^l]]],a^=e[e[a]])}return{SBOX:n,INV_SBOX:r,SUB_MIX:i,INV_SUB_MIX:o}}();s.blockSize=16,s.keySize=32,s.prototype.blockSize=s.blockSize,s.prototype.keySize=s.keySize,s.prototype._reset=function(){for(var e=this._key,t=e.length,n=t+6,r=4*(n+1),i=[],o=0;o<t;o++)i[o]=e[o];for(o=t;o<r;o++){var s=i[o-1];o%t==0?(s=s<<8|s>>>24,s=u.SBOX[s>>>24]<<24|u.SBOX[s>>>16&255]<<16|u.SBOX[s>>>8&255]<<8|u.SBOX[255&s],s^=c[o/t|0]<<24):t>6&&o%t==4&&(s=u.SBOX[s>>>24]<<24|u.SBOX[s>>>16&255]<<16|u.SBOX[s>>>8&255]<<8|u.SBOX[255&s]),i[o]=i[o-t]^s}for(var a=[],l=0;l<r;l++){var f=r-l,h=i[f-(l%4?0:4)];a[l]=l<4||f<=4?h:u.INV_SUB_MIX[0][u.SBOX[h>>>24]]^u.INV_SUB_MIX[1][u.SBOX[h>>>16&255]]^u.INV_SUB_MIX[2][u.SBOX[h>>>8&255]]^u.INV_SUB_MIX[3][u.SBOX[255&h]]}this._nRounds=n,this._keySchedule=i,this._invKeySchedule=a},s.prototype.encryptBlockRaw=function(e){return e=r(e),o(e,this._keySchedule,u.SUB_MIX,u.SBOX,this._nRounds)},s.prototype.encryptBlock=function(e){var t=this.encryptBlockRaw(e),n=a.allocUnsafe(16);return n.writeUInt32BE(t[0],0),n.writeUInt32BE(t[1],4),n.writeUInt32BE(t[2],8),n.writeUInt32BE(t[3],12),n},s.prototype.decryptBlock=function(e){e=r(e);var t=e[1];e[1]=e[3],e[3]=t;var n=o(e,this._invKeySchedule,u.INV_SUB_MIX,u.INV_SBOX,this._nRounds),i=a.allocUnsafe(16);return i.writeUInt32BE(n[0],0),i.writeUInt32BE(n[3],4),i.writeUInt32BE(n[2],8),i.writeUInt32BE(n[1],12),i},s.prototype.scrub=function(){i(this._keySchedule),i(this._invKeySchedule),i(this._key)},e.exports.AES=s},function(e,t,n){function r(e,t,n,r){if(i.isBuffer(e)||(e=i.from(e,"binary")),t&&(i.isBuffer(t)||(t=i.from(t,"binary")),8!==t.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var s=n/8,a=i.alloc(s),c=i.alloc(r||0),u=i.alloc(0);s>0||r>0;){var l=new o;l.update(u),l.update(e),t&&l.update(t),u=l.digest();var f=0;if(s>0){var h=a.length-s;f=Math.min(s,u.length),u.copy(a,h,0,f),s-=f}if(f<u.length&&r>0){var d=c.length-r,p=Math.min(r,u.length-f);u.copy(c,d,f,f+p),r-=p}}return u.fill(0),{key:a,iv:c}}var i=n(2).Buffer,o=n(69);e.exports=r},function(e,t,n){"use strict";var r=t;r.base=n(248),r.short=n(249),r.mont=n(250),r.edwards=n(251)},function(e,t,n){(function(t){function r(e){var n;"object"!=typeof e||t.isBuffer(e)||(n=e.passphrase,e=e.key),"string"==typeof e&&(e=new t(e));var r,s,c=a(e,n),u=c.tag,l=c.data;switch(u){case"CERTIFICATE":s=o.certificate.decode(l,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(s||(s=o.PublicKey.decode(l,"der")),r=s.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return o.RSAPublicKey.decode(s.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return s.subjectPrivateKey=s.subjectPublicKey,{type:"ec",data:s};case"1.2.840.10040.4.1":return s.algorithm.params.pub_key=o.DSAparam.decode(s.subjectPublicKey.data,"der"),{type:"dsa",data:s.algorithm.params};default:throw new Error("unknown key id "+r)}throw new Error("unknown key type "+u);case"ENCRYPTED PRIVATE KEY":l=o.EncryptedPrivateKey.decode(l,"der"),l=i(l,n);case"PRIVATE KEY":switch(s=o.PrivateKey.decode(l,"der"),r=s.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return o.RSAPrivateKey.decode(s.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:s.algorithm.curve,privateKey:o.ECPrivateKey.decode(s.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return s.algorithm.params.priv_key=o.DSAparam.decode(s.subjectPrivateKey,"der"),{type:"dsa",params:s.algorithm.params};default:throw new Error("unknown key id "+r)}throw new Error("unknown key type "+u);case"RSA PUBLIC KEY":return o.RSAPublicKey.decode(l,"der");case"RSA PRIVATE KEY":return o.RSAPrivateKey.decode(l,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:o.DSAPrivateKey.decode(l,"der")};case"EC PRIVATE KEY":return l=o.ECPrivateKey.decode(l,"der"),{curve:l.parameters.value,privateKey:l.privateKey};default:throw new Error("unknown key type "+u)}}function i(e,n){var r=e.algorithm.decrypt.kde.kdeparams.salt,i=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),o=s[e.algorithm.decrypt.cipher.algo.join(".")],a=e.algorithm.decrypt.cipher.iv,l=e.subjectPrivateKey,f=parseInt(o.split("-")[1],10)/8,h=u.pbkdf2Sync(n,r,i,f),d=c.createDecipheriv(o,h,a),p=[];return p.push(d.update(l)),p.push(d.final()),t.concat(p)}var o=n(267),s=n(279),a=n(280),c=n(73),u=n(116);e.exports=r,r.signature=o.signature}).call(t,n(0).Buffer)},function(e,t,n){"use strict";(function(t){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(4),o=(n(99),n(33),n(36),n(12),n(140),n(310)),s=n(3),a=s.getLogger("client-utils.js"),c=(n(142),n(81),n(148),n(153),n(154),n(11)),u=c.common,l=c.protos,f=c.protos,h=c.google.protobuf;e.exports.buildProposal=function(e,t,n){var o=new f.ChaincodeInvocationSpec;o.setChaincodeSpec(e);var s=new l.ChaincodeProposalPayload;s.setInput(o.toBuffer()),"object"===(void 0===n?"undefined":r(n))?(a.debug("buildProposal - adding in transientMap %s",i.inspect(n)),s.setTransientMap(n)):a.debug("buildProposal - not adding a transientMap");var c=new l.Proposal;return c.setHeader(t.toBuffer()),c.setPayload(s.toBuffer()),c},e.exports.sendPeersProposal=function(e,t,n){var r=e;Array.isArray(e)||(r=[e]);var i=function(e){return new Promise(function(r,i){e.sendProposal(t,n).then(function(e){r(e)}).catch(function(e){return a.error("sendPeersProposal - Promise is rejected: %s",e.stack?e.stack:e),i(e)})})},s=r.map(i),c=[];return o(s).then(function(e){return e.forEach(function(e){e.isFulfilled()?(a.debug("sendPeersProposal - Promise is fulfilled: "+e.value()),c.push(e.value())):(a.debug("sendPeersProposal - Promise is rejected: "+e.reason()),e.reason()instanceof Error?c.push(e.reason()):c.push(new Error(e.reason())))}),c})},e.exports.signProposal=function(e,n){var r=n.toBuffer(),i=e.sign(r);return{signature:t.from(i),proposal_bytes:r}},e.exports.buildChannelHeader=function(t,n,r,i,o,s,c){a.debug("buildChannelHeader - type %s channel_id %s tx_id %d epoch % chaincode_id %s",t,n,r,i,o);var h=new u.ChannelHeader;if(h.setType(t),h.setVersion(1),s||(s=e.exports.buildCurrentTimestamp()),h.setChannelId(n),h.setTxId(r.toString()),i&&h.setEpoch(i),o){var d=new f.ChaincodeID;d.setName(o);var p=new l.ChaincodeHeaderExtension;p.setChaincodeId(d),h.setExtension(p.toBuffer())}return s&&h.setTimestamp(s),c&&h.setTlsCertHash(c),h},e.exports.buildHeader=function(e,t,n){var r=new u.SignatureHeader;r.setCreator(e.serialize()),r.setNonce(n);var i=new u.Header;return i.setSignatureHeader(r.toBuffer()),i.setChannelHeader(t.toBuffer()),i},e.exports.checkProposalRequest=function(e,t){var n=null;return e?e.chaincodeId?e.txId||t||(n='Missing "txId" parameter in the proposal request'):n='Missing "chaincodeId" parameter in the proposal request':n="Missing input request object on the proposal request",n},e.exports.checkInstallRequest=function(e){var t=null;return e?e.chaincodeVersion||(t='Missing "chaincodeVersion" parameter in the proposal request'):t="Missing input request object on the proposal request",t},e.exports.translateCCType=function(e){switch((e||"golang").toLowerCase()){case"golang":default:return f.ChaincodeSpec.Type.GOLANG;case"car":return f.ChaincodeSpec.Type.CAR;case"java":return f.ChaincodeSpec.Type.JAVA;case"node":return f.ChaincodeSpec.Type.NODE}},e.exports.buildCurrentTimestamp=function(){var e=new Date,t=new h.Timestamp;return t.setSeconds(e.getTime()/1e3),t.setNanos(e.getTime()%1e3*1e6),t}}).call(t,n(0).Buffer)},function(e,t,n){"use strict";(function(t){function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(11),c=a.msp,u=function(){function e(t,n,r,i){if(o(this,e),!t)throw new Error('Missing required parameter "certificate".');if(!n)throw new Error('Missing required parameter "publicKey".');if(!r)throw new Error('Missing required parameter "mspId".');if(!i)throw new Error('Missing required parameter "cryptoSuite".');this._certificate=t,this._publicKey=n,this._mspId=r,this._cryptoSuite=i}return s(e,[{key:"getMSPId",value:function(){return this._mspId}},{key:"isValid",value:function(){return!0}},{key:"getOrganizationUnits",value:function(){return"dunno!"}},{key:"verify",value:function(e,t,n){return this._cryptoSuite.verify(this._publicKey,t,e)}},{key:"verifyAttributes",value:function(e,t){return!0}},{key:"serialize",value:function(){var e=new c.SerializedIdentity;return e.setMspid(this.getMSPId()),e.setIdBytes(t.from(this._certificate)),e.toBuffer()}}]),e}(),l=function(){function e(t,n){if(o(this,e),!t)throw new Error('Missing required parameter "cryptoSuite"');if(!n)throw new Error('Missing required parameter "key" for private key');this._cryptoSuite=t,this._key=n}return s(e,[{key:"getPublicKey",value:function(){return this._key.getPublicKey()}},{key:"sign",value:function(e,t){return this._cryptoSuite.sign(this._key,e,t)}}]),e}(),f=function(e){function n(e,t,i,s,a){o(this,n);var c=r(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t,i,s));if(!a)throw new Error('Missing required parameter "signer".');return c._signer=a,c}return i(n,e),s(n,[{key:"sign",value:function(e,n){var r;if(n&&n.hashFunction){if("function"!=typeof n.hashFunction)throw new Error('The "hashFunction" field must be a function');r=n.hashFunction}else r=this._cryptoSuite.hash.bind(this._cryptoSuite);var i=r(e);return this._signer.sign(t.from(i,"hex"),null)}}],[{key:"isInstance",value:function(e){return e._certificate&&e._publicKey&&e._mspId&&e._cryptoSuite&&e._signer}}]),n}(u);e.exports.Identity=u,e.exports.SigningIdentity=f,e.exports.Signer=l}).call(t,n(0).Buffer)},function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)r(n,i)&&(e[i]=n[i])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)return void e.set(t.subarray(n,n+r),i);for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){var t,n,r,i,o,s;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(s=new Uint8Array(r),i=0,t=0,n=e.length;t<n;t++)o=e[t],s.set(o,i),i+=o.length;return s}},s={arraySet:function(e,t,n,r,i){for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,o)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,s))},t.setTyped(i)},function(e,t,n){"use strict";var r=n(31);e.exports=r.DEFAULT=new r({include:[n(46)],explicit:[n(371),n(372),n(373)]})},function(e,t,n){"use strict";function r(e,t,n){this.fn=e,this.len=t,this.next=void 0,this.val=n}function i(){}function o(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function s(){this.len=0,this.head=new r(i,0,0),this.tail=this.head,this.states=null}function a(e,t,n){t[n]=255&e}function c(e,t,n){for(;e>127;)t[n++]=127&e|128,e>>>=7;t[n]=e}function u(e,t){this.len=e,this.next=void 0,this.val=t}function l(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[n++]=127&e.lo|128,e.lo=e.lo>>>7;t[n++]=e.lo}function f(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}e.exports=s;var h,d=n(16),p=d.LongBits,y=d.base64,g=d.utf8;s.create=d.Buffer?function(){return(s.create=function(){return new h})()}:function(){return new s},s.alloc=function(e){return new d.Array(e)},d.Array!==Array&&(s.alloc=d.pool(s.alloc,d.Array.prototype.subarray)),s.prototype._push=function(e,t,n){return this.tail=this.tail.next=new r(e,t,n),this.len+=t,this},u.prototype=Object.create(r.prototype),u.prototype.fn=c,s.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new u((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},s.prototype.int32=function(e){return e<0?this._push(l,10,p.fromNumber(e)):this.uint32(e)},s.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},s.prototype.uint64=function(e){var t=p.from(e);return this._push(l,t.length(),t)},s.prototype.int64=s.prototype.uint64,s.prototype.sint64=function(e){var t=p.from(e).zzEncode();return this._push(l,t.length(),t)},s.prototype.bool=function(e){return this._push(a,1,e?1:0)},s.prototype.fixed32=function(e){return this._push(f,4,e>>>0)},s.prototype.sfixed32=s.prototype.fixed32,s.prototype.fixed64=function(e){var t=p.from(e);return this._push(f,4,t.lo)._push(f,4,t.hi)},s.prototype.sfixed64=s.prototype.fixed64,s.prototype.float=function(e){return this._push(d.float.writeFloatLE,4,e)},s.prototype.double=function(e){return this._push(d.float.writeDoubleLE,8,e)};var m=d.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var r=0;r<e.length;++r)t[n+r]=e[r]};s.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(a,1,0);if(d.isString(e)){var n=s.alloc(t=y.length(e));y.decode(e,n,0),e=n}return this.uint32(t)._push(m,t,e)},s.prototype.string=function(e){var t=g.length(e);return t?this.uint32(t)._push(g.write,t,e):this._push(a,1,0)},s.prototype.fork=function(){return this.states=new o(this),this.head=this.tail=new r(i,0,0),this.len=0,this},s.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new r(i,0,0),this.len=0),this},s.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},s.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},s._configure=function(e){h=e}},function(e,t,n){"use strict";function r(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function i(e){this.buf=e,this.pos=0,this.len=e.length}function o(){var e=new l(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw r(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw r(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function s(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function a(){if(this.pos+8>this.len)throw r(this,8);return new l(s(this.buf,this.pos+=4),s(this.buf,this.pos+=4))}e.exports=i;var c,u=n(16),l=u.LongBits,f=u.utf8,h="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new i(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new i(e);throw Error("illegal buffer")};i.create=u.Buffer?function(e){return(i.create=function(e){return u.Buffer.isBuffer(e)?new c(e):h(e)})(e)}:h,i.prototype._slice=u.Array.prototype.subarray||u.Array.prototype.slice,i.prototype.uint32=function(){var e=4294967295;return function(){if(e=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return e;if((this.pos+=5)>this.len)throw this.pos=this.len,r(this,10);return e}}(),i.prototype.int32=function(){return 0|this.uint32()},i.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},i.prototype.bool=function(){return 0!==this.uint32()},i.prototype.fixed32=function(){if(this.pos+4>this.len)throw r(this,4);return s(this.buf,this.pos+=4)},i.prototype.sfixed32=function(){if(this.pos+4>this.len)throw r(this,4);return 0|s(this.buf,this.pos+=4)},i.prototype.float=function(){if(this.pos+4>this.len)throw r(this,4);var e=u.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},i.prototype.double=function(){if(this.pos+8>this.len)throw r(this,4);var e=u.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},i.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw r(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)},i.prototype.string=function(){var e=this.bytes();return f.read(e,0,e.length)},i.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw r(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw r(this)}while(128&this.buf[this.pos++]);return this},i.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;;){if(4==(e=7&this.uint32()))break;this.skipType(e)}break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},i._configure=function(e){c=e;var t=u.Long?"toLong":"toNumber";u.merge(i.prototype,{int64:function(){return o.call(this)[t](!1)},uint64:function(){return o.call(this)[t](!0)},sint64:function(){return o.call(this).zzDecode()[t](!1)},fixed64:function(){return a.call(this)[t](!0)},sfixed64:function(){return a.call(this)[t](!1)}})}},function(e,t,n){"use strict";function r(e,t){o.call(this,e,t),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function i(e){return e._fieldsById=e._fieldsArray=e._oneofsArray=null,delete e.encode,delete e.decode,delete e.verify,e}e.exports=r;var o=n(32);((r.prototype=Object.create(o.prototype)).constructor=r).className="Type";var s=n(14),a=n(47),c=n(19),u=n(61),l=n(62),f=n(64),h=n(59),d=n(58),p=n(9),y=n(92),g=n(93),m=n(94),v=n(95),b=n(96);Object.defineProperties(r.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var e=Object.keys(this.fields),t=0;t<e.length;++t){var n=this.fields[e[t]],r=n.id;if(this._fieldsById[r])throw Error("duplicate id "+r+" in "+this);this._fieldsById[r]=n}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=p.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=p.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=r.generateConstructor(this)())},set:function(e){var t=e.prototype;t instanceof f||((e.prototype=new f).constructor=e,p.merge(e.prototype,t)),e.$type=e.prototype.$type=this,p.merge(e,f,!0),this._ctor=e;for(var n=0;n<this.fieldsArray.length;++n)this._fieldsArray[n].resolve();var r={};for(n=0;n<this.oneofsArray.length;++n)r[this._oneofsArray[n].resolve().name]={get:p.oneOfGetter(this._oneofsArray[n].oneof),set:p.oneOfSetter(this._oneofsArray[n].oneof)};n&&Object.defineProperties(e.prototype,r)}}}),r.generateConstructor=function(e){for(var t,n=p.codegen(["p"],e.name),r=0;r<e.fieldsArray.length;++r)(t=e._fieldsArray[r]).map?n("this%s={}",p.safeProp(t.name)):t.repeated&&n("this%s=[]",p.safeProp(t.name));return n("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},r.fromJSON=function(e,t){var n=new r(e,t.options);n.extensions=t.extensions,n.reserved=t.reserved;for(var i=Object.keys(t.fields),f=0;f<i.length;++f)n.add((void 0!==t.fields[i[f]].keyType?u.fromJSON:c.fromJSON)(i[f],t.fields[i[f]]));if(t.oneofs)for(i=Object.keys(t.oneofs),f=0;f<i.length;++f)n.add(a.fromJSON(i[f],t.oneofs[i[f]]));if(t.nested)for(i=Object.keys(t.nested),f=0;f<i.length;++f){var h=t.nested[i[f]];n.add((void 0!==h.id?c.fromJSON:void 0!==h.fields?r.fromJSON:void 0!==h.values?s.fromJSON:void 0!==h.methods?l.fromJSON:o.fromJSON)(i[f],h))}return t.extensions&&t.extensions.length&&(n.extensions=t.extensions),t.reserved&&t.reserved.length&&(n.reserved=t.reserved),t.group&&(n.group=!0),t.comment&&(n.comment=t.comment),n},r.prototype.toJSON=function(e){var t=o.prototype.toJSON.call(this,e),n=!!e&&Boolean(e.keepComments);return p.toObject(["options",t&&t.options||void 0,"oneofs",o.arrayToJSON(this.oneofsArray,e),"fields",o.arrayToJSON(this.fieldsArray.filter(function(e){return!e.declaringField}),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",t&&t.nested||void 0,"comment",n?this.comment:void 0])},r.prototype.resolveAll=function(){for(var e=this.fieldsArray,t=0;t<e.length;)e[t++].resolve();var n=this.oneofsArray;for(t=0;t<n.length;)n[t++].resolve();return o.prototype.resolveAll.call(this)},r.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null},r.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof c&&void 0===e.extend){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),i(this)}return e instanceof a?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),i(this)):o.prototype.add.call(this,e)},r.prototype.remove=function(e){if(e instanceof c&&void 0===e.extend){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),i(this)}if(e instanceof a){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),i(this)}return o.prototype.remove.call(this,e)},r.prototype.isReservedId=function(e){return o.isReservedId(this.reserved,e)},r.prototype.isReservedName=function(e){return o.isReservedName(this.reserved,e)},r.prototype.create=function(e){return new this.ctor(e)},r.prototype.setup=function(){for(var e=this.fullName,t=[],n=0;n<this.fieldsArray.length;++n)t.push(this._fieldsArray[n].resolve().resolvedType);this.encode=y(this)({Writer:d,types:t,util:p}),this.decode=g(this)({Reader:h,types:t,util:p}),this.verify=m(this)({types:t,util:p}),this.fromObject=v.fromObject(this)({types:t,util:p}),this.toObject=v.toObject(this)({types:t,util:p});var r=b[e];if(r){var i=Object.create(this);i.fromObject=this.fromObject,this.fromObject=r.fromObject.bind(i),i.toObject=this.toObject,this.toObject=r.toObject.bind(i)}return this},r.prototype.encode=function(e,t){return this.setup().encode(e,t)},r.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()},r.prototype.decode=function(e,t){return this.setup().decode(e,t)},r.prototype.decodeDelimited=function(e){return e instanceof h||(e=h.create(e)),this.decode(e,e.uint32())},r.prototype.verify=function(e){return this.setup().verify(e)},r.prototype.fromObject=function(e){return this.setup().fromObject(e)},r.prototype.toObject=function(e,t){return this.setup().toObject(e,t)},r.d=function(e){return function(t){p.decorateType(t,e)}}},function(e,t,n){"use strict";function r(e,t,n,r,o,a){if(i.call(this,e,t,r,void 0,void 0,o,a),!s.isString(n))throw TypeError("keyType must be a string");this.keyType=n,this.resolvedKeyType=null,this.map=!0}e.exports=r;var i=n(19);((r.prototype=Object.create(i.prototype)).constructor=r).className="MapField";var o=n(24),s=n(9);r.fromJSON=function(e,t){return new r(e,t.id,t.keyType,t.type,t.options,t.comment)},r.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return s.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},r.prototype.resolve=function(){if(this.resolved)return this;if(void 0===o.mapKey[this.keyType])throw Error("invalid key type: "+this.keyType);return i.prototype.resolve.call(this)},r.d=function(e,t,n){return"function"==typeof n?n=s.decorateType(n).name:n&&"object"==typeof n&&(n=s.decorateEnum(n).name),function(i,o){s.decorateType(i.constructor).add(new r(o,e,t,n))}}},function(e,t,n){"use strict";function r(e,t){o.call(this,e,t),this.methods={},this._methodsArray=null}function i(e){return e._methodsArray=null,e}e.exports=r;var o=n(32);((r.prototype=Object.create(o.prototype)).constructor=r).className="Service";var s=n(63),a=n(9),c=n(90);r.fromJSON=function(e,t){var n=new r(e,t.options);if(t.methods)for(var i=Object.keys(t.methods),o=0;o<i.length;++o)n.add(s.fromJSON(i[o],t.methods[i[o]]));return t.nested&&n.addJSON(t.nested),n.comment=t.comment,n},r.prototype.toJSON=function(e){var t=o.prototype.toJSON.call(this,e),n=!!e&&Boolean(e.keepComments);return a.toObject(["options",t&&t.options||void 0,"methods",o.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||void 0,"comment",n?this.comment:void 0])},Object.defineProperty(r.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=a.toArray(this.methods))}}),r.prototype.get=function(e){return this.methods[e]||o.prototype.get.call(this,e)},r.prototype.resolveAll=function(){for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return o.prototype.resolve.call(this)},r.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof s?(this.methods[e.name]=e,e.parent=this,i(this)):o.prototype.add.call(this,e)},r.prototype.remove=function(e){if(e instanceof s){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,i(this)}return o.prototype.remove.call(this,e)},r.prototype.create=function(e,t,n){for(var r,i=new c.Service(e,t,n),o=0;o<this.methodsArray.length;++o){var s=a.lcFirst((r=this._methodsArray[o]).resolve().name).replace(/[^$\w_]/g,"");i[s]=a.codegen(["r","c"],a.isReserved(s)?s+"_":s)("return this.rpcCall(m,q,s,r,c)")({m:r,q:r.resolvedRequestType.ctor,s:r.resolvedResponseType.ctor})}return i}},function(e,t,n){"use strict";function r(e,t,n,r,s,a,c,u){if(o.isObject(s)?(c=s,s=a=void 0):o.isObject(a)&&(c=a,a=void 0),void 0!==t&&!o.isString(t))throw TypeError("type must be a string");if(!o.isString(n))throw TypeError("requestType must be a string");if(!o.isString(r))throw TypeError("responseType must be a string");i.call(this,e,c),this.type=t||"rpc",this.requestType=n,this.requestStream=!!s||void 0,this.responseType=r,this.responseStream=!!a||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=u}e.exports=r;var i=n(23);((r.prototype=Object.create(i.prototype)).constructor=r).className="Method";var o=n(9);r.fromJSON=function(e,t){return new r(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment)},r.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return o.toObject(["type","rpc"!==this.type&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:void 0])},r.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),i.prototype.resolve.call(this))}},function(e,t,n){"use strict";function r(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)this[t[n]]=e[t[n]]}e.exports=r;var i=n(16);r.create=function(e){return this.$type.create(e)},r.encode=function(e,t){return this.$type.encode(e,t)},r.encodeDelimited=function(e,t){return this.$type.encodeDelimited(e,t)},r.decode=function(e){return this.$type.decode(e)},r.decodeDelimited=function(e){return this.$type.decodeDelimited(e)},r.verify=function(e){return this.$type.verify(e)},r.fromObject=function(e){return this.$type.fromObject(e)},r.toObject=function(e,t){return this.$type.toObject(e,t)},r.prototype.toJSON=function(){return this.$type.toObject(this,i.toJSONOptions)}},function(e,t,n){"use strict";function r(e){s.call(this,"",e),this.deferred=[],this.files=[]}function i(){}function o(e,t){var n=t.parent.lookup(t.extend);if(n){var r=new l(t.fullName,t.id,t.type,t.rule,void 0,t.options);return r.declaringField=t,t.extensionField=r,n.add(r),!0}return!1}e.exports=r;var s=n(32);((r.prototype=Object.create(s.prototype)).constructor=r).className="Root";var a,c,u,l=n(19),f=n(14),h=n(47),d=n(9);r.fromJSON=function(e,t){return t||(t=new r),e.options&&t.setOptions(e.options),t.addJSON(e.nested)},r.prototype.resolvePath=d.path.resolve,r.prototype.load=function e(t,n,r){function o(e,t){if(r){var n=r;if(r=null,f)throw e;n(e,t)}}function s(e,t){try{if(d.isString(t)&&"{"===t.charAt(0)&&(t=JSON.parse(t)),d.isString(t)){c.filename=e;var r,i=c(t,l,n),s=0;if(i.imports)for(;s<i.imports.length;++s)(r=l.resolvePath(e,i.imports[s]))&&a(r);if(i.weakImports)for(s=0;s<i.weakImports.length;++s)(r=l.resolvePath(e,i.weakImports[s]))&&a(r,!0)}else l.setOptions(t.options).addJSON(t.nested)}catch(e){o(e)}f||h||o(null,l)}function a(e,t){var n=e.lastIndexOf("google/protobuf/");if(n>-1){var i=e.substring(n);i in u&&(e=i)}if(!(l.files.indexOf(e)>-1)){if(l.files.push(e),e in u)return void(f?s(e,u[e]):(++h,setTimeout(function(){--h,s(e,u[e])})));if(f){var a;try{a=d.fs.readFileSync(e).toString("utf8")}catch(e){return void(t||o(e))}s(e,a)}else++h,d.fetch(e,function(n,i){if(--h,r)return n?void(t?h||o(null,l):o(n)):void s(e,i)})}}"function"==typeof n&&(r=n,n=void 0);var l=this;if(!r)return d.asPromise(e,l,t,n);var f=r===i,h=0;d.isString(t)&&(t=[t]);for(var p,y=0;y<t.length;++y)(p=l.resolvePath("",t[y]))&&a(p);if(f)return l;h||o(null,l)},r.prototype.loadSync=function(e,t){if(!d.isNode)throw Error("not supported");return this.load(e,t,i)},r.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(e){return"'extend "+e.extend+"' in "+e.parent.fullName}).join(", "));return s.prototype.resolveAll.call(this)};var p=/^[A-Z]/;r.prototype._handleAdd=function(e){if(e instanceof l)void 0===e.extend||e.extensionField||o(this,e)||this.deferred.push(e);else if(e instanceof f)p.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof h)){if(e instanceof a)for(var t=0;t<this.deferred.length;)o(this,this.deferred[t])?this.deferred.splice(t,1):++t;for(var n=0;n<e.nestedArray.length;++n)this._handleAdd(e._nestedArray[n]);p.test(e.name)&&(e.parent[e.name]=e)}},r.prototype._handleRemove=function(e){if(e instanceof l){if(void 0!==e.extend)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);t>-1&&this.deferred.splice(t,1)}}else if(e instanceof f)p.test(e.name)&&delete e.parent[e.name];else if(e instanceof s){for(var n=0;n<e.nestedArray.length;++n)this._handleRemove(e._nestedArray[n]);p.test(e.name)&&delete e.parent[e.name]}},r._configure=function(e,t,n){a=e,c=t,u=n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.constants={O_RDONLY:0,O_WRONLY:1,O_RDWR:2,S_IFMT:61440,S_IFREG:32768,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960,S_IFSOCK:49152,O_CREAT:64,O_EXCL:128,O_NOCTTY:256,O_TRUNC:512,O_APPEND:1024,O_DIRECTORY:65536,O_NOATIME:262144,O_NOFOLLOW:131072,O_SYNC:1052672,O_DIRECT:16384,O_NONBLOCK:2048,S_IRWXU:448,S_IRUSR:256,S_IWUSR:128,S_IXUSR:64,S_IRWXG:56,S_IRGRP:32,S_IWGRP:16,S_IXGRP:8,S_IRWXO:7,S_IROTH:4,S_IWOTH:2,S_IXOTH:1,F_OK:0,R_OK:4,W_OK:2,X_OK:1,UV_FS_SYMLINK_DIR:1,UV_FS_SYMLINK_JUNCTION:2,UV_FS_COPYFILE_EXCL:1,UV_FS_COPYFILE_FICLONE:2,UV_FS_COPYFILE_FICLONE_FORCE:4,COPYFILE_EXCL:1,COPYFILE_FICLONE:2,COPYFILE_FICLONE_FORCE:4}},function(e,t,n){"use strict";(function(t){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
function r(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0}function i(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}function o(e){return Object.prototype.toString.call(e)}function s(e){return!i(e)&&("function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}function a(e){if(w.isFunction(e)){if(k)return e.name;var t=e.toString(),n=t.match(_);return n&&n[1]}}function c(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function u(e){if(k||!w.isFunction(e))return w.inspect(e);var t=a(e);return"[Function"+(t?": "+t:"")+"]"}function l(e){return c(u(e.actual),128)+" "+e.operator+" "+c(u(e.expected),128)}function f(e,t,n,r,i){throw new x.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function h(e,t){e||f(e,!0,t,"==",x.ok)}function d(e,t,n,a){if(e===t)return!0;if(i(e)&&i(t))return 0===r(e,t);if(w.isDate(e)&&w.isDate(t))return e.getTime()===t.getTime();if(w.isRegExp(e)&&w.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(s(e)&&s(t)&&o(e)===o(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===r(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(i(e)!==i(t))return!1;a=a||{actual:[],expected:[]};var c=a.actual.indexOf(e);return-1!==c&&c===a.expected.indexOf(t)||(a.actual.push(e),a.expected.push(t),y(e,t,n,a))}return n?e===t:e==t}function p(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function y(e,t,n,r){if(null===e||void 0===e||null===t||void 0===t)return!1;if(w.isPrimitive(e)||w.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=p(e),o=p(t);if(i&&!o||!i&&o)return!1;if(i)return e=E.call(e),t=E.call(t),d(e,t,n);var s,a,c=O(e),u=O(t);if(c.length!==u.length)return!1;for(c.sort(),u.sort(),a=c.length-1;a>=0;a--)if(c[a]!==u[a])return!1;for(a=c.length-1;a>=0;a--)if(s=c[a],!d(e[s],t[s],n,r))return!1;return!0}function g(e,t,n){d(e,t,!0)&&f(e,t,n,"notDeepStrictEqual",g)}function m(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function v(e){var t;try{e()}catch(e){t=e}return t}function b(e,t,n,r){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=v(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!i&&f(i,n,"Missing expected exception"+r);var o="string"==typeof r,s=!e&&w.isError(i),a=!e&&i&&!n;if((s&&o&&m(i,n)||a)&&f(i,n,"Got unwanted exception"+r),e&&i&&n&&!m(i,n)||!e&&i)throw i}var w=n(4),S=Object.prototype.hasOwnProperty,E=Array.prototype.slice,k=function(){return"foo"===function(){}.name}(),x=e.exports=h,_=/\s*function\s+([^\(\s]*)\s*/;x.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=l(this),this.generatedMessage=!0);var t=e.stackStartFunction||f;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,i=a(t),o=r.indexOf("\n"+i);if(o>=0){var s=r.indexOf("\n",o+1);r=r.substring(s+1)}this.stack=r}}},w.inherits(x.AssertionError,Error),x.fail=f,x.ok=h,x.equal=function(e,t,n){e!=t&&f(e,t,n,"==",x.equal)},x.notEqual=function(e,t,n){e==t&&f(e,t,n,"!=",x.notEqual)},x.deepEqual=function(e,t,n){d(e,t,!1)||f(e,t,n,"deepEqual",x.deepEqual)},x.deepStrictEqual=function(e,t,n){d(e,t,!0)||f(e,t,n,"deepStrictEqual",x.deepStrictEqual)},x.notDeepEqual=function(e,t,n){d(e,t,!1)&&f(e,t,n,"notDeepEqual",x.notDeepEqual)},x.notDeepStrictEqual=g,x.strictEqual=function(e,t,n){e!==t&&f(e,t,n,"===",x.strictEqual)},x.notStrictEqual=function(e,t,n){e===t&&f(e,t,n,"!==",x.notStrictEqual)},x.throws=function(e,t,n){b(!0,e,t,n)},x.doesNotThrow=function(e,t,n){b(!1,e,t,n)},x.ifError=function(e){if(e)throw e};var O=Object.keys||function(e){var t=[];for(var n in e)S.call(e,n)&&t.push(n);return t}}).call(t,n(5))},function(e,t,n){"use strict";(function(t,r,i){function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){C(t,e)}}function s(e){return T.from(e)}function a(e){return T.isBuffer(e)||e instanceof N}function c(){}function u(e,t){P=P||n(21),e=e||{};var r=t instanceof P;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,s=e.writableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var c=!1===e.decodeStrings;this.decodeStrings=!c,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){v(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function l(e){if(P=P||n(21),!(F.call(l,this)||this instanceof P))return new l(e);this._writableState=new u(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),j.call(this)}function f(e,t){var n=new Error("write after end");e.emit("error",n),A.nextTick(t,n)}function h(e,t,n,r){var i=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),A.nextTick(r,o),i=!1),i}function d(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=T.from(t,n)),t}function p(e,t,n,r,i,o){if(!n){var s=d(t,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=t.objectMode?1:r.length;t.length+=a;var c=t.length<t.highWaterMark;if(c||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else y(e,t,!1,a,r,i,o);return c}function y(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function g(e,t,n,r,i){--t.pendingcb,n?(A.nextTick(i,r),A.nextTick(_,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),_(e,t))}function m(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function v(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(m(n),t)g(e,n,r,t,i);else{var o=E(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||S(e,n),r?I(b,e,n,o,i):b(e,n,o,i)}}function b(e,t,n,r){n||w(e,t),t.pendingcb--,r(),_(e,t)}function w(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function S(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),s=t.corkedRequestsFree;s.entry=n;for(var a=0,c=!0;n;)i[a]=n,n.isBuf||(c=!1),n=n.next,a+=1;i.allBuffers=c,y(e,t,!0,t.length,i,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,l=n.encoding,f=n.callback;if(y(e,t,!1,t.objectMode?1:u.length,u,l,f),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function E(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function k(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),_(e,t)})}function x(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,A.nextTick(k,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function _(e,t){var n=E(t);return n&&(x(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}function O(e,t,n){t.ending=!0,_(e,t),n&&(t.finished?A.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}function C(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}var A=n(48);e.exports=l;var P,I=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:A.nextTick;l.WritableState=u;var D=n(35);D.inherits=n(1);var R={deprecate:n(203)},j=n(105),T=n(2).Buffer,N=i.Uint8Array||function(){},B=n(106);D.inherits(l,j),u.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(u.prototype,"buffer",{get:R.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}();var F;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(F=Function.prototype[Symbol.hasInstance],Object.defineProperty(l,Symbol.hasInstance,{value:function(e){return!!F.call(this,e)||this===l&&(e&&e._writableState instanceof u)}})):F=function(e){return e instanceof this},l.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},l.prototype.write=function(e,t,n){var r=this._writableState,i=!1,o=!r.objectMode&&a(e);return o&&!T.isBuffer(e)&&(e=s(e)),"function"==typeof t&&(n=t,t=null),o?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=c),r.ended?f(this,n):(o||h(this,r,e,n))&&(r.pendingcb++,i=p(this,r,o,e,t,n)),i},l.prototype.cork=function(){this._writableState.corked++},l.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||S(this,e))},l.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),l.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},l.prototype._writev=null,l.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||O(this,r,n)},Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),l.prototype.destroy=B.destroy,l.prototype._undestroy=B.undestroy,l.prototype._destroy=function(e,t){this.end(),t(e)}}).call(t,n(6),n(103).setImmediate,n(5))},function(e,t,n){"use strict";(function(t){function r(){l.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function i(e,t){return e<<t|e>>>32-t}function o(e,t,n,r,o,s,a){return i(e+(t&n|~t&r)+o+s|0,a)+t|0}function s(e,t,n,r,o,s,a){return i(e+(t&r|n&~r)+o+s|0,a)+t|0}function a(e,t,n,r,o,s,a){return i(e+(t^n^r)+o+s|0,a)+t|0}function c(e,t,n,r,o,s,a){return i(e+(n^(t|~r))+o+s|0,a)+t|0}var u=n(1),l=n(110),f=new Array(16);u(r,l),r.prototype._update=function(){for(var e=f,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var n=this._a,r=this._b,i=this._c,u=this._d;n=o(n,r,i,u,e[0],3614090360,7),u=o(u,n,r,i,e[1],3905402710,12),i=o(i,u,n,r,e[2],606105819,17),r=o(r,i,u,n,e[3],3250441966,22),n=o(n,r,i,u,e[4],4118548399,7),u=o(u,n,r,i,e[5],1200080426,12),i=o(i,u,n,r,e[6],2821735955,17),r=o(r,i,u,n,e[7],4249261313,22),n=o(n,r,i,u,e[8],1770035416,7),u=o(u,n,r,i,e[9],2336552879,12),i=o(i,u,n,r,e[10],4294925233,17),r=o(r,i,u,n,e[11],2304563134,22),n=o(n,r,i,u,e[12],1804603682,7),u=o(u,n,r,i,e[13],4254626195,12),i=o(i,u,n,r,e[14],2792965006,17),r=o(r,i,u,n,e[15],1236535329,22),n=s(n,r,i,u,e[1],4129170786,5),u=s(u,n,r,i,e[6],3225465664,9),i=s(i,u,n,r,e[11],643717713,14),r=s(r,i,u,n,e[0],3921069994,20),n=s(n,r,i,u,e[5],3593408605,5),u=s(u,n,r,i,e[10],38016083,9),i=s(i,u,n,r,e[15],3634488961,14),r=s(r,i,u,n,e[4],3889429448,20),n=s(n,r,i,u,e[9],568446438,5),u=s(u,n,r,i,e[14],3275163606,9),i=s(i,u,n,r,e[3],4107603335,14),r=s(r,i,u,n,e[8],1163531501,20),n=s(n,r,i,u,e[13],2850285829,5),u=s(u,n,r,i,e[2],4243563512,9),i=s(i,u,n,r,e[7],1735328473,14),r=s(r,i,u,n,e[12],2368359562,20),n=a(n,r,i,u,e[5],4294588738,4),u=a(u,n,r,i,e[8],2272392833,11),i=a(i,u,n,r,e[11],1839030562,16),r=a(r,i,u,n,e[14],4259657740,23),n=a(n,r,i,u,e[1],2763975236,4),u=a(u,n,r,i,e[4],1272893353,11),i=a(i,u,n,r,e[7],4139469664,16),r=a(r,i,u,n,e[10],3200236656,23),n=a(n,r,i,u,e[13],681279174,4),u=a(u,n,r,i,e[0],3936430074,11),i=a(i,u,n,r,e[3],3572445317,16),r=a(r,i,u,n,e[6],76029189,23),n=a(n,r,i,u,e[9],3654602809,4),u=a(u,n,r,i,e[12],3873151461,11),i=a(i,u,n,r,e[15],530742520,16),r=a(r,i,u,n,e[2],3299628645,23),n=c(n,r,i,u,e[0],4096336452,6),u=c(u,n,r,i,e[7],1126891415,10),i=c(i,u,n,r,e[14],2878612391,15),r=c(r,i,u,n,e[5],4237533241,21),n=c(n,r,i,u,e[12],1700485571,6),u=c(u,n,r,i,e[3],2399980690,10),i=c(i,u,n,r,e[10],4293915773,15),r=c(r,i,u,n,e[1],2240044497,21),n=c(n,r,i,u,e[8],1873313359,6),u=c(u,n,r,i,e[15],4264355552,10),i=c(i,u,n,r,e[6],2734768916,15),r=c(r,i,u,n,e[13],1309151649,21),n=c(n,r,i,u,e[4],4149444226,6),u=c(u,n,r,i,e[11],3174756917,10),i=c(i,u,n,r,e[2],718787259,15),r=c(r,i,u,n,e[9],3951481745,21),this._a=this._a+n|0,this._b=this._b+r|0,this._c=this._c+i|0,this._d=this._d+u|0},r.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=new t(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=r}).call(t,n(0).Buffer)},function(e,t,n){"use strict";function r(){h.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function i(e,t){return e<<t|e>>>32-t}function o(e,t,n,r,o,s,a,c){return i(e+(t^n^r)+s+a|0,c)+o|0}function s(e,t,n,r,o,s,a,c){return i(e+(t&n|~t&r)+s+a|0,c)+o|0}function a(e,t,n,r,o,s,a,c){return i(e+((t|~n)^r)+s+a|0,c)+o|0}function c(e,t,n,r,o,s,a,c){return i(e+(t&r|n&~r)+s+a|0,c)+o|0}function u(e,t,n,r,o,s,a,c){return i(e+(t^(n|~r))+s+a|0,c)+o|0}var l=n(0).Buffer,f=n(1),h=n(110),d=new Array(16),p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],y=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],v=[0,1518500249,1859775393,2400959708,2840853838],b=[1352829926,1548603684,1836072691,2053994217,0];f(r,h),r.prototype._update=function(){for(var e=d,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var n=0|this._a,r=0|this._b,l=0|this._c,f=0|this._d,h=0|this._e,w=0|this._a,S=0|this._b,E=0|this._c,k=0|this._d,x=0|this._e,_=0;_<80;_+=1){var O,C;_<16?(O=o(n,r,l,f,h,e[p[_]],v[0],g[_]),C=u(w,S,E,k,x,e[y[_]],b[0],m[_])):_<32?(O=s(n,r,l,f,h,e[p[_]],v[1],g[_]),C=c(w,S,E,k,x,e[y[_]],b[1],m[_])):_<48?(O=a(n,r,l,f,h,e[p[_]],v[2],g[_]),C=a(w,S,E,k,x,e[y[_]],b[2],m[_])):_<64?(O=c(n,r,l,f,h,e[p[_]],v[3],g[_]),C=s(w,S,E,k,x,e[y[_]],b[3],m[_])):(O=u(n,r,l,f,h,e[p[_]],v[4],g[_]),C=o(w,S,E,k,x,e[y[_]],b[4],m[_])),n=h,h=f,f=i(l,10),l=r,r=O,w=x,x=k,k=i(E,10),E=S,S=C}var A=this._b+l+k|0;this._b=this._c+f+x|0,this._c=this._d+h+w|0,this._d=this._e+n+S|0,this._e=this._a+r+E|0,this._a=A},r.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=l.alloc?l.alloc(20):new l(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},e.exports=r},function(e,t,n){var t=e.exports=function(e){e=e.toLowerCase();var n=t[e];if(!n)throw new Error(e+" is not supported (we accept pull requests)");return new n};t.sha=n(215),t.sha1=n(216),t.sha224=n(217),t.sha256=n(111),t.sha384=n(218),t.sha512=n(112)},function(e,t,n){"use strict";t.utils=n(224),t.Cipher=n(225),t.DES=n(226),t.CBC=n(227),t.EDE=n(228)},function(e,t,n){function r(){return Object.keys(s)}var i=n(229),o=n(237),s=n(122);t.createCipher=t.Cipher=i.createCipher,t.createCipheriv=t.Cipheriv=i.createCipheriv,t.createDecipher=t.Decipher=o.createDecipher,t.createDecipheriv=t.Decipheriv=o.createDecipheriv,t.listCiphers=t.getCiphers=r},function(e,t,n){var r={ECB:n(230),CBC:n(231),CFB:n(232),CFB8:n(233),CFB1:n(234),OFB:n(235),CTR:n(120),GCM:n(120)},i=n(122);for(var o in i)i[o].module=r[i[o].mode];e.exports=i},function(e,t,n){(function(t){function r(e){var t=o(e);return{blinder:t.toRed(s.mont(e.modulus)).redPow(new s(e.publicExponent)).fromRed(),unblinder:t.invm(e.modulus)}}function i(e,n){var i=r(n),o=n.modulus.byteLength(),a=(s.mont(n.modulus),new s(e).mul(i.blinder).umod(n.modulus)),c=a.toRed(s.mont(n.prime1)),u=a.toRed(s.mont(n.prime2)),l=n.coefficient,f=n.prime1,h=n.prime2,d=c.redPow(n.exponent1),p=u.redPow(n.exponent2);d=d.fromRed(),p=p.fromRed();var y=d.isub(p).imul(l).umod(f);return y.imul(h),p.iadd(y),new t(p.imul(i.unblinder).umod(n.modulus).toArray(!1,o))}function o(e){for(var t=e.modulus.byteLength(),n=new s(a(t));n.cmp(e.modulus)>=0||!n.umod(e.prime1)||!n.umod(e.prime2);)n=new s(a(t));return n}var s=n(7),a=n(27);e.exports=i,i.getr=o}).call(t,n(0).Buffer)},function(e,t,n){var r=t;r.utils=n(15),r.common=n(39),r.sha=n(253),r.ripemd=n(257),r.hmac=n(258),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160},function(e,t,n){(function(e){function n(e){var t,n,r="";for(t=0;t+3<=e.length;t+=3)n=parseInt(e.substring(t,t+3),16),r+=cr.charAt(n>>6)+cr.charAt(63&n);if(t+1==e.length?(n=parseInt(e.substring(t,t+1),16),r+=cr.charAt(n<<2)):t+2==e.length&&(n=parseInt(e.substring(t,t+2),16),r+=cr.charAt(n>>2)+cr.charAt((3&n)<<4)),ur)for(;(3&r.length)>0;)r+=ur;return r}function r(e){var t,n,r,i="",o=0;for(t=0;t<e.length&&e.charAt(t)!=ur;++t)(r=cr.indexOf(e.charAt(t)))<0||(0==o?(i+=l(r>>2),n=3&r,o=1):1==o?(i+=l(n<<2|r>>4),n=15&r,o=2):2==o?(i+=l(n),i+=l(r>>2),n=3&r,o=3):(i+=l(n<<2|r>>4),i+=l(15&r),o=0));return 1==o&&(i+=l(n<<2)),i}function i(e){var t,n=r(e),i=new Array;for(t=0;2*t<n.length;++t)i[t]=parseInt(n.substring(2*t,2*t+2),16);return i}function o(e,t,n){null!=e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function s(){return new o(null)}function a(e,t,n,r,i,o){for(;--o>=0;){var s=t*this[e++]+n[r]+i;i=Math.floor(s/67108864),n[r++]=67108863&s}return i}function c(e,t,n,r,i,o){for(var s=32767&t,a=t>>15;--o>=0;){var c=32767&this[e],u=this[e++]>>15,l=a*c+u*s;c=s*c+((32767&l)<<15)+n[r]+(1073741823&i),i=(c>>>30)+(l>>>15)+a*u+(i>>>30),n[r++]=1073741823&c}return i}function u(e,t,n,r,i,o){for(var s=16383&t,a=t>>14;--o>=0;){var c=16383&this[e],u=this[e++]>>14,l=a*c+u*s;c=s*c+((16383&l)<<14)+n[r]+i,i=(c>>28)+(l>>14)+a*u,n[r++]=268435455&c}return i}function l(e){return hr.charAt(e)}function f(e,t){var n=dr[e.charCodeAt(t)];return null==n?-1:n}function h(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s}function d(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0}function p(e){var t=s();return t.fromInt(e),t}function y(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(256==t)n=8;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)return void this.fromRadix(e,t);n=2}this.t=0,this.s=0;for(var r=e.length,i=!1,s=0;--r>=0;){var a=8==n?255&e[r]:f(e,r);a<0?"-"==e.charAt(r)&&(i=!0):(i=!1,0==s?this[this.t++]=a:s+n>this.DB?(this[this.t-1]|=(a&(1<<this.DB-s)-1)<<s,this[this.t++]=a>>this.DB-s):this[this.t-1]|=a<<s,(s+=n)>=this.DB&&(s-=this.DB))}8==n&&0!=(128&e[0])&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),i&&o.ZERO.subTo(this,this)}function g(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t}function m(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,r=(1<<t)-1,i=!1,o="",s=this.t,a=this.DB-s*this.DB%t;if(s-- >0)for(a<this.DB&&(n=this[s]>>a)>0&&(i=!0,o=l(n));s>=0;)a<t?(n=(this[s]&(1<<a)-1)<<t-a,n|=this[--s]>>(a+=this.DB-t)):(n=this[s]>>(a-=t)&r,a<=0&&(a+=this.DB,--s)),n>0&&(i=!0),i&&(o+=l(n));return i?o:"0"}function v(){var e=s();return o.ZERO.subTo(this,e),e}function b(){return this.s<0?this.negate():this}function w(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0}function S(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function E(){return this.t<=0?0:this.DB*(this.t-1)+S(this[this.t-1]^this.s&this.DM)}function k(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s}function x(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s}function _(e,t){var n,r=e%this.DB,i=this.DB-r,o=(1<<i)-1,s=Math.floor(e/this.DB),a=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t[n+s+1]=this[n]>>i|a,a=(this[n]&o)<<r;for(n=s-1;n>=0;--n)t[n]=0;t[s]=a,t.t=this.t+s+1,t.s=this.s,t.clamp()}function O(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)return void(t.t=0);var r=e%this.DB,i=this.DB-r,o=(1<<r)-1;t[0]=this[n]>>r;for(var s=n+1;s<this.t;++s)t[s-n-1]|=(this[s]&o)<<i,t[s-n]=this[s]>>r;r>0&&(t[this.t-n-1]|=(this.s&o)<<i),t.t=this.t-n,t.clamp()}function C(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()}function A(e,t){var n=this.abs(),r=e.abs(),i=n.t;for(t.t=i+r.t;--i>=0;)t[i]=0;for(i=0;i<r.t;++i)t[i+n.t]=n.am(0,r[i],t,i,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&o.ZERO.subTo(t,t)}function P(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()}function I(e,t,n){var r=e.abs();if(!(r.t<=0)){var i=this.abs();if(i.t<r.t)return null!=t&&t.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=s());var a=s(),c=this.s,u=e.s,l=this.DB-S(r[r.t-1]);l>0?(r.lShiftTo(l,a),i.lShiftTo(l,n)):(r.copyTo(a),i.copyTo(n));var f=a.t,h=a[f-1];if(0!=h){var d=h*(1<<this.F1)+(f>1?a[f-2]>>this.F2:0),p=this.FV/d,y=(1<<this.F1)/d,g=1<<this.F2,m=n.t,v=m-f,b=null==t?s():t;for(a.dlShiftTo(v,b),n.compareTo(b)>=0&&(n[n.t++]=1,n.subTo(b,n)),o.ONE.dlShiftTo(f,b),b.subTo(a,a);a.t<f;)a[a.t++]=0;for(;--v>=0;){var w=n[--m]==h?this.DM:Math.floor(n[m]*p+(n[m-1]+g)*y);if((n[m]+=a.am(0,w,n,v,0,f))<w)for(a.dlShiftTo(v,b),n.subTo(b,n);n[m]<--w;)n.subTo(b,n)}null!=t&&(n.drShiftTo(f,t),c!=u&&o.ZERO.subTo(t,t)),n.t=f,n.clamp(),l>0&&n.rShiftTo(l,n),c<0&&o.ZERO.subTo(n,n)}}}function D(e){var t=s();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(o.ZERO)>0&&e.subTo(t,t),t}function R(e){this.m=e}function j(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function T(e){return e}function N(e){e.divRemTo(this.m,null,e)}function B(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function F(e,t){e.squareTo(t),this.reduce(t)}function M(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return t=t*(2-(15&e)*t)&15,t=t*(2-(255&e)*t)&255,t=t*(2-((65535&e)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}function L(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function H(e){var t=s();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(o.ZERO)>0&&this.m.subTo(t,t),t}function q(e){var t=s();return e.copyTo(t),this.reduce(t),t}function U(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(n=t+this.m.t,e[n]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function K(e,t){e.squareTo(t),this.reduce(t)}function V(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function z(){return 0==(this.t>0?1&this[0]:this.s)}function J(e,t){if(e>4294967295||e<1)return o.ONE;var n=s(),r=s(),i=t.convert(this),a=S(e)-1;for(i.copyTo(n);--a>=0;)if(t.sqrTo(n,r),(e&1<<a)>0)t.mulTo(r,i,n);else{var c=n;n=r,r=c}return t.revert(n)}function G(e,t){var n;return n=e<256||t.isEven()?new R(t):new L(t),this.exp(e,n)}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
function W(){var e=s();return this.copyTo(e),e}function X(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function Y(){return 0==this.t?this.s:this[0]<<24>>24}function Q(){return 0==this.t?this.s:this[0]<<16>>16}function Z(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}function $(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function ee(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),n=Math.pow(e,t),r=p(n),i=s(),o=s(),a="";for(this.divRemTo(r,i,o);i.signum()>0;)a=(n+o.intValue()).toString(e).substr(1)+a,i.divRemTo(r,i,o);return o.intValue().toString(e)+a}function te(e,t){this.fromInt(0),null==t&&(t=10);for(var n=this.chunkSize(t),r=Math.pow(t,n),i=!1,s=0,a=0,c=0;c<e.length;++c){var u=f(e,c);u<0?"-"==e.charAt(c)&&0==this.signum()&&(i=!0):(a=t*a+u,++s>=n&&(this.dMultiply(r),this.dAddOffset(a,0),s=0,a=0))}s>0&&(this.dMultiply(Math.pow(t,s)),this.dAddOffset(a,0)),i&&o.ZERO.subTo(this,this)}function ne(e,t,n){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,n),this.testBit(e-1)||this.bitwiseTo(o.ONE.shiftLeft(e-1),le,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(o.ONE.shiftLeft(e-1),this);else{var r=new Array,i=7&e;r.length=1+(e>>3),t.nextBytes(r),i>0?r[0]&=(1<<i)-1:r[0]=0,this.fromString(r,256)}}function re(){var e=this.t,t=new Array;t[0]=this.s;var n,r=this.DB-e*this.DB%8,i=0;if(e-- >0)for(r<this.DB&&(n=this[e]>>r)!=(this.s&this.DM)>>r&&(t[i++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this[e]&(1<<r)-1)<<8-r,n|=this[--e]>>(r+=this.DB-8)):(n=this[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),0!=(128&n)&&(n|=-256),0==i&&(128&this.s)!=(128&n)&&++i,(i>0||n!=this.s)&&(t[i++]=n);return t}function ie(e){return 0==this.compareTo(e)}function oe(e){return this.compareTo(e)<0?this:e}function se(e){return this.compareTo(e)>0?this:e}function ae(e,t,n){var r,i,o=Math.min(e.t,this.t);for(r=0;r<o;++r)n[r]=t(this[r],e[r]);if(e.t<this.t){for(i=e.s&this.DM,r=o;r<this.t;++r)n[r]=t(this[r],i);n.t=this.t}else{for(i=this.s&this.DM,r=o;r<e.t;++r)n[r]=t(i,e[r]);n.t=e.t}n.s=t(this.s,e.s),n.clamp()}function ce(e,t){return e&t}function ue(e){var t=s();return this.bitwiseTo(e,ce,t),t}function le(e,t){return e|t}function fe(e){var t=s();return this.bitwiseTo(e,le,t),t}function he(e,t){return e^t}function de(e){var t=s();return this.bitwiseTo(e,he,t),t}function pe(e,t){return e&~t}function ye(e){var t=s();return this.bitwiseTo(e,pe,t),t}function ge(){for(var e=s(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e}function me(e){var t=s();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t}function ve(e){var t=s();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t}function be(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function we(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+be(this[e]);return this.s<0?this.t*this.DB:-1}function Se(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function Ee(){for(var e=0,t=this.s&this.DM,n=0;n<this.t;++n)e+=Se(this[n]^t);return e}function ke(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)}function xe(e,t){var n=o.ONE.shiftLeft(e);return this.bitwiseTo(n,t,n),n}function _e(e){return this.changeBit(e,le)}function Oe(e){return this.changeBit(e,pe)}function Ce(e){return this.changeBit(e,he)}function Ae(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[n++]=r:r<-1&&(t[n++]=this.DV+r),t.t=n,t.clamp()}function Pe(e){var t=s();return this.addTo(e,t),t}function Ie(e){var t=s();return this.subTo(e,t),t}function De(e){var t=s();return this.multiplyTo(e,t),t}function Re(){var e=s();return this.squareTo(e),e}function je(e){var t=s();return this.divRemTo(e,t,null),t}function Te(e){var t=s();return this.divRemTo(e,null,t),t}function Ne(e){var t=s(),n=s();return this.divRemTo(e,t,n),new Array(t,n)}function Be(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}function Fe(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}}function Me(){}function Le(e){return e}function He(e,t,n){e.multiplyTo(t,n)}function qe(e,t){e.squareTo(t)}function Ue(e){return this.exp(e,new Me)}function Ke(e,t,n){var r=Math.min(this.t+e.t,t);for(n.s=0,n.t=r;r>0;)n[--r]=0;var i;for(i=n.t-this.t;r<i;++r)n[r+this.t]=this.am(0,e[r],n,r,0,this.t);for(i=Math.min(e.t,t);r<i;++r)this.am(0,e[r],n,r,0,t-r);n.clamp()}function Ve(e,t,n){--t;var r=n.t=this.t+e.t-t;for(n.s=0;--r>=0;)n[r]=0;for(r=Math.max(t-this.t,0);r<e.t;++r)n[this.t+r-t]=this.am(t-r,e[r],n,0,0,this.t+r-t);n.clamp(),n.drShiftTo(1,n)}function ze(e){this.r2=s(),this.q3=s(),o.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}function Je(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=s();return e.copyTo(t),this.reduce(t),t}function Ge(e){return e}function We(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}function Xe(e,t){e.squareTo(t),this.reduce(t)}function Ye(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function Qe(e,t){var n,r,i=e.bitLength(),o=p(1);if(i<=0)return o;n=i<18?1:i<48?3:i<144?4:i<768?5:6,r=i<8?new R(t):t.isEven()?new ze(t):new L(t);var a=new Array,c=3,u=n-1,l=(1<<n)-1;if(a[1]=r.convert(this),n>1){var f=s();for(r.sqrTo(a[1],f);c<=l;)a[c]=s(),r.mulTo(f,a[c-2],a[c]),c+=2}var h,d,y=e.t-1,g=!0,m=s();for(i=S(e[y])-1;y>=0;){for(i>=u?h=e[y]>>i-u&l:(h=(e[y]&(1<<i+1)-1)<<u-i,y>0&&(h|=e[y-1]>>this.DB+i-u)),c=n;0==(1&h);)h>>=1,--c;if((i-=c)<0&&(i+=this.DB,--y),g)a[h].copyTo(o),g=!1;else{for(;c>1;)r.sqrTo(o,m),r.sqrTo(m,o),c-=2;c>0?r.sqrTo(o,m):(d=o,o=m,m=d),r.mulTo(m,a[h],o)}for(;y>=0&&0==(e[y]&1<<i);)r.sqrTo(o,m),d=o,o=m,m=d,--i<0&&(i=this.DB-1,--y)}return r.revert(o)}function Ze(e){var t=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(t.compareTo(n)<0){var r=t;t=n,n=r}var i=t.getLowestSetBit(),o=n.getLowestSetBit();if(o<0)return t;for(i<o&&(o=i),o>0&&(t.rShiftTo(o,t),n.rShiftTo(o,n));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),t.compareTo(n)>=0?(t.subTo(n,t),t.rShiftTo(1,t)):(n.subTo(t,n),n.rShiftTo(1,n));return o>0&&n.lShiftTo(o,n),n}function $e(e){if(e<=0)return 0;var t=this.DV%e,n=this.s<0?e-1:0;if(this.t>0)if(0==t)n=this[0]%e;else for(var r=this.t-1;r>=0;--r)n=(t*n+this[r])%e;return n}function et(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return o.ZERO;for(var n=e.clone(),r=this.clone(),i=p(1),s=p(0),a=p(0),c=p(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),t?(i.isEven()&&s.isEven()||(i.addTo(this,i),s.subTo(e,s)),i.rShiftTo(1,i)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);for(;r.isEven();)r.rShiftTo(1,r),t?(a.isEven()&&c.isEven()||(a.addTo(this,a),c.subTo(e,c)),a.rShiftTo(1,a)):c.isEven()||c.subTo(e,c),c.rShiftTo(1,c);n.compareTo(r)>=0?(n.subTo(r,n),t&&i.subTo(a,i),s.subTo(c,s)):(r.subTo(n,r),t&&a.subTo(i,a),c.subTo(s,c))}return 0!=r.compareTo(o.ONE)?o.ZERO:c.compareTo(e)>=0?c.subtract(e):c.signum()<0?(c.addTo(e,c),c.signum()<0?c.add(e):c):c}function tt(e){var t,n=this.abs();if(1==n.t&&n[0]<=pr[pr.length-1]){for(t=0;t<pr.length;++t)if(n[0]==pr[t])return!0;return!1}if(n.isEven())return!1;for(t=1;t<pr.length;){for(var r=pr[t],i=t+1;i<pr.length&&r<yr;)r*=pr[i++];for(r=n.modInt(r);t<i;)if(r%pr[t++]==0)return!1}return n.millerRabin(e)}function nt(e){var t=this.subtract(o.ONE),n=t.getLowestSetBit();if(n<=0)return!1;var r=t.shiftRight(n);(e=e+1>>1)>pr.length&&(e=pr.length);for(var i=s(),a=0;a<e;++a){i.fromInt(pr[Math.floor(Math.random()*pr.length)]);var c=i.modPow(r,this);if(0!=c.compareTo(o.ONE)&&0!=c.compareTo(t)){for(var u=1;u++<n&&0!=c.compareTo(t);)if(c=c.modPowInt(2,this),0==c.compareTo(o.ONE))return!1;if(0!=c.compareTo(t))return!1}}return!0}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
function rt(){this.i=0,this.j=0,this.S=new Array}function it(e){var t,n,r;for(t=0;t<256;++t)this.S[t]=t;for(n=0,t=0;t<256;++t)n=n+this.S[t]+e[t%e.length]&255,r=this.S[t],this.S[t]=this.S[n],this.S[n]=r;this.i=0,this.j=0}function ot(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]}function st(){return new rt}function at(e){mr[vr++]^=255&e,mr[vr++]^=e>>8&255,mr[vr++]^=e>>16&255,mr[vr++]^=e>>24&255,vr>=br&&(vr-=br)}function ct(){at((new Date).getTime())}function ut(){if(null==gr){for(ct(),gr=st(),gr.init(mr),vr=0;vr<mr.length;++vr)mr[vr]=0;vr=0}return gr.next()}function lt(e){var t;for(t=0;t<e.length;++t)e[t]=ut()}function ft(){}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
function ht(e,t){return new o(e,t)}function dt(e,t){if(t<e.length+11)return alert("Message too long for RSA"),null;for(var n=new Array,r=e.length-1;r>=0&&t>0;){var i=e.charCodeAt(r--);i<128?n[--t]=i:i>127&&i<2048?(n[--t]=63&i|128,n[--t]=i>>6|192):(n[--t]=63&i|128,n[--t]=i>>6&63|128,n[--t]=i>>12|224)}n[--t]=0;for(var s=new ft,a=new Array;t>2;){for(a[0]=0;0==a[0];)s.nextBytes(a);n[--t]=a[0]}return n[--t]=2,n[--t]=0,new o(n)}function pt(e,t,n){for(var r="",i=0;r.length<t;)r+=n(String.fromCharCode.apply(String,e.concat([(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i]))),i+=1;return r}function yt(e,t,n,r){var i=Or.crypto.MessageDigest,s=Or.crypto.Util,a=null;if(n||(n="sha1"),"string"==typeof n&&(a=i.getCanonicalAlgName(n),r=i.getHashLength(a),n=function(e){return bn(s.hashString(e,a))}),e.length+2*r+2>t)throw"Message too long for RSA";var c,u="";for(c=0;c<t-e.length-2*r-2;c+=1)u+="\0";var l=n("")+u+""+e,f=new Array(r);(new ft).nextBytes(f);var h=pt(f,l.length,n),d=[];for(c=0;c<l.length;c+=1)d[c]=l.charCodeAt(c)^h.charCodeAt(c);var p=pt(d,f.length,n),y=[0];for(c=0;c<f.length;c+=1)y[c+1]=f[c]^p.charCodeAt(c);return new o(y.concat(d))}function gt(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function mt(e,t){if(this.isPublic=!0,this.isPrivate=!1,"string"!=typeof e)this.n=e,this.e=t;else{if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw"Invalid RSA public key";this.n=ht(e,16),this.e=parseInt(t,16)}}function vt(e){return e.modPowInt(this.e,this.n)}function bt(e){var t=dt(e,this.n.bitLength()+7>>3);if(null==t)return null;var n=this.doPublic(t);if(null==n)return null;var r=n.toString(16);return 0==(1&r.length)?r:"0"+r}function wt(e,t,n){var r=yt(e,this.n.bitLength()+7>>3,t,n);if(null==r)return null;var i=this.doPublic(r);if(null==i)return null;var o=i.toString(16);return 0==(1&o.length)?o:"0"+o}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
function St(e,t){for(var n=e.toByteArray(),r=0;r<n.length&&0==n[r];)++r;if(n.length-r!=t-1||2!=n[r])return null;for(++r;0!=n[r];)if(++r>=n.length)return null;for(var i="";++r<n.length;){var o=255&n[r];o<128?i+=String.fromCharCode(o):o>191&&o<224?(i+=String.fromCharCode((31&o)<<6|63&n[r+1]),++r):(i+=String.fromCharCode((15&o)<<12|(63&n[r+1])<<6|63&n[r+2]),r+=2)}return i}function Et(e,t,n){for(var r="",i=0;r.length<t;)r+=n(e+String.fromCharCode.apply(String,[(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i])),i+=1;return r}function kt(e,t,n,r){var i=Or.crypto.MessageDigest,o=Or.crypto.Util,s=null;n||(n="sha1"),"string"==typeof n&&(s=i.getCanonicalAlgName(n),r=i.getHashLength(s),n=function(e){return bn(o.hashString(e,s))}),e=e.toByteArray();var a;for(a=0;a<e.length;a+=1)e[a]&=255;for(;e.length<t;)e.unshift(0);if(e=String.fromCharCode.apply(String,e),e.length<2*r+2)throw"Cipher too short";var a,c=e.substr(1,r),u=e.substr(r+1),l=Et(u,r,n),f=[];for(a=0;a<c.length;a+=1)f[a]=c.charCodeAt(a)^l.charCodeAt(a);var h=Et(String.fromCharCode.apply(String,f),e.length-r,n),d=[];for(a=0;a<u.length;a+=1)d[a]=u.charCodeAt(a)^h.charCodeAt(a);if(d=String.fromCharCode.apply(String,d),d.substr(0,r)!==n(""))throw"Hash mismatch";d=d.substr(r);var p=d.indexOf("");if((-1!=p?d.substr(0,p).lastIndexOf("\0"):-1)+1!=p)throw"Malformed data";return d.substr(p+1)}function xt(e,t,n){this.isPrivate=!0,"string"!=typeof e?(this.n=e,this.e=t,this.d=n):null!=e&&null!=t&&e.length>0&&t.length>0?(this.n=ht(e,16),this.e=parseInt(t,16),this.d=ht(n,16)):alert("Invalid RSA private key")}function _t(e,t,n,r,i,o,s,a){if(this.isPrivate=!0,this.isPublic=!1,null==e)throw"RSASetPrivateEx N == null";if(null==t)throw"RSASetPrivateEx E == null";if(0==e.length)throw"RSASetPrivateEx N.length == 0";if(0==t.length)throw"RSASetPrivateEx E.length == 0";null!=e&&null!=t&&e.length>0&&t.length>0?(this.n=ht(e,16),this.e=parseInt(t,16),this.d=ht(n,16),this.p=ht(r,16),this.q=ht(i,16),this.dmp1=ht(o,16),this.dmq1=ht(s,16),this.coeff=ht(a,16)):alert("Invalid RSA private key in RSASetPrivateEx")}function Ot(e,t){var n=new ft,r=e>>1;this.e=parseInt(t,16);for(var i=new o(t,16);;){for(;this.p=new o(e-r,1,n),0!=this.p.subtract(o.ONE).gcd(i).compareTo(o.ONE)||!this.p.isProbablePrime(10););for(;this.q=new o(r,1,n),0!=this.q.subtract(o.ONE).gcd(i).compareTo(o.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var s=this.p;this.p=this.q,this.q=s}var a=this.p.subtract(o.ONE),c=this.q.subtract(o.ONE),u=a.multiply(c);if(0==u.gcd(i).compareTo(o.ONE)){this.n=this.p.multiply(this.q),this.d=i.modInverse(u),this.dmp1=this.d.mod(a),this.dmq1=this.d.mod(c),this.coeff=this.q.modInverse(this.p);break}}this.isPrivate=!0}function Ct(e){if(null==this.p||null==this.q)return e.modPow(this.d,this.n);for(var t=e.mod(this.p).modPow(this.dmp1,this.p),n=e.mod(this.q).modPow(this.dmq1,this.q);t.compareTo(n)<0;)t=t.add(this.p);return t.subtract(n).multiply(this.coeff).mod(this.p).multiply(this.q).add(n)}function At(e){var t=ht(e,16),n=this.doPrivate(t);return null==n?null:St(n,this.n.bitLength()+7>>3)}function Pt(e,t,n){var r=ht(e,16),i=this.doPrivate(r);return null==i?null:kt(i,this.n.bitLength()+7>>3,t,n)}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
function It(e,t){this.x=t,this.q=e}function Dt(e){return e==this||this.q.equals(e.q)&&this.x.equals(e.x)}function Rt(){return this.x}function jt(){return new It(this.q,this.x.negate().mod(this.q))}function Tt(e){return new It(this.q,this.x.add(e.toBigInteger()).mod(this.q))}function Nt(e){return new It(this.q,this.x.subtract(e.toBigInteger()).mod(this.q))}function Bt(e){return new It(this.q,this.x.multiply(e.toBigInteger()).mod(this.q))}function Ft(){return new It(this.q,this.x.square().mod(this.q))}function Mt(e){return new It(this.q,this.x.multiply(e.toBigInteger().modInverse(this.q)).mod(this.q))}function Lt(e,t,n,r){this.curve=e,this.x=t,this.y=n,this.z=null==r?o.ONE:r,this.zinv=null}function Ht(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))}function qt(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))}function Ut(e){if(e==this)return!0;if(this.isInfinity())return e.isInfinity();if(e.isInfinity())return this.isInfinity();var t,n;return t=e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q),!!t.equals(o.ZERO)&&(n=e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q),n.equals(o.ZERO))}function Kt(){return null==this.x&&null==this.y||this.z.equals(o.ZERO)&&!this.y.toBigInteger().equals(o.ZERO)}function Vt(){return new Lt(this.curve,this.x,this.y.negate(),this.z)}function zt(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q),n=e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q);if(o.ZERO.equals(n))return o.ZERO.equals(t)?this.twice():this.curve.getInfinity();var r=new o("3"),i=this.x.toBigInteger(),s=this.y.toBigInteger(),a=(e.x.toBigInteger(),e.y.toBigInteger(),n.square()),c=a.multiply(n),u=i.multiply(a),l=t.square().multiply(this.z),f=l.subtract(u.shiftLeft(1)).multiply(e.z).subtract(c).multiply(n).mod(this.curve.q),h=u.multiply(r).multiply(t).subtract(s.multiply(c)).subtract(l.multiply(t)).multiply(e.z).add(t.multiply(c)).mod(this.curve.q),d=c.multiply(this.z).multiply(e.z).mod(this.curve.q);return new Lt(this.curve,this.curve.fromBigInteger(f),this.curve.fromBigInteger(h),d)}function Jt(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=new o("3"),t=this.x.toBigInteger(),n=this.y.toBigInteger(),r=n.multiply(this.z),i=r.multiply(n).mod(this.curve.q),s=this.curve.a.toBigInteger(),a=t.square().multiply(e);o.ZERO.equals(s)||(a=a.add(this.z.square().multiply(s))),a=a.mod(this.curve.q);var c=a.square().subtract(t.shiftLeft(3).multiply(i)).shiftLeft(1).multiply(r).mod(this.curve.q),u=a.multiply(e).multiply(t).subtract(i.shiftLeft(1)).shiftLeft(2).multiply(i).subtract(a.square().multiply(a)).mod(this.curve.q),l=r.square().multiply(r).shiftLeft(3).mod(this.curve.q);return new Lt(this.curve,this.curve.fromBigInteger(c),this.curve.fromBigInteger(u),l)}function Gt(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,n=e,r=n.multiply(new o("3")),i=this.negate(),s=this;for(t=r.bitLength()-2;t>0;--t){s=s.twice();var a=r.testBit(t);a!=n.testBit(t)&&(s=s.add(a?this:i))}return s}function Wt(e,t,n){var r;r=e.bitLength()>n.bitLength()?e.bitLength()-1:n.bitLength()-1;for(var i=this.curve.getInfinity(),o=this.add(t);r>=0;)i=i.twice(),e.testBit(r)?i=n.testBit(r)?i.add(o):i.add(this):n.testBit(r)&&(i=i.add(t)),--r;return i}function Xt(e,t,n){this.q=e,this.a=this.fromBigInteger(t),this.b=this.fromBigInteger(n),this.infinity=new Lt(this,null,null)}function Yt(){return this.q}function Qt(){return this.a}function Zt(){return this.b}function $t(e){return e==this||this.q.equals(e.q)&&this.a.equals(e.a)&&this.b.equals(e.b)}function en(){return this.infinity}function tn(e){return new It(this.q,e)}function nn(e){switch(parseInt(e.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var t=(e.length-2)/2,n=e.substr(2,t),r=e.substr(t+2,t);return new Lt(this,this.fromBigInteger(new o(n,16)),this.fromBigInteger(new o(r,16)));default:return null}}function rn(e){for(var t=new Array,n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}function on(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}function sn(e){for(var t="",n=0;n<e.length;n++){var r=e[n].toString(16);1==r.length&&(r="0"+r),t+=r}return t}function an(e){return sn(rn(e))}function cn(e){return n(an(e))}function un(e){return fn(n(an(e)))}function ln(e){return on(i(hn(e)))}function fn(e){return e=e.replace(/\=/g,""),e=e.replace(/\+/g,"-"),e=e.replace(/\//g,"_")}function hn(e){return e.length%4==2?e+="==":e.length%4==3&&(e+="="),e=e.replace(/-/g,"+"),e=e.replace(/_/g,"/")}function dn(e){return e.length%2==1&&(e="0"+e),fn(n(e))}function pn(e){return r(hn(e))}function yn(e){return n(Rn(Tn(e)))}function gn(e){return decodeURIComponent(jn(r(e)))}function mn(e){return Rn(Tn(e))}function vn(e){return decodeURIComponent(jn(e))}function bn(e){for(var t="",n=0;n<e.length-1;n+=2)t+=String.fromCharCode(parseInt(e.substr(n,2),16));return t}function wn(e){for(var t="",n=0;n<e.length;n++)t+=("0"+e.charCodeAt(n).toString(16)).slice(-2);return t}function Sn(e){return n(e)}function En(e){var t=Sn(e),n=t.replace(/(.{64})/g,"$1\r\n");return n=n.replace(/\r\n$/,"")}function kn(e){return r(e.replace(/[^0-9A-Za-z\/+=]*/g,""))}function xn(e,t){return"-----BEGIN "+t+"-----\r\n"+En(e)+"\r\n-----END "+t+"-----\r\n"}function _n(e,t){if(-1==e.indexOf("-----BEGIN "))throw"can't find PEM header: "+t;return void 0!==t?(e=e.replace("-----BEGIN "+t+"-----",""),e=e.replace("-----END "+t+"-----","")):(e=e.replace(/-----BEGIN [^-]+-----/,""),e=e.replace(/-----END [^-]+-----/,"")),kn(e)}function On(e){if(e.length%2!=0)throw"input is not even length";if(null==e.match(/^[0-9A-Fa-f]+$/))throw"input is not hexadecimal";for(var t=new ArrayBuffer(e.length/2),n=new DataView(t),r=0;r<e.length/2;r++)n.setUint8(r,parseInt(e.substr(2*r,2),16));return t}function Cn(e){for(var t="",n=new DataView(e),r=0;r<e.byteLength;r++)t+=("00"+n.getUint8(r).toString(16)).slice(-2);return t}function An(e){var t,n,r,i,o,s,a,c,u,l,f;if(f=e.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return c=f[1],t=parseInt(c),2===c.length&&(50<=t&&t<100?t=1900+t:0<=t&&t<50&&(t=2e3+t)),n=parseInt(f[2])-1,r=parseInt(f[3]),i=parseInt(f[4]),o=parseInt(f[5]),s=parseInt(f[6]),a=0,u=f[7],""!==u&&(l=(u.substr(1)+"00").substr(0,3),a=parseInt(l)),Date.UTC(t,n,r,i,o,s,a);throw"unsupported zulu format: "+e}function Pn(e){return~~(An(e)/1e3)}function In(e){return new Date(An(e))}function Dn(e,t,n){var r,i=e.getUTCFullYear();if(t){if(i<1950||2049<i)throw"not proper year for UTCTime: "+i;r=(""+i).slice(-2)}else r=("000"+i).slice(-4);if(r+=("0"+(e.getUTCMonth()+1)).slice(-2),r+=("0"+e.getUTCDate()).slice(-2),r+=("0"+e.getUTCHours()).slice(-2),r+=("0"+e.getUTCMinutes()).slice(-2),r+=("0"+e.getUTCSeconds()).slice(-2),n){var o=e.getUTCMilliseconds();0!==o&&(o=("00"+o).slice(-3),o=o.replace(/0+$/g,""),r+="."+o)}return r+="Z"}function Rn(e){return e.replace(/%/g,"")}function jn(e){return e.replace(/(..)/g,"%$1")}function Tn(e){for(var t=encodeURIComponent(e),n="",r=0;r<t.length;r++)"%"==t[r]?(n+=t.substr(r,3),r+=2):n=n+"%"+an(t[r]);return n}function Nn(e){return e=e.replace(/\r\n/gm,"\n")}function Bn(e){return e=e.replace(/\r\n/gm,"\n"),e=e.replace(/\n/gm,"\r\n")}function Fn(e){return e.length%2==1?"0"+e:e.substr(0,1)>"7"?"00"+e:e}function Mn(e){e=e.replace(/^\s*\[\s*/,""),e=e.replace(/\s*\]\s*$/,""),e=e.replace(/\s*/g,"");try{return e.split(/,/).map(function(e,t,n){var r=parseInt(e);if(r<0||255<r)throw"integer not in range 0-255";return("00"+r.toString(16)).slice(-2)}).join("")}catch(e){throw"malformed integer array string: "+e}}function Ln(e,t){for(var n="",r=t/4-e.length,i=0;i<r;i++)n+="0";return n+e}function Hn(e,t){var n=function(e){return Or.crypto.Util.hashString(e,t)}(e);return this.signWithMessageHash(n,t)}function qn(e,t){var n=Or.crypto.Util.getPaddedDigestInfoHex(e,t,this.n.bitLength()),r=ht(n,16);return Ln(this.doPrivate(r).toString(16),this.n.bitLength())}function Un(e){return Hn.call(this,e,"sha1")}function Kn(e){return Hn.call(this,e,"sha256")}function Vn(e,t,n){for(var r="",i=0;r.length<t;)r+=bn(n(wn(e+String.fromCharCode.apply(String,[(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i])))),i+=1;return r}function zn(e,t,n){var r=function(e){return Or.crypto.Util.hashHex(e,t)}(wn(e));return void 0===n&&(n=-1),this.signWithMessageHashPSS(r,t,n)}function Jn(e,t,n){var r,i=bn(e),s=i.length,a=this.n.bitLength()-1,c=Math.ceil(a/8),u=function(e){return Or.crypto.Util.hashHex(e,t)};if(-1===n||void 0===n)n=s;else if(-2===n)n=c-s-2;else if(n<-2)throw"invalid salt length";if(c<s+n+2)throw"data too long";var l="";n>0&&(l=new Array(n),(new ft).nextBytes(l),l=String.fromCharCode.apply(String,l));var f=bn(u(wn("\0\0\0\0\0\0\0\0"+i+l))),h=[];for(r=0;r<c-n-s-2;r+=1)h[r]=0;var d=String.fromCharCode.apply(String,h)+""+l,p=Vn(f,d.length,u),y=[];for(r=0;r<d.length;r+=1)y[r]=d.charCodeAt(r)^p.charCodeAt(r);var g=65280>>8*c-a&255;for(y[0]&=~g,r=0;r<s;r++)y.push(f.charCodeAt(r));return y.push(188),Ln(this.doPrivate(new o(y)).toString(16),this.n.bitLength())}function Gn(e,t,n){var r=new gt;return r.setPublic(t,n),r.doPublic(e)}function Wn(e,t,n){return Gn(e,t,n).toString(16).replace(/^1f+00/,"")}function Xn(e){for(var t in Or.crypto.Util.DIGESTINFOHEAD){var n=Or.crypto.Util.DIGESTINFOHEAD[t],r=n.length;if(e.substring(0,r)==n){return[t,e.substring(r)]}}return[]}function Yn(e,t,n,r){var i=Wn(t,n,r),o=Xn(i);if(0==o.length)return!1;var s=o[0],a=o[1];return a==function(e){return Or.crypto.Util.hashString(e,s)}(e)}function Qn(e,t){return Yn(t,ht(e,16),this.n.toString(16),this.e.toString(16))}function Zn(e,t){t=t.replace(Rr,""),t=t.replace(/[ \n]+/g,"");var n=ht(t,16);if(n.bitLength()>this.n.bitLength())return 0;var r=this.doPublic(n),i=r.toString(16).replace(/^1f+00/,""),o=Xn(i);if(0==o.length)return!1;var s=o[0],a=o[1];return a==function(e){return Or.crypto.Util.hashString(e,s)}(e)}function $n(e,t){t=t.replace(Rr,""),t=t.replace(/[ \n]+/g,"");var n=ht(t,16);if(n.bitLength()>this.n.bitLength())return 0;var r=this.doPublic(n),i=r.toString(16).replace(/^1f+00/,""),o=Xn(i);if(0==o.length)return!1;o[0];return o[1]==e}function er(e,t,n,r){var i=function(e){return Or.crypto.Util.hashHex(e,n)}(wn(e));return void 0===r&&(r=-1),this.verifyWithMessageHashPSS(i,t,n,r)}function tr(e,t,n,r){var i=new o(t,16);if(i.bitLength()>this.n.bitLength())return!1;var s,a=function(e){return Or.crypto.Util.hashHex(e,n)},c=bn(e),u=c.length,l=this.n.bitLength()-1,f=Math.ceil(l/8);if(-1===r||void 0===r)r=u;else if(-2===r)r=f-u-2;else if(r<-2)throw"invalid salt length";if(f<u+r+2)throw"data too long";var h=this.doPublic(i).toByteArray();for(s=0;s<h.length;s+=1)h[s]&=255;for(;h.length<f;)h.unshift(0);if(188!==h[f-1])throw"encoded message does not end in 0xbc";h=String.fromCharCode.apply(String,h);var d=h.substr(0,f-u-1),p=h.substr(d.length,u),y=65280>>8*f-l&255;if(0!=(d.charCodeAt(0)&y))throw"bits beyond keysize not zero";var g=Vn(p,d.length,a),m=[];for(s=0;s<d.length;s+=1)m[s]=d.charCodeAt(s)^g.charCodeAt(s);m[0]&=~y;var v=f-u-r-2;for(s=0;s<v;s+=1)if(0!==m[s])throw"leftmost octets not zero";if(1!==m[v])throw"0x01 marker not found";return p===bn(a(wn("\0\0\0\0\0\0\0\0"+c+String.fromCharCode.apply(String,m.slice(-r)))))}function nr(){var e=_r,t=e.getChildIdx,n=e.getV,r=e.getTLV,i=e.getVbyList,o=e.getTLVbyList,s=e.getIdxbyList,a=e.getVidx,c=e.oidname,u=nr,l=_n;this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.subjectPublicKeyRSA=null,this.subjectPublicKeyRSA_hN=null,this.subjectPublicKeyRSA_hE=null,this.getVersion=function(){return null===this.hex||0!==this.version?this.version:"a003020102"!==o(this.hex,0,[0,0])?(this.version=1,this.foffset=-1,1):(this.version=3,3)},this.getSerialNumberHex=function(){return i(this.hex,0,[0,1+this.foffset],"02")},this.getSignatureAlgorithmField=function(){return c(i(this.hex,0,[0,2+this.foffset,0],"06"))},this.getIssuerHex=function(){return o(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return u.hex2dn(this.getIssuerHex())},this.getSubjectHex=function(){return o(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return u.hex2dn(this.getSubjectHex())},this.getNotBefore=function(){var e=i(this.hex,0,[0,4+this.foffset,0]);return e=e.replace(/(..)/g,"%$1"),e=decodeURIComponent(e)},this.getNotAfter=function(){var e=i(this.hex,0,[0,4+this.foffset,1]);return e=e.replace(/(..)/g,"%$1"),e=decodeURIComponent(e)},this.getPublicKeyHex=function(){return e.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return s(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKey=function(){return Dr.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){return c(i(this.hex,0,[1,0],"06"))},this.getSignatureValueHex=function(){return i(this.hex,0,[2],"03",!0)},this.verifySignature=function(e){var t=this.getSignatureAlgorithmName(),n=this.getSignatureValueHex(),r=o(this.hex,0,[0],"30"),i=new Or.crypto.Signature({alg:t});return i.init(e),i.updateHex(r),i.verify(n)},this.parseExt=function(){if(3!==this.version)return-1;var n=s(this.hex,0,[0,7,0],"30"),r=t(this.hex,n);this.aExtInfo=new Array;for(var o=0;o<r.length;o++){var c={};c.critical=!1;var u=t(this.hex,r[o]),l=0;3===u.length&&(c.critical=!0,l=1),c.oid=e.hextooidstr(i(this.hex,r[o],[0],"06"));var f=s(this.hex,r[o],[1+l]);c.vidx=a(this.hex,f),this.aExtInfo.push(c)}},this.getExtInfo=function(e){var t=this.aExtInfo,n=e;if(e.match(/^[0-9.]+$/)||(n=Or.asn1.x509.OID.name2oid(e)),""!==n)for(var r=0;r<t.length;r++)if(t[r].oid===n)return t[r]},this.getExtBasicConstraints=function(){var e=this.getExtInfo("basicConstraints");if(void 0===e)return e;var t=n(this.hex,e.vidx);if(""===t)return{};if("0101ff"===t)return{cA:!0};if("0101ff02"===t.substr(0,8)){var r=n(t,6);return{cA:!0,pathLen:parseInt(r,16)}}throw"basicConstraints parse error"},this.getExtKeyUsageBin=function(){var e=this.getExtInfo("keyUsage");if(void 0===e)return"";var t=n(this.hex,e.vidx);if(t.length%2!=0||t.length<=2)throw"malformed key usage value";var r=parseInt(t.substr(0,2)),i=parseInt(t.substr(2),16).toString(2);return i.substr(0,i.length-r)},this.getExtKeyUsageString=function(){for(var e=this.getExtKeyUsageBin(),t=new Array,n=0;n<e.length;n++)"1"==e.substr(n,1)&&t.push(nr.KEYUSAGE_NAME[n]);return t.join(",")},this.getExtSubjectKeyIdentifier=function(){var e=this.getExtInfo("subjectKeyIdentifier");return void 0===e?e:n(this.hex,e.vidx)},this.getExtAuthorityKeyIdentifier=function(){var e=this.getExtInfo("authorityKeyIdentifier");if(void 0===e)return e;for(var i={},o=r(this.hex,e.vidx),s=t(o,0),a=0;a<s.length;a++)"80"===o.substr(s[a],2)&&(i.kid=n(o,s[a]));return i},this.getExtExtKeyUsageName=function(){var e=this.getExtInfo("extKeyUsage");if(void 0===e)return e;var i=new Array,o=r(this.hex,e.vidx);if(""===o)return i;for(var s=t(o,0),a=0;a<s.length;a++)i.push(c(n(o,s[a])));return i},this.getExtSubjectAltName=function(){var e=this.getExtInfo("subjectAltName");if(void 0===e)return e;for(var i=new Array,o=r(this.hex,e.vidx),s=t(o,0),a=0;a<s.length;a++)if("82"===o.substr(s[a],2)){var c=vn(n(o,s[a]));i.push(c)}return i},this.getExtCRLDistributionPointsURI=function(){var e=this.getExtInfo("cRLDistributionPoints");if(void 0===e)return e;for(var n=new Array,r=t(this.hex,e.vidx),o=0;o<r.length;o++){var s=i(this.hex,r[o],[0,0,0],"86"),a=vn(s);n.push(a)}return n},this.getExtAIAInfo=function(){var e=this.getExtInfo("authorityInfoAccess");if(void 0===e)return e;for(var n={ocsp:[],caissuer:[]},r=t(this.hex,e.vidx),o=0;o<r.length;o++){var s=i(this.hex,r[o],[0],"06"),a=i(this.hex,r[o],[1],"86");"2b06010505073001"===s&&n.ocsp.push(vn(a)),"2b06010505073002"===s&&n.caissuer.push(vn(a))}return n},this.getExtCertificatePolicies=function(){var e=this.getExtInfo("certificatePolicies");if(void 0===e)return e;for(var o=r(this.hex,e.vidx),s=[],a=t(o,0),u=0;u<a.length;u++){var l={},f=t(o,a[u]);if(l.id=c(n(o,f[0])),2===f.length)for(var h=t(o,f[1]),d=0;d<h.length;d++){var p=i(o,h[d],[0],"06");"2b06010505070201"===p?l.cps=vn(i(o,h[d],[1])):"2b06010505070202"===p&&(l.unotice=vn(i(o,h[d],[1,0])))}s.push(l)}return s},this.readCertPEM=function(e){this.readCertHex(l(e))},this.readCertHex=function(e){this.hex=e,this.getVersion();try{s(this.hex,0,[0,7],"a3"),this.parseExt()}catch(e){}try{pubkey=this.getPublicKey(),pubkey instanceof gt&&(this.subjectPublicKeyRSA=pubkey,this.subjectPublicKeyRSA_hN=Fn(pubkey.n.toString(16)),this.subjectPublicKeyRSA_hE=Fn(pubkey.e.toString(16)))}catch(e){}},this.readCertPEMWithoutRSAInit=function(e){var t=l(e),n=u.getPublicKeyHexArrayFromCertHex(t);"function"==typeof this.subjectPublicKeyRSA.setPublic&&this.subjectPublicKeyRSA.setPublic(n[0],n[1]),this.subjectPublicKeyRSA_hN=n[0],this.subjectPublicKeyRSA_hE=n[1],this.hex=t},this.getInfo=function(){var e,t,n,r=nr;e="Basic Fields\n",e+="  serial number: "+this.getSerialNumberHex()+"\n",e+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",e+="  issuer: "+this.getIssuerString()+"\n",e+="  notBefore: "+this.getNotBefore()+"\n",e+="  notAfter: "+this.getNotAfter()+"\n",e+="  subject: "+this.getSubjectString()+"\n",e+="  subject public key info: \n",t=this.getPublicKey(),e+="    key algorithm: "+t.type+"\n","RSA"===t.type&&(e+="    n="+Fn(t.n.toString(16)).substr(0,16)+"...\n",e+="    e="+Fn(t.e.toString(16))+"\n"),e+="X509v3 Extensions:\n",n=this.aExtInfo;for(var i=0;i<n.length;i++){var o=n[i],s=Or.asn1.x509.OID.oid2name(o.oid);""===s&&(s=o.oid);var a="";if(!0===o.critical&&(a="CRITICAL"),e+="  "+s+" "+a+":\n","basicConstraints"===s){var c=this.getExtBasicConstraints();void 0===c.cA?e+="    {}\n":(e+="    cA=true",void 0!==c.pathLen&&(e+=", pathLen="+c.pathLen),e+="\n")}else if("keyUsage"===s)e+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"===s)e+="    "+this.getExtSubjectKeyIdentifier()+"\n";else if("authorityKeyIdentifier"===s){var u=r.getExtAuthorityKeyIdentifier(this.hex);void 0!==u.kid&&(e+="    kid="+u.kid+"\n")}else if("extKeyUsage"===s){var l=this.getExtExtKeyUsageName();e+="    "+l.join(", ")+"\n"}else if("subjectAltName"===s){var f=this.getExtSubjectAltName();e+="    "+f.join(", ")+"\n"}else if("cRLDistributionPoints"===s){var h=this.getExtCRLDistributionPointsURI();e+="    "+h+"\n"}else if("authorityInfoAccess"===s){var d=this.getExtAIAInfo();void 0!==d.ocsp&&(e+="    ocsp: "+d.ocsp.join(",")+"\n"),void 0!==d.caissuer&&(e+="    caissuer: "+d.caissuer.join(",")+"\n")}}return e+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n",e+="signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"}}var rr={};rr.userAgent=!1;var ir={};/*!
Copyright (c) 2011, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 2.9.0
*/
if(void 0===or)var or={};or.lang={extend:function(e,t,n){if(!t||!e)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var r=function(){};if(r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.superclass=t.prototype,t.prototype.constructor==Object.prototype.constructor&&(t.prototype.constructor=t),n){var i;for(i in n)e.prototype[i]=n[i];var o=function(){},s=["toString","valueOf"];try{/MSIE/.test(rr.userAgent)&&(o=function(e,t){for(i=0;i<s.length;i+=1){var n=s[i],r=t[n];"function"==typeof r&&r!=Object.prototype[n]&&(e[n]=r)}})}catch(e){}o(e.prototype,n)}}};/*! CryptoJS v3.1.2 core-fix.js
 * code.google.com/p/crypto-js
 * (c) 2009-2013 by Jeff Mott. All rights reserved.
 * code.google.com/p/crypto-js/wiki/License
 * THIS IS FIX of 'core.js' to fix Hmac issue.
 * https://code.google.com/p/crypto-js/issues/detail?id=84
 * https://crypto-js.googlecode.com/svn-history/r667/branches/3.x/src/core.js
 */
var sr=sr||function(e,t){var n={},r=n.lib={},i=r.Base=function(){function e(){}return{extend:function(t){e.prototype=this;var n=new e;return t&&n.mixIn(t),n.hasOwnProperty("init")||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),o=r.WordArray=i.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:4*e.length},toString:function(e){return(e||a).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var s=n[o>>>2]>>>24-o%4*8&255;t[r+o>>>2]|=s<<24-(r+o)%4*8}else for(var o=0;o<i;o+=4)t[r+o>>>2]=n[o>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=i.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],r=0;r<t;r+=4)n.push(4294967296*e.random()|0);return new o.init(n,t)}}),s=n.enc={},a=s.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new o.init(n,t/2)}},c=s.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new o.init(n,t)}},u=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},l=r.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,i=n.sigBytes,s=this.blockSize,a=4*s,c=i/a;c=t?e.ceil(c):e.max((0|c)-this._minBufferSize,0);var u=c*s,l=e.min(4*u,i);if(u){for(var f=0;f<u;f+=s)this._doProcessBlock(r,f);var h=r.splice(0,u);n.sigBytes-=l}return new o.init(h,l)},clone:function(){var e=i.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),f=(r.Hasher=l.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new f.HMAC.init(e,n).finalize(t)}}}),n.algo={});return n}(Math);!function(e){var t=sr,n=t.lib,r=n.Base,i=n.WordArray,t=t.x64={};t.Word=r.extend({init:function(e,t){this.high=e,this.low=t}}),t.WordArray=r.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,n=[],r=0;r<t;r++){var o=e[r];n.push(o.high),n.push(o.low)}return i.create(n,this.sigBytes)},clone:function(){for(var e=r.clone.call(this),t=e.words=this.words.slice(0),n=t.length,i=0;i<n;i++)t[i]=t[i].clone();return e}})}(),sr.lib.Cipher||function(e){var t=sr,n=t.lib,r=n.Base,i=n.WordArray,o=n.BufferedBlockAlgorithm,s=t.enc.Base64,a=t.algo.EvpKDF,c=n.Cipher=o.extend({cfg:r.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){o.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(t,n,r){return("string"==typeof n?p:d).encrypt(e,t,n,r)},decrypt:function(t,n,r){return("string"==typeof n?p:d).decrypt(e,t,n,r)}}}});n.StreamCipher=c.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var u=t.mode={},l=function(e,t,n){var r=this._iv;r?this._iv=void 0:r=this._prevBlock;for(var i=0;i<n;i++)e[t+i]^=r[i]},f=(n.BlockCipherMode=r.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}})).extend();f.Encryptor=f.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize;l.call(this,e,t,r),n.encryptBlock(e,t),this._prevBlock=e.slice(t,t+r)}}),f.Decryptor=f.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=e.slice(t,t+r);n.decryptBlock(e,t),l.call(this,e,t,r),this._prevBlock=i}}),u=u.CBC=f,f=(t.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,n=n-e.sigBytes%n,r=n<<24|n<<16|n<<8|n,o=[],s=0;s<n;s+=4)o.push(r);n=i.create(o,n),e.concat(n)},unpad:function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}},n.BlockCipher=c.extend({cfg:c.cfg.extend({mode:u,padding:f}),reset:function(){c.reset.call(this);var e=this.cfg,t=e.iv,e=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=e.createEncryptor;else n=e.createDecryptor,this._minBufferSize=1;this._mode=n.call(e,this,t&&t.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4});var h=n.CipherParams=r.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),u=(t.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext;return e=e.salt,(e?i.create([1398893684,1701076831]).concat(e).concat(t):t).toString(s)},parse:function(e){e=s.parse(e);var t=e.words;if(1398893684==t[0]&&1701076831==t[1]){var n=i.create(t.slice(2,4));t.splice(0,4),e.sigBytes-=16}return h.create({ciphertext:e,salt:n})}},d=n.SerializableCipher=r.extend({cfg:r.extend({format:u}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var i=e.createEncryptor(n,r);return t=i.finalize(t),i=i.cfg,h.create({ciphertext:t,key:n,iv:i.iv,algorithm:e,mode:i.mode,padding:i.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(n,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),t=(t.kdf={}).OpenSSL={execute:function(e,t,n,r){return r||(r=i.random(8)),e=a.create({keySize:t+n}).compute(e,r),n=i.create(e.words.slice(t),4*n),e.sigBytes=4*t,h.create({key:e,iv:n,salt:r})}},p=n.PasswordBasedCipher=d.extend({cfg:d.cfg.extend({kdf:t}),encrypt:function(e,t,n,r){return r=this.cfg.extend(r),n=r.kdf.execute(n,e.keySize,e.ivSize),r.iv=n.iv,e=d.encrypt.call(this,e,t,n.key,r),e.mixIn(n),e},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),n=r.kdf.execute(n,e.keySize,e.ivSize,t.salt),r.iv=n.iv,d.decrypt.call(this,e,t,n.key,r)}})}(),function(){for(var e=sr,t=e.lib.BlockCipher,n=e.algo,r=[],i=[],o=[],s=[],a=[],c=[],u=[],l=[],f=[],h=[],d=[],p=0;256>p;p++)d[p]=128>p?p<<1:p<<1^283;for(var y=0,g=0,p=0;256>p;p++){var m=g^g<<1^g<<2^g<<3^g<<4,m=m>>>8^255&m^99;r[y]=m,i[m]=y;var v=d[y],b=d[v],w=d[b],S=257*d[m]^16843008*m;o[y]=S<<24|S>>>8,s[y]=S<<16|S>>>16,a[y]=S<<8|S>>>24,c[y]=S,S=16843009*w^65537*b^257*v^16843008*y,u[m]=S<<24|S>>>8,l[m]=S<<16|S>>>16,f[m]=S<<8|S>>>24,h[m]=S,y?(y=v^d[d[d[w^v]]],g^=d[d[g]]):y=g=1}var E=[0,1,2,4,8,16,32,64,128,27,54],n=n.AES=t.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes/4,e=4*((this._nRounds=n+6)+1),i=this._keySchedule=[],o=0;o<e;o++)if(o<n)i[o]=t[o];else{var s=i[o-1];o%n?6<n&&4==o%n&&(s=r[s>>>24]<<24|r[s>>>16&255]<<16|r[s>>>8&255]<<8|r[255&s]):(s=s<<8|s>>>24,s=r[s>>>24]<<24|r[s>>>16&255]<<16|r[s>>>8&255]<<8|r[255&s],s^=E[o/n|0]<<24),i[o]=i[o-n]^s}for(t=this._invKeySchedule=[],n=0;n<e;n++)o=e-n,s=n%4?i[o]:i[o-4],t[n]=4>n||4>=o?s:u[r[s>>>24]]^l[r[s>>>16&255]]^f[r[s>>>8&255]]^h[r[255&s]]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,o,s,a,c,r)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,u,l,f,h,i),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,i,o,s,a){for(var c=this._nRounds,u=e[t]^n[0],l=e[t+1]^n[1],f=e[t+2]^n[2],h=e[t+3]^n[3],d=4,p=1;p<c;p++)var y=r[u>>>24]^i[l>>>16&255]^o[f>>>8&255]^s[255&h]^n[d++],g=r[l>>>24]^i[f>>>16&255]^o[h>>>8&255]^s[255&u]^n[d++],m=r[f>>>24]^i[h>>>16&255]^o[u>>>8&255]^s[255&l]^n[d++],h=r[h>>>24]^i[u>>>16&255]^o[l>>>8&255]^s[255&f]^n[d++],u=y,l=g,f=m;y=(a[u>>>24]<<24|a[l>>>16&255]<<16|a[f>>>8&255]<<8|a[255&h])^n[d++],g=(a[l>>>24]<<24|a[f>>>16&255]<<16|a[h>>>8&255]<<8|a[255&u])^n[d++],m=(a[f>>>24]<<24|a[h>>>16&255]<<16|a[u>>>8&255]<<8|a[255&l])^n[d++],h=(a[h>>>24]<<24|a[u>>>16&255]<<16|a[l>>>8&255]<<8|a[255&f])^n[d++],e[t]=y,e[t+1]=g,e[t+2]=m,e[t+3]=h},keySize:8});e.AES=t._createHelper(n)}(),function(){function e(e,t){var n=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=n,this._lBlock^=n<<e}function t(e,t){var n=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=n,this._rBlock^=n<<e}var n=sr,r=n.lib,i=r.WordArray,r=r.BlockCipher,o=n.algo,s=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],l=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],f=o.DES=r.extend({_doReset:function(){for(var e=this._key.words,t=[],n=0;56>n;n++){var r=s[n]-1;t[n]=e[r>>>5]>>>31-r%32&1}for(e=this._subKeys=[],r=0;16>r;r++){for(var i=e[r]=[],o=c[r],n=0;24>n;n++)i[n/6|0]|=t[(a[n]-1+o)%28]<<31-n%6,i[4+(n/6|0)]|=t[28+(a[n+24]-1+o)%28]<<31-n%6;for(i[0]=i[0]<<1|i[0]>>>31,n=1;7>n;n++)i[n]>>>=4*(n-1)+3;i[7]=i[7]<<5|i[7]>>>27}for(t=this._invSubKeys=[],n=0;16>n;n++)t[n]=e[15-n]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(n,r,i){this._lBlock=n[r],this._rBlock=n[r+1],e.call(this,4,252645135),e.call(this,16,65535),t.call(this,2,858993459),t.call(this,8,16711935),e.call(this,1,1431655765);for(var o=0;16>o;o++){for(var s=i[o],a=this._lBlock,c=this._rBlock,f=0,h=0;8>h;h++)f|=u[h][((c^s[h])&l[h])>>>0];this._lBlock=c,this._rBlock=a^f}i=this._lBlock,this._lBlock=this._rBlock,this._rBlock=i,e.call(this,1,1431655765),t.call(this,8,16711935),t.call(this,2,858993459),e.call(this,16,65535),e.call(this,4,252645135),n[r]=this._lBlock,n[r+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});n.DES=r._createHelper(f),o=o.TripleDES=r.extend({_doReset:function(){var e=this._key.words;this._des1=f.createEncryptor(i.create(e.slice(0,2))),this._des2=f.createEncryptor(i.create(e.slice(2,4))),this._des3=f.createEncryptor(i.create(e.slice(4,6)))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2}),n.TripleDES=r._createHelper(o)}(),function(){var e=sr,t=e.lib.WordArray;e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp(),e=[];for(var i=0;i<n;i+=3)for(var o=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,s=0;4>s&&i+.75*s<n;s++)e.push(r.charAt(o>>>6*(3-s)&63));if(t=r.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var n=e.length,r=this._map,i=r.charAt(64);i&&-1!=(i=e.indexOf(i))&&(n=i);for(var i=[],o=0,s=0;s<n;s++)if(s%4){var a=r.indexOf(e.charAt(s-1))<<s%4*2,c=r.indexOf(e.charAt(s))>>>6-s%4*2;i[o>>>2]|=(a|c)<<24-o%4*8,o++}return t.create(i,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(e){function t(e,t,n,r,i,o,s){return((e=e+(t&n|~t&r)+i+s)<<o|e>>>32-o)+t}function n(e,t,n,r,i,o,s){return((e=e+(t&r|n&~r)+i+s)<<o|e>>>32-o)+t}function r(e,t,n,r,i,o,s){return((e=e+(t^n^r)+i+s)<<o|e>>>32-o)+t}function i(e,t,n,r,i,o,s){return((e=e+(n^(t|~r))+i+s)<<o|e>>>32-o)+t}for(var o=sr,s=o.lib,a=s.WordArray,c=s.Hasher,s=o.algo,u=[],l=0;64>l;l++)u[l]=4294967296*e.abs(e.sin(l+1))|0;s=s.MD5=c.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,o){for(var s=0;16>s;s++){var a=o+s,c=e[a];e[a]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}var s=this._hash.words,a=e[o+0],c=e[o+1],l=e[o+2],f=e[o+3],h=e[o+4],d=e[o+5],p=e[o+6],y=e[o+7],g=e[o+8],m=e[o+9],v=e[o+10],b=e[o+11],w=e[o+12],S=e[o+13],E=e[o+14],k=e[o+15],x=s[0],_=s[1],O=s[2],C=s[3],x=t(x,_,O,C,a,7,u[0]),C=t(C,x,_,O,c,12,u[1]),O=t(O,C,x,_,l,17,u[2]),_=t(_,O,C,x,f,22,u[3]),x=t(x,_,O,C,h,7,u[4]),C=t(C,x,_,O,d,12,u[5]),O=t(O,C,x,_,p,17,u[6]),_=t(_,O,C,x,y,22,u[7]),x=t(x,_,O,C,g,7,u[8]),C=t(C,x,_,O,m,12,u[9]),O=t(O,C,x,_,v,17,u[10]),_=t(_,O,C,x,b,22,u[11]),x=t(x,_,O,C,w,7,u[12]),C=t(C,x,_,O,S,12,u[13]),O=t(O,C,x,_,E,17,u[14]),_=t(_,O,C,x,k,22,u[15]),x=n(x,_,O,C,c,5,u[16]),C=n(C,x,_,O,p,9,u[17]),O=n(O,C,x,_,b,14,u[18]),_=n(_,O,C,x,a,20,u[19]),x=n(x,_,O,C,d,5,u[20]),C=n(C,x,_,O,v,9,u[21]),O=n(O,C,x,_,k,14,u[22]),_=n(_,O,C,x,h,20,u[23]),x=n(x,_,O,C,m,5,u[24]),C=n(C,x,_,O,E,9,u[25]),O=n(O,C,x,_,f,14,u[26]),_=n(_,O,C,x,g,20,u[27]),x=n(x,_,O,C,S,5,u[28]),C=n(C,x,_,O,l,9,u[29]),O=n(O,C,x,_,y,14,u[30]),_=n(_,O,C,x,w,20,u[31]),x=r(x,_,O,C,d,4,u[32]),C=r(C,x,_,O,g,11,u[33]),O=r(O,C,x,_,b,16,u[34]),_=r(_,O,C,x,E,23,u[35]),x=r(x,_,O,C,c,4,u[36]),C=r(C,x,_,O,h,11,u[37]),O=r(O,C,x,_,y,16,u[38]),_=r(_,O,C,x,v,23,u[39]),x=r(x,_,O,C,S,4,u[40]),C=r(C,x,_,O,a,11,u[41]),O=r(O,C,x,_,f,16,u[42]),_=r(_,O,C,x,p,23,u[43]),x=r(x,_,O,C,m,4,u[44]),C=r(C,x,_,O,w,11,u[45]),O=r(O,C,x,_,k,16,u[46]),_=r(_,O,C,x,l,23,u[47]),x=i(x,_,O,C,a,6,u[48]),C=i(C,x,_,O,y,10,u[49]),O=i(O,C,x,_,E,15,u[50]),_=i(_,O,C,x,d,21,u[51]),x=i(x,_,O,C,w,6,u[52]),C=i(C,x,_,O,f,10,u[53]),O=i(O,C,x,_,v,15,u[54]),_=i(_,O,C,x,c,21,u[55]),x=i(x,_,O,C,g,6,u[56]),C=i(C,x,_,O,k,10,u[57]),O=i(O,C,x,_,p,15,u[58]),_=i(_,O,C,x,S,21,u[59]),x=i(x,_,O,C,h,6,u[60]),C=i(C,x,_,O,b,10,u[61]),O=i(O,C,x,_,l,15,u[62]),_=i(_,O,C,x,m,21,u[63]);s[0]=s[0]+x|0,s[1]=s[1]+_|0,s[2]=s[2]+O|0,s[3]=s[3]+C|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;n[i>>>5]|=128<<24-i%32;var o=e.floor(r/4294967296);for(n[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(i+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),t.sigBytes=4*(n.length+1),this._process(),t=this._hash,n=t.words,r=0;4>r;r++)i=n[r],n[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8);return t},clone:function(){var e=c.clone.call(this);return e._hash=this._hash.clone(),e}}),o.MD5=c._createHelper(s),o.HmacMD5=c._createHmacHelper(s)}(Math),function(){var e=sr,t=e.lib,n=t.WordArray,r=t.Hasher,i=[],t=e.algo.SHA1=r.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],o=n[1],s=n[2],a=n[3],c=n[4],u=0;80>u;u++){if(16>u)i[u]=0|e[t+u];else{var l=i[u-3]^i[u-8]^i[u-14]^i[u-16];i[u]=l<<1|l>>>31}l=(r<<5|r>>>27)+c+i[u],l=20>u?l+(1518500249+(o&s|~o&a)):40>u?l+(1859775393+(o^s^a)):60>u?l+((o&s|o&a|s&a)-1894007588):l+((o^s^a)-899497514),c=a,a=s,s=o<<30|o>>>2,o=r,r=l}n[0]=n[0]+r|0,n[1]=n[1]+o|0,n[2]=n[2]+s|0,n[3]=n[3]+a|0,n[4]=n[4]+c|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(r+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA1=r._createHelper(t),e.HmacSHA1=r._createHmacHelper(t)}(),function(e){for(var t=sr,n=t.lib,r=n.WordArray,i=n.Hasher,n=t.algo,o=[],s=[],a=function(e){return 4294967296*(e-(0|e))|0},c=2,u=0;64>u;){var l;e:{l=c;for(var f=e.sqrt(l),h=2;h<=f;h++)if(!(l%h)){l=!1;break e}l=!0}l&&(8>u&&(o[u]=a(e.pow(c,.5))),s[u]=a(e.pow(c,1/3)),u++),c++}var d=[],n=n.SHA256=i.extend({_doReset:function(){this._hash=new r.init(o.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],c=n[4],u=n[5],l=n[6],f=n[7],h=0;64>h;h++){if(16>h)d[h]=0|e[t+h];else{var p=d[h-15],y=d[h-2];d[h]=((p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3)+d[h-7]+((y<<15|y>>>17)^(y<<13|y>>>19)^y>>>10)+d[h-16]}p=f+((c<<26|c>>>6)^(c<<21|c>>>11)^(c<<7|c>>>25))+(c&u^~c&l)+s[h]+d[h],y=((r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22))+(r&i^r&o^i&o),f=l,l=u,u=c,c=a+p|0,a=o,o=i,i=r,r=p+y|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+c|0,n[5]=n[5]+u|0,n[6]=n[6]+l|0,n[7]=n[7]+f|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=i._createHelper(n),t.HmacSHA256=i._createHmacHelper(n)}(Math),function(){var e=sr,t=e.lib.WordArray,n=e.algo,r=n.SHA256,n=n.SHA224=r.extend({_doReset:function(){this._hash=new t.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=r._doFinalize.call(this);return e.sigBytes-=4,e}});e.SHA224=r._createHelper(n),e.HmacSHA224=r._createHmacHelper(n)}(),function(){function e(){return i.create.apply(i,arguments)}for(var t=sr,n=t.lib.Hasher,r=t.x64,i=r.Word,o=r.WordArray,r=t.algo,s=[e(1116352408,3609767458),e(1899447441,602891725),e(3049323471,3964484399),e(3921009573,2173295548),e(961987163,4081628472),e(1508970993,3053834265),e(2453635748,2937671579),e(2870763221,3664609560),e(3624381080,2734883394),e(310598401,1164996542),e(607225278,1323610764),e(1426881987,3590304994),e(1925078388,4068182383),e(2162078206,991336113),e(2614888103,633803317),e(3248222580,3479774868),e(3835390401,2666613458),e(4022224774,944711139),e(264347078,2341262773),e(604807628,2007800933),e(770255983,1495990901),e(1249150122,1856431235),e(1555081692,3175218132),e(1996064986,2198950837),e(2554220882,3999719339),e(2821834349,766784016),e(2952996808,2566594879),e(3210313671,3203337956),e(3336571891,1034457026),e(3584528711,2466948901),e(113926993,3758326383),e(338241895,168717936),e(666307205,1188179964),e(773529912,1546045734),e(1294757372,1522805485),e(1396182291,2643833823),e(1695183700,2343527390),e(1986661051,1014477480),e(2177026350,1206759142),e(2456956037,344077627),e(2730485921,1290863460),e(2820302411,3158454273),e(3259730800,3505952657),e(3345764771,106217008),e(3516065817,3606008344),e(3600352804,1432725776),e(4094571909,1467031594),e(275423344,851169720),e(430227734,3100823752),e(506948616,1363258195),e(659060556,3750685593),e(883997877,3785050280),e(958139571,3318307427),e(1322822218,3812723403),e(1537002063,2003034995),e(1747873779,3602036899),e(1955562222,1575990012),e(2024104815,1125592928),e(2227730452,2716904306),e(2361852424,442776044),e(2428436474,593698344),e(2756734187,3733110249),e(3204031479,2999351573),e(3329325298,3815920427),e(3391569614,3928383900),e(3515267271,566280711),e(3940187606,3454069534),e(4118630271,4000239992),e(116418474,1914138554),e(174292421,2731055270),e(289380356,3203993006),e(460393269,320620315),e(685471733,587496836),e(852142971,1086792851),e(1017036298,365543100),e(1126000580,2618297676),e(1288033470,3409855158),e(1501505948,4234509866),e(1607167915,987167468),e(1816402316,1246189591)],a=[],c=0;80>c;c++)a[c]=e();r=r.SHA512=n.extend({_doReset:function(){this._hash=new o.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],c=n[3],u=n[4],l=n[5],f=n[6],n=n[7],h=r.high,d=r.low,p=i.high,y=i.low,g=o.high,m=o.low,v=c.high,b=c.low,w=u.high,S=u.low,E=l.high,k=l.low,x=f.high,_=f.low,O=n.high,C=n.low,A=h,P=d,I=p,D=y,R=g,j=m,T=v,N=b,B=w,F=S,M=E,L=k,H=x,q=_,U=O,K=C,V=0;80>V;V++){var z=a[V];if(16>V)var J=z.high=0|e[t+2*V],G=z.low=0|e[t+2*V+1];else{var J=a[V-15],G=J.high,W=J.low,J=(G>>>1|W<<31)^(G>>>8|W<<24)^G>>>7,W=(W>>>1|G<<31)^(W>>>8|G<<24)^(W>>>7|G<<25),X=a[V-2],G=X.high,Y=X.low,X=(G>>>19|Y<<13)^(G<<3|Y>>>29)^G>>>6,Y=(Y>>>19|G<<13)^(Y<<3|G>>>29)^(Y>>>6|G<<26),G=a[V-7],Q=G.high,Z=a[V-16],$=Z.high,Z=Z.low,G=W+G.low,J=J+Q+(G>>>0<W>>>0?1:0),G=G+Y,J=J+X+(G>>>0<Y>>>0?1:0),G=G+Z,J=J+$+(G>>>0<Z>>>0?1:0);z.high=J,z.low=G}var Q=B&M^~B&H,Z=F&L^~F&q,z=A&I^A&R^I&R,ee=P&D^P&j^D&j,W=(A>>>28|P<<4)^(A<<30|P>>>2)^(A<<25|P>>>7),X=(P>>>28|A<<4)^(P<<30|A>>>2)^(P<<25|A>>>7),Y=s[V],te=Y.high,ne=Y.low,Y=K+((F>>>14|B<<18)^(F>>>18|B<<14)^(F<<23|B>>>9)),$=U+((B>>>14|F<<18)^(B>>>18|F<<14)^(B<<23|F>>>9))+(Y>>>0<K>>>0?1:0),Y=Y+Z,$=$+Q+(Y>>>0<Z>>>0?1:0),Y=Y+ne,$=$+te+(Y>>>0<ne>>>0?1:0),Y=Y+G,$=$+J+(Y>>>0<G>>>0?1:0),G=X+ee,z=W+z+(G>>>0<X>>>0?1:0),U=H,K=q,H=M,q=L,M=B,L=F,F=N+Y|0,B=T+$+(F>>>0<N>>>0?1:0)|0,T=R,N=j,R=I,j=D,I=A,D=P,P=Y+G|0,A=$+z+(P>>>0<Y>>>0?1:0)|0}d=r.low=d+P,r.high=h+A+(d>>>0<P>>>0?1:0),y=i.low=y+D,i.high=p+I+(y>>>0<D>>>0?1:0),m=o.low=m+j,o.high=g+R+(m>>>0<j>>>0?1:0),b=c.low=b+N,c.high=v+T+(b>>>0<N>>>0?1:0),S=u.low=S+F,u.high=w+B+(S>>>0<F>>>0?1:0),k=l.low=k+L,l.high=E+M+(k>>>0<L>>>0?1:0),_=f.low=_+q,f.high=x+H+(_>>>0<q>>>0?1:0),C=n.low=C+K,n.high=O+U+(C>>>0<K>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[30+(r+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(r+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32}),t.SHA512=n._createHelper(r),t.HmacSHA512=n._createHmacHelper(r)}(),function(){var e=sr,t=e.x64,n=t.Word,r=t.WordArray,t=e.algo,i=t.SHA512,t=t.SHA384=i.extend({_doReset:function(){this._hash=new r.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},_doFinalize:function(){var e=i._doFinalize.call(this);return e.sigBytes-=16,e}});e.SHA384=i._createHelper(t),e.HmacSHA384=i._createHmacHelper(t)}(),function(){var e=sr,t=e.lib,n=t.WordArray,r=t.Hasher,t=e.algo,i=n.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),o=n.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),s=n.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),a=n.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),c=n.create([0,1518500249,1859775393,2400959708,2840853838]),u=n.create([1352829926,1548603684,1836072691,2053994217,0]),t=t.RIPEMD160=r.extend({_doReset:function(){this._hash=n.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=0;16>n;n++){var r=t+n,l=e[r];e[r]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}var f,h,d,p,y,g,m,v,b,w,r=this._hash.words,l=c.words,S=u.words,E=i.words,k=o.words,x=s.words,_=a.words;g=f=r[0],m=h=r[1],v=d=r[2],b=p=r[3],w=y=r[4];for(var O,n=0;80>n;n+=1)O=f+e[t+E[n]]|0,O=16>n?O+((h^d^p)+l[0]):32>n?O+((h&d|~h&p)+l[1]):48>n?O+(((h|~d)^p)+l[2]):64>n?O+((h&p|d&~p)+l[3]):O+((h^(d|~p))+l[4]),O|=0,O=O<<x[n]|O>>>32-x[n],O=O+y|0,f=y,y=p,p=d<<10|d>>>22,d=h,h=O,O=g+e[t+k[n]]|0,O=16>n?O+((m^(v|~b))+S[0]):32>n?O+((m&b|v&~b)+S[1]):48>n?O+(((m|~v)^b)+S[2]):64>n?O+((m&v|~m&b)+S[3]):O+((m^v^b)+S[4]),O|=0,O=O<<_[n]|O>>>32-_[n],O=O+w|0,g=w,w=b,b=v<<10|v>>>22,v=m,m=O;O=r[1]+d+b|0,r[1]=r[2]+p+w|0,r[2]=r[3]+y+g|0,r[3]=r[4]+f+m|0,r[4]=r[0]+h+v|0,r[0]=O},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;for(t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process(),e=this._hash,t=e.words,n=0;5>n;n++)r=t[n],t[n]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8);return e},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});e.RIPEMD160=r._createHelper(t),e.HmacRIPEMD160=r._createHmacHelper(t)}(Math),function(){var e=sr,t=e.enc.Utf8;e.algo.HMAC=e.lib.Base.extend({init:function(e,n){e=this._hasher=new e.init,"string"==typeof n&&(n=t.parse(n));var r=e.blockSize,i=4*r;n.sigBytes>i&&(n=e.finalize(n)),n.clamp();for(var o=this._oKey=n.clone(),s=this._iKey=n.clone(),a=o.words,c=s.words,u=0;u<r;u++)a[u]^=1549556828,c[u]^=909522486;o.sigBytes=s.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;return e=t.finalize(e),t.reset(),t.finalize(this._oKey.clone().concat(e))}})}(),function(){var e=sr,t=e.lib,n=t.Base,r=t.WordArray,t=e.algo,i=t.HMAC,o=t.PBKDF2=n.extend({cfg:n.extend({keySize:4,hasher:t.SHA1,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,o=i.create(n.hasher,e),s=r.create(),a=r.create([1]),c=s.words,u=a.words,l=n.keySize,n=n.iterations;c.length<l;){var f=o.update(t).finalize(a);o.reset();for(var h=f.words,d=h.length,p=f,y=1;y<n;y++){p=o.finalize(p),o.reset();for(var g=p.words,m=0;m<d;m++)h[m]^=g[m]}s.concat(f),u[0]++}return s.sigBytes=4*l,s}});e.PBKDF2=function(e,t,n){return o.create(n).compute(e,t)}}();/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
var ar,cr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ur="=";"Microsoft Internet Explorer"==rr.appName?(o.prototype.am=c,ar=30):"Netscape"!=rr.appName?(o.prototype.am=a,ar=26):(o.prototype.am=u,ar=28),o.prototype.DB=ar,o.prototype.DM=(1<<ar)-1,o.prototype.DV=1<<ar;o.prototype.FV=Math.pow(2,52),o.prototype.F1=52-ar,o.prototype.F2=2*ar-52;var lr,fr,hr="0123456789abcdefghijklmnopqrstuvwxyz",dr=new Array;for(lr="0".charCodeAt(0),fr=0;fr<=9;++fr)dr[lr++]=fr;for(lr="a".charCodeAt(0),fr=10;fr<36;++fr)dr[lr++]=fr;for(lr="A".charCodeAt(0),fr=10;fr<36;++fr)dr[lr++]=fr;R.prototype.convert=j,R.prototype.revert=T,R.prototype.reduce=N,R.prototype.mulTo=B,R.prototype.sqrTo=F,L.prototype.convert=H,L.prototype.revert=q,L.prototype.reduce=U,L.prototype.mulTo=V,L.prototype.sqrTo=K,o.prototype.copyTo=h,o.prototype.fromInt=d,o.prototype.fromString=y,o.prototype.clamp=g,o.prototype.dlShiftTo=k,o.prototype.drShiftTo=x,o.prototype.lShiftTo=_,o.prototype.rShiftTo=O,o.prototype.subTo=C,o.prototype.multiplyTo=A,o.prototype.squareTo=P,o.prototype.divRemTo=I,o.prototype.invDigit=M,o.prototype.isEven=z,o.prototype.exp=J,o.prototype.toString=m,o.prototype.negate=v,o.prototype.abs=b,o.prototype.compareTo=w,o.prototype.bitLength=E,o.prototype.mod=D,o.prototype.modPowInt=G,o.ZERO=p(0),o.ONE=p(1),Me.prototype.convert=Le,Me.prototype.revert=Le,Me.prototype.mulTo=He,Me.prototype.sqrTo=qe,ze.prototype.convert=Je,ze.prototype.revert=Ge,ze.prototype.reduce=We,ze.prototype.mulTo=Ye,ze.prototype.sqrTo=Xe;var pr=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],yr=(1<<26)/pr[pr.length-1];o.prototype.chunkSize=Z,o.prototype.toRadix=ee,o.prototype.fromRadix=te,o.prototype.fromNumber=ne,o.prototype.bitwiseTo=ae,o.prototype.changeBit=xe,o.prototype.addTo=Ae,o.prototype.dMultiply=Be,o.prototype.dAddOffset=Fe,o.prototype.multiplyLowerTo=Ke,o.prototype.multiplyUpperTo=Ve,o.prototype.modInt=$e,o.prototype.millerRabin=nt,o.prototype.clone=W,o.prototype.intValue=X,o.prototype.byteValue=Y,o.prototype.shortValue=Q,o.prototype.signum=$,o.prototype.toByteArray=re,o.prototype.equals=ie,o.prototype.min=oe,o.prototype.max=se,o.prototype.and=ue,o.prototype.or=fe,o.prototype.xor=de,o.prototype.andNot=ye,o.prototype.not=ge,o.prototype.shiftLeft=me,o.prototype.shiftRight=ve,o.prototype.getLowestSetBit=we,o.prototype.bitCount=Ee,o.prototype.testBit=ke,o.prototype.setBit=_e,o.prototype.clearBit=Oe,o.prototype.flipBit=Ce,o.prototype.add=Pe,o.prototype.subtract=Ie,o.prototype.multiply=De,o.prototype.divide=je,o.prototype.remainder=Te,o.prototype.divideAndRemainder=Ne,o.prototype.modPow=Qe,o.prototype.modInverse=et,o.prototype.pow=Ue,o.prototype.gcd=Ze,o.prototype.isProbablePrime=tt,o.prototype.square=Re,rt.prototype.init=it,rt.prototype.next=ot;var gr,mr,vr,br=256;if(null==mr){mr=new Array,vr=0;var wr;if(void 0!==ir&&(void 0!==ir.crypto||void 0!==ir.msCrypto)){var Sr=ir.crypto||ir.msCrypto;if(Sr.getRandomValues){var Er=new Uint8Array(32);for(Sr.getRandomValues(Er),wr=0;wr<32;++wr)mr[vr++]=Er[wr]}else if("Netscape"==rr.appName&&rr.appVersion<"5"){var kr=ir.crypto.random(32);for(wr=0;wr<kr.length;++wr)mr[vr++]=255&kr.charCodeAt(wr)}}for(;vr<br;)wr=Math.floor(65536*Math.random()),mr[vr++]=wr>>>8,mr[vr++]=255&wr;vr=0,ct()}ft.prototype.nextBytes=lt,gt.prototype.doPublic=vt,gt.prototype.setPublic=mt,gt.prototype.encrypt=bt,gt.prototype.encryptOAEP=wt,gt.prototype.type="RSA",gt.prototype.doPrivate=Ct,gt.prototype.setPrivate=xt,gt.prototype.setPrivateEx=_t,gt.prototype.generate=Ot,gt.prototype.decrypt=At,gt.prototype.decryptOAEP=Pt,It.prototype.equals=Dt,It.prototype.toBigInteger=Rt,It.prototype.negate=jt,It.prototype.add=Tt,It.prototype.subtract=Nt,It.prototype.multiply=Bt,It.prototype.square=Ft,It.prototype.divide=Mt,Lt.prototype.getX=Ht,Lt.prototype.getY=qt,Lt.prototype.equals=Ut,Lt.prototype.isInfinity=Kt,Lt.prototype.negate=Vt,Lt.prototype.add=zt,Lt.prototype.twice=Jt,Lt.prototype.multiply=Gt,Lt.prototype.multiplyTwo=Wt,Xt.prototype.getQ=Yt,Xt.prototype.getA=Qt,Xt.prototype.getB=Zt,Xt.prototype.equals=$t,Xt.prototype.getInfinity=en,Xt.prototype.fromBigInteger=tn,Xt.prototype.decodePointHex=nn,/*! (c) Stefan Thomas | https://github.com/bitcoinjs/bitcoinjs-lib
 */
It.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},Lt.prototype.getEncoded=function(e){var t=function(e,t){var n=e.toByteArrayUnsigned();if(t<n.length)n=n.slice(n.length-t);else for(;t>n.length;)n.unshift(0);return n},n=this.getX().toBigInteger(),r=this.getY().toBigInteger(),i=t(n,32);return e?r.isEven()?i.unshift(2):i.unshift(3):(i.unshift(4),i=i.concat(t(r,32))),i},Lt.decodeFrom=function(e,t){var n=(t[0],t.length-1),r=t.slice(1,1+n/2),i=t.slice(1+n/2,1+n);r.unshift(0),i.unshift(0);var s=new o(r),a=new o(i);return new Lt(e,e.fromBigInteger(s),e.fromBigInteger(a))},Lt.decodeFromHex=function(e,t){var n=(t.substr(0,2),t.length-2),r=t.substr(2,n/2),i=t.substr(2+n/2,n/2),s=new o(r,16),a=new o(i,16);return new Lt(e,e.fromBigInteger(s),e.fromBigInteger(a))},Lt.prototype.add2D=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;if(this.x.equals(e.x))return this.y.equals(e.y)?this.twice():this.curve.getInfinity();var t=e.x.subtract(this.x),n=e.y.subtract(this.y),r=n.divide(t),i=r.square().subtract(this.x).subtract(e.x),o=r.multiply(this.x.subtract(i)).subtract(this.y);return new Lt(this.curve,i,o)},Lt.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=this.curve.fromBigInteger(o.valueOf(2)),t=this.curve.fromBigInteger(o.valueOf(3)),n=this.x.square().multiply(t).add(this.curve.a).divide(this.y.multiply(e)),r=n.square().subtract(this.x.multiply(e)),i=n.multiply(this.x.subtract(r)).subtract(this.y);return new Lt(this.curve,r,i)},Lt.prototype.multiply2D=function(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,n=e,r=n.multiply(new o("3")),i=this.negate(),s=this;for(t=r.bitLength()-2;t>0;--t){s=s.twice();var a=r.testBit(t);a!=n.testBit(t)&&(s=s.add2D(a?this:i))}return s},Lt.prototype.isOnCurve=function(){var e=this.getX().toBigInteger(),t=this.getY().toBigInteger(),n=this.curve.getA().toBigInteger(),r=this.curve.getB().toBigInteger(),i=this.curve.getQ(),o=t.multiply(t).mod(i),s=e.multiply(e).multiply(e).add(n.multiply(e)).add(r).mod(i);return o.equals(s)},Lt.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},Lt.prototype.validate=function(){var e=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var t=this.getX().toBigInteger(),n=this.getY().toBigInteger();if(t.compareTo(o.ONE)<0||t.compareTo(e.subtract(o.ONE))>0)throw new Error("x coordinate out of bounds");if(n.compareTo(o.ONE)<0||n.compareTo(e.subtract(o.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(e).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};/*! Mike Samuel (c) 2009 | code.google.com/p/json-sans-eval
 */
var xr=function(){function e(e,t,n){return t?r[t]:String.fromCharCode(parseInt(n,16))}var t=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),n=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),r={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},i=new String(""),o=(Object,Array,Object.hasOwnProperty);return function(r,s){var a,c=r.match(t),u=c[0],l=!1;"{"===u?a={}:"["===u?a=[]:(a=[],l=!0);for(var f,h=[a],d=1-l,p=c.length;d<p;++d){u=c[d];var y;switch(u.charCodeAt(0)){default:y=h[0],y[f||y.length]=+u,f=void 0;break;case 34:if(u=u.substring(1,u.length-1),-1!==u.indexOf("\\")&&(u=u.replace(n,e)),y=h[0],!f){if(!(y instanceof Array)){f=u||i;break}f=y.length}y[f]=u,f=void 0;break;case 91:y=h[0],h.unshift(y[f||y.length]=[]),f=void 0;break;case 93:h.shift();break;case 102:y=h[0],y[f||y.length]=!1,f=void 0;break;case 110:y=h[0],y[f||y.length]=null,f=void 0;break;case 116:y=h[0],y[f||y.length]=!0,f=void 0;break;case 123:y=h[0],h.unshift(y[f||y.length]={}),f=void 0;break;case 125:h.shift()}}if(l){if(1!==h.length)throw new Error;a=a[0]}else if(h.length)throw new Error;if(s){var g=function(e,t){var n=e[t];if(n&&"object"==typeof n){var r=null;for(var i in n)if(o.call(n,i)&&n!==e){var a=g(n,i);void 0!==a?n[i]=a:(r||(r=[]),r.push(i))}if(r)for(var c=r.length;--c>=0;)delete n[r[c]]}return s.call(e,t,n)};a=g({"":a},"")}return a}}();void 0!==Or&&Or||(Or={}),void 0!==Or.asn1&&Or.asn1||(Or.asn1={}),Or.asn1.ASN1Util=new function(){this.integerToByteHex=function(e){var t=e.toString(16);return t.length%2==1&&(t="0"+t),t},this.bigIntToMinTwosComplementsHex=function(e){var t=e.toString(16);if("-"!=t.substr(0,1))t.length%2==1?t="0"+t:t.match(/^[0-7]/)||(t="00"+t);else{var n=t.substr(1),r=n.length;r%2==1?r+=1:t.match(/^[0-7]/)||(r+=2);for(var i="",s=0;s<r;s++)i+="f";t=new o(i,16).xor(e).add(o.ONE).toString(16).replace(/^-/,"")}return t},this.getPEMStringFromHex=function(e,t){return xn(e,t)},this.newObject=function(e){var t=Or,n=t.asn1,r=n.DERBoolean,i=n.DERInteger,o=n.DERBitString,s=n.DEROctetString,a=n.DERNull,c=n.DERObjectIdentifier,u=n.DEREnumerated,l=n.DERUTF8String,f=n.DERNumericString,h=n.DERPrintableString,d=n.DERTeletexString,p=n.DERIA5String,y=n.DERUTCTime,g=n.DERGeneralizedTime,m=n.DERSequence,v=n.DERSet,b=n.DERTaggedObject,w=n.ASN1Util.newObject,S=Object.keys(e);if(1!=S.length)throw"key of param shall be only one.";var E=S[0];if(-1==":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":"+E+":"))throw"undefined key: "+E;if("bool"==E)return new r(e[E]);if("int"==E)return new i(e[E]);if("bitstr"==E)return new o(e[E]);if("octstr"==E)return new s(e[E]);if("null"==E)return new a(e[E]);if("oid"==E)return new c(e[E]);if("enum"==E)return new u(e[E]);if("utf8str"==E)return new l(e[E]);if("numstr"==E)return new f(e[E]);if("prnstr"==E)return new h(e[E]);if("telstr"==E)return new d(e[E]);if("ia5str"==E)return new p(e[E]);if("utctime"==E)return new y(e[E]);if("gentime"==E)return new g(e[E]);if("seq"==E){for(var k=e[E],x=[],_=0;_<k.length;_++){var O=w(k[_]);x.push(O)}return new m({array:x})}if("set"==E){for(var k=e[E],x=[],_=0;_<k.length;_++){var O=w(k[_]);x.push(O)}return new v({array:x})}if("tag"==E){var C=e[E];if("[object Array]"===Object.prototype.toString.call(C)&&3==C.length){var A=w(C[2]);return new b({tag:C[0],explicit:C[1],obj:A})}var P={};if(void 0!==C.explicit&&(P.explicit=C.explicit),void 0!==C.tag&&(P.tag=C.tag),void 0===C.obj)throw"obj shall be specified for 'tag'.";return P.obj=w(C.obj),new b(P)}},this.jsonToASN1HEX=function(e){return this.newObject(e).getEncodedHex()}},Or.asn1.ASN1Util.oidHexToInt=function(e){for(var t="",n=parseInt(e.substr(0,2),16),r=Math.floor(n/40),i=n%40,t=r+"."+i,s="",a=2;a<e.length;a+=2){var c=parseInt(e.substr(a,2),16),u=("00000000"+c.toString(2)).slice(-8);if(s+=u.substr(1,7),"0"==u.substr(0,1)){t=t+"."+new o(s,2).toString(10),s=""}}return t},Or.asn1.ASN1Util.oidIntToHex=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t};if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var n="",r=e.split("."),i=40*parseInt(r[0])+parseInt(r[1]);n+=t(i),r.splice(0,2);for(var s=0;s<r.length;s++)n+=function(e){var n="",r=new o(e,10),i=r.toString(2),s=7-i.length%7;7==s&&(s=0);for(var a="",c=0;c<s;c++)a+="0";i=a+i;for(var c=0;c<i.length-1;c+=7){var u=i.substr(c,7);c!=i.length-7&&(u="1"+u),n+=t(parseInt(u,2))}return n}(r[s]);return n},Or.asn1.ASN1Object=function(){this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw"this.hV is null or undefined.";if(this.hV.length%2==1)throw"value hex must be even length: n="+"".length+",v="+this.hV;var e=this.hV.length/2,t=e.toString(16);if(t.length%2==1&&(t="0"+t),e<128)return t;var n=t.length/2;if(n>15)throw"ASN.1 length too long to represent by 8x: n = "+e.toString(16);return(128+n).toString(16)+t},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""}},Or.asn1.DERAbstractString=function(e){Or.asn1.DERAbstractString.superclass.constructor.call(this);this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=an(this.s)},this.setStringHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e?this.setString(e):void 0!==e.str?this.setString(e.str):void 0!==e.hex&&this.setStringHex(e.hex))},or.lang.extend(Or.asn1.DERAbstractString,Or.asn1.ASN1Object),Or.asn1.DERAbstractTime=function(e){Or.asn1.DERAbstractTime.superclass.constructor.call(this);this.localDateToUTC=function(e){return utc=e.getTime()+6e4*e.getTimezoneOffset(),new Date(utc)},this.formatDate=function(e,t,n){var r=this.zeroPadding,i=this.localDateToUTC(e),o=String(i.getFullYear());"utc"==t&&(o=o.substr(2,2));var s=r(String(i.getMonth()+1),2),a=r(String(i.getDate()),2),c=r(String(i.getHours()),2),u=r(String(i.getMinutes()),2),l=r(String(i.getSeconds()),2),f=o+s+a+c+u+l;if(!0===n){var h=i.getMilliseconds();if(0!=h){var d=r(String(h),3);d=d.replace(/[0]+$/,""),f=f+"."+d}}return f+"Z"},this.zeroPadding=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=an(e)},this.setByDateValue=function(e,t,n,r,i,o){var s=new Date(Date.UTC(e,t-1,n,r,i,o,0));this.setByDate(s)},this.getFreshValueHex=function(){return this.hV}},or.lang.extend(Or.asn1.DERAbstractTime,Or.asn1.ASN1Object),Or.asn1.DERAbstractStructured=function(e){Or.asn1.DERAbstractString.superclass.constructor.call(this);this.setByASN1ObjectArray=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array=e},this.appendASN1Object=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array.push(e)},this.asn1Array=new Array,void 0!==e&&void 0!==e.array&&(this.asn1Array=e.array)},or.lang.extend(Or.asn1.DERAbstractStructured,Or.asn1.ASN1Object),Or.asn1.DERBoolean=function(){Or.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV="0101ff"},or.lang.extend(Or.asn1.DERBoolean,Or.asn1.ASN1Object),Or.asn1.DERInteger=function(e){Or.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=Or.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new o(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.bigint?this.setByBigInteger(e.bigint):void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},or.lang.extend(Or.asn1.DERInteger,Or.asn1.ASN1Object),Or.asn1.DERBitString=function(e){if(void 0!==e&&void 0!==e.obj){var t=Or.asn1.ASN1Util.newObject(e.obj);e.hex="00"+t.getEncodedHex()}Or.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(e){this.hTLV=null,this.isModified=!0,this.hV=e},this.setUnusedBitsAndHexValue=function(e,t){if(e<0||7<e)throw"unused bits shall be from 0 to 7: u = "+e;var n="0"+e;this.hTLV=null,this.isModified=!0,this.hV=n+t},this.setByBinaryString=function(e){e=e.replace(/0+$/,"");var t=8-e.length%8;8==t&&(t=0);for(var n=0;n<=t;n++)e+="0";for(var r="",n=0;n<e.length-1;n+=8){var i=e.substr(n,8),o=parseInt(i,2).toString(16);1==o.length&&(o="0"+o),r+=o}this.hTLV=null,this.isModified=!0,this.hV="0"+t+r},this.setByBooleanArray=function(e){for(var t="",n=0;n<e.length;n++)1==e[n]?t+="1":t+="0";this.setByBinaryString(t)},this.newFalseArray=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=!1;return t},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e&&e.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(e):void 0!==e.hex?this.setHexValueIncludingUnusedBits(e.hex):void 0!==e.bin?this.setByBinaryString(e.bin):void 0!==e.array&&this.setByBooleanArray(e.array))},or.lang.extend(Or.asn1.DERBitString,Or.asn1.ASN1Object),Or.asn1.DEROctetString=function(e){if(void 0!==e&&void 0!==e.obj){var t=Or.asn1.ASN1Util.newObject(e.obj);e.hex=t.getEncodedHex()}Or.asn1.DEROctetString.superclass.constructor.call(this,e),this.hT="04"},or.lang.extend(Or.asn1.DEROctetString,Or.asn1.DERAbstractString),Or.asn1.DERNull=function(){Or.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},or.lang.extend(Or.asn1.DERNull,Or.asn1.ASN1Object),Or.asn1.DERObjectIdentifier=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},n=function(e){var n="",r=new o(e,10),i=r.toString(2),s=7-i.length%7;7==s&&(s=0);for(var a="",c=0;c<s;c++)a+="0";i=a+i;for(var c=0;c<i.length-1;c+=7){var u=i.substr(c,7);c!=i.length-7&&(u="1"+u),n+=t(parseInt(u,2))}return n};Or.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.setValueOidString=function(e){if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var r="",i=e.split("."),o=40*parseInt(i[0])+parseInt(i[1]);r+=t(o),i.splice(0,2);for(var s=0;s<i.length;s++)r+=n(i[s]);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=r},this.setValueName=function(e){var t=Or.asn1.x509.OID.name2oid(e);if(""===t)throw"DERObjectIdentifier oidName undefined: "+e;this.setValueOidString(t)},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e?e.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(e):this.setValueName(e):void 0!==e.oid?this.setValueOidString(e.oid):void 0!==e.hex?this.setValueHex(e.hex):void 0!==e.name&&this.setValueName(e.name))},or.lang.extend(Or.asn1.DERObjectIdentifier,Or.asn1.ASN1Object),Or.asn1.DEREnumerated=function(e){Or.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=Or.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new o(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},or.lang.extend(Or.asn1.DEREnumerated,Or.asn1.ASN1Object),Or.asn1.DERUTF8String=function(e){Or.asn1.DERUTF8String.superclass.constructor.call(this,e),this.hT="0c"},or.lang.extend(Or.asn1.DERUTF8String,Or.asn1.DERAbstractString),Or.asn1.DERNumericString=function(e){Or.asn1.DERNumericString.superclass.constructor.call(this,e),this.hT="12"},or.lang.extend(Or.asn1.DERNumericString,Or.asn1.DERAbstractString),Or.asn1.DERPrintableString=function(e){Or.asn1.DERPrintableString.superclass.constructor.call(this,e),this.hT="13"},or.lang.extend(Or.asn1.DERPrintableString,Or.asn1.DERAbstractString),Or.asn1.DERTeletexString=function(e){Or.asn1.DERTeletexString.superclass.constructor.call(this,e),this.hT="14"},or.lang.extend(Or.asn1.DERTeletexString,Or.asn1.DERAbstractString),Or.asn1.DERIA5String=function(e){Or.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="16"},or.lang.extend(Or.asn1.DERIA5String,Or.asn1.DERAbstractString),Or.asn1.DERUTCTime=function(e){Or.asn1.DERUTCTime.superclass.constructor.call(this,e),this.hT="17",this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"utc"),this.hV=an(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=an(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{12}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date))},or.lang.extend(Or.asn1.DERUTCTime,Or.asn1.DERAbstractTime),Or.asn1.DERGeneralizedTime=function(e){Or.asn1.DERGeneralizedTime.superclass.constructor.call(this,e),this.hT="18",this.withMillis=!1,this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=an(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=an(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{14}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date),!0===e.millis&&(this.withMillis=!0))},or.lang.extend(Or.asn1.DERGeneralizedTime,Or.asn1.DERAbstractTime),Or.asn1.DERSequence=function(e){Or.asn1.DERSequence.superclass.constructor.call(this,e),this.hT="30",this.getFreshValueHex=function(){for(var e="",t=0;t<this.asn1Array.length;t++){e+=this.asn1Array[t].getEncodedHex()}return this.hV=e,this.hV}},or.lang.extend(Or.asn1.DERSequence,Or.asn1.DERAbstractStructured),Or.asn1.DERSet=function(e){Or.asn1.DERSet.superclass.constructor.call(this,e),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var e=new Array,t=0;t<this.asn1Array.length;t++){var n=this.asn1Array[t];e.push(n.getEncodedHex())}return 1==this.sortFlag&&e.sort(),this.hV=e.join(""),this.hV},void 0!==e&&void 0!==e.sortflag&&0==e.sortflag&&(this.sortFlag=!1)},or.lang.extend(Or.asn1.DERSet,Or.asn1.DERAbstractStructured),Or.asn1.DERTaggedObject=function(e){Or.asn1.DERTaggedObject.superclass.constructor.call(this),this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(e,t,n){this.hT=t,this.isExplicit=e,this.asn1Object=n,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=n.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,t),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.tag&&(this.hT=e.tag),void 0!==e.explicit&&(this.isExplicit=e.explicit),void 0!==e.obj&&(this.asn1Object=e.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},or.lang.extend(Or.asn1.DERTaggedObject,Or.asn1.ASN1Object);var _r=new function(){};_r.getLblen=function(e,t){if("8"!=e.substr(t+2,1))return 1;var n=parseInt(e.substr(t+3,1));return 0==n?-1:0<n&&n<10?n+1:-2},_r.getByteLengthOfL_AtObj=_r.getLblen,_r.getL=function(e,t){var n=_r.getLblen(e,t);return n<1?"":e.substr(t+2,2*n)},_r.getHexOfL_AtObj=_r.getL,_r.getVblen=function(e,t){var n,r;return""==(n=_r.getL(e,t))?-1:(r="8"===n.substr(0,1)?new o(n.substr(2),16):new o(n,16),r.intValue())},_r.getIntOfL_AtObj=_r.getVblen,_r.getVidx=function(e,t){var n=_r.getLblen(e,t);return n<0?n:t+2*(n+1)},_r.getStartPosOfV_AtObj=_r.getVidx,_r.getV=function(e,t){var n=_r.getVidx(e,t),r=_r.getVblen(e,t);return e.substr(n,2*r)},_r.getHexOfV_AtObj=_r.getV,_r.getTLV=function(e,t){return e.substr(t,2)+_r.getL(e,t)+_r.getV(e,t)},_r.getHexOfTLV_AtObj=_r.getTLV,_r.getNextSiblingIdx=function(e,t){return _r.getVidx(e,t)+2*_r.getVblen(e,t)},_r.getPosOfNextSibling_AtObj=_r.getNextSiblingIdx,_r.getChildIdx=function(e,t){var n=_r,r=new Array,i=n.getVidx(e,t);"03"==e.substr(t,2)?r.push(i+2):r.push(i);for(var o=n.getVblen(e,t),s=i,a=0;;){var c=n.getNextSiblingIdx(e,s);if(null==c||c-i>=2*o)break;if(a>=200)break;r.push(c),s=c,a++}return r},_r.getPosArrayOfChildren_AtObj=_r.getChildIdx,_r.getNthChildIdx=function(e,t,n){return _r.getChildIdx(e,t)[n]},_r.getNthChildIndex_AtObj=_r.getNthChildIdx,_r.getIdxbyList=function(e,t,n,r){var i,o,s=_r;if(0==n.length){if(void 0!==r&&e.substr(t,2)!==r)throw"checking tag doesn't match: "+e.substr(t,2)+"!="+r;return t}return i=n.shift(),o=s.getChildIdx(e,t),s.getIdxbyList(e,o[i],n,r)},_r.getDecendantIndexByNthList=_r.getIdxbyList,_r.getTLVbyList=function(e,t,n,r){var i=_r,o=i.getIdxbyList(e,t,n);if(void 0===o)throw"can't find nthList object";if(void 0!==r&&e.substr(o,2)!=r)throw"checking tag doesn't match: "+e.substr(o,2)+"!="+r;return i.getTLV(e,o)},_r.getDecendantHexTLVByNthList=_r.getTLVbyList,_r.getVbyList=function(e,t,n,r,i){var o,s,a=_r;if(void 0===(o=a.getIdxbyList(e,t,n,r)))throw"can't find nthList object";return s=a.getV(e,o),!0===i&&(s=s.substr(2)),s},_r.getDecendantHexVByNthList=_r.getVbyList,_r.hextooidstr=function(e){var t=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},n=[],r=e.substr(0,2),i=parseInt(r,16);n[0]=new String(Math.floor(i/40)),n[1]=new String(i%40);for(var o=e.substr(2),s=[],a=0;a<o.length/2;a++)s.push(parseInt(o.substr(2*a,2),16));for(var c=[],u="",a=0;a<s.length;a++)128&s[a]?u+=t((127&s[a]).toString(2),7):(u+=t((127&s[a]).toString(2),7),c.push(new String(parseInt(u,2))),u="");var l=n.join(".");return c.length>0&&(l=l+"."+c.join(".")),l},_r.dump=function(e,t,n,r){var i=_r,o=i.getV,s=i.dump,a=i.getChildIdx,c=e;e instanceof Or.asn1.ASN1Object&&(c=e.getEncodedHex());var u=function(e,t){return e.length<=2*t?e:e.substr(0,t)+"..(total "+e.length/2+"bytes).."+e.substr(e.length-t,t)};void 0===t&&(t={ommit_long_octet:32}),void 0===n&&(n=0),void 0===r&&(r="");var l=t.ommit_long_octet;if("01"==c.substr(n,2)){var f=o(c,n);return"00"==f?r+"BOOLEAN FALSE\n":r+"BOOLEAN TRUE\n"}if("02"==c.substr(n,2)){var f=o(c,n);return r+"INTEGER "+u(f,l)+"\n"}if("03"==c.substr(n,2)){var f=o(c,n);return r+"BITSTRING "+u(f,l)+"\n"}if("04"==c.substr(n,2)){var f=o(c,n);if(i.isASN1HEX(f)){var h=r+"OCTETSTRING, encapsulates\n";return h+=s(f,t,0,r+"  ")}return r+"OCTETSTRING "+u(f,l)+"\n"}if("05"==c.substr(n,2))return r+"NULL\n";if("06"==c.substr(n,2)){var d=o(c,n),p=Or.asn1.ASN1Util.oidHexToInt(d),y=Or.asn1.x509.OID.oid2name(p),g=p.replace(/\./g," ");return""!=y?r+"ObjectIdentifier "+y+" ("+g+")\n":r+"ObjectIdentifier ("+g+")\n"}if("0c"==c.substr(n,2))return r+"UTF8String '"+vn(o(c,n))+"'\n";if("13"==c.substr(n,2))return r+"PrintableString '"+vn(o(c,n))+"'\n";if("14"==c.substr(n,2))return r+"TeletexString '"+vn(o(c,n))+"'\n";if("16"==c.substr(n,2))return r+"IA5String '"+vn(o(c,n))+"'\n";if("17"==c.substr(n,2))return r+"UTCTime "+vn(o(c,n))+"\n";if("18"==c.substr(n,2))return r+"GeneralizedTime "+vn(o(c,n))+"\n";if("30"==c.substr(n,2)){if("3000"==c.substr(n,4))return r+"SEQUENCE {}\n";var h=r+"SEQUENCE\n",m=a(c,n),v=t;if((2==m.length||3==m.length)&&"06"==c.substr(m[0],2)&&"04"==c.substr(m[m.length-1],2)){var y=i.oidname(o(c,m[0])),b=JSON.parse(JSON.stringify(t));b.x509ExtName=y,v=b}for(var w=0;w<m.length;w++)h+=s(c,v,m[w],r+"  ");return h}if("31"==c.substr(n,2)){for(var h=r+"SET\n",m=a(c,n),w=0;w<m.length;w++)h+=s(c,t,m[w],r+"  ");return h}var S=parseInt(c.substr(n,2),16);if(0!=(128&S)){var E=31&S;if(0!=(32&S)){for(var h=r+"["+E+"]\n",m=a(c,n),w=0;w<m.length;w++)h+=s(c,t,m[w],r+"  ");return h}var f=o(c,n);"68747470"==f.substr(0,8)&&(f=vn(f)),"subjectAltName"===t.x509ExtName&&2==E&&(f=vn(f));var h=r+"["+E+"] "+f+"\n";return h}return r+"UNKNOWN("+c.substr(n,2)+") "+o(c,n)+"\n"},_r.isASN1HEX=function(e){var t=_r;if(e.length%2==1)return!1;var n=t.getVblen(e,0),r=e.substr(0,2),i=t.getL(e,0);return e.length-r.length-i.length==2*n},_r.oidname=function(e){var t=Or.asn1;Or.lang.String.isHex(e)&&(e=t.ASN1Util.oidHexToInt(e));var n=t.x509.OID.oid2name(e);return""===n&&(n=e),n},_r.pemToHex=function(e,t){return _n(e,t)},void 0!==Or&&Or||(Or={}),void 0!==Or.asn1&&Or.asn1||(Or.asn1={}),void 0!==Or.asn1.x509&&Or.asn1.x509||(Or.asn1.x509={}),Or.asn1.x509.Certificate=function(e){Or.asn1.x509.Certificate.superclass.constructor.call(this);var t=Or,n=(t.crypto,t.asn1),r=n.DERSequence,i=n.DERBitString;this.setRsaPrvKeyByPEMandPass=function(e,t){var n=Ir.getDecryptedKeyHex(e,t),r=new gt;r.readPrivateKeyFromASN1HexString(n),this.prvKey=r},this.sign=function(){this.asn1SignatureAlg=this.asn1TBSCert.asn1SignatureAlg;var e=new Or.crypto.Signature({alg:this.asn1SignatureAlg.nameAlg});e.init(this.prvKey),e.updateHex(this.asn1TBSCert.getEncodedHex()),this.hexSig=e.sign(),this.asn1Sig=new i({hex:"00"+this.hexSig});var t=new r({array:[this.asn1TBSCert,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=t.getEncodedHex(),this.isModified=!1},this.setSignatureHex=function(e){this.asn1SignatureAlg=this.asn1TBSCert.asn1SignatureAlg,this.hexSig=e,this.asn1Sig=new i({hex:"00"+this.hexSig});var t=new r({array:[this.asn1TBSCert,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=t.getEncodedHex(),this.isModified=!1},this.getEncodedHex=function(){if(0==this.isModified&&null!=this.hTLV)return this.hTLV;throw"not signed yet"},this.getPEMString=function(){return"-----BEGIN CERTIFICATE-----\r\n"+En(this.getEncodedHex())+"\r\n-----END CERTIFICATE-----\r\n"},void 0!==e&&(void 0!==e.tbscertobj&&(this.asn1TBSCert=e.tbscertobj),void 0!==e.prvkeyobj?this.prvKey=e.prvkeyobj:void 0!==e.rsaprvkey?this.prvKey=e.rsaprvkey:void 0!==e.rsaprvpem&&void 0!==e.rsaprvpas&&this.setRsaPrvKeyByPEMandPass(e.rsaprvpem,e.rsaprvpas))},or.lang.extend(Or.asn1.x509.Certificate,Or.asn1.ASN1Object),Or.asn1.x509.TBSCertificate=function(e){Or.asn1.x509.TBSCertificate.superclass.constructor.call(this);var t=Or,n=t.asn1,r=n.DERSequence,i=n.DERInteger,o=n.DERTaggedObject,s=n.x509,a=s.Time,c=s.X500Name,u=s.SubjectPublicKeyInfo;this._initialize=function(){this.asn1Array=new Array,this.asn1Version=new o({obj:new i({int:2})}),this.asn1SerialNumber=null,this.asn1SignatureAlg=null,this.asn1Issuer=null,this.asn1NotBefore=null,this.asn1NotAfter=null,this.asn1Subject=null,this.asn1SubjPKey=null,this.extensionsArray=new Array},this.setSerialNumberByParam=function(e){this.asn1SerialNumber=new i(e)},this.setSignatureAlgByParam=function(e){this.asn1SignatureAlg=new s.AlgorithmIdentifier(e)},this.setIssuerByParam=function(e){this.asn1Issuer=new c(e)},this.setNotBeforeByParam=function(e){this.asn1NotBefore=new a(e)},this.setNotAfterByParam=function(e){this.asn1NotAfter=new a(e)},this.setSubjectByParam=function(e){this.asn1Subject=new c(e)},this.setSubjectPublicKeyByParam=function(e){this.asn1SubjPKey=new u(e)},this.setSubjectPublicKeyByGetKey=function(e){var t=Dr.getKey(e);this.asn1SubjPKey=new u(t)},this.appendExtension=function(e){this.extensionsArray.push(e)},this.appendExtensionByName=function(e,t){Or.asn1.x509.Extension.appendByNameToArray(e,t,this.extensionsArray)},this.getEncodedHex=function(){if(null==this.asn1NotBefore||null==this.asn1NotAfter)throw"notBefore and/or notAfter not set";var e=new r({array:[this.asn1NotBefore,this.asn1NotAfter]});if(this.asn1Array=new Array,this.asn1Array.push(this.asn1Version),this.asn1Array.push(this.asn1SerialNumber),this.asn1Array.push(this.asn1SignatureAlg),this.asn1Array.push(this.asn1Issuer),this.asn1Array.push(e),this.asn1Array.push(this.asn1Subject),this.asn1Array.push(this.asn1SubjPKey),this.extensionsArray.length>0){var t=new r({array:this.extensionsArray}),n=new o({explicit:!0,tag:"a3",obj:t});this.asn1Array.push(n)}var i=new r({array:this.asn1Array});return this.hTLV=i.getEncodedHex(),this.isModified=!1,this.hTLV},this._initialize()},or.lang.extend(Or.asn1.x509.TBSCertificate,Or.asn1.ASN1Object),Or.asn1.x509.Extension=function(e){Or.asn1.x509.Extension.superclass.constructor.call(this);var t=Or,n=t.asn1,r=n.DERObjectIdentifier,i=n.DEROctetString,o=(n.DERBitString,n.DERBoolean),s=n.DERSequence;this.getEncodedHex=function(){var e=new r({oid:this.oid}),t=new i({hex:this.getExtnValueHex()}),n=new Array;return n.push(e),this.critical&&n.push(new o),n.push(t),new s({array:n}).getEncodedHex()},this.critical=!1,void 0!==e&&void 0!==e.critical&&(this.critical=e.critical)},or.lang.extend(Or.asn1.x509.Extension,Or.asn1.ASN1Object),Or.asn1.x509.Extension.appendByNameToArray=function(e,t,n){var r=e.toLowerCase(),i=Or.asn1.x509;if("basicconstraints"==r){var o=new i.BasicConstraints(t);n.push(o)}else if("keyusage"==r){var o=new i.KeyUsage(t);n.push(o)}else if("crldistributionpoints"==r){var o=new i.CRLDistributionPoints(t);n.push(o)}else if("extkeyusage"==r){var o=new i.ExtKeyUsage(t);n.push(o)}else if("authoritykeyidentifier"==r){var o=new i.AuthorityKeyIdentifier(t);n.push(o)}else if("authorityinfoaccess"==r){var o=new i.AuthorityInfoAccess(t);n.push(o)}else if("subjectaltname"==r){var o=new i.SubjectAltName(t);n.push(o)}else{if("issueraltname"!=r)throw"unsupported extension name: "+e;var o=new i.IssuerAltName(t);n.push(o)}},Or.asn1.x509.KeyUsage=function(e){Or.asn1.x509.KeyUsage.superclass.constructor.call(this,e),this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.15",void 0!==e&&void 0!==e.bin&&(this.asn1ExtnValue=new Or.asn1.DERBitString(e))},or.lang.extend(Or.asn1.x509.KeyUsage,Or.asn1.x509.Extension),Or.asn1.x509.BasicConstraints=function(e){Or.asn1.x509.BasicConstraints.superclass.constructor.call(this,e);this.getExtnValueHex=function(){var e=new Array;this.cA&&e.push(new Or.asn1.DERBoolean),this.pathLen>-1&&e.push(new Or.asn1.DERInteger({int:this.pathLen}));var t=new Or.asn1.DERSequence({array:e});return this.asn1ExtnValue=t,this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.19",this.cA=!1,this.pathLen=-1,void 0!==e&&(void 0!==e.cA&&(this.cA=e.cA),void 0!==e.pathLen&&(this.pathLen=e.pathLen))},or.lang.extend(Or.asn1.x509.BasicConstraints,Or.asn1.x509.Extension),Or.asn1.x509.CRLDistributionPoints=function(e){Or.asn1.x509.CRLDistributionPoints.superclass.constructor.call(this,e);var t=Or,n=t.asn1,r=n.x509;this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.setByDPArray=function(e){this.asn1ExtnValue=new n.DERSequence({array:e})},this.setByOneURI=function(e){var t=new r.GeneralNames([{uri:e}]),n=new r.DistributionPointName(t),i=new r.DistributionPoint({dpobj:n});this.setByDPArray([i])},this.oid="2.5.29.31",void 0!==e&&(void 0!==e.array?this.setByDPArray(e.array):void 0!==e.uri&&this.setByOneURI(e.uri))},or.lang.extend(Or.asn1.x509.CRLDistributionPoints,Or.asn1.x509.Extension),Or.asn1.x509.ExtKeyUsage=function(e){Or.asn1.x509.ExtKeyUsage.superclass.constructor.call(this,e);var t=Or,n=t.asn1;this.setPurposeArray=function(e){this.asn1ExtnValue=new n.DERSequence;for(var t=0;t<e.length;t++){var r=new n.DERObjectIdentifier(e[t]);this.asn1ExtnValue.appendASN1Object(r)}},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.37",void 0!==e&&void 0!==e.array&&this.setPurposeArray(e.array)},or.lang.extend(Or.asn1.x509.ExtKeyUsage,Or.asn1.x509.Extension),Or.asn1.x509.AuthorityKeyIdentifier=function(e){Or.asn1.x509.AuthorityKeyIdentifier.superclass.constructor.call(this,e);var t=Or,n=t.asn1,r=n.DERTaggedObject;this.asn1KID=null,this.asn1CertIssuer=null,this.asn1CertSN=null,this.getExtnValueHex=function(){var e=new Array;this.asn1KID&&e.push(new r({explicit:!1,tag:"80",obj:this.asn1KID})),this.asn1CertIssuer&&e.push(new r({explicit:!1,tag:"a1",obj:this.asn1CertIssuer})),this.asn1CertSN&&e.push(new r({explicit:!1,tag:"82",obj:this.asn1CertSN}));var t=new n.DERSequence({array:e});return this.asn1ExtnValue=t,this.asn1ExtnValue.getEncodedHex()},this.setKIDByParam=function(e){this.asn1KID=new Or.asn1.DEROctetString(e)},this.setCertIssuerByParam=function(e){this.asn1CertIssuer=new Or.asn1.x509.X500Name(e)},this.setCertSNByParam=function(e){this.asn1CertSN=new Or.asn1.DERInteger(e)},this.oid="2.5.29.35",void 0!==e&&(void 0!==e.kid&&this.setKIDByParam(e.kid),void 0!==e.issuer&&this.setCertIssuerByParam(e.issuer),void 0!==e.sn&&this.setCertSNByParam(e.sn))},or.lang.extend(Or.asn1.x509.AuthorityKeyIdentifier,Or.asn1.x509.Extension),Or.asn1.x509.AuthorityInfoAccess=function(e){Or.asn1.x509.AuthorityInfoAccess.superclass.constructor.call(this,e),this.setAccessDescriptionArray=function(e){for(var t=new Array,n=Or,r=n.asn1,i=r.DERSequence,o=0;o<e.length;o++){var s=new r.DERObjectIdentifier(e[o].accessMethod),a=new r.x509.GeneralName(e[o].accessLocation),c=new i({array:[s,a]});t.push(c)}this.asn1ExtnValue=new i({array:t})},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="1.3.6.1.5.5.7.1.1",void 0!==e&&void 0!==e.array&&this.setAccessDescriptionArray(e.array)},or.lang.extend(Or.asn1.x509.AuthorityInfoAccess,Or.asn1.x509.Extension),Or.asn1.x509.SubjectAltName=function(e){Or.asn1.x509.SubjectAltName.superclass.constructor.call(this,e),this.setNameArray=function(e){this.asn1ExtnValue=new Or.asn1.x509.GeneralNames(e)},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.17",void 0!==e&&void 0!==e.array&&this.setNameArray(e.array)},or.lang.extend(Or.asn1.x509.SubjectAltName,Or.asn1.x509.Extension),Or.asn1.x509.IssuerAltName=function(e){Or.asn1.x509.IssuerAltName.superclass.constructor.call(this,e),this.setNameArray=function(e){this.asn1ExtnValue=new Or.asn1.x509.GeneralNames(e)},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.18",void 0!==e&&void 0!==e.array&&this.setNameArray(e.array)},or.lang.extend(Or.asn1.x509.IssuerAltName,Or.asn1.x509.Extension),Or.asn1.x509.CRL=function(e){Or.asn1.x509.CRL.superclass.constructor.call(this);this.setRsaPrvKeyByPEMandPass=function(e,t){var n=Ir.getDecryptedKeyHex(e,t),r=new gt;r.readPrivateKeyFromASN1HexString(n),this.rsaPrvKey=r},this.sign=function(){this.asn1SignatureAlg=this.asn1TBSCertList.asn1SignatureAlg,sig=new Or.crypto.Signature({alg:"SHA1withRSA",prov:"cryptojs/jsrsa"}),sig.initSign(this.rsaPrvKey),sig.updateHex(this.asn1TBSCertList.getEncodedHex()),this.hexSig=sig.sign(),this.asn1Sig=new Or.asn1.DERBitString({hex:"00"+this.hexSig});var e=new Or.asn1.DERSequence({array:[this.asn1TBSCertList,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=e.getEncodedHex(),this.isModified=!1},this.getEncodedHex=function(){if(0==this.isModified&&null!=this.hTLV)return this.hTLV;throw"not signed yet"},this.getPEMString=function(){return"-----BEGIN X509 CRL-----\r\n"+En(this.getEncodedHex())+"\r\n-----END X509 CRL-----\r\n"},void 0!==e&&(void 0!==e.tbsobj&&(this.asn1TBSCertList=e.tbsobj),void 0!==e.rsaprvkey&&(this.rsaPrvKey=e.rsaprvkey),void 0!==e.rsaprvpem&&void 0!==e.rsaprvpas&&this.setRsaPrvKeyByPEMandPass(e.rsaprvpem,e.rsaprvpas))},or.lang.extend(Or.asn1.x509.CRL,Or.asn1.ASN1Object),Or.asn1.x509.TBSCertList=function(e){Or.asn1.x509.TBSCertList.superclass.constructor.call(this);var t=Or,n=t.asn1,r=n.DERSequence,i=n.x509,o=i.Time;this.setSignatureAlgByParam=function(e){this.asn1SignatureAlg=new i.AlgorithmIdentifier(e)},this.setIssuerByParam=function(e){this.asn1Issuer=new i.X500Name(e)},this.setThisUpdateByParam=function(e){this.asn1ThisUpdate=new o(e)},this.setNextUpdateByParam=function(e){this.asn1NextUpdate=new o(e)},this.addRevokedCert=function(e,t){var n={};void 0!=e&&null!=e&&(n.sn=e),void 0!=t&&null!=t&&(n.time=t);var r=new i.CRLEntry(n);this.aRevokedCert.push(r)},this.getEncodedHex=function(){if(this.asn1Array=new Array,null!=this.asn1Version&&this.asn1Array.push(this.asn1Version),this.asn1Array.push(this.asn1SignatureAlg),this.asn1Array.push(this.asn1Issuer),this.asn1Array.push(this.asn1ThisUpdate),null!=this.asn1NextUpdate&&this.asn1Array.push(this.asn1NextUpdate),this.aRevokedCert.length>0){var e=new r({array:this.aRevokedCert});this.asn1Array.push(e)}var t=new r({array:this.asn1Array});return this.hTLV=t.getEncodedHex(),this.isModified=!1,this.hTLV},this._initialize=function(){this.asn1Version=null,this.asn1SignatureAlg=null,this.asn1Issuer=null,this.asn1ThisUpdate=null,this.asn1NextUpdate=null,this.aRevokedCert=new Array},this._initialize()},or.lang.extend(Or.asn1.x509.TBSCertList,Or.asn1.ASN1Object),Or.asn1.x509.CRLEntry=function(e){Or.asn1.x509.CRLEntry.superclass.constructor.call(this);var t=Or,n=t.asn1;this.setCertSerial=function(e){this.sn=new n.DERInteger(e)},this.setRevocationDate=function(e){this.time=new n.x509.Time(e)},this.getEncodedHex=function(){var e=new n.DERSequence({array:[this.sn,this.time]});return this.TLV=e.getEncodedHex(),this.TLV},void 0!==e&&(void 0!==e.time&&this.setRevocationDate(e.time),void 0!==e.sn&&this.setCertSerial(e.sn))},or.lang.extend(Or.asn1.x509.CRLEntry,Or.asn1.ASN1Object),Or.asn1.x509.X500Name=function(e){Or.asn1.x509.X500Name.superclass.constructor.call(this),this.asn1Array=new Array;var t=Or,n=t.asn1,r=n.x509,i=_n;if(this.setByString=function(e){var t=e.split("/");t.shift();for(var n=0;n<t.length;n++)this.asn1Array.push(new r.RDN({str:t[n]}))},this.setByLdapString=function(e){var t=r.X500Name.ldapToOneline(e);this.setByString(t)},this.setByObject=function(e){for(var t in e)if(e.hasOwnProperty(t)){var n=new Or.asn1.x509.RDN({str:t+"="+e[t]});this.asn1Array?this.asn1Array.push(n):this.asn1Array=[n]}},this.getEncodedHex=function(){if("string"==typeof this.hTLV)return this.hTLV;var e=new n.DERSequence({array:this.asn1Array});return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==e){if(void 0!==e.str?this.setByString(e.str):void 0!==e.ldapstr?this.setByLdapString(e.ldapstr):"object"==typeof e&&this.setByObject(e),void 0!==e.certissuer){var o=new nr;o.hex=i(e.certissuer),this.hTLV=o.getIssuerHex()}if(void 0!==e.certsubject){var o=new nr;o.hex=i(e.certsubject),this.hTLV=o.getSubjectHex()}}},or.lang.extend(Or.asn1.x509.X500Name,Or.asn1.ASN1Object),Or.asn1.x509.X500Name.onelineToLDAP=function(e){if("/"!==e.substr(0,1))throw"malformed input";e=e.substr(1);var t=e.split("/");return t.reverse(),t=t.map(function(e){return e.replace(/,/,"\\,")}),t.join(",")},Or.asn1.x509.X500Name.ldapToOneline=function(e){for(var t=e.split(","),n=!1,r=[],i=0;t.length>0;i++){var o=t.shift();if(!0===n){var s=r.pop(),a=(s+","+o).replace(/\\,/g,",");r.push(a),n=!1}else r.push(o);"\\"===o.substr(-1,1)&&(n=!0)}return r=r.map(function(e){return e.replace("/","\\/")}),r.reverse(),"/"+r.join("/")},Or.asn1.x509.RDN=function(e){Or.asn1.x509.RDN.superclass.constructor.call(this),this.asn1Array=new Array,this.addByString=function(e){this.asn1Array.push(new Or.asn1.x509.AttributeTypeAndValue({str:e}))},this.addByMultiValuedString=function(e){for(var t=Or.asn1.x509.RDN.parseString(e),n=0;n<t.length;n++)this.addByString(t[n])},this.getEncodedHex=function(){var e=new Or.asn1.DERSet({array:this.asn1Array});return this.TLV=e.getEncodedHex(),this.TLV},void 0!==e&&void 0!==e.str&&this.addByMultiValuedString(e.str)},or.lang.extend(Or.asn1.x509.RDN,Or.asn1.ASN1Object),Or.asn1.x509.RDN.parseString=function(e){for(var t=e.split(/\+/),n=!1,r=[],i=0;t.length>0;i++){var o=t.shift();if(!0===n){var s=r.pop(),a=(s+"+"+o).replace(/\\\+/g,"+");r.push(a),n=!1}else r.push(o);"\\"===o.substr(-1,1)&&(n=!0)}for(var c=!1,u=[],i=0;r.length>0;i++){var o=r.shift();if(!0===c){var l=u.pop();if(o.match(/"$/)){var a=(l+"+"+o).replace(/^([^=]+)="(.*)"$/,"$1=$2");u.push(a),c=!1}else u.push(l+"+"+o)}else u.push(o);o.match(/^[^=]+="/)&&(c=!0)}return u},Or.asn1.x509.AttributeTypeAndValue=function(e){Or.asn1.x509.AttributeTypeAndValue.superclass.constructor.call(this);var t=Or,n=t.asn1;this.setByString=function(e){var t=e.match(/^([^=]+)=(.+)$/);if(!t)throw"malformed attrTypeAndValueStr: "+e;this.setByAttrTypeAndValueStr(t[1],t[2])},this.setByAttrTypeAndValueStr=function(e,t){this.typeObj=Or.asn1.x509.OID.atype2obj(e);var n="utf8";"C"==e&&(n="prn"),this.valueObj=this.getValueObj(n,t)},this.getValueObj=function(e,t){if("utf8"==e)return new n.DERUTF8String({str:t});if("prn"==e)return new n.DERPrintableString({str:t});if("tel"==e)return new n.DERTeletexString({str:t});if("ia5"==e)return new n.DERIA5String({str:t});throw"unsupported directory string type: type="+e+" value="+t},this.getEncodedHex=function(){var e=new n.DERSequence({array:[this.typeObj,this.valueObj]});return this.TLV=e.getEncodedHex(),this.TLV},void 0!==e&&void 0!==e.str&&this.setByString(e.str)},or.lang.extend(Or.asn1.x509.AttributeTypeAndValue,Or.asn1.ASN1Object),Or.asn1.x509.SubjectPublicKeyInfo=function(e){Or.asn1.x509.SubjectPublicKeyInfo.superclass.constructor.call(this);var t=Or,n=t.asn1,r=n.DERInteger,i=n.DERBitString,o=n.DERObjectIdentifier,s=n.DERSequence,a=n.ASN1Util.newObject,c=n.x509,u=c.AlgorithmIdentifier,l=t.crypto,f=l.ECDSA,h=l.DSA;this.setRSAKey=function(e){if(!gt.prototype.isPrototypeOf(e))throw"argument is not RSAKey instance";this.rsaKey=e;var t=new r({bigint:e.n}),i=new r({int:e.e}),o=new n.DERSequence({array:[t,i]}),s=o.getEncodedHex();this.asn1AlgId=new n.x509.AlgorithmIdentifier({name:"rsaEncryption"}),this.asn1SubjPKey=new n.DERBitString({hex:"00"+s})},this.setRSAPEM=function(e){if(!e.match(/-----BEGIN PUBLIC KEY-----/))throw"key not supported";var t=_n(e),n=gt.getHexValueArrayOfChildrenFromHex(t),r=n[1],i=r.substr(2),o=gt.getHexValueArrayOfChildrenFromHex(i),s=new gt;s.setPublic(o[0],o[1]),this.setRSAKey(s)},this.getASN1Object=function(){if(null==this.asn1AlgId||null==this.asn1SubjPKey)throw"algId and/or subjPubKey not set";return new s({array:[this.asn1AlgId,this.asn1SubjPKey]})},this.getEncodedHex=function(){var e=this.getASN1Object();return this.hTLV=e.getEncodedHex(),this.hTLV},this._setRSAKey=function(e){var t=a({seq:[{int:{bigint:e.n}},{int:{int:e.e}}]}),n=t.getEncodedHex();this.asn1AlgId=new u({name:"rsaEncryption"}),this.asn1SubjPKey=new i({hex:"00"+n})},this._setEC=function(e){var t=new o({name:e.curveName});this.asn1AlgId=new u({name:"ecPublicKey",asn1params:t}),this.asn1SubjPKey=new i({hex:"00"+e.pubKeyHex})},this._setDSA=function(e){var t=new a({seq:[{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}}]});this.asn1AlgId=new u({name:"dsa",asn1params:t});var n=new r({bigint:e.y});this.asn1SubjPKey=new i({hex:"00"+n.getEncodedHex()})},void 0!==e&&(void 0!==gt&&e instanceof gt?this._setRSAKey(e):void 0!==f&&e instanceof f?this._setEC(e):void 0!==h&&e instanceof h?this._setDSA(e):void 0!==e.rsakey?this.setRSAKey(e.rsakey):void 0!==e.rsapem&&this.setRSAPEM(e.rsapem))},or.lang.extend(Or.asn1.x509.SubjectPublicKeyInfo,Or.asn1.ASN1Object),Or.asn1.x509.Time=function(e){Or.asn1.x509.Time.superclass.constructor.call(this);var t=Or,n=t.asn1,r=n.DERUTCTime,i=n.DERGeneralizedTime;this.setTimeParams=function(e){this.timeParams=e},this.getEncodedHex=function(){var e=null;return e=null!=this.timeParams?"utc"==this.type?new r(this.timeParams):new i(this.timeParams):"utc"==this.type?new r:new i,this.TLV=e.getEncodedHex(),this.TLV},this.type="utc",void 0!==e&&(void 0!==e.type?this.type=e.type:void 0!==e.str&&(e.str.match(/^[0-9]{12}Z$/)&&(this.type="utc"),e.str.match(/^[0-9]{14}Z$/)&&(this.type="gen")),this.timeParams=e)},or.lang.extend(Or.asn1.x509.Time,Or.asn1.ASN1Object),Or.asn1.x509.AlgorithmIdentifier=function(e){Or.asn1.x509.AlgorithmIdentifier.superclass.constructor.call(this),this.nameAlg=null,this.asn1Alg=null,this.asn1Params=null,this.paramEmpty=!1;var t=Or,n=t.asn1;if(this.getEncodedHex=function(){if(null===this.nameAlg&&null===this.asn1Alg)throw"algorithm not specified";null!==this.nameAlg&&null===this.asn1Alg&&(this.asn1Alg=n.x509.OID.name2obj(this.nameAlg));var e=[this.asn1Alg];null!==this.asn1Params&&e.push(this.asn1Params);var t=new n.DERSequence({array:e});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e&&(void 0!==e.name&&(this.nameAlg=e.name),void 0!==e.asn1params&&(this.asn1Params=e.asn1params),void 0!==e.paramempty&&(this.paramEmpty=e.paramempty)),null===this.asn1Params&&!1===this.paramEmpty&&null!==this.nameAlg){var r=this.nameAlg.toLowerCase();"withdsa"!==r.substr(-7,7)&&"withecdsa"!==r.substr(-9,9)&&(this.asn1Params=new n.DERNull)}},or.lang.extend(Or.asn1.x509.AlgorithmIdentifier,Or.asn1.ASN1Object),Or.asn1.x509.GeneralName=function(e){Or.asn1.x509.GeneralName.superclass.constructor.call(this);var t={rfc822:"81",dns:"82",dn:"a4",uri:"86"},n=Or,r=n.asn1,i=r.DERIA5String,o=r.DERTaggedObject,s=r.ASN1Object,a=r.x509.X500Name,c=_n;this.explicit=!1,this.setByParam=function(e){var n=null;if(void 0!==e){if(void 0!==e.rfc822&&(this.type="rfc822",n=new i({str:e[this.type]})),void 0!==e.dns&&(this.type="dns",n=new i({str:e[this.type]})),void 0!==e.uri&&(this.type="uri",n=new i({str:e[this.type]})),void 0!==e.dn&&(this.type="dn",n=new a({str:e.dn})),void 0!==e.ldapdn&&(this.type="dn",n=new a({ldapstr:e.ldapdn})),void 0!==e.certissuer){this.type="dn",this.explicit=!0;var r=e.certissuer,u=null;if(r.match(/^[0-9A-Fa-f]+$/),-1!=r.indexOf("-----BEGIN ")&&(u=c(r)),null==u)throw"certissuer param not cert";var l=new nr;l.hex=u;var f=l.getIssuerHex();n=new s,n.hTLV=f}if(void 0!==e.certsubj){this.type="dn",this.explicit=!0;var r=e.certsubj,u=null;if(r.match(/^[0-9A-Fa-f]+$/),-1!=r.indexOf("-----BEGIN ")&&(u=c(r)),null==u)throw"certsubj param not cert";var l=new nr;l.hex=u;var f=l.getSubjectHex();n=new s,n.hTLV=f}if(null==this.type)throw"unsupported type in params="+e;this.asn1Obj=new o({explicit:this.explicit,tag:t[this.type],obj:n})}},this.getEncodedHex=function(){return this.asn1Obj.getEncodedHex()},void 0!==e&&this.setByParam(e)},or.lang.extend(Or.asn1.x509.GeneralName,Or.asn1.ASN1Object),Or.asn1.x509.GeneralNames=function(e){Or.asn1.x509.GeneralNames.superclass.constructor.call(this);var t=Or,n=t.asn1;this.setByParamArray=function(e){for(var t=0;t<e.length;t++){var r=new n.x509.GeneralName(e[t]);this.asn1Array.push(r)}},this.getEncodedHex=function(){return new n.DERSequence({array:this.asn1Array}).getEncodedHex()},this.asn1Array=new Array,void 0!==e&&this.setByParamArray(e)},or.lang.extend(Or.asn1.x509.GeneralNames,Or.asn1.ASN1Object),Or.asn1.x509.DistributionPointName=function(e){Or.asn1.x509.DistributionPointName.superclass.constructor.call(this);var t=Or,n=t.asn1,r=n.DERTaggedObject;if(this.getEncodedHex=function(){if("full"!=this.type)throw"currently type shall be 'full': "+this.type;return this.asn1Obj=new r({explicit:!1,tag:this.tag,obj:this.asn1V}),this.hTLV=this.asn1Obj.getEncodedHex(),this.hTLV},void 0!==e){if(!n.x509.GeneralNames.prototype.isPrototypeOf(e))throw"This class supports GeneralNames only as argument";this.type="full",this.tag="a0",this.asn1V=e}},or.lang.extend(Or.asn1.x509.DistributionPointName,Or.asn1.ASN1Object),Or.asn1.x509.DistributionPoint=function(e){Or.asn1.x509.DistributionPoint.superclass.constructor.call(this);var t=Or,n=t.asn1;this.getEncodedHex=function(){var e=new n.DERSequence;if(null!=this.asn1DP){var t=new n.DERTaggedObject({explicit:!0,tag:"a0",obj:this.asn1DP});e.appendASN1Object(t)}return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==e&&void 0!==e.dpobj&&(this.asn1DP=e.dpobj)},or.lang.extend(Or.asn1.x509.DistributionPoint,Or.asn1.ASN1Object),Or.asn1.x509.OID=new function(e){this.atype2oidList={CN:"2.5.4.3",L:"2.5.4.7",ST:"2.5.4.8",O:"2.5.4.10",OU:"2.5.4.11",C:"2.5.4.6",STREET:"2.5.4.9",DC:"0.9.2342.19200300.100.1.25",UID:"0.9.2342.19200300.100.1.1",SN:"2.5.4.4",DN:"2.5.4.49",E:"1.2.840.113549.1.9.1",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",serialNumber:"2.5.4.5",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3"},this.name2oidList={sha1:"1.3.14.3.2.26",sha256:"2.16.840.1.101.3.4.2.1",sha384:"2.16.840.1.101.3.4.2.2",sha512:"2.16.840.1.101.3.4.2.3",sha224:"2.16.840.1.101.3.4.2.4",md5:"1.2.840.113549.2.5",md2:"1.3.14.7.2.2.1",ripemd160:"1.3.36.3.2.1",MD2withRSA:"1.2.840.113549.1.1.2",MD4withRSA:"1.2.840.113549.1.1.3",MD5withRSA:"1.2.840.113549.1.1.4",SHA1withRSA:"1.2.840.113549.1.1.5",SHA224withRSA:"1.2.840.113549.1.1.14",SHA256withRSA:"1.2.840.113549.1.1.11",SHA384withRSA:"1.2.840.113549.1.1.12",SHA512withRSA:"1.2.840.113549.1.1.13",SHA1withECDSA:"1.2.840.10045.4.1",SHA224withECDSA:"1.2.840.10045.4.3.1",SHA256withECDSA:"1.2.840.10045.4.3.2",SHA384withECDSA:"1.2.840.10045.4.3.3",SHA512withECDSA:"1.2.840.10045.4.3.4",dsa:"1.2.840.10040.4.1",SHA1withDSA:"1.2.840.10040.4.3",SHA224withDSA:"2.16.840.1.101.3.4.3.1",SHA256withDSA:"2.16.840.1.101.3.4.3.2",rsaEncryption:"1.2.840.113549.1.1.1",commonName:"2.5.4.3",localityName:"2.5.4.7",stateOrProvinceName:"2.5.4.8",organizationName:"2.5.4.10",organizationalUnitName:"2.5.4.11",countryName:"2.5.4.6",streetAddress:"2.5.4.9",domainComponent:"0.9.2342.19200300.100.1.25",userId:"0.9.2342.19200300.100.1.1",surname:"2.5.4.4",distinguishedName:"2.5.4.49",emailAddress:"1.2.840.113549.1.9.1",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3",subjectKeyIdentifier:"2.5.29.14",keyUsage:"2.5.29.15",subjectAltName:"2.5.29.17",issuerAltName:"2.5.29.18",basicConstraints:"2.5.29.19",nameConstraints:"2.5.29.30",cRLDistributionPoints:"2.5.29.31",certificatePolicies:"2.5.29.32",authorityKeyIdentifier:"2.5.29.35",policyConstraints:"2.5.29.36",extKeyUsage:"2.5.29.37",authorityInfoAccess:"1.3.6.1.5.5.7.1.1",ocsp:"1.3.6.1.5.5.7.48.1",caIssuers:"1.3.6.1.5.5.7.48.2",anyExtendedKeyUsage:"2.5.29.37.0",serverAuth:"1.3.6.1.5.5.7.3.1",clientAuth:"1.3.6.1.5.5.7.3.2",codeSigning:"1.3.6.1.5.5.7.3.3",emailProtection:"1.3.6.1.5.5.7.3.4",timeStamping:"1.3.6.1.5.5.7.3.8",ocspSigning:"1.3.6.1.5.5.7.3.9",ecPublicKey:"1.2.840.10045.2.1",secp256r1:"1.2.840.10045.3.1.7",secp256k1:"1.3.132.0.10",secp384r1:"1.3.132.0.34",pkcs5PBES2:"1.2.840.113549.1.5.13",pkcs5PBKDF2:"1.2.840.113549.1.5.12","des-EDE3-CBC":"1.2.840.113549.3.7",data:"1.2.840.113549.1.7.1","signed-data":"1.2.840.113549.1.7.2","enveloped-data":"1.2.840.113549.1.7.3","digested-data":"1.2.840.113549.1.7.5","encrypted-data":"1.2.840.113549.1.7.6","authenticated-data":"1.2.840.113549.1.9.16.1.2",tstinfo:"1.2.840.113549.1.9.16.1.4",extensionRequest:"1.2.840.113549.1.9.14"},this.objCache={},this.name2obj=function(e){if(void 0!==this.objCache[e])return this.objCache[e];if(void 0===this.name2oidList[e])throw"Name of ObjectIdentifier not defined: "+e;var t=this.name2oidList[e],n=new Or.asn1.DERObjectIdentifier({oid:t});return this.objCache[e]=n,n},this.atype2obj=function(e){if(void 0!==this.objCache[e])return this.objCache[e];if(void 0===this.atype2oidList[e])throw"AttributeType name undefined: "+e;var t=this.atype2oidList[e],n=new Or.asn1.DERObjectIdentifier({oid:t});return this.objCache[e]=n,n}},Or.asn1.x509.OID.oid2name=function(e){var t=Or.asn1.x509.OID.name2oidList;for(var n in t)if(t[n]==e)return n;return""},Or.asn1.x509.OID.oid2atype=function(e){var t=Or.asn1.x509.OID.atype2oidList;for(var n in t)if(t[n]==e)return n;return e},Or.asn1.x509.OID.name2oid=function(e){var t=Or.asn1.x509.OID.name2oidList;return void 0===t[e]?"":t[e]},Or.asn1.x509.X509Util=new function(){var e=Or,t=e.asn1;t.DERInteger,t.DERSequence,t.ASN1Util;this.getPKCS8PubKeyPEMfromRSAKey=function(e){return Dr.getPEM(e)}},Or.asn1.x509.X509Util.newCertPEM=function(e){var t=Or.asn1.x509,n=t.TBSCertificate,r=t.Certificate,i=new n;if(void 0===e.serial)throw"serial number undefined.";if(i.setSerialNumberByParam(e.serial),"string"!=typeof e.sigalg.name)throw"unproper signature algorithm name";if(i.setSignatureAlgByParam(e.sigalg),void 0===e.issuer)throw"issuer name undefined.";if(i.setIssuerByParam(e.issuer),void 0===e.notbefore)throw"notbefore undefined.";if(i.setNotBeforeByParam(e.notbefore),void 0===e.notafter)throw"notafter undefined.";if(i.setNotAfterByParam(e.notafter),void 0===e.subject)throw"subject name undefined.";if(i.setSubjectByParam(e.subject),void 0===e.sbjpubkey)throw"subject public key undefined.";if(i.setSubjectPublicKeyByGetKey(e.sbjpubkey),void 0!==e.ext&&void 0!==e.ext.length)for(var o=0;o<e.ext.length;o++)for(key in e.ext[o])i.appendExtensionByName(key,e.ext[o][key]);if(void 0===e.cakey&&void 0===e.sighex)throw"param cakey and sighex undefined.";var s=null,a=null;return e.cakey&&(s=!0===e.cakey.isPrivate?e.cakey:Dr.getKey.apply(null,e.cakey),a=new r({tbscertobj:i,prvkeyobj:s}),a.sign()),e.sighex&&(a=new r({tbscertobj:i}),a.setSignatureHex(e.sighex)),a.getPEMString()},void 0!==Or&&Or||(Or={}),void 0!==Or.asn1&&Or.asn1||(Or.asn1={}),void 0!==Or.asn1.cms&&Or.asn1.cms||(Or.asn1.cms={}),Or.asn1.cms.Attribute=function(e){var t=Or,n=t.asn1;n.cms.Attribute.superclass.constructor.call(this),this.getEncodedHex=function(){var e,t,r;e=new n.DERObjectIdentifier({oid:this.attrTypeOid}),t=new n.DERSet({array:this.valueList});try{t.getEncodedHex()}catch(e){throw"fail valueSet.getEncodedHex in Attribute(1)/"+e}r=new n.DERSequence({array:[e,t]});try{this.hTLV=r.getEncodedHex()}catch(e){throw"failed seq.getEncodedHex in Attribute(2)/"+e}return this.hTLV}},or.lang.extend(Or.asn1.cms.Attribute,Or.asn1.ASN1Object),Or.asn1.cms.ContentType=function(e){var t=Or,n=t.asn1;(n.cms.ContentType.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.3",void 0!==e)&&(new n.DERObjectIdentifier(e),this.valueList=[null])},or.lang.extend(Or.asn1.cms.ContentType,Or.asn1.cms.Attribute),Or.asn1.cms.MessageDigest=function(e){var t=Or,n=t.asn1,r=n.DEROctetString,i=n.cms;if(i.MessageDigest.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.4",void 0!==e)if(e.eciObj instanceof i.EncapsulatedContentInfo&&"string"==typeof e.hashAlg){var o=e.eciObj.eContentValueHex,s=e.hashAlg,a=t.crypto.Util.hashHex(o,s),c=new r({hex:a});c.getEncodedHex(),this.valueList=[c]}else{var c=new r(e);c.getEncodedHex(),this.valueList=[c]}},or.lang.extend(Or.asn1.cms.MessageDigest,Or.asn1.cms.Attribute),Or.asn1.cms.SigningTime=function(e){var t=Or,n=t.asn1;if(n.cms.SigningTime.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.5",void 0!==e){var r=new n.x509.Time(e);try{r.getEncodedHex()}catch(e){throw"SigningTime.getEncodedHex() failed/"+e}this.valueList=[r]}},or.lang.extend(Or.asn1.cms.SigningTime,Or.asn1.cms.Attribute),Or.asn1.cms.SigningCertificate=function(e){var t=Or,n=t.asn1,r=n.DERSequence,i=n.cms;t.crypto;i.SigningCertificate.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.16.2.12",this.setCerts=function(e){for(var o=[],s=0;s<e.length;s++){var a=_n(e[s]),c=t.crypto.Util.hashHex(a,"sha1"),u=new n.DEROctetString({hex:c});u.getEncodedHex();var l=new i.IssuerAndSerialNumber({cert:e[s]});l.getEncodedHex();var f=new r({array:[u,l]});f.getEncodedHex(),o.push(f)}var h=new r({array:o});h.getEncodedHex(),this.valueList=[h]},void 0!==e&&"object"==typeof e.array&&this.setCerts(e.array)},or.lang.extend(Or.asn1.cms.SigningCertificate,Or.asn1.cms.Attribute),Or.asn1.cms.SigningCertificateV2=function(e){var t=Or,n=t.asn1,r=n.DERSequence,i=n.x509,o=n.cms,s=t.crypto;if(o.SigningCertificateV2.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.16.2.47",this.setCerts=function(e,t){for(var a=[],c=0;c<e.length;c++){var u=_n(e[c]),l=[];"sha256"!==t&&l.push(new i.AlgorithmIdentifier({name:t}));var f=s.Util.hashHex(u,t),h=new n.DEROctetString({hex:f});h.getEncodedHex(),l.push(h);var d=new o.IssuerAndSerialNumber({cert:e[c]});d.getEncodedHex(),l.push(d);var p=new r({array:l});p.getEncodedHex(),a.push(p)}var y=new r({array:a});y.getEncodedHex(),this.valueList=[y]},void 0!==e&&"object"==typeof e.array){var a="sha256";"string"==typeof e.hashAlg&&(a=e.hashAlg),this.setCerts(e.array,a)}},or.lang.extend(Or.asn1.cms.SigningCertificateV2,Or.asn1.cms.Attribute),Or.asn1.cms.IssuerAndSerialNumber=function(e){var t=Or,n=t.asn1,r=n.DERInteger,i=n.cms,o=n.x509,s=o.X500Name,a=nr;i.IssuerAndSerialNumber.superclass.constructor.call(this);this.setByCertPEM=function(e){var t=_n(e),n=new a;n.hex=t;var i=n.getIssuerHex();this.dIssuer=new s,this.dIssuer.hTLV=i;var o=n.getSerialNumberHex();this.dSerial=new r({hex:o})},this.getEncodedHex=function(){var e=new n.DERSequence({array:[this.dIssuer,this.dSerial]});return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==e&&("string"==typeof e&&-1!=e.indexOf("-----BEGIN ")&&this.setByCertPEM(e),e.issuer&&e.serial&&(e.issuer instanceof s?this.dIssuer=e.issuer:this.dIssuer=new s(e.issuer),e.serial instanceof r?this.dSerial=e.serial:this.dSerial=new r(e.serial)),"string"==typeof e.cert&&this.setByCertPEM(e.cert))},or.lang.extend(Or.asn1.cms.IssuerAndSerialNumber,Or.asn1.ASN1Object),Or.asn1.cms.AttributeList=function(e){var t=Or,n=t.asn1,r=n.cms;r.AttributeList.superclass.constructor.call(this),this.list=new Array,this.sortFlag=!0,this.add=function(e){e instanceof r.Attribute&&this.list.push(e)},this.length=function(){return this.list.length},this.clear=function(){this.list=new Array,this.hTLV=null,this.hV=null},this.getEncodedHex=function(){if("string"==typeof this.hTLV)return this.hTLV;var e=new n.DERSet({array:this.list,sortflag:this.sortFlag});return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==e&&void 0!==e.sortflag&&0==e.sortflag&&(this.sortFlag=!1)},or.lang.extend(Or.asn1.cms.AttributeList,Or.asn1.ASN1Object),Or.asn1.cms.SignerInfo=function(e){var t=Or,n=t.asn1,r=n.DERTaggedObject,i=n.cms,o=i.AttributeList,s=i.ContentType,a=i.EncapsulatedContentInfo,c=i.MessageDigest,u=i.SignedData,l=n.x509,f=l.AlgorithmIdentifier,h=t.crypto,d=Dr;i.SignerInfo.superclass.constructor.call(this),this.dCMSVersion=new n.DERInteger({int:1}),this.dSignerIdentifier=null,this.dDigestAlgorithm=null,this.dSignedAttrs=new o,this.dSigAlg=null,this.dSig=null,this.dUnsignedAttrs=new o,this.setSignerIdentifier=function(e){if("string"==typeof e&&-1!=e.indexOf("CERTIFICATE")&&-1!=e.indexOf("BEGIN")&&-1!=e.indexOf("END")){this.dSignerIdentifier=new i.IssuerAndSerialNumber({cert:e})}},this.setForContentAndHash=function(e){void 0!==e&&(e.eciObj instanceof a&&(this.dSignedAttrs.add(new s({oid:"1.2.840.113549.1.7.1"})),this.dSignedAttrs.add(new c({eciObj:e.eciObj,hashAlg:e.hashAlg}))),void 0!==e.sdObj&&e.sdObj instanceof u&&-1==e.sdObj.digestAlgNameList.join(":").indexOf(e.hashAlg)&&e.sdObj.digestAlgNameList.push(e.hashAlg),"string"==typeof e.hashAlg&&(this.dDigestAlgorithm=new f({name:e.hashAlg})))},this.sign=function(e,t){this.dSigAlg=new f({name:t});var r=this.dSignedAttrs.getEncodedHex(),i=d.getKey(e),o=new h.Signature({alg:t});o.init(i),o.updateHex(r);var s=o.sign();this.dSig=new n.DEROctetString({hex:s})},this.addUnsigned=function(e){this.hTLV=null,this.dUnsignedAttrs.hTLV=null,this.dUnsignedAttrs.add(e)},this.getEncodedHex=function(){if(this.dSignedAttrs instanceof o&&0==this.dSignedAttrs.length())throw"SignedAttrs length = 0 (empty)";var e=new r({obj:this.dSignedAttrs,tag:"a0",explicit:!1}),t=null;this.dUnsignedAttrs.length()>0&&(t=new r({obj:this.dUnsignedAttrs,tag:"a1",explicit:!1}));var i=[this.dCMSVersion,this.dSignerIdentifier,this.dDigestAlgorithm,e,this.dSigAlg,this.dSig];null!=t&&i.push(t);var s=new n.DERSequence({array:i});return this.hTLV=s.getEncodedHex(),this.hTLV}},or.lang.extend(Or.asn1.cms.SignerInfo,Or.asn1.ASN1Object),Or.asn1.cms.EncapsulatedContentInfo=function(e){var t=Or,n=t.asn1,r=n.DERTaggedObject,i=n.DERSequence,o=n.DERObjectIdentifier,s=n.DEROctetString;n.cms.EncapsulatedContentInfo.superclass.constructor.call(this),this.dEContentType=new o({name:"data"}),this.dEContent=null,this.isDetached=!1,this.eContentValueHex=null,this.setContentType=function(e){e.match(/^[0-2][.][0-9.]+$/)?this.dEContentType=new o({oid:e}):this.dEContentType=new o({name:e})},this.setContentValue=function(e){void 0!==e&&("string"==typeof e.hex?this.eContentValueHex=e.hex:"string"==typeof e.str&&(this.eContentValueHex=mn(e.str)))},this.setContentValueHex=function(e){this.eContentValueHex=e},this.setContentValueStr=function(e){this.eContentValueHex=mn(e)},this.getEncodedHex=function(){if("string"!=typeof this.eContentValueHex)throw"eContentValue not yet set";var e=new s({hex:this.eContentValueHex});this.dEContent=new r({obj:e,tag:"a0",explicit:!0});var t=[this.dEContentType];this.isDetached||t.push(this.dEContent);var n=new i({array:t});return this.hTLV=n.getEncodedHex(),this.hTLV}},or.lang.extend(Or.asn1.cms.EncapsulatedContentInfo,Or.asn1.ASN1Object),Or.asn1.cms.ContentInfo=function(e){var t=Or,n=t.asn1,r=n.DERTaggedObject,i=n.DERSequence,o=n.x509;Or.asn1.cms.ContentInfo.superclass.constructor.call(this),this.dContentType=null,this.dContent=null,this.setContentType=function(e){"string"==typeof e&&(this.dContentType=o.OID.name2obj(e))},this.getEncodedHex=function(){var e=new r({obj:this.dContent,tag:"a0",explicit:!0}),t=new i({array:[this.dContentType,e]});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e&&(e.type&&this.setContentType(e.type),e.obj&&e.obj instanceof n.ASN1Object&&(this.dContent=e.obj))},or.lang.extend(Or.asn1.cms.ContentInfo,Or.asn1.ASN1Object),Or.asn1.cms.SignedData=function(e){var t=Or,n=t.asn1,r=n.ASN1Object,i=n.DERInteger,o=n.DERSet,s=n.DERSequence,a=n.DERTaggedObject,c=n.cms,u=c.EncapsulatedContentInfo,l=c.SignerInfo,f=c.ContentInfo,h=n.x509,d=h.AlgorithmIdentifier;Or.asn1.cms.SignedData.superclass.constructor.call(this),this.dCMSVersion=new i({int:1}),this.dDigestAlgs=null,this.digestAlgNameList=[],this.dEncapContentInfo=new u,this.dCerts=null,this.certificateList=[],this.crlList=[],this.signerInfoList=[new l],this.addCertificatesByPEM=function(e){var t=_n(e),n=new r;n.hTLV=t,this.certificateList.push(n)},this.getEncodedHex=function(){if("string"==typeof this.hTLV)return this.hTLV;if(null==this.dDigestAlgs){for(var e=[],t=0;t<this.digestAlgNameList.length;t++){var n=this.digestAlgNameList[t],r=new d({name:n});e.push(r)}this.dDigestAlgs=new o({array:e})}var i=[this.dCMSVersion,this.dDigestAlgs,this.dEncapContentInfo];if(null==this.dCerts&&this.certificateList.length>0){var c=new o({array:this.certificateList});this.dCerts=new a({obj:c,tag:"a0",explicit:!1})}null!=this.dCerts&&i.push(this.dCerts);var u=new o({array:this.signerInfoList});i.push(u);var l=new s({array:i});return this.hTLV=l.getEncodedHex(),this.hTLV},this.getContentInfo=function(){return this.getEncodedHex(),new f({type:"signed-data",obj:this})},this.getContentInfoEncodedHex=function(){return this.getContentInfo().getEncodedHex()},this.getPEM=function(){return xn(this.getContentInfoEncodedHex(),"CMS")}},or.lang.extend(Or.asn1.cms.SignedData,Or.asn1.ASN1Object),Or.asn1.cms.CMSUtil=new function(){},Or.asn1.cms.CMSUtil.newSignedData=function(e){var t=Or,n=t.asn1,r=n.cms,i=r.SignerInfo,o=r.SignedData,s=r.SigningTime,a=r.SigningCertificate,c=r.SigningCertificateV2,u=n.cades,l=u.SignaturePolicyIdentifier,f=new o;if(f.dEncapContentInfo.setContentValue(e.content),"object"==typeof e.certs)for(var h=0;h<e.certs.length;h++)f.addCertificatesByPEM(e.certs[h]);f.signerInfoList=[];for(var h=0;h<e.signerInfos.length;h++){var d=e.signerInfos[h],p=new i;p.setSignerIdentifier(d.signerCert),p.setForContentAndHash({sdObj:f,eciObj:f.dEncapContentInfo,hashAlg:d.hashAlg});for(attrName in d.sAttr){var y=d.sAttr[attrName];if("SigningTime"==attrName){var g=new s(y);p.dSignedAttrs.add(g)}if("SigningCertificate"==attrName){var g=new a(y);p.dSignedAttrs.add(g)}if("SigningCertificateV2"==attrName){var g=new c(y);p.dSignedAttrs.add(g)}if("SignaturePolicyIdentifier"==attrName){var g=new l(y);p.dSignedAttrs.add(g)}}p.sign(d.signerPrvKey,d.sigAlg),f.signerInfoList.push(p)}return f},void 0!==Or&&Or||(Or={}),void 0!==Or.asn1&&Or.asn1||(Or.asn1={}),void 0!==Or.asn1.tsp&&Or.asn1.tsp||(Or.asn1.tsp={}),Or.asn1.tsp.Accuracy=function(e){var t=Or,n=t.asn1,r=n.DERInteger,i=n.DERSequence,o=n.DERTaggedObject;n.tsp.Accuracy.superclass.constructor.call(this),this.seconds=null,this.millis=null,this.micros=null,this.getEncodedHex=function(){var e=null,t=null,n=null,s=[];if(null!=this.seconds&&(e=new r({int:this.seconds}),s.push(e)),null!=this.millis){var a=new r({int:this.millis});t=new o({obj:a,tag:"80",explicit:!1}),s.push(t)}if(null!=this.micros){var c=new r({int:this.micros});n=new o({obj:c,tag:"81",explicit:!1}),s.push(n)}var u=new i({array:s});return this.hTLV=u.getEncodedHex(),this.hTLV},void 0!==e&&("number"==typeof e.seconds&&(this.seconds=e.seconds),"number"==typeof e.millis&&(this.millis=e.millis),"number"==typeof e.micros&&(this.micros=e.micros))},or.lang.extend(Or.asn1.tsp.Accuracy,Or.asn1.ASN1Object),Or.asn1.tsp.MessageImprint=function(e){var t=Or,n=t.asn1,r=n.DERSequence,i=n.DEROctetString,o=n.x509,s=o.AlgorithmIdentifier;n.tsp.MessageImprint.superclass.constructor.call(this),this.dHashAlg=null,this.dHashValue=null,this.getEncodedHex=function(){return"string"==typeof this.hTLV?this.hTLV:new r({array:[this.dHashAlg,this.dHashValue]}).getEncodedHex()},void 0!==e&&("string"==typeof e.hashAlg&&(this.dHashAlg=new s({name:e.hashAlg})),"string"==typeof e.hashValue&&(this.dHashValue=new i({hex:e.hashValue})))},or.lang.extend(Or.asn1.tsp.MessageImprint,Or.asn1.ASN1Object),Or.asn1.tsp.TimeStampReq=function(e){var t=Or,n=t.asn1,r=n.DERSequence,i=n.DERInteger,o=n.DERBoolean,s=n.DERObjectIdentifier,a=n.tsp,c=a.MessageImprint;a.TimeStampReq.superclass.constructor.call(this),this.dVersion=new i({int:1}),this.dMessageImprint=null,this.dPolicy=null,this.dNonce=null,this.certReq=!0,this.setMessageImprint=function(e){if(e instanceof c)return void(this.dMessageImprint=e);"object"==typeof e&&(this.dMessageImprint=new c(e))},this.getEncodedHex=function(){if(null==this.dMessageImprint)throw"messageImprint shall be specified";var e=[this.dVersion,this.dMessageImprint];null!=this.dPolicy&&e.push(this.dPolicy),null!=this.dNonce&&e.push(this.dNonce),this.certReq&&e.push(new o);var t=new r({array:e});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e&&("object"==typeof e.mi&&this.setMessageImprint(e.mi),"object"==typeof e.policy&&(this.dPolicy=new s(e.policy)),"object"==typeof e.nonce&&(this.dNonce=new i(e.nonce)),"boolean"==typeof e.certreq&&(this.certReq=e.certreq))},or.lang.extend(Or.asn1.tsp.TimeStampReq,Or.asn1.ASN1Object),Or.asn1.tsp.TSTInfo=function(e){var t=Or,n=t.asn1,r=n.DERSequence,i=n.DERInteger,o=n.DERBoolean,s=n.DERGeneralizedTime,a=n.DERObjectIdentifier,c=n.tsp,u=c.MessageImprint,l=c.Accuracy,f=n.x509.X500Name;if(c.TSTInfo.superclass.constructor.call(this),this.dVersion=new i({int:1}),this.dPolicy=null,this.dMessageImprint=null,this.dSerialNumber=null,this.dGenTime=null,this.dAccuracy=null,this.dOrdering=null,this.dNonce=null,this.dTsa=null,this.getEncodedHex=function(){var e=[this.dVersion];if(null==this.dPolicy)throw"policy shall be specified.";if(e.push(this.dPolicy),null==this.dMessageImprint)throw"messageImprint shall be specified.";if(e.push(this.dMessageImprint),null==this.dSerialNumber)throw"serialNumber shall be specified.";if(e.push(this.dSerialNumber),null==this.dGenTime)throw"genTime shall be specified.";e.push(this.dGenTime),null!=this.dAccuracy&&e.push(this.dAccuracy),null!=this.dOrdering&&e.push(this.dOrdering),null!=this.dNonce&&e.push(this.dNonce),null!=this.dTsa&&e.push(this.dTsa);var t=new r({array:e});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e){if("string"==typeof e.policy){if(!e.policy.match(/^[0-9.]+$/))throw"policy shall be oid like 0.1.4.134";this.dPolicy=new a({oid:e.policy})}void 0!==e.messageImprint&&(this.dMessageImprint=new u(e.messageImprint)),void 0!==e.serialNumber&&(this.dSerialNumber=new i(e.serialNumber)),void 0!==e.genTime&&(this.dGenTime=new s(e.genTime)),void 0!==e.accuracy&&(this.dAccuracy=new l(e.accuracy)),void 0!==e.ordering&&1==e.ordering&&(this.dOrdering=new o),void 0!==e.nonce&&(this.dNonce=new i(e.nonce)),void 0!==e.tsa&&(this.dTsa=new f(e.tsa))}},or.lang.extend(Or.asn1.tsp.TSTInfo,Or.asn1.ASN1Object),Or.asn1.tsp.TimeStampResp=function(e){var t=Or,n=t.asn1,r=n.DERSequence,i=n.ASN1Object,o=n.tsp,s=o.PKIStatusInfo;o.TimeStampResp.superclass.constructor.call(this),this.dStatus=null,this.dTST=null,this.getEncodedHex=function(){if(null==this.dStatus)throw"status shall be specified";var e=[this.dStatus];null!=this.dTST&&e.push(this.dTST);var t=new r({array:e});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e&&("object"==typeof e.status&&(this.dStatus=new s(e.status)),void 0!==e.tst&&e.tst instanceof i&&(this.dTST=e.tst.getContentInfo()))},or.lang.extend(Or.asn1.tsp.TimeStampResp,Or.asn1.ASN1Object),Or.asn1.tsp.PKIStatusInfo=function(e){var t=Or,n=t.asn1,r=n.DERSequence,i=n.tsp,o=i.PKIStatus,s=i.PKIFreeText,a=i.PKIFailureInfo;i.PKIStatusInfo.superclass.constructor.call(this),this.dStatus=null,this.dStatusString=null,this.dFailureInfo=null,this.getEncodedHex=function(){if(null==this.dStatus)throw"status shall be specified";var e=[this.dStatus];null!=this.dStatusString&&e.push(this.dStatusString),null!=this.dFailureInfo&&e.push(this.dFailureInfo);var t=new r({array:e});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e&&("object"==typeof e.status&&(this.dStatus=new o(e.status)),"object"==typeof e.statstr&&(this.dStatusString=new s({array:e.statstr})),"object"==typeof e.failinfo&&(this.dFailureInfo=new a(e.failinfo)))},or.lang.extend(Or.asn1.tsp.PKIStatusInfo,Or.asn1.ASN1Object),Or.asn1.tsp.PKIStatus=function(e){var t=Or,n=t.asn1,r=n.DERInteger,i=n.tsp,o=i.PKIStatus;i.PKIStatus.superclass.constructor.call(this);if(this.getEncodedHex=function(){return this.hTLV=this.dStatus.getEncodedHex(),this.hTLV},void 0!==e)if(void 0!==e.name){var s=o.valueList;if(void 0===s[e.name])throw"name undefined: "+e.name;this.dStatus=new r({int:s[e.name]})}else this.dStatus=new r(e)},or.lang.extend(Or.asn1.tsp.PKIStatus,Or.asn1.ASN1Object),Or.asn1.tsp.PKIStatus.valueList={granted:0,grantedWithMods:1,rejection:2,waiting:3,revocationWarning:4,revocationNotification:5},Or.asn1.tsp.PKIFreeText=function(e){var t=Or,n=t.asn1,r=n.DERSequence,i=n.DERUTF8String;n.tsp.PKIFreeText.superclass.constructor.call(this),this.textList=[],this.getEncodedHex=function(){for(var e=[],t=0;t<this.textList.length;t++)e.push(new i({str:this.textList[t]}));var n=new r({array:e});return this.hTLV=n.getEncodedHex(),this.hTLV},void 0!==e&&"object"==typeof e.array&&(this.textList=e.array)},or.lang.extend(Or.asn1.tsp.PKIFreeText,Or.asn1.ASN1Object),Or.asn1.tsp.PKIFailureInfo=function(e){var t=Or,n=t.asn1,r=n.DERBitString,i=n.tsp,o=i.PKIFailureInfo;if(o.superclass.constructor.call(this),this.value=null,this.getEncodedHex=function(){if(null==this.value)throw"value shall be specified";var e=new Number(this.value).toString(2),t=new r;return t.setByBinaryString(e),this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e)if("string"==typeof e.name){var s=o.valueList;if(void 0===s[e.name])throw"name undefined: "+e.name;this.value=s[e.name]}else"number"==typeof e.int&&(this.value=e.int)},or.lang.extend(Or.asn1.tsp.PKIFailureInfo,Or.asn1.ASN1Object),Or.asn1.tsp.PKIFailureInfo.valueList={badAlg:0,badRequest:2,badDataFormat:5,timeNotAvailable:14,unacceptedPolicy:15,unacceptedExtension:16,addInfoNotAvailable:17,systemFailure:25},Or.asn1.tsp.AbstractTSAAdapter=function(e){this.getTSTHex=function(e,t){throw"not implemented yet"}},Or.asn1.tsp.SimpleTSAAdapter=function(e){var t=Or,n=t.asn1,r=n.tsp,i=t.crypto.Util.hashHex;r.SimpleTSAAdapter.superclass.constructor.call(this),this.params=null,this.serial=0,this.getTSTHex=function(e,t){var n=i(e,t);this.params.tstInfo.messageImprint={hashAlg:t,hashValue:n},this.params.tstInfo.serialNumber={int:this.serial++};var o=Math.floor(1e9*Math.random());return this.params.tstInfo.nonce={int:o},r.TSPUtil.newTimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==e&&(this.params=e)},or.lang.extend(Or.asn1.tsp.SimpleTSAAdapter,Or.asn1.tsp.AbstractTSAAdapter),Or.asn1.tsp.FixedTSAAdapter=function(e){var t=Or,n=t.asn1,r=n.tsp,i=t.crypto.Util.hashHex;r.FixedTSAAdapter.superclass.constructor.call(this),this.params=null,this.getTSTHex=function(e,t){var n=i(e,t);return this.params.tstInfo.messageImprint={hashAlg:t,hashValue:n},r.TSPUtil.newTimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==e&&(this.params=e)},or.lang.extend(Or.asn1.tsp.FixedTSAAdapter,Or.asn1.tsp.AbstractTSAAdapter),Or.asn1.tsp.TSPUtil=new function(){},Or.asn1.tsp.TSPUtil.newTimeStampToken=function(e){var t=Or,n=t.asn1,r=n.cms,i=(n.tsp,n.tsp.TSTInfo),o=new r.SignedData,s=new i(e.tstInfo),a=s.getEncodedHex();if(o.dEncapContentInfo.setContentValue({hex:a}),o.dEncapContentInfo.setContentType("tstinfo"),"object"==typeof e.certs)for(var c=0;c<e.certs.length;c++)o.addCertificatesByPEM(e.certs[c]);var u=o.signerInfoList[0];u.setSignerIdentifier(e.signerCert),u.setForContentAndHash({sdObj:o,eciObj:o.dEncapContentInfo,hashAlg:e.hashAlg});var l=new r.SigningCertificate({array:[e.signerCert]});return u.dSignedAttrs.add(l),u.sign(e.signerPrvKey,e.sigAlg),o},Or.asn1.tsp.TSPUtil.parseTimeStampReq=function(e){var t=_r,n=t.getChildIdx,r=t.getV,i=t.getTLV,o={};o.certreq=!1;var s=n(e,0);if(s.length<2)throw"TimeStampReq must have at least 2 items";var a=i(e,s[1]);o.mi=Or.asn1.tsp.TSPUtil.parseMessageImprint(a);for(var c=2;c<s.length;c++){var u=s[c],l=e.substr(u,2);if("06"==l){var f=r(e,u);o.policy=t.hextooidstr(f)}"02"==l&&(o.nonce=r(e,u)),"01"==l&&(o.certreq=!0)}return o},Or.asn1.tsp.TSPUtil.parseMessageImprint=function(e){var t=_r,n=t.getChildIdx,r=t.getV,i=t.getIdxbyList,o={};if("30"!=e.substr(0,2))throw"head of messageImprint hex shall be '30'";var s=(n(e,0),i(e,0,[0,0])),a=r(e,s),c=t.hextooidstr(a),u=Or.asn1.x509.OID.oid2name(c);if(""==u)throw"hashAlg name undefined: "+c;var l=u,f=i(e,0,[1]);return o.hashAlg=l,o.hashValue=r(e,f),o},void 0!==Or&&Or||(Or={}),void 0!==Or.asn1&&Or.asn1||(Or.asn1={}),void 0!==Or.asn1.cades&&Or.asn1.cades||(Or.asn1.cades={}),Or.asn1.cades.SignaturePolicyIdentifier=function(e){var t=Or,n=t.asn1,r=n.DERObjectIdentifier,i=n.DERSequence,o=n.cades,s=o.OtherHashAlgAndValue;if(o.SignaturePolicyIdentifier.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.16.2.15",void 0!==e&&"string"==typeof e.oid&&"object"==typeof e.hash){var a=new r({oid:e.oid}),c=new s(e.hash),u=new i({array:[a,c]});this.valueList=[u]}},or.lang.extend(Or.asn1.cades.SignaturePolicyIdentifier,Or.asn1.cms.Attribute),Or.asn1.cades.OtherHashAlgAndValue=function(e){var t=Or,n=t.asn1,r=n.DERSequence,i=n.DEROctetString,o=n.x509,s=o.AlgorithmIdentifier;n.cades.OtherHashAlgAndValue.superclass.constructor.call(this),this.dAlg=null,this.dHash=null,this.getEncodedHex=function(){var e=new r({array:[this.dAlg,this.dHash]});return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==e&&"string"==typeof e.alg&&"string"==typeof e.hash&&(this.dAlg=new s({name:e.alg}),this.dHash=new i({hex:e.hash}))},or.lang.extend(Or.asn1.cades.OtherHashAlgAndValue,Or.asn1.ASN1Object),Or.asn1.cades.SignatureTimeStamp=function(e){var t=Or,n=t.asn1,r=n.ASN1Object;n.x509;if(n.cades.SignatureTimeStamp.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.16.2.14",this.tstHex=null,void 0!==e){if(void 0!==e.res)if("string"==typeof e.res&&e.res.match(/^[0-9A-Fa-f]+$/));else if(!(e.res instanceof r))throw"res param shall be ASN1Object or hex string";if(void 0!==e.tst)if("string"==typeof e.tst&&e.tst.match(/^[0-9A-Fa-f]+$/)){var i=new r;this.tstHex=e.tst,i.hTLV=this.tstHex,i.getEncodedHex(),this.valueList=[i]}else if(!(e.tst instanceof r))throw"tst param shall be ASN1Object or hex string"}},or.lang.extend(Or.asn1.cades.SignatureTimeStamp,Or.asn1.cms.Attribute),Or.asn1.cades.CompleteCertificateRefs=function(e){var t=Or,n=t.asn1,r=n.cades;r.CompleteCertificateRefs.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.16.2.21",this.setByArray=function(e){this.valueList=[];for(var t=0;t<e.length;t++){var n=new r.OtherCertID(e[t]);this.valueList.push(n)}},void 0!==e&&"object"==typeof e&&"number"==typeof e.length&&this.setByArray(e)},or.lang.extend(Or.asn1.cades.CompleteCertificateRefs,Or.asn1.cms.Attribute),Or.asn1.cades.OtherCertID=function(e){var t=Or,n=t.asn1,r=n.cms,i=n.cades;i.OtherCertID.superclass.constructor.call(this),this.hasIssuerSerial=!0,this.dOtherCertHash=null,this.dIssuerSerial=null,this.setByCertPEM=function(e){this.dOtherCertHash=new i.OtherHash(e),this.hasIssuerSerial&&(this.dIssuerSerial=new r.IssuerAndSerialNumber(e))},this.getEncodedHex=function(){if(null!=this.hTLV)return this.hTLV;if(null==this.dOtherCertHash)throw"otherCertHash not set";var e=[this.dOtherCertHash];null!=this.dIssuerSerial&&e.push(this.dIssuerSerial);var t=new n.DERSequence({array:e});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e&&("string"==typeof e&&-1!=e.indexOf("-----BEGIN ")&&this.setByCertPEM(e),"object"==typeof e&&(!1===e.hasis&&(this.hasIssuerSerial=!1),"string"==typeof e.cert&&this.setByCertPEM(e.cert)))},or.lang.extend(Or.asn1.cades.OtherCertID,Or.asn1.ASN1Object),Or.asn1.cades.OtherHash=function(e){var t=Or,n=t.asn1,r=(n.cms,n.cades),i=r.OtherHashAlgAndValue,o=t.crypto.Util.hashHex;if(r.OtherHash.superclass.constructor.call(this),this.alg="sha256",this.dOtherHash=null,this.setByCertPEM=function(e){if(-1==e.indexOf("-----BEGIN "))throw"certPEM not to seem PEM format";var t=_n(e),n=o(t,this.alg);this.dOtherHash=new i({alg:this.alg,hash:n})},this.getEncodedHex=function(){if(null==this.dOtherHash)throw"OtherHash not set";return this.dOtherHash.getEncodedHex()},void 0!==e)if("string"==typeof e)if(-1!=e.indexOf("-----BEGIN "))this.setByCertPEM(e);else{if(!e.match(/^[0-9A-Fa-f]+$/))throw"unsupported string value for params";this.dOtherHash=new n.DEROctetString({hex:e})}else"object"==typeof e&&("string"==typeof e.cert?("string"==typeof e.alg&&(this.alg=e.alg),this.setByCertPEM(e.cert)):this.dOtherHash=new i(e))},or.lang.extend(Or.asn1.cades.OtherHash,Or.asn1.ASN1Object),Or.asn1.cades.CAdESUtil=new function(){},Or.asn1.cades.CAdESUtil.addSigTS=function(e,t,n){},Or.asn1.cades.CAdESUtil.parseSignedDataForAddingUnsigned=function(e){var t=_r,n=t.getChildIdx,r=t.getTLV,i=t.getTLVbyList,o=t.getIdxbyList,s=Or,a=s.asn1,c=a.ASN1Object,u=a.cms,l=u.SignedData,f=a.cades,h=f.CAdESUtil,d={};if("06092a864886f70d010702"!=i(e,0,[0]))throw"hex is not CMS SignedData";var p=o(e,0,[1,0]),y=n(e,p);if(y.length<4)throw"num of SignedData elem shall be 4 at least";var g=y.shift();d.version=r(e,g);var m=y.shift();d.algs=r(e,m);var v=y.shift();d.encapcontent=r(e,v),d.certs=null,d.revs=null,d.si=[];var b=y.shift();"a0"==e.substr(b,2)&&(d.certs=r(e,b),b=y.shift()),"a1"==e.substr(b,2)&&(d.revs=r(e,b),b=y.shift());var w=b;if("31"!=e.substr(w,2))throw"Can't find signerInfos";for(var S=n(e,w),E=0;E<S.length;E++){var k=S[E],x=h.parseSignerInfoForAddingUnsigned(e,k,E);d.si[E]=x}var _=null;d.obj=new l,_=new c,_.hTLV=d.version,d.obj.dCMSVersion=_,_=new c,_.hTLV=d.algs,d.obj.dDigestAlgs=_,_=new c,_.hTLV=d.encapcontent,d.obj.dEncapContentInfo=_,_=new c,_.hTLV=d.certs,d.obj.dCerts=_,d.obj.signerInfoList=[];for(var E=0;E<d.si.length;E++)d.obj.signerInfoList.push(d.si[E].obj);return d},Or.asn1.cades.CAdESUtil.parseSignerInfoForAddingUnsigned=function(e,t,n){var r=_r,i=r.getChildIdx,o=r.getTLV,s=r.getV,a=Or,c=a.asn1,u=c.ASN1Object,l=c.cms,f=l.AttributeList,h=l.SignerInfo,d={},p=i(e,t);if(6!=p.length)throw"not supported items for SignerInfo (!=6)";var y=p.shift();d.version=o(e,y);var g=p.shift();d.si=o(e,g);var m=p.shift();d.digalg=o(e,m);var v=p.shift();d.sattrs=o(e,v);var b=p.shift();d.sigalg=o(e,b);var w=p.shift();d.sig=o(e,w),d.sigval=s(e,w);var S=null;return d.obj=new h,S=new u,S.hTLV=d.version,d.obj.dCMSVersion=S,S=new u,S.hTLV=d.si,d.obj.dSignerIdentifier=S,S=new u,S.hTLV=d.digalg,d.obj.dDigestAlgorithm=S,S=new u,S.hTLV=d.sattrs,d.obj.dSignedAttrs=S,S=new u,S.hTLV=d.sigalg,d.obj.dSigAlg=S,S=new u,S.hTLV=d.sig,d.obj.dSig=S,d.obj.dUnsignedAttrs=new f,d},void 0!==Or.asn1.csr&&Or.asn1.csr||(Or.asn1.csr={}),Or.asn1.csr.CertificationRequest=function(e){var t=Or,n=t.asn1,r=n.DERBitString,i=n.DERSequence,o=n.csr,s=n.x509;o.CertificationRequest.superclass.constructor.call(this);this.sign=function(e,n){null==this.prvKey&&(this.prvKey=n),this.asn1SignatureAlg=new s.AlgorithmIdentifier({name:e}),sig=new t.crypto.Signature({alg:e}),sig.initSign(this.prvKey),sig.updateHex(this.asn1CSRInfo.getEncodedHex()),this.hexSig=sig.sign(),this.asn1Sig=new r({hex:"00"+this.hexSig});var o=new i({array:[this.asn1CSRInfo,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=o.getEncodedHex(),this.isModified=!1},this.getPEMString=function(){return xn(this.getEncodedHex(),"CERTIFICATE REQUEST")},this.getEncodedHex=function(){if(0==this.isModified&&null!=this.hTLV)return this.hTLV;throw"not signed yet"},void 0!==e&&void 0!==e.csrinfo&&(this.asn1CSRInfo=e.csrinfo)},or.lang.extend(Or.asn1.csr.CertificationRequest,Or.asn1.ASN1Object),Or.asn1.csr.CertificationRequestInfo=function(e){var t=Or,n=t.asn1,r=n.DERInteger,i=n.DERSequence,o=n.DERSet,s=n.DERNull,a=n.DERTaggedObject,c=n.DERObjectIdentifier,u=n.csr,l=n.x509,f=l.X500Name,h=l.Extension,d=Dr;u.CertificationRequestInfo.superclass.constructor.call(this),this._initialize=function(){this.asn1Array=new Array,this.asn1Version=new r({int:0}),this.asn1Subject=null,this.asn1SubjPKey=null,this.extensionsArray=new Array},this.setSubjectByParam=function(e){this.asn1Subject=new f(e)},this.setSubjectPublicKeyByGetKey=function(e){var t=d.getKey(e);this.asn1SubjPKey=new l.SubjectPublicKeyInfo(t)},this.appendExtensionByName=function(e,t){h.appendByNameToArray(e,t,this.extensionsArray)},this.getEncodedHex=function(){if(this.asn1Array=new Array,this.asn1Array.push(this.asn1Version),this.asn1Array.push(this.asn1Subject),this.asn1Array.push(this.asn1SubjPKey),this.extensionsArray.length>0){var e=new i({array:this.extensionsArray}),t=new o({array:[e]}),n=new i({array:[new c({oid:"1.2.840.113549.1.9.14"}),t]}),r=new a({explicit:!0,tag:"a0",obj:n});this.asn1Array.push(r)}else{var r=new a({explicit:!1,tag:"a0",obj:new s});this.asn1Array.push(r)}var u=new i({array:this.asn1Array});return this.hTLV=u.getEncodedHex(),this.isModified=!1,this.hTLV},this._initialize()},or.lang.extend(Or.asn1.csr.CertificationRequestInfo,Or.asn1.ASN1Object),Or.asn1.csr.CSRUtil=new function(){},Or.asn1.csr.CSRUtil.newCSRPEM=function(e){var t=Dr,n=Or.asn1.csr;if(void 0===e.subject)throw"parameter subject undefined";if(void 0===e.sbjpubkey)throw"parameter sbjpubkey undefined";if(void 0===e.sigalg)throw"parameter sigalg undefined";if(void 0===e.sbjprvkey)throw"parameter sbjpubkey undefined";var r=new n.CertificationRequestInfo;if(r.setSubjectByParam(e.subject),r.setSubjectPublicKeyByGetKey(e.sbjpubkey),void 0!==e.ext&&void 0!==e.ext.length)for(var i=0;i<e.ext.length;i++)for(key in e.ext[i])r.appendExtensionByName(key,e.ext[i][key]);var o=new n.CertificationRequest({csrinfo:r}),s=t.getKey(e.sbjprvkey);return o.sign(e.sigalg,s),o.getPEMString()},Or.asn1.csr.CSRUtil.getInfo=function(e){var t=_r,n=t.getTLVbyList,r={};if(r.subject={},r.pubkey={},-1==e.indexOf("-----BEGIN CERTIFICATE REQUEST"))throw"argument is not PEM file";var i=_n(e,"CERTIFICATE REQUEST");return r.subject.hex=n(i,0,[0,1]),r.subject.name=nr.hex2dn(r.subject.hex),r.pubkey.hex=n(i,0,[0,2]),r.pubkey.obj=Dr.getKey(r.pubkey.hex,null,"pkcs8pub"),r},void 0!==Or&&Or||(Or={}),void 0!==Or.asn1&&Or.asn1||(Or.asn1={}),void 0!==Or.asn1.ocsp&&Or.asn1.ocsp||(Or.asn1.ocsp={}),Or.asn1.ocsp.DEFAULT_HASH="sha1",Or.asn1.ocsp.CertID=function(e){var t=Or,n=t.asn1,r=n.DEROctetString,i=n.DERInteger,o=n.DERSequence,s=n.x509,a=s.AlgorithmIdentifier,c=n.ocsp,u=c.DEFAULT_HASH,l=t.crypto,f=l.Util.hashHex,h=nr,d=_r;if(c.CertID.superclass.constructor.call(this),this.dHashAlg=null,this.dIssuerNameHash=null,this.dIssuerKeyHash=null,this.dSerialNumber=null,this.setByValue=function(e,t,n,o){void 0===o&&(o=u),this.dHashAlg=new a({name:o}),this.dIssuerNameHash=new r({hex:e}),this.dIssuerKeyHash=new r({hex:t}),this.dSerialNumber=new i({hex:n})},this.setByCert=function(e,t,n){void 0===n&&(n=u);var r=new h;r.readCertPEM(t);var i=new h;i.readCertPEM(e);var o=i.getPublicKeyHex(),s=d.getTLVbyList(o,0,[1,0],"30"),a=r.getSerialNumberHex(),c=f(i.getSubjectHex(),n),l=f(s,n);this.setByValue(c,l,a,n),this.hoge=r.getSerialNumberHex()},this.getEncodedHex=function(){if(null===this.dHashAlg&&null===this.dIssuerNameHash&&null===this.dIssuerKeyHash&&null===this.dSerialNumber)throw"not yet set values";var e=[this.dHashAlg,this.dIssuerNameHash,this.dIssuerKeyHash,this.dSerialNumber],t=new o({array:e});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e){var p=e;if(void 0!==p.issuerCert&&void 0!==p.subjectCert){var y=u;void 0===p.alg&&(y=void 0),this.setByCert(p.issuerCert,p.subjectCert,y)}else{if(void 0===p.namehash||void 0===p.keyhash||void 0===p.serial)throw"invalid constructor arguments";var y=u;void 0===p.alg&&(y=void 0),this.setByValue(p.namehash,p.keyhash,p.serial,y)}}},or.lang.extend(Or.asn1.ocsp.CertID,Or.asn1.ASN1Object),Or.asn1.ocsp.Request=function(e){var t=Or,n=t.asn1,r=n.DERSequence,i=n.ocsp;if(i.Request.superclass.constructor.call(this),this.dReqCert=null,this.dExt=null,this.getEncodedHex=function(){var e=[];if(null===this.dReqCert)throw"reqCert not set";e.push(this.dReqCert);var t=new r({array:e});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e){var o=new i.CertID(e);this.dReqCert=o}},or.lang.extend(Or.asn1.ocsp.Request,Or.asn1.ASN1Object),Or.asn1.ocsp.TBSRequest=function(e){var t=Or,n=t.asn1,r=n.DERSequence,i=n.ocsp;i.TBSRequest.superclass.constructor.call(this),this.version=0,this.dRequestorName=null,this.dRequestList=[],this.dRequestExt=null,this.setRequestListByParam=function(e){for(var t=[],n=0;n<e.length;n++){var r=new i.Request(e[0]);t.push(r)}this.dRequestList=t},this.getEncodedHex=function(){var e=[];if(0!==this.version)throw"not supported version: "+this.version;if(null!==this.dRequestorName)throw"requestorName not supported";var t=new r({array:this.dRequestList});if(e.push(t),null!==this.dRequestExt)throw"requestExtensions not supported";var n=new r({array:e});return this.hTLV=n.getEncodedHex(),this.hTLV},void 0!==e&&void 0!==e.reqList&&this.setRequestListByParam(e.reqList)},or.lang.extend(Or.asn1.ocsp.TBSRequest,Or.asn1.ASN1Object),Or.asn1.ocsp.OCSPRequest=function(e){var t=Or,n=t.asn1,r=n.DERSequence,i=n.ocsp;if(i.OCSPRequest.superclass.constructor.call(this),this.dTbsRequest=null,this.dOptionalSignature=null,this.getEncodedHex=function(){var e=[];if(null===this.dTbsRequest)throw"tbsRequest not set";if(e.push(this.dTbsRequest),null!==this.dOptionalSignature)throw"optionalSignature not supported";var t=new r({array:e});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e&&void 0!==e.reqList){var o=new i.TBSRequest(e);this.dTbsRequest=o}},or.lang.extend(Or.asn1.ocsp.OCSPRequest,Or.asn1.ASN1Object),Or.asn1.ocsp.OCSPUtil={},Or.asn1.ocsp.OCSPUtil.getRequestHex=function(e,t,n){var r=Or,i=r.asn1,o=i.ocsp;void 0===n&&(n=o.DEFAULT_HASH);var s={alg:n,issuerCert:e,subjectCert:t};return new o.OCSPRequest({reqList:[s]}).getEncodedHex()},Or.asn1.ocsp.OCSPUtil.getOCSPResponseInfo=function(e){var t=_r,n=t.getVbyList,r=t.getIdxbyList,n=t.getVbyList,i=t.getV,o={};try{var s=n(e,0,[0],"0a");o.responseStatus=parseInt(s,16)}catch(e){}if(0!==o.responseStatus)return o;try{var a=r(e,0,[1,0,1,0,0,2,0,1]);"80"===e.substr(a,2)?o.certStatus="good":"a1"===e.substr(a,2)?(o.certStatus="revoked",o.revocationTime=vn(n(e,a,[0]))):"82"===e.substr(a,2)&&(o.certStatus="unknown")}catch(e){}try{var c=r(e,0,[1,0,1,0,0,2,0,2]);o.thisUpdate=vn(i(e,c))}catch(e){}try{var u=r(e,0,[1,0,1,0,0,2,0,3]);"a0"===e.substr(u,2)&&(o.nextUpdate=vn(n(e,u,[0])))}catch(e){}return o};var Or;void 0!==Or&&Or||(Or={}),void 0!==Or.lang&&Or.lang||(Or.lang={}),Or.lang.String=function(){};var Cr,Ar;"function"==typeof e?(Cr=function(t){return fn(new e(t,"utf8").toString("base64"))},Ar=function(t){return new e(hn(t),"base64").toString("utf8")}):(Cr=function(e){return dn(Rn(Tn(e)))},Ar=function(e){return decodeURIComponent(jn(pn(e)))}),Or.lang.String.isInteger=function(e){return!!e.match(/^[0-9]+$/)||!!e.match(/^-[0-9]+$/)},Or.lang.String.isHex=function(e){return!(e.length%2!=0||!e.match(/^[0-9a-f]+$/)&&!e.match(/^[0-9A-F]+$/))},Or.lang.String.isBase64=function(e){return e=e.replace(/\s+/g,""),!(!e.match(/^[0-9A-Za-z+\/]+={0,3}$/)||e.length%4!=0)},Or.lang.String.isBase64URL=function(e){return!e.match(/[+\/=]/)&&(e=hn(e),Or.lang.String.isBase64(e))},Or.lang.String.isIntegerArray=function(e){return e=e.replace(/\s+/g,""),!!e.match(/^\[[0-9,]+\]$/)};var Pr=function(e,t){var n=e.length;e.length>t.length&&(n=t.length);for(var r=0;r<n;r++)if(e.charCodeAt(r)!=t.charCodeAt(r))return r;return e.length!=t.length?n:-1};void 0!==Or&&Or||(Or={}),void 0!==Or.crypto&&Or.crypto||(Or.crypto={}),Or.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:sr.algo.MD5,sha1:sr.algo.SHA1,sha224:sr.algo.SHA224,sha256:sr.algo.SHA256,sha384:sr.algo.SHA384,sha512:sr.algo.SHA512,ripemd160:sr.algo.RIPEMD160},this.getDigestInfoHex=function(e,t){if(void 0===this.DIGESTINFOHEAD[t])throw"alg not supported in Util.DIGESTINFOHEAD: "+t;return this.DIGESTINFOHEAD[t]+e},this.getPaddedDigestInfoHex=function(e,t,n){var r=this.getDigestInfoHex(e,t),i=n/4;if(r.length+22>i)throw"key is too short for SigAlg: keylen="+n+","+t;for(var o="0001",s="00"+r,a="",c=i-o.length-s.length,u=0;u<c;u+=2)a+="ff";return o+a+s},this.hashString=function(e,t){return new Or.crypto.MessageDigest({alg:t}).digestString(e)},this.hashHex=function(e,t){return new Or.crypto.MessageDigest({alg:t}).digestHex(e)},this.sha1=function(e){return new Or.crypto.MessageDigest({alg:"sha1",prov:"cryptojs"}).digestString(e)},this.sha256=function(e){return new Or.crypto.MessageDigest({alg:"sha256",prov:"cryptojs"}).digestString(e)},this.sha256Hex=function(e){return new Or.crypto.MessageDigest({alg:"sha256",prov:"cryptojs"}).digestHex(e)},this.sha512=function(e){return new Or.crypto.MessageDigest({alg:"sha512",prov:"cryptojs"}).digestString(e)},this.sha512Hex=function(e){return new Or.crypto.MessageDigest({alg:"sha512",prov:"cryptojs"}).digestHex(e)}},Or.crypto.Util.md5=function(e){return new Or.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(e)},Or.crypto.Util.ripemd160=function(e){return new Or.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(e)},Or.crypto.Util.SECURERANDOMGEN=new ft,Or.crypto.Util.getRandomHexOfNbytes=function(e){var t=new Array(e);return Or.crypto.Util.SECURERANDOMGEN.nextBytes(t),sn(t)},Or.crypto.Util.getRandomBigIntegerOfNbytes=function(e){return new o(Or.crypto.Util.getRandomHexOfNbytes(e),16)},Or.crypto.Util.getRandomHexOfNbits=function(e){var t=e%8,n=(e-t)/8,r=new Array(n+1);return Or.crypto.Util.SECURERANDOMGEN.nextBytes(r),r[0]=(255<<t&255^255)&r[0],sn(r)},Or.crypto.Util.getRandomBigIntegerOfNbits=function(e){return new o(Or.crypto.Util.getRandomHexOfNbits(e),16)},Or.crypto.Util.getRandomBigIntegerZeroToMax=function(e){for(var t=e.bitLength();;){var n=Or.crypto.Util.getRandomBigIntegerOfNbits(t);if(-1!=e.compareTo(n))return n}},Or.crypto.Util.getRandomBigIntegerMinToMax=function(e,t){var n=e.compareTo(t);if(1==n)throw"biMin is greater than biMax";if(0==n)return e;var r=t.subtract(e);return Or.crypto.Util.getRandomBigIntegerZeroToMax(r).add(e)},Or.crypto.MessageDigest=function(e){this.setAlgAndProvider=function(e,t){if(e=Or.crypto.MessageDigest.getCanonicalAlgName(e),null!==e&&void 0===t&&(t=Or.crypto.Util.DEFAULTPROVIDER[e]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(e)&&"cryptojs"==t){try{this.md=Or.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[e].create()}catch(t){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+t}this.updateString=function(e){this.md.update(e)},this.updateHex=function(e){var t=sr.enc.Hex.parse(e);this.md.update(t)},this.digest=function(){return this.md.finalize().toString(sr.enc.Hex)},this.digestString=function(e){return this.updateString(e),this.digest()},this.digestHex=function(e){return this.updateHex(e),this.digest()}}if(-1!=":sha256:".indexOf(e)&&"sjcl"==t){try{this.md=new sjcl.hash.sha256}catch(t){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+t}this.updateString=function(e){this.md.update(e)},this.updateHex=function(e){var t=sjcl.codec.hex.toBits(e);this.md.update(t)},this.digest=function(){var e=this.md.finalize();return sjcl.codec.hex.fromBits(e)},this.digestString=function(e){return this.updateString(e),this.digest()},this.digestHex=function(e){return this.updateHex(e),this.digest()}}},this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==e&&void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov&&(this.provName=Or.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},Or.crypto.MessageDigest.getCanonicalAlgName=function(e){return"string"==typeof e&&(e=e.toLowerCase(),e=e.replace(/-/,"")),e},Or.crypto.MessageDigest.getHashLength=function(e){var t=Or.crypto.MessageDigest,n=t.getCanonicalAlgName(e);if(void 0===t.HASHLENGTH[n])throw"not supported algorithm: "+e;return t.HASHLENGTH[n]},Or.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},Or.crypto.Mac=function(e){this.setAlgAndProvider=function(e,t){if(e=e.toLowerCase(),null==e&&(e="hmacsha1"),e=e.toLowerCase(),"hmac"!=e.substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+e;void 0===t&&(t=Or.crypto.Util.DEFAULTPROVIDER[e]),this.algProv=e+"/"+t;var n=e.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(n)&&"cryptojs"==t){try{var r=Or.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[n];this.mac=sr.algo.HMAC.create(r,this.pass)}catch(e){throw"setAlgAndProvider hash alg set fail hashAlg="+n+"/"+e}this.updateString=function(e){this.mac.update(e)},this.updateHex=function(e){var t=sr.enc.Hex.parse(e);this.mac.update(t)},this.doFinal=function(){return this.mac.finalize().toString(sr.enc.Hex)},this.doFinalString=function(e){return this.updateString(e),this.doFinal()},this.doFinalHex=function(e){return this.updateHex(e),this.doFinal()}}},this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(e){if("string"==typeof e){var t=e;return e.length%2!=1&&e.match(/^[0-9A-Fa-f]+$/)||(t=wn(e)),void(this.pass=sr.enc.Hex.parse(t))}if("object"!=typeof e)throw"KJUR.crypto.Mac unsupported password type: "+e;var t=null;if(void 0!==e.hex){if(e.hex.length%2!=0||!e.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+e.hex;t=e.hex}if(void 0!==e.utf8&&(t=mn(e.utf8)),void 0!==e.rstr&&(t=wn(e.rstr)),void 0!==e.b64&&(t=r(e.b64)),void 0!==e.b64u&&(t=pn(e.b64u)),null==t)throw"KJUR.crypto.Mac unsupported password type: "+e;this.pass=sr.enc.Hex.parse(t)},void 0!==e&&(void 0!==e.pass&&this.setPassword(e.pass),void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov&&(this.provName=Or.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},Or.crypto.Signature=function(e){var t=null;if(this._setAlgNames=function(){var e=this.algName.match(/^(.+)with(.+)$/);e&&(this.mdAlgName=e[1].toLowerCase(),this.pubkeyAlgName=e[2].toLowerCase())},this._zeroPaddingOfSignature=function(e,t){for(var n="",r=t/4-e.length,i=0;i<r;i++)n+="0";return n+e},this.setAlgAndProvider=function(e,t){if(this._setAlgNames(),"cryptojs/jsrsa"!=t)throw"provider not supported: "+t;if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new Or.crypto.MessageDigest({alg:this.mdAlgName})}catch(e){throw"setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+e}this.init=function(e,t){var n=null;try{n=void 0===t?Dr.getKey(e):Dr.getKey(e,t)}catch(e){throw"init failed:"+e}if(!0===n.isPrivate)this.prvKey=n,this.state="SIGN";else{if(!0!==n.isPublic)throw"init failed.:"+n;this.pubKey=n,this.state="VERIFY"}},this.initSign=function(e){"string"==typeof e.ecprvhex&&"string"==typeof e.eccurvename?(this.ecprvhex=e.ecprvhex,this.eccurvename=e.eccurvename):this.prvKey=e,this.state="SIGN"},this.initVerifyByPublicKey=function(e){"string"==typeof e.ecpubhex&&"string"==typeof e.eccurvename?(this.ecpubhex=e.ecpubhex,this.eccurvename=e.eccurvename):e instanceof Or.crypto.ECDSA?this.pubKey=e:e instanceof gt&&(this.pubKey=e),this.state="VERIFY"},this.initVerifyByCertificatePEM=function(e){var t=new nr;t.readCertPEM(e),this.pubKey=t.subjectPublicKeyRSA,this.state="VERIFY"},this.updateString=function(e){this.md.updateString(e)},this.updateHex=function(e){this.md.updateHex(e)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0!==this.ecprvhex&&void 0!==this.eccurvename){var e=new Or.crypto.ECDSA({curve:this.eccurvename});this.hSign=e.signHex(this.sHashHex,this.ecprvhex)}else if(this.prvKey instanceof gt&&"rsaandmgf1"==this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof gt&&"rsa"==this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof Or.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof Or.crypto.DSA))throw"Signature: unsupported public key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(e){return this.updateString(e),this.sign()},this.signHex=function(e){return this.updateHex(e),this.sign()},this.verify=function(e){if(this.sHashHex=this.md.digest(),void 0!==this.ecpubhex&&void 0!==this.eccurvename){return new Or.crypto.ECDSA({curve:this.eccurvename}).verifyHex(this.sHashHex,e,this.ecpubhex)}if(this.pubKey instanceof gt&&"rsaandmgf1"==this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,e,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof gt&&"rsa"==this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);if(this.pubKey instanceof Or.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);if(this.pubKey instanceof Or.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(e,t){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.initVerifyByPublicKey=function(e){throw"initVerifyByPublicKey(rsaPubKeyy) not supported for this alg:prov="+this.algProvName},this.initVerifyByCertificatePEM=function(e){throw"initVerifyByCertificatePEM(certPEM) not supported for this alg:prov="+this.algProvName},this.initSign=function(e){throw"initSign(prvKey) not supported for this alg:prov="+this.algProvName},this.updateString=function(e){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(e){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(e){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(e){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=e,void 0!==e&&(void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov?this.provName=Or.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=e.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==e.psssaltlen&&(this.pssSaltLen=e.psssaltlen),void 0!==e.prvkeypem)){if(void 0!==e.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{var t=new gt;t.readPrivateKeyFromPEMString(e.prvkeypem),this.initSign(t)}catch(e){throw"fatal error to load pem private key: "+e}}},Or.crypto.Cipher=function(e){},Or.crypto.Cipher.encrypt=function(e,t,n){if(t instanceof gt&&t.isPublic){var r=Or.crypto.Cipher.getAlgByKeyAndName(t,n);if("RSA"===r)return t.encrypt(e);if("RSAOAEP"===r)return t.encryptOAEP(e,"sha1");var i=r.match(/^RSAOAEP(\d+)$/);if(null!==i)return t.encryptOAEP(e,"sha"+i[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+n}throw"Cipher.encrypt: unsupported key or algorithm"},Or.crypto.Cipher.decrypt=function(e,t,n){if(t instanceof gt&&t.isPrivate){var r=Or.crypto.Cipher.getAlgByKeyAndName(t,n);if("RSA"===r)return t.decrypt(e);if("RSAOAEP"===r)return t.decryptOAEP(e,"sha1");var i=r.match(/^RSAOAEP(\d+)$/);if(null!==i)return t.decryptOAEP(e,"sha"+i[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+n}throw"Cipher.decrypt: unsupported key or algorithm"},Or.crypto.Cipher.getAlgByKeyAndName=function(e,t){if(e instanceof gt){if(-1!=":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(t))return t;if(null===t||void 0===t)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+t}throw"getAlgByKeyAndName: not supported algorithm name: "+t},Or.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},void 0!==Or&&Or||(Or={}),void 0!==Or.crypto&&Or.crypto||(Or.crypto={}),Or.crypto.ECDSA=function(e){var t=new ft;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(e){return new o(e.bitLength(),t).mod(e.subtract(o.ONE)).add(o.ONE)},this.setNamedCurve=function(e){this.ecparams=Or.crypto.ECParameterDB.getByName(e),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=e},this.setPrivateKeyHex=function(e){this.isPrivate=!0,this.prvKeyHex=e},this.setPublicKeyHex=function(e){this.isPublic=!0,this.pubKeyHex=e},this.getPublicKeyXYHex=function(){var e=this.pubKeyHex;if("04"!==e.substr(0,2))throw"this method supports uncompressed format(04) only";var t=this.ecparams.keylen/4;if(e.length!==2+2*t)throw"malformed public key hex length";var n={};return n.x=e.substr(2,t),n.y=e.substr(2+t),n},this.getShortNISTPCurveName=function(){var e=this.curveName;return"secp256r1"===e||"NIST P-256"===e||"P-256"===e||"prime256v1"===e?"P-256":"secp384r1"===e||"NIST P-384"===e||"P-384"===e?"P-384":null},this.generateKeyPairHex=function(){var e=this.ecparams.n,t=this.getBigRandom(e),n=this.ecparams.G.multiply(t),r=n.getX().toBigInteger(),i=n.getY().toBigInteger(),o=this.ecparams.keylen/4,s=("0000000000"+t.toString(16)).slice(-o),a=("0000000000"+r.toString(16)).slice(-o),c=("0000000000"+i.toString(16)).slice(-o),u="04"+a+c;return this.setPrivateKeyHex(s),this.setPublicKeyHex(u),{ecprvhex:s,ecpubhex:u}},this.signWithMessageHash=function(e){return this.signHex(e,this.prvKeyHex)},this.signHex=function(e,t){var n=new o(t,16),r=this.ecparams.n,i=new o(e,16);do{var s=this.getBigRandom(r),a=this.ecparams.G,c=a.multiply(s),u=c.getX().toBigInteger().mod(r)}while(u.compareTo(o.ZERO)<=0);var l=s.modInverse(r).multiply(i.add(n.multiply(u))).mod(r);return Or.crypto.ECDSA.biRSSigToASN1Sig(u,l)},this.sign=function(e,t){var n=t,r=this.ecparams.n,i=o.fromByteArrayUnsigned(e);do{var s=this.getBigRandom(r),a=this.ecparams.G,c=a.multiply(s),u=c.getX().toBigInteger().mod(r)}while(u.compareTo(o.ZERO)<=0);var l=s.modInverse(r).multiply(i.add(n.multiply(u))).mod(r);return this.serializeSig(u,l)},this.verifyWithMessageHash=function(e,t){return this.verifyHex(e,t,this.pubKeyHex)},this.verifyHex=function(e,t,n){var r,i,s=Or.crypto.ECDSA.parseSigHex(t);r=s.r,i=s.s;var a;a=Lt.decodeFromHex(this.ecparams.curve,n);var c=new o(e,16);return this.verifyRaw(c,r,i,a)},this.verify=function(e,t,n){var r,i;if(Bitcoin.Util.isArray(t)){var s=this.parseSig(t);r=s.r,i=s.s}else{if("object"!=typeof t||!t.r||!t.s)throw"Invalid value for signature";r=t.r,i=t.s}var a;if(n instanceof Lt)a=n;else{if(!Bitcoin.Util.isArray(n))throw"Invalid format for pubkey value, must be byte array or ECPointFp";a=Lt.decodeFrom(this.ecparams.curve,n)}var c=o.fromByteArrayUnsigned(e);return this.verifyRaw(c,r,i,a)},this.verifyRaw=function(e,t,n,r){var i=this.ecparams.n,s=this.ecparams.G;if(t.compareTo(o.ONE)<0||t.compareTo(i)>=0)return!1;if(n.compareTo(o.ONE)<0||n.compareTo(i)>=0)return!1;var a=n.modInverse(i),c=e.multiply(a).mod(i),u=t.multiply(a).mod(i);return s.multiply(c).add(r.multiply(u)).getX().toBigInteger().mod(i).equals(t)},this.serializeSig=function(e,t){var n=e.toByteArraySigned(),r=t.toByteArraySigned(),i=[];return i.push(2),i.push(n.length),i=i.concat(n),i.push(2),i.push(r.length),i=i.concat(r),i.unshift(i.length),i.unshift(48),i},this.parseSig=function(e){var t;if(48!=e[0])throw new Error("Signature not a valid DERSequence");if(t=2,2!=e[t])throw new Error("First element in signature must be a DERInteger");var n=e.slice(t+2,t+2+e[t+1]);if(t+=2+e[t+1],2!=e[t])throw new Error("Second element in signature must be a DERInteger");var r=e.slice(t+2,t+2+e[t+1]);return t+=2+e[t+1],{r:o.fromByteArrayUnsigned(n),s:o.fromByteArrayUnsigned(r)}},this.parseSigCompact=function(e){if(65!==e.length)throw"Signature has the wrong length";var t=e[0]-27;if(t<0||t>7)throw"Invalid signature type";var n=this.ecparams.n;return{r:o.fromByteArrayUnsigned(e.slice(1,33)).mod(n),s:o.fromByteArrayUnsigned(e.slice(33,65)).mod(n),i:t}},this.readPKCS5PrvKeyHex=function(e){var t=_r,n=Or.crypto.ECDSA.getName,r=t.getVbyList;if(!1===t.isASN1HEX(e))throw"not ASN.1 hex string";var i,o,s;try{i=r(e,0,[2,0],"06"),o=r(e,0,[1],"04");try{s=r(e,0,[3,0],"03").substr(2)}catch(e){}}catch(e){throw"malformed PKCS#1/5 plain ECC private key"}if(this.curveName=n(i),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(s),this.setPrivateKeyHex(o),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(e){var t=_r,n=Or.crypto.ECDSA.getName,r=t.getVbyList;if(!1===t.isASN1HEX(e))throw"not ASN.1 hex string";var i,o,s;try{r(e,0,[1,0],"06"),i=r(e,0,[1,1],"06"),o=r(e,0,[2,0,1],"04");try{s=r(e,0,[2,0,2,0],"03").substr(2)}catch(e){}}catch(e){throw"malformed PKCS#8 plain ECC private key"}if(this.curveName=n(i),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(s),this.setPrivateKeyHex(o),this.isPublic=!1},this.readPKCS8PubKeyHex=function(e){var t=_r,n=Or.crypto.ECDSA.getName,r=t.getVbyList;if(!1===t.isASN1HEX(e))throw"not ASN.1 hex string";var i,o;try{r(e,0,[0,0],"06"),i=r(e,0,[0,1],"06"),o=r(e,0,[1],"03").substr(2)}catch(e){throw"malformed PKCS#8 ECC public key"}if(this.curveName=n(i),null===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(o)},this.readCertPubKeyHex=function(e,t){5!==t&&(t=6);var n=_r,r=Or.crypto.ECDSA.getName,i=n.getVbyList;if(!1===n.isASN1HEX(e))throw"not ASN.1 hex string";var o,s;try{o=i(e,0,[0,t,0,1],"06"),s=i(e,0,[0,t,1],"03").substr(2)}catch(e){throw"malformed X.509 certificate ECC public key"}if(this.curveName=r(o),null===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(s)},void 0!==e&&void 0!==e.curve&&(this.curveName=e.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==e&&(void 0!==e.prv&&this.setPrivateKeyHex(e.prv),void 0!==e.pub&&this.setPublicKeyHex(e.pub))},Or.crypto.ECDSA.parseSigHex=function(e){var t=Or.crypto.ECDSA.parseSigHexInHexRS(e);return{r:new o(t.r,16),s:new o(t.s,16)}},Or.crypto.ECDSA.parseSigHexInHexRS=function(e){var t=_r,n=t.getChildIdx,r=t.getV;if("30"!=e.substr(0,2))throw"signature is not a ASN.1 sequence";var i=n(e,0);if(2!=i.length)throw"number of signature ASN.1 sequence elements seem wrong";var o=i[0],s=i[1];if("02"!=e.substr(o,2))throw"1st item of sequene of signature is not ASN.1 integer";if("02"!=e.substr(s,2))throw"2nd item of sequene of signature is not ASN.1 integer";return{r:r(e,o),s:r(e,s)}},Or.crypto.ECDSA.asn1SigToConcatSig=function(e){var t=Or.crypto.ECDSA.parseSigHexInHexRS(e),n=t.r,r=t.s;if("00"==n.substr(0,2)&&n.length/2*8%128==8&&(n=n.substr(2)),"00"==r.substr(0,2)&&r.length/2*8%128==8&&(r=r.substr(2)),n.length/2*8%128!=0)throw"unknown ECDSA sig r length error";if(r.length/2*8%128!=0)throw"unknown ECDSA sig s length error";return n+r},Or.crypto.ECDSA.concatSigToASN1Sig=function(e){if(e.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var t=e.substr(0,e.length/2),n=e.substr(e.length/2);return Or.crypto.ECDSA.hexRSSigToASN1Sig(t,n)},Or.crypto.ECDSA.hexRSSigToASN1Sig=function(e,t){var n=new o(e,16),r=new o(t,16);return Or.crypto.ECDSA.biRSSigToASN1Sig(n,r)},Or.crypto.ECDSA.biRSSigToASN1Sig=function(e,t){var n=Or.asn1,r=new n.DERInteger({bigint:e}),i=new n.DERInteger({bigint:t});return new n.DERSequence({array:[r,i]}).getEncodedHex()},Or.crypto.ECDSA.getName=function(e){return"2a8648ce3d030107"===e?"secp256r1":"2b8104000a"===e?"secp256k1":"2b81040022"===e?"secp384r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(e)?"secp256r1":-1!=="|secp256k1|".indexOf(e)?"secp256k1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(e)?"secp384r1":null},void 0!==Or&&Or||(Or={}),void 0!==Or.crypto&&Or.crypto||(Or.crypto={}),Or.crypto.ECParameterDB=new function(){function e(e){return new o(e,16)}var t={},n={};this.getByName=function(e){var r=e;if(void 0!==n[r]&&(r=n[e]),void 0!==t[r])return t[r];throw"unregistered EC curve name: "+r},this.regist=function(r,i,o,s,a,c,u,l,f,h,d,p){t[r]={};var y=e(o),g=e(s),m=e(a),v=e(c),b=e(u),w=new Xt(y,g,m),S=w.decodePointHex("04"+l+f);t[r].name=r,t[r].keylen=i,t[r].curve=w,t[r].G=S,t[r].n=v,t[r].h=b,t[r].oid=d,t[r].info=p;for(var E=0;E<h.length;E++)n[h[E]]=r}},Or.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),Or.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),Or.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),Or.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),Or.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),Or.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),Or.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),Or.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),Or.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),Or.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]),void 0!==Or&&Or||(Or={}),void 0!==Or.crypto&&Or.crypto||(Or.crypto={}),Or.crypto.DSA=function(){this.p=null,this.q=null,this.g=null,this.y=null,this.x=null,this.type="DSA",this.isPrivate=!1,this.isPublic=!1,this.setPrivate=function(e,t,n,r,i){this.isPrivate=!0,this.p=e,this.q=t,this.g=n,this.y=r,this.x=i},this.setPrivateHex=function(e,t,n,r,i){var s,a,c,u,l;s=new o(e,16),a=new o(t,16),c=new o(n,16),u="string"==typeof r&&r.length>1?new o(r,16):null,l=new o(i,16),this.setPrivate(s,a,c,u,l)},this.setPublic=function(e,t,n,r){this.isPublic=!0,this.p=e,this.q=t,this.g=n,this.y=r,this.x=null},this.setPublicHex=function(e,t,n,r){var i,s,a,c;i=new o(e,16),s=new o(t,16),a=new o(n,16),c=new o(r,16),this.setPublic(i,s,a,c)},this.signWithMessageHash=function(e){var t=this.p,n=this.q,r=this.g,i=(this.y,this.x),s=Or.crypto.Util.getRandomBigIntegerMinToMax(o.ONE.add(o.ONE),n.subtract(o.ONE)),a=e.substr(0,n.bitLength()/4),c=new o(a,16),u=r.modPow(s,t).mod(n),l=s.modInverse(n).multiply(c.add(i.multiply(u))).mod(n);return Or.asn1.ASN1Util.jsonToASN1HEX({seq:[{int:{bigint:u}},{int:{bigint:l}}]})},this.verifyWithMessageHash=function(e,t){var n=this.p,r=this.q,i=this.g,s=this.y,a=this.parseASN1Signature(t),c=a[0],u=a[1],l=e.substr(0,r.bitLength()/4),f=new o(l,16);if(o.ZERO.compareTo(c)>0||c.compareTo(r)>0)throw"invalid DSA signature";if(o.ZERO.compareTo(u)>=0||u.compareTo(r)>0)throw"invalid DSA signature";var h=u.modInverse(r),d=f.multiply(h).mod(r),p=c.multiply(h).mod(r);return 0==i.modPow(d,n).multiply(s.modPow(p,n)).mod(n).mod(r).compareTo(c)},this.parseASN1Signature=function(e){try{return[new o(_r.getVbyList(e,0,[0],"02"),16),new o(_r.getVbyList(e,0,[1],"02"),16)]}catch(e){throw"malformed ASN.1 DSA signature"}},this.readPKCS5PrvKeyHex=function(e){var t,n,r,i,o,s=_r,a=s.getVbyList;if(!1===s.isASN1HEX(e))throw"not ASN.1 hex string";try{t=a(e,0,[1],"02"),n=a(e,0,[2],"02"),r=a(e,0,[3],"02"),i=a(e,0,[4],"02"),o=a(e,0,[5],"02")}catch(e){throw console.log("EXCEPTION:"+e),"malformed PKCS#1/5 plain DSA private key"}this.setPrivateHex(t,n,r,i,o)},this.readPKCS8PrvKeyHex=function(e){var t,n,r,i,o=_r,s=o.getVbyList;if(!1===o.isASN1HEX(e))throw"not ASN.1 hex string";try{t=s(e,0,[1,1,0],"02"),n=s(e,0,[1,1,1],"02"),r=s(e,0,[1,1,2],"02"),i=s(e,0,[2,0],"02")}catch(e){throw console.log("EXCEPTION:"+e),"malformed PKCS#8 plain DSA private key"}this.setPrivateHex(t,n,r,null,i)},this.readPKCS8PubKeyHex=function(e){var t,n,r,i,o=_r,s=o.getVbyList;if(!1===o.isASN1HEX(e))throw"not ASN.1 hex string";try{t=s(e,0,[0,1,0],"02"),n=s(e,0,[0,1,1],"02"),r=s(e,0,[0,1,2],"02"),i=s(e,0,[1,0],"02")}catch(e){throw console.log("EXCEPTION:"+e),"malformed PKCS#8 DSA public key"}this.setPublicHex(t,n,r,i)},this.readCertPubKeyHex=function(e,t){5!==t&&(t=6);var n,r,i,o,s=_r,a=s.getVbyList;if(!1===s.isASN1HEX(e))throw"not ASN.1 hex string";try{n=a(e,0,[0,t,0,1,0],"02"),r=a(e,0,[0,t,0,1,1],"02"),i=a(e,0,[0,t,0,1,2],"02"),o=a(e,0,[0,t,1,0],"02")}catch(e){throw console.log("EXCEPTION:"+e),"malformed X.509 certificate DSA public key"}this.setPublicHex(n,r,i,o)}};var Ir=function(){var e=function(e,t,r){return n(sr.AES,e,t,r)},t=function(e,t,r){return n(sr.TripleDES,e,t,r)},n=function(e,t,n,r){var i=sr.enc.Hex.parse(t),o=sr.enc.Hex.parse(n),s=sr.enc.Hex.parse(r),a={};a.key=o,a.iv=s,a.ciphertext=i;var c=e.decrypt(a,o,{iv:s});return sr.enc.Hex.stringify(c)},r=function(e,t,n){return o(sr.AES,e,t,n)},i=function(e,t,n){return o(sr.TripleDES,e,t,n)},o=function(e,t,n,r){var i=sr.enc.Hex.parse(t),o=sr.enc.Hex.parse(n),s=sr.enc.Hex.parse(r),a=e.encrypt(i,o,{iv:s}),c=sr.enc.Hex.parse(a.toString());return sr.enc.Base64.stringify(c)},s={"AES-256-CBC":{proc:e,eproc:r,keylen:32,ivlen:16},"AES-192-CBC":{proc:e,eproc:r,keylen:24,ivlen:16},"AES-128-CBC":{proc:e,eproc:r,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:t,eproc:i,keylen:24,ivlen:8}},a=function(e){return s[e].proc},c=function(e){var t=sr.lib.WordArray.random(e);return sr.enc.Hex.stringify(t)},u=function(e){var t={},n=e.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));n&&(t.cipher=n[1],t.ivsalt=n[2]);var r=e.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));r&&(t.type=r[1]);var i=-1,o=0;-1!=e.indexOf("\r\n\r\n")&&(i=e.indexOf("\r\n\r\n"),o=2),-1!=e.indexOf("\n\n")&&(i=e.indexOf("\n\n"),o=1);var s=e.indexOf("-----END");if(-1!=i&&-1!=s){var a=e.substring(i+2*o,s-o);a=a.replace(/\s+/g,""),t.data=a}return t},l=function(e,t,n){for(var r=n.substring(0,16),i=sr.enc.Hex.parse(r),o=sr.enc.Utf8.parse(t),a=s[e].keylen+s[e].ivlen,c="",u=null;;){var l=sr.algo.MD5.create();if(null!=u&&l.update(u),l.update(o),l.update(i),u=l.finalize(),c+=sr.enc.Hex.stringify(u),c.length>=2*a)break}var f={};return f.keyhex=c.substr(0,2*s[e].keylen),f.ivhex=c.substr(2*s[e].keylen,2*s[e].ivlen),f},f=function(e,t,n,r){var i=sr.enc.Base64.parse(e),o=sr.enc.Hex.stringify(i);return(0,s[t].proc)(o,n,r)},h=function(e,t,n,r){return(0,s[t].eproc)(e,n,r)};return{version:"1.0.5",getHexFromPEM:function(e,t){return _n(e,t)},getDecryptedKeyHexByKeyIV:function(e,t,n,r){return a(t)(e,n,r)},parsePKCS5PEM:function(e){return u(e)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(e,t,n){return l(e,t,n)},decryptKeyB64:function(e,t,n,r){return f(e,t,n,r)},getDecryptedKeyHex:function(e,t){var n=u(e),r=(n.type,n.cipher),i=n.ivsalt,o=n.data,s=l(r,t,i),a=s.keyhex;return f(o,r,a,i)},getRSAKeyFromEncryptedPKCS5PEM:function(e,t){var n=this.getDecryptedKeyHex(e,t),r=new gt;return r.readPrivateKeyFromASN1HexString(n),r},getEncryptedPKCS5PEMFromPrvKeyHex:function(e,t,n,r){if(void 0!==n&&null!=n||(n="AES-256-CBC"),void 0===s[n])throw"PKCS5PKEY unsupported algorithm: "+n;if(void 0===r||null==r){var i=s[n].ivlen;r=c(i).toUpperCase()}var o=l(n,t,r),a=o.keyhex,u=h(e,n,a,r),f=u.replace(/(.{64})/g,"$1\r\n"),d="-----BEGIN RSA PRIVATE KEY-----\r\n";return d+="Proc-Type: 4,ENCRYPTED\r\n",d+="DEK-Info: "+n+","+r+"\r\n",d+="\r\n",d+=f,d+="\r\n-----END RSA PRIVATE KEY-----\r\n"},getEncryptedPKCS5PEMFromRSAKey:function(e,t,n,r){var i=new Or.asn1.DERInteger({int:0}),o=new Or.asn1.DERInteger({bigint:e.n}),s=new Or.asn1.DERInteger({int:e.e}),a=new Or.asn1.DERInteger({bigint:e.d}),c=new Or.asn1.DERInteger({bigint:e.p}),u=new Or.asn1.DERInteger({bigint:e.q}),l=new Or.asn1.DERInteger({bigint:e.dmp1}),f=new Or.asn1.DERInteger({bigint:e.dmq1}),h=new Or.asn1.DERInteger({bigint:e.coeff}),d=new Or.asn1.DERSequence({array:[i,o,s,a,c,u,l,f,h]}),p=d.getEncodedHex();return this.getEncryptedPKCS5PEMFromPrvKeyHex(p,t,n,r)},newEncryptedPKCS5PEM:function(e,t,n,r){void 0!==t&&null!=t||(t=1024),void 0!==n&&null!=n||(n="10001"),(new gt).generate(t,n);return void 0===r||null==r?this.getEncryptedPKCS5PEMFromRSAKey(pkey,e):this.getEncryptedPKCS5PEMFromRSAKey(pkey,e,r)},getRSAKeyFromPlainPKCS8PEM:function(e){if(e.match(/ENCRYPTED/))throw"pem shall be not ENCRYPTED";var t=_n(e,"PRIVATE KEY");return this.getRSAKeyFromPlainPKCS8Hex(t)},getRSAKeyFromPlainPKCS8Hex:function(e){var t=new gt;return t.readPKCS8PrvKeyHex(e),t},parseHexOfEncryptedPKCS8:function(e){var t=_r,n=t.getChildIdx,r=t.getV,i={},o=n(e,0);if(2!=o.length)throw"malformed format: SEQUENCE(0).items != 2: "+o.length;i.ciphertext=r(e,o[1]);var s=n(e,o[0]);if(2!=s.length)throw"malformed format: SEQUENCE(0.0).items != 2: "+s.length;if("2a864886f70d01050d"!=r(e,s[0]))throw"this only supports pkcs5PBES2";var a=n(e,s[1]);if(2!=s.length)throw"malformed format: SEQUENCE(0.0.1).items != 2: "+a.length;var c=n(e,a[1]);if(2!=c.length)throw"malformed format: SEQUENCE(0.0.1.1).items != 2: "+c.length;if("2a864886f70d0307"!=r(e,c[0]))throw"this only supports TripleDES";i.encryptionSchemeAlg="TripleDES",i.encryptionSchemeIV=r(e,c[1]);var u=n(e,a[0]);if(2!=u.length)throw"malformed format: SEQUENCE(0.0.1.0).items != 2: "+u.length;if("2a864886f70d01050c"!=r(e,u[0]))throw"this only supports pkcs5PBKDF2";var l=n(e,u[1]);if(l.length<2)throw"malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+l.length;i.pbkdf2Salt=r(e,l[0]);var f=r(e,l[1]);try{i.pbkdf2Iter=parseInt(f,16)}catch(e){throw"malformed format pbkdf2Iter: "+f}return i},getPBKDF2KeyHexFromParam:function(e,t){var n=sr.enc.Hex.parse(e.pbkdf2Salt),r=e.pbkdf2Iter,i=sr.PBKDF2(t,n,{keySize:6,iterations:r});return sr.enc.Hex.stringify(i)},getPlainPKCS8HexFromEncryptedPKCS8PEM:function(e,t){var n=_n(e,"ENCRYPTED PRIVATE KEY"),r=this.parseHexOfEncryptedPKCS8(n),i=Ir.getPBKDF2KeyHexFromParam(r,t),o={};o.ciphertext=sr.enc.Hex.parse(r.ciphertext);var s=sr.enc.Hex.parse(i),a=sr.enc.Hex.parse(r.encryptionSchemeIV),c=sr.TripleDES.decrypt(o,s,{iv:a});return sr.enc.Hex.stringify(c)},getRSAKeyFromEncryptedPKCS8PEM:function(e,t){var n=this.getPlainPKCS8HexFromEncryptedPKCS8PEM(e,t);return this.getRSAKeyFromPlainPKCS8Hex(n)},getKeyFromEncryptedPKCS8PEM:function(e,t){var n=this.getPlainPKCS8HexFromEncryptedPKCS8PEM(e,t);return this.getKeyFromPlainPrivatePKCS8Hex(n)},parsePlainPrivatePKCS8Hex:function(e){var t=_r,n=t.getChildIdx,r=t.getV,i={};if(i.algparam=null,"30"!=e.substr(0,2))throw"malformed plain PKCS8 private key(code:001)";var o=n(e,0);if(3!=o.length)throw"malformed plain PKCS8 private key(code:002)";if("30"!=e.substr(o[1],2))throw"malformed PKCS8 private key(code:003)";var s=n(e,o[1]);if(2!=s.length)throw"malformed PKCS8 private key(code:004)";if("06"!=e.substr(s[0],2))throw"malformed PKCS8 private key(code:005)";if(i.algoid=r(e,s[0]),"06"==e.substr(s[1],2)&&(i.algparam=r(e,s[1])),"04"!=e.substr(o[2],2))throw"malformed PKCS8 private key(code:006)";return i.keyidx=t.getVidx(e,o[2]),i},getKeyFromPlainPrivatePKCS8PEM:function(e){var t=_n(e,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(t)},getKeyFromPlainPrivatePKCS8Hex:function(e){var t,n=this.parsePlainPrivatePKCS8Hex(e);if("2a864886f70d010101"==n.algoid)t=new gt;else if("2a8648ce380401"==n.algoid)t=new Or.crypto.DSA;else{if("2a8648ce3d0201"!=n.algoid)throw"unsupported private key algorithm";t=new Or.crypto.ECDSA}return t.readPKCS8PrvKeyHex(e),t},getRSAKeyFromPublicPKCS8PEM:function(e){var t=_n(e,"PUBLIC KEY");return this.getRSAKeyFromPublicPKCS8Hex(t)},getKeyFromPublicPKCS8PEM:function(e){var t=_n(e,"PUBLIC KEY");return this.getKeyFromPublicPKCS8Hex(t)},getKeyFromPublicPKCS8Hex:function(e){var t,n=_r.getVbyList(e,0,[0,0],"06");if("2a864886f70d010101"===n)t=new gt;else if("2a8648ce380401"===n)t=new Or.crypto.DSA;else{if("2a8648ce3d0201"!==n)throw"unsupported PKCS#8 public key hex";t=new Or.crypto.ECDSA}return t.readPKCS8PubKeyHex(e),t},parsePublicRawRSAKeyHex:function(e){var t=_r,n=t.getChildIdx,r=t.getV,i={};if("30"!=e.substr(0,2))throw"malformed RSA key(code:001)";var o=n(e,0);if(2!=o.length)throw"malformed RSA key(code:002)";if("02"!=e.substr(o[0],2))throw"malformed RSA key(code:003)";if(i.n=r(e,o[0]),"02"!=e.substr(o[1],2))throw"malformed RSA key(code:004)";return i.e=r(e,o[1]),i},parsePrivateRawRSAKeyHexAtObj:function(e,t){var n=_r,r=n.getChildIdx,i=n.getV,o=n.getIdxbyList(e,0,[2,0]),s=r(e,o);if(9!==s.length)throw"malformed PKCS#8 plain RSA private key";t.key={},t.key.n=i(e,s[1]),t.key.e=i(e,s[2]),t.key.d=i(e,s[3]),t.key.p=i(e,s[4]),t.key.q=i(e,s[5]),t.key.dp=i(e,s[6]),t.key.dq=i(e,s[7]),t.key.co=i(e,s[8])},parsePrivateRawECKeyHexAtObj:function(e,t){var n=(t.keyidx,new Or.crypto.ECDSA);n.readPKCS8PrvKeyHex(e),t.key=n.prvKeyHex,t.pubkey=n.pubKeyHex},parsePublicPKCS8Hex:function(e){var t=_r,n=t.getChildIdx,r=t.getV,i={};i.algparam=null;var o=n(e,0);if(2!=o.length)throw"outer DERSequence shall have 2 elements: "+o.length;var s=o[0];if("30"!=e.substr(s,2))throw"malformed PKCS8 public key(code:001)";var a=n(e,s);if(2!=a.length)throw"malformed PKCS8 public key(code:002)";if("06"!=e.substr(a[0],2))throw"malformed PKCS8 public key(code:003)";if(i.algoid=r(e,a[0]),"06"==e.substr(a[1],2)?i.algparam=r(e,a[1]):"30"==e.substr(a[1],2)&&(i.algparam={},i.algparam.p=t.getVbyList(e,a[1],[0],"02"),i.algparam.q=t.getVbyList(e,a[1],[1],"02"),i.algparam.g=t.getVbyList(e,a[1],[2],"02")),"03"!=e.substr(o[1],2))throw"malformed PKCS8 public key(code:004)";return i.key=r(e,o[1]).substr(2),i},getRSAKeyFromPublicPKCS8Hex:function(e){var t=new gt;return t.readPKCS8PubKeyHex(e),t}}}(),Dr=function(){var e=function(e,t,n){return r(sr.AES,e,t,n)},t=function(e,t,n){return r(sr.TripleDES,e,t,n)},n=function(e,t,n){return r(sr.DES,e,t,n)},r=function(e,t,n,r){var i=sr.enc.Hex.parse(t),o=sr.enc.Hex.parse(n),s=sr.enc.Hex.parse(r),a={};a.key=o,a.iv=s,a.ciphertext=i;var c=e.decrypt(a,o,{iv:s});return sr.enc.Hex.stringify(c)},i=function(e,t,n){return a(sr.AES,e,t,n)},o=function(e,t,n){return a(sr.TripleDES,e,t,n)},s=function(e,t,n){return a(sr.DES,e,t,n)},a=function(e,t,n,r){var i=sr.enc.Hex.parse(t),o=sr.enc.Hex.parse(n),s=sr.enc.Hex.parse(r),a=e.encrypt(i,o,{iv:s}),c=sr.enc.Hex.parse(a.toString());return sr.enc.Base64.stringify(c)},c={"AES-256-CBC":{proc:e,eproc:i,keylen:32,ivlen:16},"AES-192-CBC":{proc:e,eproc:i,keylen:24,ivlen:16},"AES-128-CBC":{proc:e,eproc:i,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:t,eproc:o,keylen:24,ivlen:8},"DES-CBC":{proc:n,eproc:s,keylen:8,ivlen:8}},u=function(e){return c[e].proc},l=function(e){var t=sr.lib.WordArray.random(e);return sr.enc.Hex.stringify(t)},f=function(e){var t={},n=e.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));n&&(t.cipher=n[1],t.ivsalt=n[2]);var r=e.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));r&&(t.type=r[1]);var i=-1,o=0;-1!=e.indexOf("\r\n\r\n")&&(i=e.indexOf("\r\n\r\n"),o=2),-1!=e.indexOf("\n\n")&&(i=e.indexOf("\n\n"),o=1);var s=e.indexOf("-----END");if(-1!=i&&-1!=s){var a=e.substring(i+2*o,s-o);a=a.replace(/\s+/g,""),t.data=a}return t},h=function(e,t,n){for(var r=n.substring(0,16),i=sr.enc.Hex.parse(r),o=sr.enc.Utf8.parse(t),s=c[e].keylen+c[e].ivlen,a="",u=null;;){var l=sr.algo.MD5.create();if(null!=u&&l.update(u),l.update(o),l.update(i),u=l.finalize(),a+=sr.enc.Hex.stringify(u),a.length>=2*s)break}var f={};return f.keyhex=a.substr(0,2*c[e].keylen),f.ivhex=a.substr(2*c[e].keylen,2*c[e].ivlen),f},d=function(e,t,n,r){var i=sr.enc.Base64.parse(e),o=sr.enc.Hex.stringify(i);return(0,c[t].proc)(o,n,r)},p=function(e,t,n,r){return(0,c[t].eproc)(e,n,r)};return{version:"1.0.0",getHexFromPEM:function(e,t){return _n(e,t)},getDecryptedKeyHexByKeyIV:function(e,t,n,r){return u(t)(e,n,r)},parsePKCS5PEM:function(e){return f(e)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(e,t,n){return h(e,t,n)},decryptKeyB64:function(e,t,n,r){return d(e,t,n,r)},getDecryptedKeyHex:function(e,t){var n=f(e),r=(n.type,n.cipher),i=n.ivsalt,o=n.data,s=h(r,t,i),a=s.keyhex;return d(o,r,a,i)},getRSAKeyFromEncryptedPKCS5PEM:function(e,t){var n=this.getDecryptedKeyHex(e,t),r=new gt;return r.readPrivateKeyFromASN1HexString(n),r},getEncryptedPKCS5PEMFromPrvKeyHex:function(e,t,n,r,i){var o="";if(void 0!==r&&null!=r||(r="AES-256-CBC"),void 0===c[r])throw"KEYUTIL unsupported algorithm: "+r;if(void 0===i||null==i){var s=c[r].ivlen;i=l(s).toUpperCase()}var a=h(r,n,i),u=a.keyhex,f=p(t,r,u,i),d=f.replace(/(.{64})/g,"$1\r\n"),o="-----BEGIN "+e+" PRIVATE KEY-----\r\n";return o+="Proc-Type: 4,ENCRYPTED\r\n",o+="DEK-Info: "+r+","+i+"\r\n",o+="\r\n",o+=d,o+="\r\n-----END "+e+" PRIVATE KEY-----\r\n"},getEncryptedPKCS5PEMFromRSAKey:function(e,t,n,r){var i=new Or.asn1.DERInteger({int:0}),o=new Or.asn1.DERInteger({bigint:e.n}),s=new Or.asn1.DERInteger({int:e.e}),a=new Or.asn1.DERInteger({bigint:e.d}),c=new Or.asn1.DERInteger({bigint:e.p}),u=new Or.asn1.DERInteger({bigint:e.q}),l=new Or.asn1.DERInteger({bigint:e.dmp1}),f=new Or.asn1.DERInteger({bigint:e.dmq1}),h=new Or.asn1.DERInteger({bigint:e.coeff}),d=new Or.asn1.DERSequence({array:[i,o,s,a,c,u,l,f,h]}),p=d.getEncodedHex();return this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",p,t,n,r)},newEncryptedPKCS5PEM:function(e,t,n,r){void 0!==t&&null!=t||(t=1024),void 0!==n&&null!=n||(n="10001");var i=new gt;i.generate(t,n);return void 0===r||null==r?this.getEncryptedPKCS5PEMFromRSAKey(i,e):this.getEncryptedPKCS5PEMFromRSAKey(i,e,r)},getRSAKeyFromPlainPKCS8PEM:function(e){if(e.match(/ENCRYPTED/))throw"pem shall be not ENCRYPTED";var t=_n(e,"PRIVATE KEY");return this.getRSAKeyFromPlainPKCS8Hex(t)},getRSAKeyFromPlainPKCS8Hex:function(e){var t=new gt;return t.readPKCS8PrvKeyHex(e),t},parseHexOfEncryptedPKCS8:function(e){var t=_r,n=t.getChildIdx,r=t.getV,i={},o=n(e,0);if(2!=o.length)throw"malformed format: SEQUENCE(0).items != 2: "+o.length;i.ciphertext=r(e,o[1]);var s=n(e,o[0]);if(2!=s.length)throw"malformed format: SEQUENCE(0.0).items != 2: "+s.length;if("2a864886f70d01050d"!=r(e,s[0]))throw"this only supports pkcs5PBES2";var a=n(e,s[1]);if(2!=s.length)throw"malformed format: SEQUENCE(0.0.1).items != 2: "+a.length;var c=n(e,a[1]);if(2!=c.length)throw"malformed format: SEQUENCE(0.0.1.1).items != 2: "+c.length;if("2a864886f70d0307"!=r(e,c[0]))throw"this only supports TripleDES";i.encryptionSchemeAlg="TripleDES",i.encryptionSchemeIV=r(e,c[1]);var u=n(e,a[0]);if(2!=u.length)throw"malformed format: SEQUENCE(0.0.1.0).items != 2: "+u.length;if("2a864886f70d01050c"!=r(e,u[0]))throw"this only supports pkcs5PBKDF2";var l=n(e,u[1]);if(l.length<2)throw"malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+l.length;i.pbkdf2Salt=r(e,l[0]);var f=r(e,l[1]);try{i.pbkdf2Iter=parseInt(f,16)}catch(e){throw"malformed format pbkdf2Iter: "+f}return i},getPBKDF2KeyHexFromParam:function(e,t){var n=sr.enc.Hex.parse(e.pbkdf2Salt),r=e.pbkdf2Iter,i=sr.PBKDF2(t,n,{keySize:6,iterations:r});return sr.enc.Hex.stringify(i)},getPlainPKCS8HexFromEncryptedPKCS8PEM:function(e,t){var n=_n(e,"ENCRYPTED PRIVATE KEY"),r=this.parseHexOfEncryptedPKCS8(n),i=Dr.getPBKDF2KeyHexFromParam(r,t),o={};o.ciphertext=sr.enc.Hex.parse(r.ciphertext);var s=sr.enc.Hex.parse(i),a=sr.enc.Hex.parse(r.encryptionSchemeIV),c=sr.TripleDES.decrypt(o,s,{iv:a});return sr.enc.Hex.stringify(c)},getRSAKeyFromEncryptedPKCS8PEM:function(e,t){var n=this.getPlainPKCS8HexFromEncryptedPKCS8PEM(e,t);return this.getRSAKeyFromPlainPKCS8Hex(n)},getKeyFromEncryptedPKCS8PEM:function(e,t){var n=this.getPlainPKCS8HexFromEncryptedPKCS8PEM(e,t);return this.getKeyFromPlainPrivatePKCS8Hex(n)},parsePlainPrivatePKCS8Hex:function(e){var t=_r,n=t.getChildIdx,r=t.getV,i={};if(i.algparam=null,"30"!=e.substr(0,2))throw"malformed plain PKCS8 private key(code:001)";var o=n(e,0);if(3!=o.length)throw"malformed plain PKCS8 private key(code:002)";if("30"!=e.substr(o[1],2))throw"malformed PKCS8 private key(code:003)";var s=n(e,o[1]);if(2!=s.length)throw"malformed PKCS8 private key(code:004)";if("06"!=e.substr(s[0],2))throw"malformed PKCS8 private key(code:005)";if(i.algoid=r(e,s[0]),"06"==e.substr(s[1],2)&&(i.algparam=r(e,s[1])),"04"!=e.substr(o[2],2))throw"malformed PKCS8 private key(code:006)";return i.keyidx=t.getVidx(e,o[2]),i},getKeyFromPlainPrivatePKCS8PEM:function(e){var t=_n(e,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(t)},getKeyFromPlainPrivatePKCS8Hex:function(e){var t,n=this.parsePlainPrivatePKCS8Hex(e);if("2a864886f70d010101"==n.algoid)t=new gt;else if("2a8648ce380401"==n.algoid)t=new Or.crypto.DSA;else{if("2a8648ce3d0201"!=n.algoid)throw"unsupported private key algorithm";t=new Or.crypto.ECDSA}return t.readPKCS8PrvKeyHex(e),t},getRSAKeyFromPublicPKCS8PEM:function(e){var t=_n(e,"PUBLIC KEY");return this.getRSAKeyFromPublicPKCS8Hex(t)},getKeyFromPublicPKCS8PEM:function(e){var t=_n(e,"PUBLIC KEY");return this.getKeyFromPublicPKCS8Hex(t)},getKeyFromPublicPKCS8Hex:function(e){var t,n=_r.getVbyList(e,0,[0,0],"06");if("2a864886f70d010101"===n)t=new gt;else if("2a8648ce380401"===n)t=new Or.crypto.DSA;else{if("2a8648ce3d0201"!==n)throw"unsupported PKCS#8 public key hex";t=new Or.crypto.ECDSA}return t.readPKCS8PubKeyHex(e),t},parsePublicRawRSAKeyHex:function(e){var t=_r,n=t.getChildIdx,r=t.getV,i={};if("30"!=e.substr(0,2))throw"malformed RSA key(code:001)";var o=n(e,0);if(2!=o.length)throw"malformed RSA key(code:002)";if("02"!=e.substr(o[0],2))throw"malformed RSA key(code:003)";if(i.n=r(e,o[0]),"02"!=e.substr(o[1],2))throw"malformed RSA key(code:004)";return i.e=r(e,o[1]),i},parsePrivateRawRSAKeyHexAtObj:function(e,t){var n=_r,r=n.getChildIdx,i=n.getV,o=n.getIdxbyList(e,0,[2,0]),s=r(e,o);if(9!==s.length)throw"malformed PKCS#8 plain RSA private key";t.key={},t.key.n=i(e,s[1]),t.key.e=i(e,s[2]),t.key.d=i(e,s[3]),t.key.p=i(e,s[4]),t.key.q=i(e,s[5]),t.key.dp=i(e,s[6]),t.key.dq=i(e,s[7]),t.key.co=i(e,s[8])},parsePrivateRawECKeyHexAtObj:function(e,t){var n=(t.keyidx,new Or.crypto.ECDSA);n.readPKCS8PrvKeyHex(e),t.key=n.prvKeyHex,t.pubkey=n.pubKeyHex},parsePublicPKCS8Hex:function(e){var t=_r,n=t.getChildIdx,r=t.getV,i={};i.algparam=null;var o=n(e,0);if(2!=o.length)throw"outer DERSequence shall have 2 elements: "+o.length;var s=o[0];if("30"!=e.substr(s,2))throw"malformed PKCS8 public key(code:001)";var a=n(e,s);if(2!=a.length)throw"malformed PKCS8 public key(code:002)";if("06"!=e.substr(a[0],2))throw"malformed PKCS8 public key(code:003)";if(i.algoid=r(e,a[0]),"06"==e.substr(a[1],2)?i.algparam=r(e,a[1]):"30"==e.substr(a[1],2)&&(i.algparam={},i.algparam.p=t.getVbyList(e,a[1],[0],"02"),i.algparam.q=t.getVbyList(e,a[1],[1],"02"),i.algparam.g=t.getVbyList(e,a[1],[2],"02")),"03"!=e.substr(o[1],2))throw"malformed PKCS8 public key(code:004)";return i.key=r(e,o[1]).substr(2),i},getRSAKeyFromPublicPKCS8Hex:function(e){var t=new gt;return t.readPKCS8PubKeyHex(e),t}}}();Dr.getKey=function(e,t,n){var r=_r,i=r.getChildIdx,s=(r.getV,r.getVbyList),a=Or.crypto,c=a.ECDSA,u=a.DSA,l=gt,f=_n;if(void 0!==l&&e instanceof l)return e;if(void 0!==c&&e instanceof c)return e;if(void 0!==u&&e instanceof u)return e;if(void 0!==e.curve&&void 0!==e.xy&&void 0===e.d)return new c({pub:e.xy,curve:e.curve});if(void 0!==e.curve&&void 0!==e.d)return new c({prv:e.d,curve:e.curve});if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0===e.d){var h=new l;return h.setPublic(e.n,e.e),h}if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0!==e.p&&void 0!==e.q&&void 0!==e.dp&&void 0!==e.dq&&void 0!==e.co&&void 0===e.qi){var h=new l;return h.setPrivateEx(e.n,e.e,e.d,e.p,e.q,e.dp,e.dq,e.co),h}if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0===e.p){var h=new l;return h.setPrivate(e.n,e.e,e.d),h}if(void 0!==e.p&&void 0!==e.q&&void 0!==e.g&&void 0!==e.y&&void 0===e.x){var h=new u;return h.setPublic(e.p,e.q,e.g,e.y),h}if(void 0!==e.p&&void 0!==e.q&&void 0!==e.g&&void 0!==e.y&&void 0!==e.x){var h=new u;return h.setPrivate(e.p,e.q,e.g,e.y,e.x),h}if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0===e.d){var h=new l;return h.setPublic(pn(e.n),pn(e.e)),h}if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0!==e.p&&void 0!==e.q&&void 0!==e.dp&&void 0!==e.dq&&void 0!==e.qi){var h=new l;return h.setPrivateEx(pn(e.n),pn(e.e),pn(e.d),pn(e.p),pn(e.q),pn(e.dp),pn(e.dq),pn(e.qi)),h}if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d){var h=new l;return h.setPrivate(pn(e.n),pn(e.e),pn(e.d)),h}if("EC"===e.kty&&void 0!==e.crv&&void 0!==e.x&&void 0!==e.y&&void 0===e.d){var d=new c({curve:e.crv}),p=d.ecparams.keylen/4,y=("0000000000"+pn(e.x)).slice(-p),g=("0000000000"+pn(e.y)).slice(-p),m="04"+y+g;return d.setPublicKeyHex(m),d}if("EC"===e.kty&&void 0!==e.crv&&void 0!==e.x&&void 0!==e.y&&void 0!==e.d){var d=new c({curve:e.crv}),p=d.ecparams.keylen/4,y=("0000000000"+pn(e.x)).slice(-p),g=("0000000000"+pn(e.y)).slice(-p),m="04"+y+g,v=("0000000000"+pn(e.d)).slice(-p);return d.setPublicKeyHex(m),d.setPrivateKeyHex(v),d}if("pkcs5prv"===n){var b,h,w=e,r=_r;if(b=i(w,0),9===b.length)h=new l,h.readPrivateKeyFromASN1HexString(e);else if(6===b.length)h=new u,h.readPKCS5PrvKeyHex(w);else{if(!(b.length>2&&"04"===w.substr(b[1],2)))throw"unsupported PKCS#1/5 hexadecimal key";h=new c,h.readPKCS5PrvKeyHex(w)}return h}if("pkcs8prv"===n){var h=Dr.getKeyFromPlainPrivatePKCS8Hex(e);return h}if("pkcs8pub"===n)return Dr.getKeyFromPublicPKCS8Hex(e);if("x509pub"===n)return nr.getPublicKeyFromCertHex(e);if(-1!=e.indexOf("-END CERTIFICATE-",0)||-1!=e.indexOf("-END X509 CERTIFICATE-",0)||-1!=e.indexOf("-END TRUSTED CERTIFICATE-",0))return nr.getPublicKeyFromCertPEM(e);if(-1!=e.indexOf("-END PUBLIC KEY-"))return Dr.getKeyFromPublicPKCS8PEM(e);if(-1!=e.indexOf("-END RSA PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED")){var S=f(e,"RSA PRIVATE KEY");return Dr.getKey(S,null,"pkcs5prv")}if(-1!=e.indexOf("-END DSA PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED")){var E=f(e,"DSA PRIVATE KEY"),k=s(E,0,[1],"02"),x=s(E,0,[2],"02"),_=s(E,0,[3],"02"),O=s(E,0,[4],"02"),C=s(E,0,[5],"02"),h=new u;return h.setPrivate(new o(k,16),new o(x,16),new o(_,16),new o(O,16),new o(C,16)),h}if(-1!=e.indexOf("-END PRIVATE KEY-"))return Dr.getKeyFromPlainPrivatePKCS8PEM(e);if(-1!=e.indexOf("-END RSA PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED"))return Dr.getRSAKeyFromEncryptedPKCS5PEM(e,t);if(-1!=e.indexOf("-END EC PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var E=Dr.getDecryptedKeyHex(e,t),h=s(E,0,[1],"04"),A=s(E,0,[2,0],"06"),P=s(E,0,[3,0],"03").substr(2),I="";if(void 0===Or.crypto.OID.oidhex2name[A])throw"undefined OID(hex) in KJUR.crypto.OID: "+A;I=Or.crypto.OID.oidhex2name[A];var d=new c({curve:I});return d.setPublicKeyHex(P),d.setPrivateKeyHex(h),d.isPublic=!1,d}if(-1!=e.indexOf("-END DSA PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var E=Dr.getDecryptedKeyHex(e,t),k=s(E,0,[1],"02"),x=s(E,0,[2],"02"),_=s(E,0,[3],"02"),O=s(E,0,[4],"02"),C=s(E,0,[5],"02"),h=new u;return h.setPrivate(new o(k,16),new o(x,16),new o(_,16),new o(O,16),new o(C,16)),h}if(-1!=e.indexOf("-END ENCRYPTED PRIVATE KEY-"))return Dr.getKeyFromEncryptedPKCS8PEM(e,t);throw"not supported argument"},Dr.generateKeypair=function(e,t){if("RSA"==e){var n=t,r=new gt;r.generate(n,"10001"),r.isPrivate=!0,r.isPublic=!0;var i=new gt,o=r.n.toString(16),s=r.e.toString(16);i.setPublic(o,s),i.isPrivate=!1,i.isPublic=!0;var a={};return a.prvKeyObj=r,a.pubKeyObj=i,a}if("EC"==e){var c=t,u=new Or.crypto.ECDSA({curve:c}),l=u.generateKeyPairHex(),r=new Or.crypto.ECDSA({curve:c});r.setPublicKeyHex(l.ecpubhex),r.setPrivateKeyHex(l.ecprvhex),r.isPrivate=!0,r.isPublic=!1;var i=new Or.crypto.ECDSA({curve:c});i.setPublicKeyHex(l.ecpubhex),i.isPrivate=!1,i.isPublic=!0;var a={};return a.prvKeyObj=r,a.pubKeyObj=i,a}throw"unknown algorithm: "+e},Dr.getPEM=function(e,t,n,r,i){function o(e){return h({seq:[{int:0},{int:{bigint:e.n}},{int:e.e},{int:{bigint:e.d}},{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.dmp1}},{int:{bigint:e.dmq1}},{int:{bigint:e.coeff}}]})}function s(e){return h({seq:[{int:1},{octstr:{hex:e.prvKeyHex}},{tag:["a0",!0,{oid:{name:e.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]}]})}function a(e){return h({seq:[{int:0},{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}},{int:{bigint:e.y}},{int:{bigint:e.x}}]})}var c=Or,u=c.asn1,l=u.DERObjectIdentifier,f=u.DERInteger,h=u.ASN1Util.newObject,d=u.x509,p=d.SubjectPublicKeyInfo,y=c.crypto,g=y.DSA,m=y.ECDSA,v=gt;if((void 0!==v&&e instanceof v||void 0!==g&&e instanceof g||void 0!==m&&e instanceof m)&&1==e.isPublic&&(void 0===t||"PKCS8PUB"==t)){var b=new p(e),w=b.getEncodedHex();return xn(w,"PUBLIC KEY")}if("PKCS1PRV"==t&&void 0!==v&&e instanceof v&&(void 0===n||null==n)&&1==e.isPrivate){var b=o(e),w=b.getEncodedHex();return xn(w,"RSA PRIVATE KEY")}if("PKCS1PRV"==t&&void 0!==m&&e instanceof m&&(void 0===n||null==n)&&1==e.isPrivate){var S=new l({name:e.curveName}),E=S.getEncodedHex(),k=s(e),x=k.getEncodedHex(),_="";return _+=xn(E,"EC PARAMETERS"),_+=xn(x,"EC PRIVATE KEY")}if("PKCS1PRV"==t&&void 0!==g&&e instanceof g&&(void 0===n||null==n)&&1==e.isPrivate){var b=a(e),w=b.getEncodedHex();return xn(w,"DSA PRIVATE KEY")}if("PKCS5PRV"==t&&void 0!==v&&e instanceof v&&void 0!==n&&null!=n&&1==e.isPrivate){var b=o(e),w=b.getEncodedHex();return void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",w,n,r)}if("PKCS5PRV"==t&&void 0!==m&&e instanceof m&&void 0!==n&&null!=n&&1==e.isPrivate){var b=s(e),w=b.getEncodedHex();return void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",w,n,r)}if("PKCS5PRV"==t&&void 0!==g&&e instanceof g&&void 0!==n&&null!=n&&1==e.isPrivate){var b=a(e),w=b.getEncodedHex();return void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",w,n,r)}var O=function(e,t){var n=C(e,t);return new h({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:n.pbkdf2Salt}},{int:n.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:n.encryptionSchemeIV}}]}]}]},{octstr:{hex:n.ciphertext}}]}).getEncodedHex()},C=function(e,t){var n=sr.lib.WordArray.random(8),r=sr.lib.WordArray.random(8),i=sr.PBKDF2(t,n,{keySize:6,iterations:100}),o=sr.enc.Hex.parse(e),s=sr.TripleDES.encrypt(o,i,{iv:r})+"",a={};return a.ciphertext=s,a.pbkdf2Salt=sr.enc.Hex.stringify(n),a.pbkdf2Iter=100,a.encryptionSchemeAlg="DES-EDE3-CBC",a.encryptionSchemeIV=sr.enc.Hex.stringify(r),a};if("PKCS8PRV"==t&&void 0!=v&&e instanceof v&&1==e.isPrivate){var A=o(e),P=A.getEncodedHex(),b=h({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:P}}]}),w=b.getEncodedHex();if(void 0===n||null==n)return xn(w,"PRIVATE KEY");var x=O(w,n);return xn(x,"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==t&&void 0!==m&&e instanceof m&&1==e.isPrivate){var A=new h({seq:[{int:1},{octstr:{hex:e.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]}]}),P=A.getEncodedHex(),b=h({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:e.curveName}}]},{octstr:{hex:P}}]}),w=b.getEncodedHex();if(void 0===n||null==n)return xn(w,"PRIVATE KEY");var x=O(w,n);return xn(x,"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==t&&void 0!==g&&e instanceof g&&1==e.isPrivate){var A=new f({bigint:e.x}),P=A.getEncodedHex(),b=h({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}}]}]},{octstr:{hex:P}}]}),w=b.getEncodedHex();if(void 0===n||null==n)return xn(w,"PRIVATE KEY");var x=O(w,n);return xn(x,"ENCRYPTED PRIVATE KEY")}throw"unsupported object nor format"},Dr.getKeyFromCSRPEM=function(e){var t=_n(e,"CERTIFICATE REQUEST");return Dr.getKeyFromCSRHex(t)},Dr.getKeyFromCSRHex=function(e){var t=Dr.parseCSRHex(e);return Dr.getKey(t.p8pubkeyhex,null,"pkcs8pub")},Dr.parseCSRHex=function(e){var t=_r,n=t.getChildIdx,r=t.getTLV,i={},o=e;if("30"!=o.substr(0,2))throw"malformed CSR(code:001)";var s=n(o,0);if(s.length<1)throw"malformed CSR(code:002)";if("30"!=o.substr(s[0],2))throw"malformed CSR(code:003)";var a=n(o,s[0]);if(a.length<3)throw"malformed CSR(code:004)";return i.p8pubkeyhex=r(o,a[2]),i},Dr.getJWKFromKey=function(e){var t={};if(e instanceof gt&&e.isPrivate)return t.kty="RSA",t.n=dn(e.n.toString(16)),t.e=dn(e.e.toString(16)),t.d=dn(e.d.toString(16)),t.p=dn(e.p.toString(16)),t.q=dn(e.q.toString(16)),t.dp=dn(e.dmp1.toString(16)),t.dq=dn(e.dmq1.toString(16)),t.qi=dn(e.coeff.toString(16)),t;if(e instanceof gt&&e.isPublic)return t.kty="RSA",t.n=dn(e.n.toString(16)),t.e=dn(e.e.toString(16)),t;if(e instanceof Or.crypto.ECDSA&&e.isPrivate){var n=e.getShortNISTPCurveName();if("P-256"!==n&&"P-384"!==n)throw"unsupported curve name for JWT: "+n;var r=e.getPublicKeyXYHex();return t.kty="EC",t.crv=n,t.x=dn(r.x),t.y=dn(r.y),t.d=dn(e.prvKeyHex),t}if(e instanceof Or.crypto.ECDSA&&e.isPublic){var n=e.getShortNISTPCurveName();if("P-256"!==n&&"P-384"!==n)throw"unsupported curve name for JWT: "+n;var r=e.getPublicKeyXYHex();return t.kty="EC",t.crv=n,t.x=dn(r.x),t.y=dn(r.y),t}throw"not supported key object"},gt.pemToBase64=function(e){return Sn(_n(e))},gt.getPosArrayOfChildrenFromHex=function(e){return _r.getChildIdx(e,0)},gt.getHexValueArrayOfChildrenFromHex=function(e){var t=_r,n=t.getV,r=gt.getPosArrayOfChildrenFromHex(e),i=n(e,r[0]),o=n(e,r[1]),s=n(e,r[2]),a=n(e,r[3]),c=n(e,r[4]),u=n(e,r[5]),l=n(e,r[6]),f=n(e,r[7]),h=n(e,r[8]),r=new Array;return r.push(i,o,s,a,c,u,l,f,h),r},gt.prototype.readPrivateKeyFromPEMString=function(e){var t=gt.pemToBase64(e),n=r(t),i=gt.getHexValueArrayOfChildrenFromHex(n);this.setPrivateEx(i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8])},gt.prototype.readPrivateKeyFromASN1HexString=function(e){this.readPKCS5PrvKeyHex(e)},gt.prototype.readPKCS5PrvKeyHex=function(e){var t=gt.getHexValueArrayOfChildrenFromHex(e);this.setPrivateEx(t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},gt.prototype.readPKCS8PrvKeyHex=function(e){var t,n,r,i,o,s,a,c,u=_r,l=u.getVbyList;if(!1===u.isASN1HEX(e))throw"not ASN.1 hex string";try{t=l(e,0,[2,0,1],"02"),n=l(e,0,[2,0,2],"02"),r=l(e,0,[2,0,3],"02"),i=l(e,0,[2,0,4],"02"),o=l(e,0,[2,0,5],"02"),s=l(e,0,[2,0,6],"02"),a=l(e,0,[2,0,7],"02"),c=l(e,0,[2,0,8],"02")}catch(e){throw"malformed PKCS#8 plain RSA private key"}this.setPrivateEx(t,n,r,i,o,s,a,c)},gt.prototype.readPKCS5PubKeyHex=function(e){var t=_r,n=t.getV;if(!1===t.isASN1HEX(e))throw"keyHex is not ASN.1 hex string";var r=t.getChildIdx(e,0);if(2!==r.length||"02"!==e.substr(r[0],2)||"02"!==e.substr(r[1],2))throw"wrong hex for PKCS#5 public key";var i=n(e,r[0]),o=n(e,r[1]);this.setPublic(i,o)},gt.prototype.readPKCS8PubKeyHex=function(e){var t=_r;if(!1===t.isASN1HEX(e))throw"not ASN.1 hex string";if("06092a864886f70d010101"!==t.getTLVbyList(e,0,[0,0]))throw"not PKCS8 RSA public key";var n=t.getTLVbyList(e,0,[1,0]);this.readPKCS5PubKeyHex(n)},gt.prototype.readCertPubKeyHex=function(e,t){var n,r;n=new nr,n.readCertHex(e),r=n.getPublicKeyHex(),this.readPKCS8PubKeyHex(r)};var Rr=new RegExp("");Rr.compile("[^0-9a-f]","gi"),gt.prototype.signWithMessageHash=qn,gt.prototype.signString=Hn,gt.prototype.signStringWithSHA1=Un,gt.prototype.signStringWithSHA256=Kn,gt.prototype.sign=Hn,gt.prototype.signWithSHA1=Un,gt.prototype.signWithSHA256=Kn,gt.prototype.signWithMessageHashPSS=Jn,gt.prototype.signStringPSS=zn,gt.prototype.signPSS=zn,gt.SALT_LEN_HLEN=-1,gt.SALT_LEN_MAX=-2,gt.prototype.verifyWithMessageHash=$n,gt.prototype.verifyString=Zn,gt.prototype.verifyHexSignatureForMessage=Qn,gt.prototype.verify=Zn,gt.prototype.verifyHexSignatureForByteArrayMessage=Qn,gt.prototype.verifyWithMessageHashPSS=tr,gt.prototype.verifyStringPSS=er,gt.prototype.verifyPSS=er,gt.SALT_LEN_RECOVER=-2,nr.pemToBase64=function(e){return Sn(_n(e))},nr.pemToHex=function(e){return _n(e)},nr.getSubjectPublicKeyPosFromCertHex=function(e){var t=nr.getSubjectPublicKeyInfoPosFromCertHex(e);if(-1==t)return-1;var n=_r.getChildIdx(e,t);if(2!=n.length)return-1;var r=n[1];if("03"!=e.substr(r,2))return-1;var i=_r.getVidx(e,r);return"00"!=e.substr(i,2)?-1:i+2},nr.getSubjectPublicKeyInfoPosFromCertHex=function(e){var t=new nr;return t.readCertHex(e),t.getPublicKeyIdx()},nr.getPublicKeyHexArrayFromCertHex=function(e){var t,n,r,i,o=_r;return t=nr.getSubjectPublicKeyPosFromCertHex(e),n=o.getChildIdx(e,t),2!=n.length?[]:(r=o.getV(e,n[0]),i=o.getV(e,n[1]),null!=r&&null!=i?[r,i]:[])},nr.getHexTbsCertificateFromCert=function(e){return _r.getVidx(e,0)},nr.getPublicKeyHexArrayFromCertPEM=function(e){var t=_n(e);return nr.getPublicKeyHexArrayFromCertHex(t)},nr.hex2dn=function(e,t){if(void 0===t&&(t=0),"30"!==e.substr(t,2))throw"malformed DN";for(var n=new Array,r=_r.getChildIdx(e,t),i=0;i<r.length;i++)n.push(nr.hex2rdn(e,r[i]));return n=n.map(function(e){return e.replace("/","\\/")}),"/"+n.join("/")},nr.hex2rdn=function(e,t){if(void 0===t&&(t=0),"31"!==e.substr(t,2))throw"malformed RDN";for(var n=new Array,r=_r.getChildIdx(e,t),i=0;i<r.length;i++)n.push(nr.hex2attrTypeValue(e,r[i]));return n=n.map(function(e){return e.replace("+","\\+")}),n.join("+")},nr.hex2attrTypeValue=function(e,t){var n=_r,r=n.getV;if(void 0===t&&(t=0),"30"!==e.substr(t,2))throw"malformed attribute type and value";var i=n.getChildIdx(e,t);2!==i.length||e.substr(i[0],2);var o=r(e,i[0]),s=Or.asn1.ASN1Util.oidHexToInt(o);return Or.asn1.x509.OID.oid2atype(s)+"="+bn(r(e,i[1]))},nr.getPublicKeyFromCertHex=function(e){var t=new nr;return t.readCertHex(e),t.getPublicKey()},nr.getPublicKeyFromCertPEM=function(e){var t=new nr;return t.readCertPEM(e),t.getPublicKey()},nr.getPublicKeyInfoPropOfCertPEM=function(e){var t,n,r=_r,i=r.getVbyList,o={};return o.algparam=null,t=new nr,t.readCertPEM(e),n=t.getPublicKeyHex(),o.keyhex=i(n,0,[1],"03").substr(2),o.algoid=i(n,0,[0,0],"06"),"2a8648ce3d0201"===o.algoid&&(o.algparam=i(n,0,[0,1],"06")),o},nr.getPublicKeyInfoPosOfCertHEX=function(e){var t=new nr;return t.readCertHex(e),t.getPublicKeyIdx()},nr.getV3ExtInfoListOfCertHex=function(e){for(var t=_r,n=t.getIdxbyList(e,0,[0,7,0],"30"),r=t.getChildIdx(e,n),i=r.length,o=new Array(i),s=0;s<i;s++)o[s]=nr.getV3ExtItemInfo_AtObj(e,r[s]);return o},nr.getV3ExtItemInfo_AtObj=function(e,t){var n=_r,r={};r.posTLV=t;var i=n.getChildIdx(e,t);if(2!=i.length&&3!=i.length)throw"malformed X.509v3 Ext (code:001)";if("06"!=e.substr(i[0],2))throw"malformed X.509v3 Ext (code:002)";var o=n.getV(e,i[0]);r.oid=n.hextooidstr(o),r.critical=!1,3==i.length&&(r.critical=!0);var s=i[i.length-1];if("04"!=e.substr(s,2))throw"malformed X.509v3 Ext (code:003)";return r.posV=n.getVidx(e,s),r},nr.getHexOfTLV_V3ExtValue=function(e,t){var n=nr.getPosOfTLV_V3ExtValue(e,t);return-1==n?null:_r.getTLV(e,n)},nr.getHexOfV_V3ExtValue=function(e,t){var n=nr.getPosOfTLV_V3ExtValue(e,t);return-1==n?null:_r.getV(e,n)},nr.getPosOfTLV_V3ExtValue=function(e,t){var n=t;if(t.match(/^[0-9.]+$/)||(n=Or.asn1.x509.OID.name2oid(t)),""==n)return-1;for(var r=nr.getV3ExtInfoListOfCertHex(e),i=0;i<r.length;i++){var o=r[i];if(o.oid==n)return o.posV}return-1},nr.getExtBasicConstraints=function(e){var t=new nr;return t.readCertHex(e),t.getExtBasicConstraints()},nr.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],nr.getExtKeyUsageBin=function(e){var t=new nr;return t.readCertHex(e),t.getExtKeyUsageBin()},nr.getExtKeyUsageString=function(e){var t=new nr;return t.readCertHex(e),t.getExtKeyUsageString()},nr.getExtSubjectKeyIdentifier=function(e){var t=new nr;return t.readCertHex(e),t.getExtSubjectKeyIdentifier()},nr.getExtAuthorityKeyIdentifier=function(e){var t=new nr;return t.readCertHex(e),t.getExtAuthorityKeyIdentifier()},nr.getExtExtKeyUsageName=function(e){var t=new nr;return t.readCertHex(e),t.getExtExtKeyUsageName()},nr.getExtSubjectAltName=function(e){var t=new nr;return t.readCertHex(e),t.getExtSubjectAltName()},nr.getExtCRLDistributionPointsURI=function(e){var t=new nr;return t.readCertHex(e),t.getExtCRLDistributionPointsURI()},nr.getExtAIAInfo=function(e){var t=new nr;return t.readCertHex(e),t.getExtAIAInfo()},nr.getSignatureAlgorithmName=function(e){var t=new nr;return t.readCertHex(e),t.getSignatureAlgorithmName()},nr.getSignatureValueHex=function(e){var t=new nr;return t.readCertHex(e),t.getSignatureValueHex()},nr.getSerialNumberHex=function(e){var t=new nr;return t.readCertHex(e),t.getSerialNumberHex()},nr.verifySignature=function(e,t){var n=new nr;return n.readCertHex(e),n.verifySignature(t)},void 0!==Or&&Or||(Or={}),void 0!==Or.jws&&Or.jws||(Or.jws={}),Or.jws.JWS=function(){var e=Or,t=e.jws.JWS,n=t.isSafeJSONString;this.parseJWS=function(e,t){if(void 0===this.parsedJWS||!t&&void 0===this.parsedJWS.sigvalH){var r=e.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==r)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var i=r[1],o=r[2],s=r[3],a=i+"."+o;if(this.parsedJWS={},this.parsedJWS.headB64U=i,this.parsedJWS.payloadB64U=o,this.parsedJWS.sigvalB64U=s,this.parsedJWS.si=a,!t){var c=pn(s),u=ht(c,16);this.parsedJWS.sigvalH=c,this.parsedJWS.sigvalBI=u}var l=Ar(i),f=Ar(o);if(this.parsedJWS.headS=l,this.parsedJWS.payloadS=f,!n(l,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+l}}},Or.jws.JWS.sign=function(e,t,n,r,i){var o,s,a,c=Or,u=c.jws,l=u.JWS,f=l.readSafeJSONString,h=l.isSafeJSONString,d=c.crypto,p=(d.ECDSA,d.Mac),y=d.Signature,g=JSON;if("string"!=typeof t&&"object"!=typeof t)throw"spHeader must be JSON string or object: "+t;if("object"==typeof t&&(s=t,o=g.stringify(s)),"string"==typeof t){if(o=t,!h(o))throw"JWS Head is not safe JSON string: "+o;s=f(o)}if(a=n,"object"==typeof n&&(a=g.stringify(n)),""!=e&&null!=e||void 0===s.alg||(e=s.alg),""!=e&&null!=e&&void 0===s.alg&&(s.alg=e,o=g.stringify(s)),e!==s.alg)throw"alg and sHeader.alg doesn't match: "+e+"!="+s.alg;var m=null;if(void 0===l.jwsalg2sigalg[e])throw"unsupported alg name: "+e;m=l.jwsalg2sigalg[e];var v=Cr(o),b=Cr(a),w=v+"."+b,S="";if("Hmac"==m.substr(0,4)){if(void 0===r)throw"mac key shall be specified for HS* alg";var E=new p({alg:m,prov:"cryptojs",pass:r});E.updateString(w),S=E.doFinal()}else if(-1!=m.indexOf("withECDSA")){var k=new y({alg:m});k.init(r,i),k.updateString(w),hASN1Sig=k.sign(),S=Or.crypto.ECDSA.asn1SigToConcatSig(hASN1Sig)}else if("none"!=m){var k=new y({alg:m});k.init(r,i),k.updateString(w),S=k.sign()}return w+"."+dn(S)},Or.jws.JWS.verify=function(e,t,n){var r=Or,i=r.jws,o=i.JWS,s=o.readSafeJSONString,a=r.crypto,c=a.ECDSA,u=a.Mac,l=a.Signature,f=gt,h=e.split("."),d=h[0],p=h[1],y=d+"."+p,g=pn(h[2]),m=s(Ar(h[0])),v=null,b=null;if(void 0===m.alg)throw"algorithm not specified in header";if(v=m.alg,b=v.substr(0,2),null!=n&&"[object Array]"===Object.prototype.toString.call(n)&&n.length>0){if(-1==(":"+n.join(":")+":").indexOf(":"+v+":"))throw"algorithm '"+v+"' not accepted in the list"}if("none"!=v&&null===t)throw"key shall be specified to verify.";if("string"==typeof t&&-1!=t.indexOf("-----BEGIN ")&&(t=Dr.getKey(t)),!("RS"!=b&&"PS"!=b||t instanceof f))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==b&&!(t instanceof c))throw"key shall be a ECDSA obj for ES* algs";var w=null;if(void 0===o.jwsalg2sigalg[m.alg])throw"unsupported alg name: "+v;if("none"==(w=o.jwsalg2sigalg[v]))throw"not supported";if("Hmac"==w.substr(0,4)){var S=null;if(void 0===t)throw"hexadecimal key shall be specified for HMAC";var E=new u({alg:w,pass:t});return E.updateString(y),S=E.doFinal(),g==S}if(-1!=w.indexOf("withECDSA")){var k=null;try{k=c.concatSigToASN1Sig(g)}catch(e){return!1}var x=new l({alg:w});return x.init(t),x.updateString(y),x.verify(k)}var x=new l({alg:w});return x.init(t),x.updateString(y),x.verify(g)},Or.jws.JWS.parse=function(e){var t,n,r,i=e.split("."),o={};if(2!=i.length&&3!=i.length)throw"malformed sJWS: wrong number of '.' splitted elements";return t=i[0],n=i[1],3==i.length&&(r=i[2]),o.headerObj=Or.jws.JWS.readSafeJSONString(Ar(t)),o.payloadObj=Or.jws.JWS.readSafeJSONString(Ar(n)),o.headerPP=JSON.stringify(o.headerObj,null,"  "),null==o.payloadObj?o.payloadPP=Ar(n):o.payloadPP=JSON.stringify(o.payloadObj,null,"  "),void 0!==r&&(o.sigHex=pn(r)),o},Or.jws.JWS.verifyJWT=function(e,t,n){var r=Or,i=r.jws,o=i.JWS,s=o.readSafeJSONString,a=o.inArray,c=o.includedArray,u=e.split("."),l=u[0],f=u[1],h=(pn(u[2]),s(Ar(l))),d=s(Ar(f));if(void 0===h.alg)return!1;if(void 0===n.alg)throw"acceptField.alg shall be specified";if(!a(h.alg,n.alg))return!1;if(void 0!==d.iss&&"object"==typeof n.iss&&!a(d.iss,n.iss))return!1;if(void 0!==d.sub&&"object"==typeof n.sub&&!a(d.sub,n.sub))return!1;if(void 0!==d.aud&&"object"==typeof n.aud)if("string"==typeof d.aud){if(!a(d.aud,n.aud))return!1}else if("object"==typeof d.aud&&!c(d.aud,n.aud))return!1;var p=i.IntDate.getNow();return void 0!==n.verifyAt&&"number"==typeof n.verifyAt&&(p=n.verifyAt),void 0!==n.gracePeriod&&"number"==typeof n.gracePeriod||(n.gracePeriod=0),!(void 0!==d.exp&&"number"==typeof d.exp&&d.exp+n.gracePeriod<p)&&(!(void 0!==d.nbf&&"number"==typeof d.nbf&&p<d.nbf-n.gracePeriod)&&(!(void 0!==d.iat&&"number"==typeof d.iat&&p<d.iat-n.gracePeriod)&&((void 0===d.jti||void 0===n.jti||d.jti===n.jti)&&!!o.verify(e,t,n.alg))))},Or.jws.JWS.includedArray=function(e,t){var n=Or.jws.JWS.inArray;if(null===e)return!1;if("object"!=typeof e)return!1;if("number"!=typeof e.length)return!1;for(var r=0;r<e.length;r++)if(!n(e[r],t))return!1;return!0},Or.jws.JWS.inArray=function(e,t){if(null===t)return!1;if("object"!=typeof t)return!1;if("number"!=typeof t.length)return!1;for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1},Or.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},Or.jws.JWS.isSafeJSONString=function(e,t,n){var r=null;try{return"object"!=typeof(r=xr(e))?0:r.constructor===Array?0:(t&&(t[n]=r),1)}catch(e){return 0}},Or.jws.JWS.readSafeJSONString=function(e){var t=null;try{return t=xr(e),"object"!=typeof t?null:t.constructor===Array?null:t}catch(e){return null}},Or.jws.JWS.getEncodedSignatureValueFromJWS=function(e){var t=e.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==t)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return t[1]},Or.jws.JWS.getJWKthumbprint=function(e){if("RSA"!==e.kty&&"EC"!==e.kty&&"oct"!==e.kty)throw"unsupported algorithm for JWK Thumprint";var t="{";if("RSA"===e.kty){if("string"!=typeof e.n||"string"!=typeof e.e)throw"wrong n and e value for RSA key";t+='"e":"'+e.e+'",',t+='"kty":"'+e.kty+'",',t+='"n":"'+e.n+'"}'}else if("EC"===e.kty){if("string"!=typeof e.crv||"string"!=typeof e.x||"string"!=typeof e.y)throw"wrong crv, x and y value for EC key";t+='"crv":"'+e.crv+'",',t+='"kty":"'+e.kty+'",',t+='"x":"'+e.x+'",',t+='"y":"'+e.y+'"}'}else if("oct"===e.kty){if("string"!=typeof e.k)throw"wrong k value for oct(symmetric) key";t+='"kty":"'+e.kty+'",',t+='"k":"'+e.k+'"}'}var n=wn(t);return dn(Or.crypto.Util.hashHex(n,"sha256"))},Or.jws.IntDate={},Or.jws.IntDate.get=function(e){var t=Or.jws.IntDate,n=t.getNow,r=t.getZulu;if("now"==e)return n();if("now + 1hour"==e)return n()+3600;if("now + 1day"==e)return n()+86400;if("now + 1month"==e)return n()+2592e3;if("now + 1year"==e)return n()+31536e3;if(e.match(/Z$/))return r(e);if(e.match(/^[0-9]+$/))return parseInt(e);throw"unsupported format: "+e},Or.jws.IntDate.getZulu=function(e){return Pn(e)},Or.jws.IntDate.getNow=function(){return~~(new Date/1e3)},Or.jws.IntDate.intDate2UTCString=function(e){return new Date(1e3*e).toUTCString()},Or.jws.IntDate.intDate2Zulu=function(e){var t=new Date(1e3*e);return("0000"+t.getUTCFullYear()).slice(-4)+("00"+(t.getUTCMonth()+1)).slice(-2)+("00"+t.getUTCDate()).slice(-2)+("00"+t.getUTCHours()).slice(-2)+("00"+t.getUTCMinutes()).slice(-2)+("00"+t.getUTCSeconds()).slice(-2)+"Z"},void 0!==Or&&Or||(Or={}),void 0!==Or.jws&&Or.jws||(Or.jws={}),Or.jws.JWSJS=function(){var e=Or,t=e.jws,n=t.JWS,r=n.readSafeJSONString;this.aHeader=[],this.sPayload="",this.aSignature=[],this.init=function(){this.aHeader=[],this.sPayload=void 0,this.aSignature=[]},this.initWithJWS=function(e){this.init();var t=e.split(".");if(3!=t.length)throw"malformed input JWS";this.aHeader.push(t[0]),this.sPayload=t[1],this.aSignature.push(t[2])},this.addSignature=function(e,t,n,r){if(void 0===this.sPayload||null===this.sPayload)throw"there's no JSON-JS signature to add.";var i=this.aHeader.length;if(this.aHeader.length!=this.aSignature.length)throw"aHeader.length != aSignature.length";try{var o=Or.jws.JWS.sign(e,t,this.sPayload,n,r),s=o.split(".");s[0],s[2];this.aHeader.push(s[0]),this.aSignature.push(s[2])}catch(e){throw this.aHeader.length>i&&this.aHeader.pop(),this.aSignature.length>i&&this.aSignature.pop(),"addSignature failed: "+e}},this.addSignatureByHeaderKey=function(e,t){var n=Ar(this.sPayload),r=new Or.jws.JWS;r.generateJWSByP1PrvKey(e,n,t);this.aHeader.push(r.parsedJWS.headB64U),this.aSignature.push(r.parsedJWS.sigvalB64U)},this.addSignatureByHeaderPayloadKey=function(e,t,n){var r=new Or.jws.JWS;r.generateJWSByP1PrvKey(e,t,n);this.aHeader.push(r.parsedJWS.headB64U),this.sPayload=r.parsedJWS.payloadB64U,this.aSignature.push(r.parsedJWS.sigvalB64U)},this.verifyAll=function(e){if(this.aHeader.length!==e.length||this.aSignature.length!==e.length)return!1;for(var t=0;t<e.length;t++){var n=e[t];if(2!==n.length)return!1;if(!1===this.verifyNth(t,n[0],n[1]))return!1}return!0},this.verifyNth=function(e,t,r){if(this.aHeader.length<=e||this.aSignature.length<=e)return!1;var i=this.aHeader[e],o=this.aSignature[e],s=i+"."+this.sPayload+"."+o,a=!1;try{a=n.verify(s,t,r)}catch(e){return!1}return a},this.verifyWithCerts=function(e){if(this.aHeader.length!=e.length)throw"num headers does not match with num certs";if(this.aSignature.length!=e.length)throw"num signatures does not match with num certs";for(var t=this.sPayload,n="",r=0;r<e.length;r++){var i=e[r],o=this.aHeader[r],s=this.aSignature[r],a=o+"."+t+"."+s,c=new Or.jws.JWS;try{1!=c.verifyJWSByPemX509Cert(a,i)&&(n+=r+1+"th signature unmatch. ")}catch(e){n+=r+1+"th signature fail("+e+"). "}}if(""==n)return 1;throw n},this.readJWSJS=function(e){if("string"==typeof e){var t=r(e);if(null==t)throw"argument is not safe JSON object string";this.aHeader=t.headers,this.sPayload=t.payload,this.aSignature=t.signatures}else try{if(!(e.headers.length>0))throw"malformed header";if(this.aHeader=e.headers,"string"!=typeof e.payload)throw"malformed signatures";if(this.sPayload=e.payload,!(e.signatures.length>0))throw"malformed signatures";this.signatures=e.signatures}catch(e){throw"malformed JWS-JS JSON object: "+e}},this.getJSON=function(){return{headers:this.aHeader,payload:this.sPayload,signatures:this.aSignature}},this.isEmpty=function(){return 0==this.aHeader.length?1:0}},t.SecureRandom=ft,t.rng_seed_time=ct,t.BigInteger=o,t.RSAKey=gt,t.ECDSA=Or.crypto.ECDSA,t.DSA=Or.crypto.DSA,t.Signature=Or.crypto.Signature,t.MessageDigest=Or.crypto.MessageDigest,t.Mac=Or.crypto.Mac,t.Cipher=Or.crypto.Cipher,t.KEYUTIL=Dr,t.ASN1HEX=_r,t.X509=nr,t.CryptoJS=sr,t.b64tohex=r,t.b64toBA=i,t.stoBA=rn,t.BAtos=on,t.BAtohex=sn,t.stohex=an,t.stob64=cn,t.stob64u=un,t.b64utos=ln,t.b64tob64u=fn,t.b64utob64=hn,t.hex2b64=n,t.hextob64u=dn,t.b64utohex=pn,t.b64tohex=r,t.utf8tob64u=Cr,t.b64utoutf8=Ar,t.utf8tob64=yn,t.b64toutf8=gn,t.utf8tohex=mn,t.hextoutf8=vn,t.hextorstr=bn,t.rstrtohex=wn,t.hextob64=Sn,t.hextob64nl=En,t.b64nltohex=kn,t.hextopem=xn,t.pemtohex=_n,t.hextoArrayBuffer=On,t.ArrayBuffertohex=Cn,t.zulutomsec=An,t.zulutosec=Pn,t.zulutodate=In,t.datetozulu=Dn,t.uricmptohex=Rn,t.hextouricmp=jn,t.encodeURIComponentAll=Tn,t.newline_toUnix=Nn,t.newline_toDos=Bn,t.hextoposhex=Fn,t.intarystrtohex=Mn,t.strdiffidx=Pr,t.KJUR=Or,t.crypto=Or.crypto,t.asn1=Or.asn1,t.jws=Or.jws,t.lang=Or.lang}).call(t,n(0).Buffer)},function(e,t,n){"use strict";function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var s=i.get;if(void 0!==s)return s.call(r)},a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(3).getLogger("hash"),l=n(301),f=l.sha3_256,h=l.sha3_384,d=l.shake_256,p=n(36),y=function(){function e(){o(this,e),this.reset()}return c(e,[{key:"hash",value:function(e){return this.reset().update(e).finalize()}},{key:"reset",value:function(){return this}},{key:"update",value:function(e){return u.debug("update("+(void 0===e?"undefined":a(e))+")"),this._hash.update(e),this}},{key:"finalize",value:function(){}}]),e}(),g=function(e){function t(){o(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.blockSize=512,e}return i(t,e),c(t,[{key:"reset",value:function(){return this._hash=p.createHash("sha256"),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"reset",this).call(this)}},{key:"finalize",value:function(){var e=this._hash.digest("hex");return this.reset(),e}}]),t}(y),m=function(e){function t(){o(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.blockSize=1024,e}return i(t,e),c(t,[{key:"reset",value:function(){return this._hash=p.createHash("sha384"),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"reset",this).call(this)}},{key:"finalize",value:function(){var e=this._hash.digest("hex");return this.reset(),e}}]),t}(y),v=function(e){function t(){o(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.blockSize=1088,e}return i(t,e),c(t,null,[{key:"hashSimple",value:function(e){return f(e)}}]),c(t,[{key:"reset",value:function(){return this._hash=f.create(),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"reset",this).call(this)}},{key:"finalize",value:function(){var e=this._hash.hex();return this.reset(),e}}]),t}(y),b=function(e){function t(){o(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.blockSize=832,e}return i(t,e),c(t,null,[{key:"hashSimple",value:function(e){return h(e)}}]),c(t,[{key:"reset",value:function(){return this._hash=h.create(),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"reset",this).call(this)}},{key:"finalize",value:function(){var e=this._hash.hex();return this.reset(),e}}]),t}(y);t.hash_sha3_256=v,t.hash_sha3_384=b,t.hash_sha2_256=g,t.hash_sha2_384=m,t.sha2_256=function(e){return(new g).hash(e)},t.sha3_256=f,t.sha2_384=function(e){return(new m).hash(e)},t.sha3_384=h,t.shake_256=d},function(e,t,n){(function(e){var r=n(303),i=n(145),o=n(146),s=n(305),a=n(26),c=t;c.request=function(t,n){t="string"==typeof t?a.parse(t):o(t);var i=-1===e.location.protocol.search(/^https?:$/)?"http:":"",s=t.protocol||i,c=t.hostname||t.host,u=t.port,l=t.path||"/";c&&-1!==c.indexOf(":")&&(c="["+c+"]"),t.url=(c?s+"//"+c:"")+(u?":"+u:"")+l,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var f=new r(t);return n&&f.on("response",n),f},c.get=function(e,t){var n=c.request(e,t);return n.end(),n},c.ClientRequest=r,c.IncomingMessage=i.IncomingMessage,c.Agent=function(){},c.Agent.defaultMaxSockets=4,c.globalAgent=new c.Agent,c.STATUS_CODES=s,c.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(t,n(5))},function(e,t,n){"use strict";function r(e){if(void 0===e||null===e)throw new Error('Missing required argument "registrar"');if("function"!=typeof e.getSigningIdentity)throw new Error('Argument "registrar" must be an instance of the class "User", but is found to be missing a method "getSigningIdentity()"')}e.exports.checkRegistrar=r},function(e,t,n){"use strict";e.exports.LSCC="lscc",e.exports.QSCC="qscc",e.exports.CSCC="cscc",e.exports.SYSTEM_CHANNEL_NAME="testchainid",e.exports.NetworkConfig={},e.exports.NetworkConfig.ENDORSING_PEER_ROLE="endorsingPeer",e.exports.NetworkConfig.CHAINCODE_QUERY_ROLE="chaincodeQuery",e.exports.NetworkConfig.LEDGER_QUERY_ROLE="ledgerQuery",e.exports.NetworkConfig.EVENT_SOURCE_ROLE="eventSource",e.exports.NetworkConfig.ROLES=[e.exports.NetworkConfig.ENDORSING_PEER_ROLE,e.exports.NetworkConfig.CHAINCODE_QUERY_ROLE,e.exports.NetworkConfig.LEDGER_QUERY_ROLE,e.exports.NetworkConfig.EVENT_SOURCE_ROLE]},function(e,t,n){"use strict";(function(t){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){return c.createHash("sha256").update(e).digest()}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(312),a=n(26),c=n(36),u=(n(4),n(3)),l=u.getLogger("Remote.js"),f=(n(78),function(){function e(t,n){r(this,e);var i=null,o=null;this.clientCert=null;var s="",a="";n&&n.pem&&(i=n.pem),n&&n.clientKey&&(o=n.clientKey),n&&n.clientCert&&(this.clientCert=n.clientCert),n&&n["ssl-target-name-override"]&&(s=n["ssl-target-name-override"],a=n["ssl-target-name-override"]),this._options={},""!==s&&(this._options["grpc.ssl_target_name_override"]=s),""!==a&&(this._options["grpc.default_authority"]=a);for(var c in n||{})n.hasOwnProperty(c)&&"pem"!==c&&"ssl-target-name-override"!==c&&(this._options[c]=n[c]);if(!this._options["grpc.max_receive_message_length"]){var l=u.getConfigSetting("grpc.max_receive_message_length");l||(l=u.getConfigSetting("grpc-max-receive-message-length")),(l>0||-1===l)&&(this._options["grpc.max_receive_message_length"]=l)}if(!this._options["grpc.max_send_message_length"]){var f=u.getConfigSetting("grpc.max_send_message_length");f||(f=u.getConfigSetting("grpc-max-send-message-length")),(f>0||-1===f)&&(this._options["grpc.max_send_message_length"]=f)}this._url=t,this._endpoint=new h(t,i,o,this.clientCert),this._request_timeout=3e4,n&&n["request-timeout"]?this._request_timeout=n["request-timeout"]:this._request_timeout=u.getConfigSetting("request-timeout",3e4)}return o(e,[{key:"getName",value:function(){return this._name}},{key:"setName",value:function(e){this._name=e}},{key:"getUrl",value:function(){return l.debug("getUrl::"+this._url),this._url}},{key:"getClientCertHash",value:function(){var e=null;if(this.clientCert){e=i(u.pemToDER(this.clientCert))}return e}},{key:"toString",value:function(){return" Remote : {url:"+this._url+"}"}}]),e}());e.exports=f;var h=function e(n,i,o,c){r(this,e);var u=a.parse(n,!0),l=void 0;if(u.protocol&&(l=u.protocol.toLowerCase().slice(0,-1)),"grpc"===l)this.addr=u.host,this.creds=s.credentials.createInsecure();else{if("grpcs"!==l){var f=new Error;throw f.name="InvalidProtocol",f.message="Invalid protocol: "+l+".  URLs must begin with grpc:// or grpcs://",f}if("string"!=typeof i)throw new Error("PEM encoded certificate is required.");var h=t.concat([t.from(i),t.from("\0")]);if(o||c){if(!o||!c)throw new Error("clientKey and clientCert are both required.");if("string"!=typeof o||"string"!=typeof c)throw new Error("PEM encoded clientKey and clientCert are required.");var d=t.from(o),p=t.concat([t.from(c),t.from("\0")]);this.creds=s.credentials.createSsl(h,d,p)}else this.creds=s.credentials.createSsl(h);this.addr=u.host}};e.exports.Endpoint=h}).call(t,n(0).Buffer)},function(e,t,n){"use strict";function r(e,t){return new h(e,t)}function i(e){var t=e.get("grpc-status")||[];if(t.length>0)try{var n=t[0];return parseInt(n,10)}catch(e){return null}return null}Object.defineProperty(t,"__esModule",{value:!0});var o=n(22),s=n(151),a=n(152),c=n(43),u=n(44),l=n(150),f=n(323);t.client=r;var h=function(){function e(e,t){this.started=!1,this.sentFirstMessage=!1,this.completed=!1,this.closed=!1,this.finishedSending=!1,this.onHeadersCallbacks=[],this.onMessageCallbacks=[],this.onEndCallbacks=[],this.parser=new s.ChunkParser,this.methodDefinition=e,this.props=t,this.createTransport()}return e.prototype.createTransport=function(){var e=this.props.host+"/"+this.methodDefinition.service.serviceName+"/"+this.methodDefinition.methodName,t={methodDefinition:this.methodDefinition,debug:this.props.debug||!1,url:e,onHeaders:this.onTransportHeaders.bind(this),onChunk:this.onTransportChunk.bind(this),onEnd:this.onTransportEnd.bind(this)},n=this.props.transport;if(n){var r=n(t);if(r instanceof Error)throw r;this.transport=r}else{var i=l.DefaultTransportFactory(t);if(i instanceof Error)throw i;this.transport=i}},e.prototype.onTransportHeaders=function(e,t){if(this.props.debug&&c.debug("onHeaders",e,t),this.closed)return void(this.props.debug&&c.debug("grpc.onHeaders received after request was closed - ignoring"));if(0===t);else{this.responseHeaders=e,this.props.debug&&c.debug("onHeaders.responseHeaders",JSON.stringify(this.responseHeaders,null,2));var n=a.httpStatusToCode(t);this.props.debug&&c.debug("onHeaders.code",n);var r=e.get("grpc-message")||[];if(this.props.debug&&c.debug("onHeaders.gRPCMessage",r),n!==a.Code.OK){var i=this.decodeGRPCStatus(r[0]);return void this.rawOnError(n,i)}this.rawOnHeaders(e)}},e.prototype.onTransportChunk=function(e){var t=this;if(this.closed)return void(this.props.debug&&c.debug("grpc.onChunk received after request was closed - ignoring"));var n=[];try{n=this.parser.parse(e)}catch(e){return this.props.debug&&c.debug("onChunk.parsing error",e,e.message),void this.rawOnError(a.Code.Internal,"parsing error: "+e.message)}n.forEach(function(e){if(e.chunkType===s.ChunkType.MESSAGE){var n=t.methodDefinition.responseType.deserializeBinary(e.data);t.rawOnMessage(n)}else e.chunkType===s.ChunkType.TRAILERS&&(t.responseHeaders?(t.responseTrailers=new o.Metadata(e.trailers),t.props.debug&&c.debug("onChunk.trailers",t.responseTrailers)):(t.responseHeaders=new o.Metadata(e.trailers),t.rawOnHeaders(t.responseHeaders)))})},e.prototype.onTransportEnd=function(){if(this.props.debug&&c.debug("grpc.onEnd"),this.closed)return void(this.props.debug&&c.debug("grpc.onEnd received after request was closed - ignoring"));if(void 0===this.responseTrailers){if(void 0===this.responseHeaders)return void this.rawOnError(a.Code.Unknown,"Response closed without headers");var e=i(this.responseHeaders),t=this.responseHeaders.get("grpc-message");if(this.props.debug&&c.debug("grpc.headers only response ",e,t),null===e)return void this.rawOnEnd(a.Code.Unknown,"Response closed without grpc-status (Headers only)",this.responseHeaders);var n=this.decodeGRPCStatus(t[0]);return void this.rawOnEnd(e,n,this.responseHeaders)}var r=i(this.responseTrailers);if(null===r)return void this.rawOnError(a.Code.Internal,"Response closed without grpc-status (Trailers provided)");var o=this.responseTrailers.get("grpc-message"),s=this.decodeGRPCStatus(o[0]);this.rawOnEnd(r,s,this.responseTrailers)},e.prototype.decodeGRPCStatus=function(e){if(!e)return"";try{return decodeURIComponent(e)}catch(t){return e}},e.prototype.rawOnEnd=function(e,t,n){this.props.debug&&c.debug("rawOnEnd",e,t,n),this.completed||(this.completed=!0,this.onEndCallbacks.forEach(function(r){u.default(function(){r(e,t,n)})}))},e.prototype.rawOnHeaders=function(e){this.props.debug&&c.debug("rawOnHeaders",e),this.completed||this.onHeadersCallbacks.forEach(function(t){u.default(function(){t(e)})})},e.prototype.rawOnError=function(e,t){this.props.debug&&c.debug("rawOnError",e,t),this.completed||(this.completed=!0,this.onEndCallbacks.forEach(function(n){u.default(function(){n(e,t,new o.Metadata)})}))},e.prototype.rawOnMessage=function(e){this.props.debug&&c.debug("rawOnMessage",e.toObject()),this.completed||this.onMessageCallbacks.forEach(function(t){u.default(function(){t(e)})})},e.prototype.onHeaders=function(e){this.onHeadersCallbacks.push(e)},e.prototype.onMessage=function(e){this.onMessageCallbacks.push(e)},e.prototype.onEnd=function(e){this.onEndCallbacks.push(e)},e.prototype.start=function(e){if(this.started)throw new Error("Client already started - cannot .start()");this.started=!0;var t=new o.Metadata(e||{});t.set("content-type","application/grpc-web+proto"),t.set("x-grpc-web","1"),this.transport.start(t)},e.prototype.send=function(e){if(!this.started)throw new Error("Client not started - .start() must be called before .send()");if(this.closed)throw new Error("Client already closed - cannot .send()");if(this.finishedSending)throw new Error("Client already finished sending - cannot .send()");if(!this.methodDefinition.requestStream&&this.sentFirstMessage)throw new Error("Message already sent for non-client-streaming method - cannot .send()");this.sentFirstMessage=!0;var t=f.frameRequest(e);this.transport.sendMessage(t)},e.prototype.finishSend=function(){if(!this.started)throw new Error("Client not started - .finishSend() must be called before .close()");if(this.closed)throw new Error("Client already closed - cannot .send()");if(this.finishedSending)throw new Error("Client already finished sending - cannot .finishSend()");this.finishedSending=!0,this.transport.finishSend()},e.prototype.close=function(){if(!this.started)throw new Error("Client not started - .start() must be called before .close()");if(this.closed)throw new Error("Client already closed - cannot .close()");this.closed=!0,this.props.debug&&c.debug("request.abort aborting request"),this.transport.cancel()},e}()},function(e,t,n){"use strict";(function(t){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){var t={};return t.number=e.getNumber().toString(),t.previous_hash=e.getPreviousHash().toBuffer().toString("hex"),t.data_hash=e.getDataHash().toBuffer().toString("hex"),t}function o(e,t){var n={};n.data=[];for(var r in e.data){var i=null;i=t?ue.Envelope.decode(e.data[r]):ue.Envelope.decode(e.data[r].toBuffer());var o=f(i);n.data.push(o)}return n}function s(e){var t={};if(t.metadata=[],e&&e.metadata){var n=u(e.metadata[0]);t.metadata.push(n);var r=c(e.metadata[1]);t.metadata.push(r);var i=a(e.metadata[2]);t.metadata.push(i)}return t}function a(e){var n=[];if(!e)return te.debug("decodeTransactionFilter - no metadata"),null;e instanceof t||(e=e.toBuffer()),te.debug("decodeTransactionFilter - metadata length:%s",e.length);for(var r=0;r<e.length;r++){var i=parseInt(e[r]);te.debug("decodeTransactionFilter - looking at index:%s with value:%s",r,i),n.push(i)}return n}function c(e){var t={};if(t.value={},e){var n=ue.Metadata.decode(e),r=ue.LastConfig.decode(n.getValue());t.value.index=r.getIndex().toString(),t.signatures=l(n.signatures)}return t}function u(e){var t={},n=ue.Metadata.decode(e);return t.value=n.getValue().toBuffer().toString(),t.signatures=l(n.signatures),t}function l(e){var t=[];if(e)for(var n in e){var r={},i=ue.MetadataSignature.decode(e[n].toBuffer());r.signature_header=A(i.getSignatureHeader()),r.signature=i.getSignature().toBuffer(),t.push(r)}return t}function f(e){var t={};t.signature=e.getSignature().toBuffer(),t.payload={};var n=ue.Payload.decode(e.getPayload().toBuffer());return t.payload.header=N(n.getHeader()),t.payload.data=Ee.decodePayloadBasedOnType(n.getData().toBuffer(),t.payload.header.channel_header.type),t.payload.header.channel_header.typeString=Ee.convertToString(t.payload.header.channel_header.type),t}function h(e){var t={};try{var n=ie.Transaction.decode(e);if(t.actions=[],n&&n.actions)for(var r in n.actions){var i={};i.header=A(n.actions[r].header),i.payload=M(n.actions[r].payload),t.actions.push(i)}}catch(e){te.error(" Unable to decodeEndorserTransaction :: %s",e)}return t}function d(e){var t={},n=le.ConfigEnvelope.decode(e);t.config=p(n.getConfig()),te.debug("decodeConfigEnvelope - decode complete for config envelope - start config update"),t.last_update={};var r=n.getLastUpdate();if(null!==r){t.last_update.payload={};var i=ue.Payload.decode(r.getPayload().toBuffer());t.last_update.payload.header=N(i.getHeader()),t.last_update.payload.data=y(i.getData().toBuffer()),t.last_update.signature=r.getSignature().toBuffer()}return t}function p(e){var t={};return t.sequence=e.getSequence().toString(),t.channel_group=v(e.getChannelGroup()),t.type=e.getType(),t}function y(e){var t={},n=le.ConfigUpdateEnvelope.decode(e);t.config_update=g(n.getConfigUpdate().toBuffer());var r=[];for(var i in n.signatures){var o=n.signatures[i],s=C(o);r.push(s)}return t.signatures=r,t}function g(e){var t={},n=le.ConfigUpdate.decode(e);return t.channel_id=n.getChannelId(),t.read_set=v(n.getReadSet()),t.write_set=v(n.getWriteSet()),t.type=n.getType(),t}function m(e){for(var t={},n=Object.keys(e.map),r=0;r<n.length;r++){var i=n[r];t[i]=v(e.map[i].value)}return t}function v(e){if(!e)return null;var t={};return t.version=Z(e.getVersion()),t.groups=m(e.getGroups()),t.values=b(e.getValues()),t.policies=S(e.getPolicies()),t.mod_policy=e.getModPolicy(),t}function b(e){for(var t={},n=Object.keys(e.map),r=0;r<n.length;r++){var i=n[r];t[i]=w(e.map[i])}return t}function w(e){var t={};switch(te.debug(" ======> Config item ::%s",e.key),t.version=Z(e.value.getVersion()),t.mod_policy=e.value.getModPolicy(),t.value={},e.key){case"AnchorPeers":var n=[],r=ae.AnchorPeers.decode(e.value.value);if(r&&r.anchor_peers)for(var i in r.anchor_peers){var o={host:r.anchor_peers[i].host,port:r.anchor_peers[i].port};n.push(o)}t.value.anchor_peers=n;break;case"MSP":var s={},a=pe.MSPConfig.decode(e.value.value);0==a.getType()&&(s=I(a.getConfig())),t.value.type=a.type,t.value.config=s;break;case"ConsensusType":var c=de.ConsensusType.decode(e.value.value);t.value.type=c.getType();break;case"BatchSize":var u=de.BatchSize.decode(e.value.value);t.value.max_message_count=u.getMaxMessageCount(),t.value.absolute_max_bytes=u.getAbsoluteMaxBytes(),t.value.preferred_max_bytes=u.getPreferredMaxBytes();break;case"BatchTimeout":var l=de.BatchTimeout.decode(e.value.value);t.value.timeout=l.getTimeout();break;case"ChannelRestrictions":var f=de.ChannelRestrictions.decode(e.value.value);t.value.max_count=f.getMaxCount().toString();break;case"Consortium":var h=he.Consortium.decode(e.value.value);t.value.name=h.getName();break;case"HashingAlgorithm":var d=he.HashingAlgorithm.decode(e.value.value);t.value.name=d.getName();break;case"BlockDataHashingStructure":var p=he.BlockDataHashingStructure.decode(e.value.value);t.value.width=p.getWidth();break;case"OrdererAddresses":var y=he.OrdererAddresses.decode(e.value.value),g=[],m=y.getAddresses();if(m)for(var v in m)g.push(m[v]);t.value.addresses=g}return t}function S(e){for(var t={},n=Object.keys(e.map),r=0;r<n.length;r++){var i=n[r];t[i]=E(e.map[i])}return t}function E(e){var t={};if(t.version=Z(e.value.getVersion()),t.mod_policy=e.value.getModPolicy(),t.policy={},e.value.policy)switch(t.policy.type=be[e.value.policy.type],te.debug("decodeConfigPolicy ======> Policy item ::%s",e.key),e.value.policy.type){case fe.Policy.PolicyType.SIGNATURE:t.policy.value=x(e.value.policy.value);break;case fe.Policy.PolicyType.MSP:fe.Policy.decode(e.value.policy.value);te.warn("decodeConfigPolicy - found a PolicyType of MSP. This policy type has not been implemented yet.");break;case fe.Policy.PolicyType.IMPLICIT_META:t.policy.value=k(e.value.policy.value);break;default:throw new Error("Unknown Policy type")}return t}function k(e){var t={},n=fe.ImplicitMetaPolicy.decode(e);return t.sub_policy=n.getSubPolicy(),t.rule=we[n.getRule()],t}function x(e){var t={},n=fe.SignaturePolicyEnvelope.decode(e);t.version=Z(n.getVersion()),t.rule=_(n.getRule());var r=[],i=n.getIdentities();if(i)for(var o in i){var s=O(i[o]);r.push(s)}return t.identities=r,t}function _(e){var t={};if(t.Type=e.Type,"n_out_of"==t.Type){t.n_out_of={},t.n_out_of.N=e.n_out_of.getN(),t.n_out_of.rules=[];for(var n in e.n_out_of.rules){var r=e.n_out_of.rules[n],i=_(r);t.n_out_of.rules.push(i)}}else{if("signed_by"!=t.Type)throw new Error("unknown signature policy type");t.signed_by=e.getSignedBy()}return t}function O(e){var t={};t.principal_classification=e.getPrincipalClassification();var n=null;switch(t.principal_classification){case ce.MSPPrincipal.Classification.ROLE:n=ce.MSPRole.decode(e.getPrincipal()),t.msp_identifier=n.getMspIdentifier(),0===n.getRole()?t.Role="MEMBER":1===n.getRole()&&(t.Role="ADMIN");break;case ce.MSPPrincipal.Classification.ORGANIZATION_UNIT:n=ce.OrganizationUnit.decode(e.getPrincipal()),t.msp_identifier=n.getMspIdentifier(),t.organizational_unit_identifier=n.getOrganizationalUnitIdentifier(),t.certifiers_identifier=n.getCertifiersIdentifier().toBuffer();break;case ce.MSPPrincipal.Classification.IDENTITY:t=P(e.getPrincipal())}return t}function C(e){var t={};return t.signature_header=A(e.getSignatureHeader().toBuffer()),t.sigature=e.getSignature().toBuffer(),t}function A(e){var t={},n=ue.SignatureHeader.decode(e);return t.creator=P(n.getCreator().toBuffer()),t.nonce=n.getNonce().toBuffer(),t}function P(e){var t={};try{var n=ye.SerializedIdentity.decode(e);t.Mspid=n.getMspid(),t.IdBytes=n.getIdBytes().toBuffer().toString()}catch(e){te.error("Failed to decode the identity: %s",e.stack?e.stack:e)}return t}function I(e){var t={},n=pe.FabricMSPConfig.decode(e);return t.name=n.getName(),t.root_certs=R(n.getRootCerts()),t.intermediate_certs=R(n.getIntermediateCerts()),t.admins=R(n.getAdmins()),t.revocation_list=R(n.getRevocationList()),t.signing_identity=j(n.getSigningIdentity()),t.organizational_unit_identifiers=D(n.getOrganizationalUnitIdentifiers()),t.tls_root_certs=R(n.getTlsRootCerts()),t.tls_intermediate_certs=R(n.getTlsIntermediateCerts()),t}function D(e){var t=[];if(e)for(var n=0;n<e.length;n++){var r=e[n],i={};i.certificate=r.getCertificate().toBuffer().toString(),i.organizational_unit_identifier=r.getOrganizationalUnitIdentifier(),t.push(i)}return t}function R(e){var t=[];for(var n in e)t.push(e[n].toBuffer().toString());return t}function j(e){var t={};if(e){var n=pe.SigningIdentityInfo.decode(e);t.public_signer=n.getPublicSigner().toBuffer().toString(),t.private_signer=T(n.getPrivateSigner())}return t}function T(e){var t={};if(e){var n=pe.KeyInfo.decode(e);t.key_identifier=n.getKeyIdentifier(),t.key_material="private"}return t}function N(e){var t={};return t.channel_header=B(e.getChannelHeader().toBuffer()),t.signature_header=A(e.getSignatureHeader().toBuffer()),t}function B(e){var t={},n=ue.ChannelHeader.decode(e);return t.type=n.getType(),te.debug("decodeChannelHeader - looking at type:%s",t.type),t.version=Z(n.getVersion()),t.timestamp=F(n.getTimestamp()),t.channel_id=n.getChannelId(),t.tx_id=n.getTxId(),t.epoch=n.getEpoch().toString(),t.extension=n.getExtension().toBuffer(),t}function F(e){if(!e)return"null";var t=1e3*e.seconds+e.nanos/1e6;return new Date(t).toString()}function M(e){var t={},n=ie.ChaincodeActionPayload.decode(e);return t.chaincode_proposal_payload=L(n.getChaincodeProposalPayload()),t.action=H(n.getAction()),t}function L(e){var t={},n=oe.ChaincodeProposalPayload.decode(e);return t.input=n.getInput().toBuffer(),t}function H(e){var t={};t.proposal_response_payload=U(e.getProposalResponsePayload()),t.endorsements=[];for(var n in e.endorsements){var r=q(e.endorsements[n]);t.endorsements.push(r)}return t}function q(e){var t={};return t.endorser=P(e.getEndorser()),t.signature=e.getSignature().toBuffer(),t}function U(e){var t={},n=se.ProposalResponsePayload.decode(e);return t.proposal_hash=n.getProposalHash().toBuffer().toString("hex"),t.extension=K(n.getExtension()),t}function K(e){te.debug("decodeChaincodeAction - start");var t={},n=oe.ChaincodeAction.decode(e);return t.results=J(n.getResults()),t.events=V(n.getEvents()),t.response=Q(n.getResponse()),t.chaincode_id=z(n.getChaincodeId()),t}function V(e){var t={},n=re.ChaincodeEvent.decode(e);return t.chaincode_id=n.getChaincodeId(),t.tx_id=n.getTxId(),t.event_name=n.getEventName(),t.payload=n.getPayload().toBuffer(),t}function z(e){var t={};return e?(te.debug("decodeChaincodeID - start"),t.path=e.getPath(),t.name=e.getName(),t.version=e.getVersion(),t):(te.debug("decodeChaincodeID - no proto_chaincode_id found"),t)}function J(e){var t=ge.TxReadWriteSet.decode(e),n={};if(n.data_model=t.getDataModel(),t.getDataModel()===ge.TxReadWriteSet.DataModel.KV){n.ns_rwset=[];var r=t.getNsRwset();for(var i in r){var o={},s=r[i];o.namespace=s.getNamespace(),o.rwset=G(s.getRwset()),n.ns_rwset.push(o)}}else n.ns_rwset=t.getNsRwset();return n}function G(e){var t=me.KVRWSet.decode(e),n={};n.reads=[],n.range_queries_info=[],n.writes=[];var r=n.reads,i=t.getReads();for(var o in i)r.push(W(i[o]));var s=n.range_queries_info,a=t.getRangeQueriesInfo();for(var c in a)s.push(X(a[c]));var u=n.writes,l=t.getWrites();for(var f in l)u.push(Y(l[f]));return n}function W(e){var t={};t.key=e.getKey();var n=e.getVersion();return n?(t.version={},t.version.block_num=n.getBlockNum().toString(),t.version.tx_num=n.getTxNum().toString()):t.version=null,t}function X(e){var t={};t.start_key=e.getStartKey(),t.end_key=e.getEndKey(),t.itr_exhausted=e.getItrExhausted();var n=e.getRawReads();if(n){t.raw_reads={},t.raw_reads.kv_reads=[];for(var r in n.kv_reads){var i=W(n.kv_reads[r]);t.raw_reads.kv_reads.push(i)}}var o=e.getReadsMerkleHashes();return o&&(t.reads_merkle_hashes={},t.reads_merkle_hashes.max_degree=o.getMaxDegree(),t.reads_merkle_hashes.max_level=o.getMaxLevel(),t.reads_merkle_hashes.max_level_hashes=o.getMaxLevelHashes()),t}function Y(e){var t={};return t.key=e.getKey(),t.is_delete=e.getIsDelete(),t.value=e.getValue().toBuffer().toString(),t}function Q(e){if(!e)return null;var t={};return t.status=e.getStatus(),t.message=e.getMessage(),t.payload=e.getPayload().toBuffer().toString(),t}function Z(e){var t=e.toString();return Number.parseInt(t)}var $=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ee=(n(4),n(12),n(3)),te=ee.getLogger("BlockDecoder.js"),ne=n(11),re=ne.protos,ie=ne.protos,oe=ne.protos,se=ne.protos,ae=ne.protos,ce=ne.common,ue=ne.common,le=ne.common,fe=ne.common,he=ne.common,de=ne.orderer,pe=ne.msp,ye=ne.msp,ge=ne.rwset,me=ne.kvrwset,ve=function(){function e(){r(this,e)}return $(e,null,[{key:"decode",value:function(e){if(!(e&&e instanceof t))throw new Error("Block input data is not a byte buffer");var n={};try{var r=ue.Block.decode(e);n.header=i(r.getHeader()),n.data=o(r.getData()),n.metadata=s(r.getMetadata())}catch(e){throw te.error(e.stack),e}return n}},{key:"decodeBlock",value:function(e){if(!e)throw new Error("Block input data is missing");var t={};try{t.header={number:e.header.number.toString(),previous_hash:e.header.previous_hash.toString("hex"),data_hash:e.header.data_hash.toString("hex")},t.data=o(e.data,!0),t.metadata=s(e.metadata)}catch(e){throw te.error(e.stack),new Error("Block decode has failed with "+e.toString())}return t}},{key:"decodeTransaction",value:function(e){if(!(e instanceof t))throw new Error("Proccesed transaction data is not a byte buffer");var n={},r=ie.ProcessedTransaction.decode(e);return n.validationCode=r.getValidationCode(),n.transactionEnvelope=f(r.getTransactionEnvelope()),n}}]),e}(),be=["UNKNOWN","SIGNATURE","MSP","IMPLICIT_META"],we=["ANY","ALL","MAJORITY"],Se={0:"MESSAGE",1:"CONFIG",2:"CONFIG_UPDATE",3:"ENDORSER_TRANSACTION",4:"ORDERER_TRANSACTION",5:"DELIVER_SEEK_INFO",6:"CHAINCODE_PACKAGE"},Ee=function(){function e(){r(this,e)}return $(e,null,[{key:"convertToString",value:function(e){var t=null;try{t=Se[e]}catch(t){te.error("HeaderType conversion - unknown headertype - %s",e)}return t||(t="UNKNOWN_TYPE"),t}},{key:"decodePayloadBasedOnType",value:function(t,n){var r=null;switch(n){case 1:r=d(t);break;case 2:r=y(t);break;case 3:r=h(t);break;default:te.debug(" ***** found a header type of %s :: %s",n,e.convertToString(n)),r={}}return r}}]),e}();e.exports=ve,e.exports.HeaderType=Ee}).call(t,n(0).Buffer)},function(e,t,n){"use strict";e.exports={DEFAULT_INITIAL_SIZE:8192,DEFAULT_INCREMENT_AMOUNT:8192,DEFAULT_FREQUENCY:1,DEFAULT_CHUNK_SIZE:1024}},function(e,t,n){"use strict";var r=n(31);e.exports=new r({explicit:[n(358),n(359),n(360)]})},function(e,t,n){"use strict";function r(){i.Reader._configure(i.BufferReader),i.util._configure()}var i=t;i.build="minimal",i.Writer=n(58),i.BufferWriter=n(179),i.Reader=n(59),i.BufferReader=n(180),i.util=n(16),i.rpc=n(90),i.roots=n(91),i.configure=r,i.Writer._configure(i.BufferWriter),r()},function(e,t,n){"use strict";function r(e,t){for(var n=new Array(arguments.length-1),r=0,i=2,o=!0;i<arguments.length;)n[r++]=arguments[i++];return new Promise(function(i,s){n[r]=function(e){if(o)if(o=!1,e)s(e);else{for(var t=new Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];i.apply(null,t)}};try{e.apply(t||null,n)}catch(e){o&&(o=!1,s(e))}})}e.exports=r},function(module,exports,__webpack_require__){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},function(e,t,n){"use strict";t.Service=n(181)},function(e,t,n){"use strict";e.exports={}},function(e,t,n){"use strict";function r(e,t,n,r){return t.resolvedType.group?e("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",n,r,(t.id<<3|3)>>>0,(t.id<<3|4)>>>0):e("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",n,r,(t.id<<3|2)>>>0)}function i(e){for(var t,n,i=a.codegen(["m","w"],e.name+"$encode")("if(!w)")("w=Writer.create()"),c=e.fieldsArray.slice().sort(a.compareFieldsById),t=0;t<c.length;++t){var u=c[t].resolve(),l=e._fieldsArray.indexOf(u),f=u.resolvedType instanceof o?"int32":u.type,h=s.basic[f];n="m"+a.safeProp(u.name),u.map?(i("if(%s!=null&&m.hasOwnProperty(%j)){",n,u.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",n)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(u.id<<3|2)>>>0,8|s.mapKey[u.keyType],u.keyType),void 0===h?i("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",l,n):i(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|h,f,n),i("}")("}")):u.repeated?(i("if(%s!=null&&%s.length){",n,n),u.packed&&void 0!==s.packed[f]?i("w.uint32(%i).fork()",(u.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",n)("w.%s(%s[i])",f,n)("w.ldelim()"):(i("for(var i=0;i<%s.length;++i)",n),void 0===h?r(i,u,l,n+"[i]"):i("w.uint32(%i).%s(%s[i])",(u.id<<3|h)>>>0,f,n)),i("}")):(u.optional&&i("if(%s!=null&&m.hasOwnProperty(%j))",n,u.name),void 0===h?r(i,u,l,n):i("w.uint32(%i).%s(%s)",(u.id<<3|h)>>>0,f,n))}return i("return w")}e.exports=i;var o=n(14),s=n(24),a=n(9)},function(e,t,n){"use strict";function r(e){return"missing required '"+e.name+"'"}function i(e){var t=a.codegen(["r","l"],e.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(e.fieldsArray.filter(function(e){return e.map}).length?",k":""))("while(r.pos<c){")("var t=r.uint32()");e.group&&t("if((t&7)===4)")("break"),t("switch(t>>>3){");for(var n=0;n<e.fieldsArray.length;++n){var i=e._fieldsArray[n].resolve(),c=i.resolvedType instanceof o?"int32":i.type,u="m"+a.safeProp(i.name);t("case %i:",i.id),i.map?(t("r.skip().pos++")("if(%s===util.emptyObject)",u)("%s={}",u)("k=r.%s()",i.keyType)("r.pos++"),void 0!==s.long[i.keyType]?void 0===s.basic[c]?t('%s[typeof k==="object"?util.longToHash(k):k]=types[%i].decode(r,r.uint32())',u,n):t('%s[typeof k==="object"?util.longToHash(k):k]=r.%s()',u,c):void 0===s.basic[c]?t("%s[k]=types[%i].decode(r,r.uint32())",u,n):t("%s[k]=r.%s()",u,c)):i.repeated?(t("if(!(%s&&%s.length))",u,u)("%s=[]",u),void 0!==s.packed[c]&&t("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",u,c)("}else"),void 0===s.basic[c]?t(i.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",u,n):t("%s.push(r.%s())",u,c)):void 0===s.basic[c]?t(i.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",u,n):t("%s=r.%s()",u,c),t("break")}for(t("default:")("r.skipType(t&7)")("break")("}")("}"),n=0;n<e._fieldsArray.length;++n){var l=e._fieldsArray[n];l.required&&t("if(!m.hasOwnProperty(%j))",l.name)("throw util.ProtocolError(%j,{instance:m})",r(l))}return t("return m")}e.exports=i;var o=n(14),s=n(24),a=n(9)},function(e,t,n){"use strict";function r(e,t){return e.name+": "+t+(e.repeated&&"array"!==t?"[]":e.map&&"object"!==t?"{k:"+e.keyType+"}":"")+" expected"}function i(e,t,n,i){if(t.resolvedType)if(t.resolvedType instanceof a){e("switch(%s){",i)("default:")("return%j",r(t,"enum value"));for(var o=Object.keys(t.resolvedType.values),s=0;s<o.length;++s)e("case %i:",t.resolvedType.values[o[s]]);e("break")("}")}else e("{")("var e=types[%i].verify(%s);",n,i)("if(e)")("return%j+e",t.name+".")("}");else switch(t.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.isInteger(%s))",i)("return%j",r(t,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",i,i,i,i)("return%j",r(t,"integer|Long"));break;case"float":case"double":e('if(typeof %s!=="number")',i)("return%j",r(t,"number"));break;case"bool":e('if(typeof %s!=="boolean")',i)("return%j",r(t,"boolean"));break;case"string":e("if(!util.isString(%s))",i)("return%j",r(t,"string"));break;case"bytes":e('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',i,i,i)("return%j",r(t,"buffer"))}return e}function o(e,t,n){switch(t.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.key32Re.test(%s))",n)("return%j",r(t,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.key64Re.test(%s))",n)("return%j",r(t,"integer|Long key"));break;case"bool":e("if(!util.key2Re.test(%s))",n)("return%j",r(t,"boolean key"))}return e}function s(e){var t=c.codegen(["m"],e.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),n=e.oneofsArray,s={};n.length&&t("var p={}");for(var a=0;a<e.fieldsArray.length;++a){var u=e._fieldsArray[a].resolve(),l="m"+c.safeProp(u.name);if(u.optional&&t("if(%s!=null&&m.hasOwnProperty(%j)){",l,u.name),u.map)t("if(!util.isObject(%s))",l)("return%j",r(u,"object"))("var k=Object.keys(%s)",l)("for(var i=0;i<k.length;++i){"),o(t,u,"k[i]"),i(t,u,a,l+"[k[i]]")("}");else if(u.repeated)t("if(!Array.isArray(%s))",l)("return%j",r(u,"array"))("for(var i=0;i<%s.length;++i){",l),i(t,u,a,l+"[i]")("}");else{if(u.partOf){var f=c.safeProp(u.partOf.name);1===s[u.partOf.name]&&t("if(p%s===1)",f)("return%j",u.partOf.name+": multiple values"),s[u.partOf.name]=1,t("p%s=1",f)}i(t,u,a,l)}u.optional&&t("}")}return t("return null")}e.exports=s;var a=n(14),c=n(9)},function(e,t,n){"use strict";function r(e,t,n,r){if(t.resolvedType)if(t.resolvedType instanceof s){e("switch(d%s){",r);for(var i=t.resolvedType.values,o=Object.keys(i),a=0;a<o.length;++a)t.repeated&&i[o[a]]===t.typeDefault&&e("default:"),e("case%j:",o[a])("case %i:",i[o[a]])("m%s=%j",r,i[o[a]])("break");e("}")}else e('if(typeof d%s!=="object")',r)("throw TypeError(%j)",t.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",r,n,r);else{var c=!1;switch(t.type){case"double":case"float":e("m%s=Number(d%s)",r,r);break;case"uint32":case"fixed32":e("m%s=d%s>>>0",r,r);break;case"int32":case"sint32":case"sfixed32":e("m%s=d%s|0",r,r);break;case"uint64":c=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",r,r,c)('else if(typeof d%s==="string")',r)("m%s=parseInt(d%s,10)",r,r)('else if(typeof d%s==="number")',r)("m%s=d%s",r,r)('else if(typeof d%s==="object")',r)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",r,r,r,c?"true":"");break;case"bytes":e('if(typeof d%s==="string")',r)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",r,r,r)("else if(d%s.length)",r)("m%s=d%s",r,r);break;case"string":e("m%s=String(d%s)",r,r);break;case"bool":e("m%s=Boolean(d%s)",r,r)}}return e}function i(e,t,n,r){if(t.resolvedType)t.resolvedType instanceof s?e("d%s=o.enums===String?types[%i].values[m%s]:m%s",r,n,r,r):e("d%s=types[%i].toObject(m%s,o)",r,n,r);else{var i=!1;switch(t.type){case"double":case"float":e("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",r,r,r,r);break;case"uint64":i=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e('if(typeof m%s==="number")',r)("d%s=o.longs===String?String(m%s):m%s",r,r,r)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",r,r,r,r,i?"true":"",r);break;case"bytes":e("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",r,r,r,r,r);break;default:e("d%s=m%s",r,r)}}return e}var o=t,s=n(14),a=n(9);o.fromObject=function(e){var t=e.fieldsArray,n=a.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return n("return new this.ctor");n("var m=new this.ctor");for(var i=0;i<t.length;++i){var o=t[i].resolve(),c=a.safeProp(o.name);o.map?(n("if(d%s){",c)('if(typeof d%s!=="object")',c)("throw TypeError(%j)",o.fullName+": object expected")("m%s={}",c)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",c),r(n,o,i,c+"[ks[i]]")("}")("}")):o.repeated?(n("if(d%s){",c)("if(!Array.isArray(d%s))",c)("throw TypeError(%j)",o.fullName+": array expected")("m%s=[]",c)("for(var i=0;i<d%s.length;++i){",c),r(n,o,i,c+"[i]")("}")("}")):(o.resolvedType instanceof s||n("if(d%s!=null){",c),r(n,o,i,c),o.resolvedType instanceof s||n("}"))}return n("return m")},o.toObject=function(e){var t=e.fieldsArray.slice().sort(a.compareFieldsById);if(!t.length)return a.codegen()("return {}");for(var n=a.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),r=[],o=[],c=[],u=0;u<t.length;++u)t[u].partOf||(t[u].resolve().repeated?r:t[u].map?o:c).push(t[u]);if(r.length){for(n("if(o.arrays||o.defaults){"),u=0;u<r.length;++u)n("d%s=[]",a.safeProp(r[u].name));n("}")}if(o.length){for(n("if(o.objects||o.defaults){"),u=0;u<o.length;++u)n("d%s={}",a.safeProp(o[u].name));n("}")}if(c.length){for(n("if(o.defaults){"),u=0;u<c.length;++u){var l=c[u],f=a.safeProp(l.name);l.resolvedType instanceof s?n("d%s=o.enums===String?%j:%j",f,l.resolvedType.valuesById[l.typeDefault],l.typeDefault):l.long?n("if(util.Long){")("var n=new util.Long(%i,%i,%j)",l.typeDefault.low,l.typeDefault.high,l.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",f)("}else")("d%s=o.longs===String?%j:%i",f,l.typeDefault.toString(),l.typeDefault.toNumber()):l.bytes?n("d%s=o.bytes===String?%j:%s",f,String.fromCharCode.apply(String,l.typeDefault),"["+Array.prototype.slice.call(l.typeDefault).join(",")+"]"):n("d%s=%j",f,l.typeDefault)}n("}")}var h=!1;for(u=0;u<t.length;++u){var l=t[u],d=e._fieldsArray.indexOf(l),f=a.safeProp(l.name);l.map?(h||(h=!0,n("var ks2")),n("if(m%s&&(ks2=Object.keys(m%s)).length){",f,f)("d%s={}",f)("for(var j=0;j<ks2.length;++j){"),i(n,l,d,f+"[ks2[j]]")("}")):l.repeated?(n("if(m%s&&m%s.length){",f,f)("d%s=[]",f)("for(var j=0;j<m%s.length;++j){",f),i(n,l,d,f+"[j]")("}")):(n("if(m%s!=null&&m.hasOwnProperty(%j)){",f,l.name),i(n,l,d,f),l.partOf&&n("if(o.oneofs)")("d%s=%j",a.safeProp(l.partOf.name),l.name)),n("}")}return n("return d")}},function(e,t,n){"use strict";var r=t,i=n(64);r[".google.protobuf.Any"]={fromObject:function(e){if(e&&e["@type"]){var t=this.lookup(e["@type"]);if(t){var n="."===e["@type"].charAt(0)?e["@type"].substr(1):e["@type"];return this.create({type_url:"/"+n,value:t.encode(t.fromObject(e)).finish()})}}return this.fromObject(e)},toObject:function(e,t){if(t&&t.json&&e.type_url&&e.value){var n=e.type_url.substring(e.type_url.lastIndexOf("/")+1),r=this.lookup(n);r&&(e=r.decode(e.value))}if(!(e instanceof this.ctor)&&e instanceof i){var o=e.$type.toObject(e,t);return o["@type"]=e.$type.fullName,o}return this.toObject(e,t)}}},function(e,t,n){"use strict";function r(e){return e.replace(h,function(e,t){switch(t){case"\\":case"":return t;default:return d[t]||""}})}function i(e,t){function n(e){return Error("illegal "+e+" (line "+k+")")}function i(){var t="'"===P?a:s;t.lastIndex=S-1;var i=t.exec(e);if(!i)throw n("string");return S=t.lastIndex,m(P),P=null,r(i[1])}function h(t){return e.charAt(t)}function d(n,r){x=e.charAt(n++),O=k,C=!1;var i;i=t?2:3;var o,s=n-i;do{if(--s<0||"\n"===(o=e.charAt(s))){C=!0;break}}while(" "===o||"\t"===o);for(var a=e.substring(n,r).split(l),f=0;f<a.length;++f)a[f]=a[f].replace(t?u:c,"").trim();_=a.join("\n").trim()}function p(t){var n=y(t);return/^\s*\/{1,2}/.test(e.substring(t,n))}function y(e){for(var t=e;t<E&&"\n"!==h(t);)t++;return t}function g(){if(A.length>0)return A.shift();if(P)return i();var r,s,a,c,u;do{if(S===E)return null;for(r=!1;f.test(a=h(S));)if("\n"===a&&++k,++S===E)return null;if("/"===h(S)){if(++S===E)throw n("comment");if("/"===h(S))if(t){if(c=S,u=!1,p(S)){u=!0;do{if((S=y(S))===E)break;S++}while(p(S))}else S=Math.min(E,y(S)+1);u&&d(c,S),k++,r=!0}else{for(u="/"===h(c=S+1);"\n"!==h(++S);)if(S===E)return null;++S,u&&d(c,S-1),++k,r=!0}else{if("*"!==(a=h(S)))return"/";c=S+1,u=t||"*"===h(c);do{if("\n"===a&&++k,++S===E)throw n("comment");s=a,a=h(S)}while("*"!==s||"/"!==a);++S,u&&d(c,S-2),r=!0}}}while(r);var l=S;if(o.lastIndex=0,!o.test(h(l++)))for(;l<E&&!o.test(h(l));)++l;var g=e.substring(S,S=l);return'"'!==g&&"'"!==g||(P=g),g}function m(e){A.push(e)}function v(){if(!A.length){var e=g();if(null===e)return null;m(e)}return A[0]}function b(e,t){var r=v();if(r===e)return g(),!0;if(!t)throw n("token '"+r+"', '"+e+"' expected");return!1}function w(e){var n=null;return void 0===e?O===k-1&&(t||"*"===x||C)&&(n=_):(O<e&&v(),O!==e||C||!t&&"/"!==x||(n=_)),n}e=e.toString();var S=0,E=e.length,k=1,x=null,_=null,O=0,C=!1,A=[],P=null;return Object.defineProperty({next:g,peek:v,push:m,skip:b,cmnt:w},"line",{get:function(){return k}})}e.exports=i;var o=/[\s{}=;:[\],'"()<>]/g,s=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,a=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,c=/^ *[*\/]+ */,u=/^\s*\*?\/*/,l=/\n/g,f=/\s/,h=/\\(.?)/g,d={0:"\0",r:"\r",n:"\n",t:"\t"};i.unescape=r},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){var r,i;/*!
 * js-logger - http://github.com/jonnyreeves/js-logger
 * Jonny Reeves, http://jonnyreeves.co.uk/
 * js-logger may be freely distributed under the MIT license.
 */
!function(o){"use strict";var s={};s.VERSION="1.4.1";var a,c={},u=function(e,t){return function(){return t.apply(e,arguments)}},l=function(){var e,t,n=arguments,r=n[0];for(t=1;t<n.length;t++)for(e in n[t])e in r||!n[t].hasOwnProperty(e)||(r[e]=n[t][e]);return r},f=function(e,t){return{value:e,name:t}};s.DEBUG=f(1,"DEBUG"),s.INFO=f(2,"INFO"),s.TIME=f(3,"TIME"),s.WARN=f(4,"WARN"),s.ERROR=f(8,"ERROR"),s.OFF=f(99,"OFF");var h=function(e){this.context=e,this.setLevel(e.filterLevel),this.log=this.info};h.prototype={setLevel:function(e){e&&"value"in e&&(this.context.filterLevel=e)},getLevel:function(){return this.context.filterLevel},enabledFor:function(e){var t=this.context.filterLevel;return e.value>=t.value},debug:function(){this.invoke(s.DEBUG,arguments)},info:function(){this.invoke(s.INFO,arguments)},warn:function(){this.invoke(s.WARN,arguments)},error:function(){this.invoke(s.ERROR,arguments)},time:function(e){"string"==typeof e&&e.length>0&&this.invoke(s.TIME,[e,"start"])},timeEnd:function(e){"string"==typeof e&&e.length>0&&this.invoke(s.TIME,[e,"end"])},invoke:function(e,t){a&&this.enabledFor(e)&&a(t,l({level:e},this.context))}};var d=new h({filterLevel:s.OFF});!function(){var e=s;e.enabledFor=u(d,d.enabledFor),e.debug=u(d,d.debug),e.time=u(d,d.time),e.timeEnd=u(d,d.timeEnd),e.info=u(d,d.info),e.warn=u(d,d.warn),e.error=u(d,d.error),e.log=e.info}(),s.setHandler=function(e){a=e},s.setLevel=function(e){d.setLevel(e);for(var t in c)c.hasOwnProperty(t)&&c[t].setLevel(e)},s.getLevel=function(){return d.getLevel()},s.get=function(e){return c[e]||(c[e]=new h(l({name:e},d.context)))},s.createDefaultHandler=function(e){e=e||{},e.formatter=e.formatter||function(e,t){t.name&&e.unshift("["+t.name+"]")};var t={},n=function(e,t){Function.prototype.apply.call(e,console,t)};return"undefined"==typeof console?function(){}:function(r,i){r=Array.prototype.slice.call(r);var o,a=console.log;i.level===s.TIME?(o=(i.name?"["+i.name+"] ":"")+r[0],"start"===r[1]?console.time?console.time(o):t[o]=(new Date).getTime():console.timeEnd?console.timeEnd(o):n(a,[o+": "+((new Date).getTime()-t[o])+"ms"])):(i.level===s.WARN&&console.warn?a=console.warn:i.level===s.ERROR&&console.error?a=console.error:i.level===s.INFO&&console.info?a=console.info:i.level===s.DEBUG&&console.debug&&(a=console.debug),e.formatter(r,i),n(a,r))}},s.useDefaults=function(e){s.setLevel(e&&e.defaultLevel||s.DEBUG),s.setHandler(s.createDefaultHandler(e))},r=s,void 0!==(i="function"==typeof r?r.call(t,n,t,e):r)&&(e.exports=i)}()},function(e,t,n){"use strict";(function(e){var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(101),o=n(66),s=n(34),a=o.constants.S_IFMT,c=o.constants.S_IFDIR,u=o.constants.S_IFREG,l=o.constants.S_IFBLK,f=o.constants.S_IFCHR,h=o.constants.S_IFLNK,d=o.constants.S_IFIFO,p=o.constants.S_IFSOCK,y=o.constants.O_APPEND;t.SEP="/";var g=function(t){function n(e,n){void 0===n&&(n=438);var r=t.call(this)||this;return r.uid=i.default.getuid(),r.gid=i.default.getgid(),r.atime=new Date,r.mtime=new Date,r.ctime=new Date,r.buf=null,r.perm=438,r.mode=u,r.nlink=1,r.symlink=null,r.perm=n,r.mode|=n,r.ino=e,r}return r(n,t),n.prototype.getString=function(e){return void 0===e&&(e="utf8"),this.getBuffer().toString(e)},n.prototype.setString=function(t){this.buf=e.from(t,"utf8"),this.touch()},n.prototype.getBuffer=function(){return this.buf||this.setBuffer(e.allocUnsafe(0)),e.from(this.buf)},n.prototype.setBuffer=function(t){this.buf=e.from(t),this.touch()},n.prototype.getSize=function(){return this.buf?this.buf.length:0},n.prototype.setModeProperty=function(e){this.mode=this.mode&~a|e},n.prototype.setIsFile=function(){this.setModeProperty(u)},n.prototype.setIsDirectory=function(){this.setModeProperty(c)},n.prototype.setIsSymlink=function(){this.setModeProperty(h)},n.prototype.isFile=function(){return(this.mode&a)===u},n.prototype.isDirectory=function(){return(this.mode&a)===c},n.prototype.isSymlink=function(){return(this.mode&a)===h},n.prototype.makeSymlink=function(e){this.symlink=e,this.setIsSymlink()},n.prototype.write=function(t,n,r,i){if(void 0===n&&(n=0),void 0===r&&(r=t.length),void 0===i&&(i=0),this.buf||(this.buf=e.allocUnsafe(0)),i+r>this.buf.length){var o=e.allocUnsafe(i+r);this.buf.copy(o,0,0,this.buf.length),this.buf=o}return t.copy(this.buf,i,n,n+r),this.touch(),r},n.prototype.read=function(t,n,r,i){void 0===n&&(n=0),void 0===r&&(r=t.byteLength),void 0===i&&(i=0),this.buf||(this.buf=e.allocUnsafe(0));var o=r;return o>t.byteLength&&(o=t.byteLength),o+i>this.buf.length&&(o=this.buf.length-i),this.buf.copy(t,n,i,i+o),o},n.prototype.truncate=function(t){if(void 0===t&&(t=0),t)if(this.buf||(this.buf=e.allocUnsafe(0)),t<=this.buf.length)this.buf=this.buf.slice(0,t);else{var n=e.allocUnsafe(0);this.buf.copy(n),n.fill(0,t)}else this.buf=e.allocUnsafe(0);this.touch()},n.prototype.chmod=function(e){this.perm=e,this.mode|=e,this.touch()},n.prototype.chown=function(e,t){this.uid=e,this.gid=t,this.touch()},n.prototype.touch=function(){this.mtime=new Date,this.emit("change",this)},n.prototype.canRead=function(e,t){return void 0===e&&(e=i.default.getuid()),void 0===t&&(t=i.default.getgid()),!!(4&this.perm)||(!!(t===this.gid&&32&this.perm)||!!(e===this.uid&&256&this.perm))},n.prototype.canWrite=function(e,t){return void 0===e&&(e=i.default.getuid()),void 0===t&&(t=i.default.getgid()),!!(2&this.perm)||(!!(t===this.gid&&16&this.perm)||!!(e===this.uid&&128&this.perm))},n.prototype.del=function(){this.emit("delete",this)},n.prototype.toJSON=function(){return{ino:this.ino,uid:this.uid,gid:this.gid,atime:this.atime.getTime(),mtime:this.mtime.getTime(),ctime:this.ctime.getTime(),perm:this.perm,mode:this.mode,nlink:this.nlink,symlink:this.symlink,data:this.getString()}},n}(s.EventEmitter);t.Node=g;var m=function(e){function n(t,n,r){var i=e.call(this)||this;return i.parent=null,i.children={},i.steps=[],i.node=null,i.ino=0,i.length=0,i.vol=t,i.parent=n,i.steps=n?n.steps.concat([r]):[r],i}return r(n,e),n.prototype.setNode=function(e){this.node=e,this.ino=e.ino},n.prototype.getNode=function(){return this.node},n.prototype.createChild=function(e,t){void 0===t&&(t=this.vol.createNode());var r=new n(this.vol,this,e);return r.setNode(t),t.isDirectory(),this.setChild(e,r),r},n.prototype.setChild=function(e,t){return void 0===t&&(t=new n(this.vol,this,e)),this.children[e]=t,t.parent=this,this.length++,this.emit("child:add",t,this),t},n.prototype.deleteChild=function(e){delete this.children[e.getName()],this.length--,this.emit("child:delete",e,this)},n.prototype.getChild=function(e){return this.children[e]},n.prototype.getPath=function(){return this.steps.join(t.SEP)},n.prototype.getName=function(){return this.steps[this.steps.length-1]},n.prototype.walk=function(e,t,n){if(void 0===t&&(t=e.length),void 0===n&&(n=0),n>=e.length)return this;if(n>=t)return this;var r=e[n],i=this.getChild(r);return i?i.walk(e,t,n+1):null},n.prototype.toJSON=function(){for(var e in this.children)console.log("ch",e);return{steps:this.steps,ino:this.ino,children:Object.keys(this.children)}},n}(s.EventEmitter);t.Link=m;var v=function(){function e(e,t,n,r){this.link=null,this.node=null,this.position=0,this.link=e,this.node=t,this.flags=n,this.fd=r}return e.prototype.getString=function(e){return void 0===e&&(e="utf8"),this.node.getString()},e.prototype.setString=function(e){this.node.setString(e)},e.prototype.getBuffer=function(){return this.node.getBuffer()},e.prototype.setBuffer=function(e){this.node.setBuffer(e)},e.prototype.getSize=function(){return this.node.getSize()},e.prototype.truncate=function(e){this.node.truncate(e)},e.prototype.seekTo=function(e){this.position=e},e.prototype.stats=function(){return b.build(this.node)},e.prototype.write=function(e,t,n,r){void 0===t&&(t=0),void 0===n&&(n=e.length),"number"!=typeof r&&(r=this.position),this.flags&y&&(r=this.getSize());var i=this.node.write(e,t,n,r);return this.position=r+i,i},e.prototype.read=function(e,t,n,r){void 0===t&&(t=0),void 0===n&&(n=e.byteLength),"number"!=typeof r&&(r=this.position);var i=this.node.read(e,t,n,r);return this.position=r+i,i},e.prototype.chmod=function(e){this.node.chmod(e)},e.prototype.chown=function(e,t){this.node.chown(e,t)},e}();t.File=v;var b=function(){function e(){this.uid=0,this.gid=0,this.rdev=0,this.blksize=4096,this.ino=0,this.size=0,this.blocks=1,this.atime=null,this.mtime=null,this.ctime=null,this.birthtime=null,this.atimeMs=0,this.mtimeMs=0,this.ctimeMs=0,this.birthtimeMs=0,this.dev=0,this.mode=0,this.nlink=0}return e.build=function(t){var n=new e,r=t.uid,i=t.gid,o=t.atime,s=t.mtime,a=t.ctime;t.mode,t.ino;n.uid=r,n.gid=i,n.atime=o,n.mtime=s,n.ctime=a,n.birthtime=a,n.atimeMs=o.getTime(),n.mtimeMs=s.getTime();var c=a.getTime();return n.ctimeMs=c,n.birthtimeMs=c,n.size=t.getSize(),n.mode=t.mode,n.ino=t.ino,n.nlink=t.nlink,n},e.prototype._checkModeProperty=function(e){return(this.mode&a)===e},e.prototype.isDirectory=function(){return this._checkModeProperty(c)},e.prototype.isFile=function(){return this._checkModeProperty(u)},e.prototype.isBlockDevice=function(){return this._checkModeProperty(l)},e.prototype.isCharacterDevice=function(){return this._checkModeProperty(f)},e.prototype.isSymbolicLink=function(){return this._checkModeProperty(h)},e.prototype.isFIFO=function(){return this._checkModeProperty(d)},e.prototype.isSocket=function(){return this._checkModeProperty(p)},e}();t.Stats=b}).call(t,n(0).Buffer)},function(e,t,n){"use strict";(function(e){function r(t){if(void 0===t&&(t=e),!t)try{t=n(6)}catch(e){}return t||(t={}),t.getuid||(t.getuid=function(){return 0}),t.getgid||(t.getgid=function(){return 0}),t.cwd||(t.cwd=function(){return"/"}),t.nextTick||(t.nextTick=n(102).default),t}Object.defineProperty(t,"__esModule",{value:!0}),t.createProcess=r,t.default=r()}).call(t,n(6))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n;n="function"==typeof e?e:setTimeout,t.default=n}).call(t,n(103).setImmediate)},function(e,t,n){(function(e){function r(e,t){this._id=e,this._clearFn=t}var i=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;t.setTimeout=function(){return new r(o.call(setTimeout,i,arguments),clearTimeout)},t.setInterval=function(){return new r(o.call(setInterval,i,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(i,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(195),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(t,n(5))},function(e,t,n){"use strict";(function(t,r){function i(e){return F.from(e)}function o(e){return F.isBuffer(e)||e instanceof M}function s(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?T(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}function a(e,t){j=j||n(21),e=e||{};var r=t instanceof j;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,o=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(o||0===o)?o:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new K,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(U||(U=n(49).StringDecoder),this.decoder=new U(e.encoding),this.encoding=e.encoding)}function c(e){if(j=j||n(21),!(this instanceof c))return new c(e);this._readableState=new a(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),B.call(this)}function u(e,t,n,r,o){var s=e._readableState;if(null===t)s.reading=!1,y(e,s);else{var a;o||(a=f(s,t)),a?e.emit("error",a):s.objectMode||t&&t.length>0?("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===F.prototype||(t=i(t)),r?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):l(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!n?(t=s.decoder.write(t),s.objectMode||0!==t.length?l(e,s,t,!1):v(e,s)):l(e,s,t,!1))):r||(s.reading=!1)}return h(s)}function l(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&g(e)),v(e,t)}function f(e,t){var n;return o(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function h(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function d(e){return e>=J?e=J:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function p(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=d(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function y(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,g(e)}}function g(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(q("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?R.nextTick(m,e):m(e))}function m(e){q("emit readable"),e.emit("readable"),x(e)}function v(e,t){t.readingMore||(t.readingMore=!0,R.nextTick(b,e,t))}function b(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(q("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function w(e){return function(){var t=e._readableState;q("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&N(e,"data")&&(t.flowing=!0,x(e))}}function S(e){q("readable nexttick read 0"),e.read(0)}function E(e,t){t.resumeScheduled||(t.resumeScheduled=!0,R.nextTick(k,e,t))}function k(e,t){t.reading||(q("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),x(e),t.flowing&&!t.reading&&e.read(0)}function x(e){var t=e._readableState;for(q("flow",t.flowing);t.flowing&&null!==e.read(););}function _(e,t){if(0===t.length)return null;var n;return t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=O(e,t.buffer,t.decoder),n}function O(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?C(e,t):A(e,t),r}function C(e,t){var n=t.head,r=1,i=n.data;for(e-=i.length;n=n.next;){var o=n.data,s=e>o.length?o.length:e;if(s===o.length?i+=o:i+=o.slice(0,e),0===(e-=s)){s===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(s));break}++r}return t.length-=r,i}function A(e,t){var n=F.allocUnsafe(e),r=t.head,i=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var o=r.data,s=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,s),0===(e-=s)){s===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(s));break}++i}return t.length-=i,n}function P(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,R.nextTick(I,t,e))}function I(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function D(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}var R=n(48);e.exports=c;var j,T=n(98);c.ReadableState=a;var N=(n(34).EventEmitter,function(e,t){return e.listeners(t).length}),B=n(105),F=n(2).Buffer,M=t.Uint8Array||function(){},L=n(35);L.inherits=n(1);var H=n(200),q=void 0;q=H&&H.debuglog?H.debuglog("stream"):function(){};var U,K=n(201),V=n(106);L.inherits(c,B);var z=["error","close","destroy","pause","resume"];Object.defineProperty(c.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),c.prototype.destroy=V.destroy,c.prototype._undestroy=V.undestroy,c.prototype._destroy=function(e,t){this.push(null),t(e)},c.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=F.from(e,t),t=""),n=!0),u(this,e,t,!1,n)},c.prototype.unshift=function(e){return u(this,e,null,!0,!1)},c.prototype.isPaused=function(){return!1===this._readableState.flowing},c.prototype.setEncoding=function(e){return U||(U=n(49).StringDecoder),this._readableState.decoder=new U(e),this._readableState.encoding=e,this};var J=8388608;c.prototype.read=function(e){q("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return q("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?P(this):g(this),null;if(0===(e=p(e,t))&&t.ended)return 0===t.length&&P(this),null;var r=t.needReadable;q("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&(r=!0,q("length less than watermark",r)),t.ended||t.reading?(r=!1,q("reading or ended",r)):r&&(q("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=p(n,t)));var i;return i=e>0?_(e,t):null,null===i?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&P(this)),null!==i&&this.emit("data",i),i},c.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},c.prototype.pipe=function(e,t){function n(e,t){q("onunpipe"),e===h&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,o())}function i(){q("onend"),e.end()}function o(){q("cleanup"),e.removeListener("close",u),e.removeListener("finish",l),e.removeListener("drain",g),e.removeListener("error",c),e.removeListener("unpipe",n),h.removeListener("end",i),h.removeListener("end",f),h.removeListener("data",a),m=!0,!d.awaitDrain||e._writableState&&!e._writableState.needDrain||g()}function a(t){q("ondata"),v=!1,!1!==e.write(t)||v||((1===d.pipesCount&&d.pipes===e||d.pipesCount>1&&-1!==D(d.pipes,e))&&!m&&(q("false write response, pause",h._readableState.awaitDrain),h._readableState.awaitDrain++,v=!0),h.pause())}function c(t){q("onerror",t),f(),e.removeListener("error",c),0===N(e,"error")&&e.emit("error",t)}function u(){e.removeListener("finish",l),f()}function l(){q("onfinish"),e.removeListener("close",u),f()}function f(){q("unpipe"),h.unpipe(e)}var h=this,d=this._readableState;switch(d.pipesCount){case 0:d.pipes=e;break;case 1:d.pipes=[d.pipes,e];break;default:d.pipes.push(e)}d.pipesCount+=1,q("pipe count=%d opts=%j",d.pipesCount,t);var p=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr,y=p?i:f;d.endEmitted?R.nextTick(y):h.once("end",y),e.on("unpipe",n);var g=w(h);e.on("drain",g);var m=!1,v=!1;return h.on("data",a),s(e,"error",c),e.once("close",u),e.once("finish",l),e.emit("pipe",h),d.flowing||(q("pipe resume"),h.resume()),e},c.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var s=D(t.pipes,e);return-1===s?this:(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},c.prototype.on=function(e,t){var n=B.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&g(this):R.nextTick(S,this))}return n},c.prototype.addListener=c.prototype.on,c.prototype.resume=function(){var e=this._readableState;return e.flowing||(q("resume"),e.flowing=!0,E(this,e)),this},c.prototype.pause=function(){return q("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(q("pause"),this._readableState.flowing=!1,this.emit("pause")),this},c.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;e.on("end",function(){if(q("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){if(q("wrapped data"),n.decoder&&(i=n.decoder.write(i)),(!n.objectMode||null!==i&&void 0!==i)&&(n.objectMode||i&&i.length)){t.push(i)||(r=!0,e.pause())}});for(var i in e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<z.length;o++)e.on(z[o],this.emit.bind(this,z[o]));return this._read=function(t){q("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(c.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),c._fromList=_}).call(t,n(5),n(6))},function(e,t,n){e.exports=n(34).EventEmitter},function(e,t,n){"use strict";function r(e,t){var n=this,r=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return r||i?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||s.nextTick(o,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(s.nextTick(o,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)}),this)}function i(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function o(e,t){e.emit("error",t)}var s=n(48);e.exports={destroy:r,undestroy:i}},function(e,t,n){"use strict";function r(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function i(e){if(!(this instanceof i))return new i(e);a.call(this,e),this._transformState={afterTransform:r.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",o)}function o(){var e=this;"function"==typeof this._flush?this._flush(function(t,n){s(e,t,n)}):s(this,null,null)}function s(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}e.exports=i;var a=n(21),c=n(35);c.inherits=n(1),c.inherits(i,a),i.prototype.push=function(e,t){return this._transformState.needTransform=!1,a.prototype.push.call(this,e,t)},i.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},i.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},i.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},i.prototype._destroy=function(e,t){var n=this;a.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})}},function(e,t,n){e.exports=n(21)},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";function r(e,t){if(!o.isBuffer(e)&&"string"!=typeof e)throw new TypeError(t+" must be a string or a buffer")}function i(e){s.call(this),this._block=o.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}var o=n(2).Buffer,s=n(20).Transform;n(1)(i,s),i.prototype._transform=function(e,t,n){var r=null;try{this.update(e,t)}catch(e){r=e}n(r)},i.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},i.prototype.update=function(e,t){if(r(e,"Data"),this._finalized)throw new Error("Digest already called");o.isBuffer(e)||(e=o.from(e,t));for(var n=this._block,i=0;this._blockOffset+e.length-i>=this._blockSize;){for(var s=this._blockOffset;s<this._blockSize;)n[s++]=e[i++];this._update(),this._blockOffset=0}for(;i<e.length;)n[this._blockOffset++]=e[i++];for(var a=0,c=8*e.length;c>0;++a)this._length[a]+=c,(c=this._length[a]/4294967296|0)>0&&(this._length[a]-=4294967296*c);return this},i.prototype._update=function(){throw new Error("_update is not implemented")},i.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var n=0;n<4;++n)this._length[n]=0;return t},i.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=i},function(e,t,n){function r(){this.init(),this._w=p,f.call(this,64,56)}function i(e,t,n){return n^e&(t^n)}function o(e,t,n){return e&t|n&(e|t)}function s(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function a(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function c(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function u(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}var l=n(1),f=n(28),h=n(2).Buffer,d=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],p=new Array(64);l(r,f),r.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},r.prototype._update=function(e){for(var t=this._w,n=0|this._a,r=0|this._b,l=0|this._c,f=0|this._d,h=0|this._e,p=0|this._f,y=0|this._g,g=0|this._h,m=0;m<16;++m)t[m]=e.readInt32BE(4*m);for(;m<64;++m)t[m]=u(t[m-2])+t[m-7]+c(t[m-15])+t[m-16]|0;for(var v=0;v<64;++v){var b=g+a(h)+i(h,p,y)+d[v]+t[v]|0,w=s(n)+o(n,r,l)|0;g=y,y=p,p=h,h=f+b|0,f=l,l=r,r=n,n=b+w|0}this._a=n+this._a|0,this._b=r+this._b|0,this._c=l+this._c|0,this._d=f+this._d|0,this._e=h+this._e|0,this._f=p+this._f|0,this._g=y+this._g|0,this._h=g+this._h|0},r.prototype._hash=function(){var e=h.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=r},function(e,t,n){function r(){this.init(),this._w=m,p.call(this,128,112)}function i(e,t,n){return n^e&(t^n)}function o(e,t,n){return e&t|n&(e|t)}function s(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function a(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function c(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function u(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function l(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function f(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function h(e,t){return e>>>0<t>>>0?1:0}var d=n(1),p=n(28),y=n(2).Buffer,g=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],m=new Array(160);d(r,p),r.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},r.prototype._update=function(e){for(var t=this._w,n=0|this._ah,r=0|this._bh,d=0|this._ch,p=0|this._dh,y=0|this._eh,m=0|this._fh,v=0|this._gh,b=0|this._hh,w=0|this._al,S=0|this._bl,E=0|this._cl,k=0|this._dl,x=0|this._el,_=0|this._fl,O=0|this._gl,C=0|this._hl,A=0;A<32;A+=2)t[A]=e.readInt32BE(4*A),t[A+1]=e.readInt32BE(4*A+4);for(;A<160;A+=2){var P=t[A-30],I=t[A-30+1],D=c(P,I),R=u(I,P);P=t[A-4],I=t[A-4+1];var j=l(P,I),T=f(I,P),N=t[A-14],B=t[A-14+1],F=t[A-32],M=t[A-32+1],L=R+B|0,H=D+N+h(L,R)|0;L=L+T|0,H=H+j+h(L,T)|0,L=L+M|0,H=H+F+h(L,M)|0,t[A]=H,t[A+1]=L}for(var q=0;q<160;q+=2){H=t[q],L=t[q+1];var U=o(n,r,d),K=o(w,S,E),V=s(n,w),z=s(w,n),J=a(y,x),G=a(x,y),W=g[q],X=g[q+1],Y=i(y,m,v),Q=i(x,_,O),Z=C+G|0,$=b+J+h(Z,C)|0;Z=Z+Q|0,$=$+Y+h(Z,Q)|0,Z=Z+X|0,$=$+W+h(Z,X)|0,Z=Z+L|0,$=$+H+h(Z,L)|0;var ee=z+K|0,te=V+U+h(ee,z)|0;b=v,C=O,v=m,O=_,m=y,_=x,x=k+Z|0,y=p+$+h(x,k)|0,p=d,k=E,d=r,E=S,r=n,S=w,w=Z+ee|0,n=$+te+h(w,Z)|0}this._al=this._al+w|0,this._bl=this._bl+S|0,this._cl=this._cl+E|0,this._dl=this._dl+k|0,this._el=this._el+x|0,this._fl=this._fl+_|0,this._gl=this._gl+O|0,this._hl=this._hl+C|0,this._ah=this._ah+n+h(this._al,w)|0,this._bh=this._bh+r+h(this._bl,S)|0,this._ch=this._ch+d+h(this._cl,E)|0,this._dh=this._dh+p+h(this._dl,k)|0,this._eh=this._eh+y+h(this._el,x)|0,this._fh=this._fh+m+h(this._fl,_)|0,this._gh=this._gh+v+h(this._gl,O)|0,this._hh=this._hh+b+h(this._hl,C)|0},r.prototype._hash=function(){function e(e,n,r){t.writeInt32BE(e,r),t.writeInt32BE(n,r+4)}var t=y.allocUnsafe(64);return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t},e.exports=r},function(e,t,n){"use strict";function r(e,t){s.call(this,"digest"),"string"==typeof t&&(t=a.from(t));var n="sha512"===e||"sha384"===e?128:64;if(this._alg=e,this._key=t,t.length>n){t=("rmd160"===e?new u:l(e)).update(t).digest()}else t.length<n&&(t=a.concat([t,f],n));for(var r=this._ipad=a.allocUnsafe(n),i=this._opad=a.allocUnsafe(n),o=0;o<n;o++)r[o]=54^t[o],i[o]=92^t[o];this._hash="rmd160"===e?new u:l(e),this._hash.update(r)}var i=n(1),o=n(219),s=n(18),a=n(2).Buffer,c=n(114),u=n(70),l=n(71),f=a.alloc(128);i(r,s),r.prototype._update=function(e){this._hash.update(e)},r.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new u:l(this._alg)).update(this._opad).update(e).digest()},e.exports=function(e,t){return e=e.toLowerCase(),"rmd160"===e||"ripemd160"===e?new r("rmd160",t):"md5"===e?new o(c,t):new r(e,t)}},function(e,t,n){var r=n(69);e.exports=function(e){return(new r).update(e).digest()}},function(e,t){e.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},function(e,t,n){t.pbkdf2=n(221),t.pbkdf2Sync=n(119)},function(e,t,n){(function(t){function n(e,n){if("string"!=typeof e&&!t.isBuffer(e))throw new TypeError(n+" must be a buffer or string")}var r=Math.pow(2,30)-1;e.exports=function(e,t,i,o){if(n(e,"Password"),n(t,"Salt"),"number"!=typeof i)throw new TypeError("Iterations not a number");if(i<0)throw new TypeError("Bad iterations");if("number"!=typeof o)throw new TypeError("Key length not a number");if(o<0||o>r||o!==o)throw new TypeError("Bad key length")}}).call(t,n(0).Buffer)},function(e,t,n){(function(t){var n;if(t.browser)n="utf-8";else{n=parseInt(t.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary"}e.exports=n}).call(t,n(6))},function(e,t,n){function r(e,t,n){var r=i(e),o="sha512"===e||"sha384"===e?128:64;t.length>o?t=r(t):t.length<o&&(t=f.concat([t,h],o));for(var s=f.allocUnsafe(o+d[e]),a=f.allocUnsafe(o+d[e]),c=0;c<o;c++)s[c]=54^t[c],a[c]=92^t[c];var u=f.allocUnsafe(o+n+4);s.copy(u,0,0,o),this.ipad1=u,this.ipad2=s,this.opad=a,this.alg=e,this.blocksize=o,this.hash=r,this.size=d[e]}function i(e){function t(t){return c(e).update(t).digest()}return"rmd160"===e||"ripemd160"===e?a:"md5"===e?s:t}function o(e,t,n,i,o){u(e,t,n,i),f.isBuffer(e)||(e=f.from(e,l)),f.isBuffer(t)||(t=f.from(t,l)),o=o||"sha1";var s=new r(o,e,t.length),a=f.allocUnsafe(i),c=f.allocUnsafe(t.length+4);t.copy(c,0,0,t.length);for(var h=0,p=d[o],y=Math.ceil(i/p),g=1;g<=y;g++){c.writeUInt32BE(g,t.length);for(var m=s.run(c,s.ipad1),v=m,b=1;b<n;b++){v=s.run(v,s.ipad2);for(var w=0;w<p;w++)m[w]^=v[w]}m.copy(a,h),h+=p}return a}var s=n(114),a=n(70),c=n(71),u=n(117),l=n(118),f=n(2).Buffer,h=f.alloc(128),d={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};r.prototype.run=function(e,t){return e.copy(t,this.blocksize),this.hash(t).copy(this.opad,this.blocksize),this.hash(this.opad)},e.exports=o},function(e,t,n){function r(e){var t=e._cipher.encryptBlockRaw(e._prev);return s(e._prev),t}var i=n(38),o=n(2).Buffer,s=n(121);t.encrypt=function(e,t){var n=Math.ceil(t.length/16),s=e._cache.length;e._cache=o.concat([e._cache,o.allocUnsafe(16*n)]);for(var a=0;a<n;a++){var c=r(e),u=s+16*a;e._cache.writeUInt32BE(c[0],u+0),e._cache.writeUInt32BE(c[1],u+4),e._cache.writeUInt32BE(c[2],u+8),e._cache.writeUInt32BE(c[3],u+12)}var l=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),i(t,l)}},function(e,t){function n(e){for(var t,n=e.length;n--;){if(255!==(t=e.readUInt8(n))){t++,e.writeUInt8(t,n);break}e.writeUInt8(0,n)}}e.exports=n},function(e,t){e.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},function(e,t,n){function r(e,t){var n=0;e.length!==t.length&&n++;for(var r=Math.min(e.length,t.length),i=0;i<r;++i)n+=e[i]^t[i];return n}function i(e,t,n){if(12===t.length)return e._finID=a.concat([t,a.from([0,0,0,1])]),a.concat([t,a.from([0,0,0,2])]);var r=new l(n),i=t.length,o=i%16;r.update(t),o&&(o=16-o,r.update(a.alloc(o,0))),r.update(a.alloc(8,0));var s=8*i,c=a.alloc(8);c.writeUIntBE(s,0,8),r.update(c),e._finID=r.state;var u=a.from(e._finID);return h(u),u}function o(e,t,n,r){c.call(this);var o=a.alloc(4,0);this._cipher=new s.AES(t);var u=this._cipher.encryptBlock(o);this._ghash=new l(u),n=i(this,n,u),this._prev=a.from(n),this._cache=a.allocUnsafe(0),this._secCache=a.allocUnsafe(0),this._decrypt=r,this._alen=0,this._len=0,this._mode=e,this._authTag=null,this._called=!1}var s=n(50),a=n(2).Buffer,c=n(18),u=n(1),l=n(236),f=n(38),h=n(121);u(o,c),o.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;t<16&&(t=a.alloc(t,0),this._ghash.update(t))}this._called=!0;var n=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(n),this._len+=e.length,n},o.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=f(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&r(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=e,this._cipher.scrub()},o.prototype.getAuthTag=function(){if(this._decrypt||!a.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},o.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},o.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length},e.exports=o},function(e,t,n){function r(e,t,n,r){s.call(this),this._cipher=new i.AES(t),this._prev=o.from(n),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=r,this._mode=e}var i=n(50),o=n(2).Buffer,s=n(18);n(1)(r,s),r.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},r.prototype._final=function(){this._cipher.scrub()},e.exports=r},function(e,t,n){function r(){if(null!==b)return b;var e=[];e[0]=2;for(var t=1,n=3;n<1048576;n+=2){for(var r=Math.ceil(Math.sqrt(n)),i=0;i<t&&e[i]<=r&&n%e[i]!=0;i++);t!==i&&e[i]<=r||(e[t++]=n)}return b=e,e}function i(e){for(var t=r(),n=0;n<t.length;n++)if(0===e.modn(t[n]))return 0===e.cmpn(t[n]);return!0}function o(e){var t=c.mont(e);return 0===d.toRed(t).redPow(e.subn(1)).fromRed().cmpn(1)}function s(e,t){if(e<16)return new c(2===t||5===t?[140,123]:[140,39]);t=new c(t);for(var n,r;;){for(n=new c(a(Math.ceil(e/8)));n.bitLength()>e;)n.ishrn(1);if(n.isEven()&&n.iadd(h),n.testn(1)||n.iadd(d),t.cmp(d)){if(!t.cmp(p))for(;n.mod(y).cmp(g);)n.iadd(v)}else for(;n.mod(u).cmp(m);)n.iadd(v);if(r=n.shrn(1),i(r)&&i(n)&&o(r)&&o(n)&&f.test(r)&&f.test(n))return n}}var a=n(27);e.exports=s,s.simpleSieve=i,s.fermatTest=o;var c=n(7),u=new c(24),l=n(126),f=new l,h=new c(1),d=new c(2),p=new c(5),y=(new c(16),new c(8),new c(10)),g=new c(3),m=(new c(7),new c(11)),v=new c(4),b=(new c(12),null)},function(e,t,n){function r(e){this.rand=e||new o.Rand}var i=n(7),o=n(127);e.exports=r,r.create=function(e){return new r(e)},r.prototype._randbelow=function(e){var t=e.bitLength(),n=Math.ceil(t/8);do{var r=new i(this.rand.generate(n))}while(r.cmp(e)>=0);return r},r.prototype._randrange=function(e,t){var n=t.sub(e);return e.add(this._randbelow(n))},r.prototype.test=function(e,t,n){var r=e.bitLength(),o=i.mont(e),s=new i(1).toRed(o);t||(t=Math.max(1,r/48|0));for(var a=e.subn(1),c=0;!a.testn(c);c++);for(var u=e.shrn(c),l=a.toRed(o);t>0;t--){var f=this._randrange(new i(2),a);n&&n(f);var h=f.toRed(o).redPow(u);if(0!==h.cmp(s)&&0!==h.cmp(l)){for(var d=1;d<c;d++){if(h=h.redSqr(),0===h.cmp(s))return!1;if(0===h.cmp(l))break}if(d===c)return!1}}return!0},r.prototype.getDivisor=function(e,t){var n=e.bitLength(),r=i.mont(e),o=new i(1).toRed(r);t||(t=Math.max(1,n/48|0));for(var s=e.subn(1),a=0;!s.testn(a);a++);for(var c=e.shrn(a),u=s.toRed(r);t>0;t--){var l=this._randrange(new i(2),s),f=e.gcd(l);if(0!==f.cmpn(1))return f;var h=l.toRed(r).redPow(c);if(0!==h.cmp(o)&&0!==h.cmp(u)){for(var d=1;d<a;d++){if(h=h.redSqr(),0===h.cmp(o))return h.fromRed().subn(1).gcd(e);if(0===h.cmp(u))break}if(d===a)return h=h.redSqr(),h.fromRed().subn(1).gcd(e)}}return!1}},function(e,t,n){function r(e){this.rand=e}var i;if(e.exports=function(e){return i||(i=new r(null)),i.generate(e)},e.exports.Rand=r,r.prototype.generate=function(e){return this._rand(e)},r.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),n=0;n<t.length;n++)t[n]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?r.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?r.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(r.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=n(241);if("function"!=typeof o.randomBytes)throw new Error("Not supported");r.prototype._rand=function(e){return o.randomBytes(e)}}catch(e){}},function(e,t,n){"use strict";function r(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"!=typeof e){for(var r=0;r<e.length;r++)n[r]=0|e[r];return n}if("hex"===t){e=e.replace(/[^a-z0-9]+/gi,""),e.length%2!=0&&(e="0"+e);for(var r=0;r<e.length;r+=2)n.push(parseInt(e[r]+e[r+1],16))}else for(var r=0;r<e.length;r++){var i=e.charCodeAt(r),o=i>>8,s=255&i;o?n.push(o,s):n.push(s)}return n}function i(e){return 1===e.length?"0"+e:e}function o(e){for(var t="",n=0;n<e.length;n++)t+=i(e[n].toString(16));return t}var s=t;s.toArray=r,s.zero2=i,s.toHex=o,s.encode=function(e,t){return"hex"===t?o(e):e}},function(e,t,n){"use strict";function r(e,t,n,r){return 0===e?i(t,n,r):1===e||3===e?s(t,n,r):2===e?o(t,n,r):void 0}function i(e,t,n){return e&t^~e&n}function o(e,t,n){return e&t^e&n^t&n}function s(e,t,n){return e^t^n}function a(e){return h(e,2)^h(e,13)^h(e,22)}function c(e){return h(e,6)^h(e,11)^h(e,25)}function u(e){return h(e,7)^h(e,18)^e>>>3}function l(e){return h(e,17)^h(e,19)^e>>>10}var f=n(15),h=f.rotr32;t.ft_1=r,t.ch32=i,t.maj32=o,t.p32=s,t.s0_256=a,t.s1_256=c,t.g0_256=u,t.g1_256=l},function(e,t,n){"use strict";function r(){if(!(this instanceof r))return new r;m.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=v,this.W=new Array(64)}var i=n(15),o=n(39),s=n(129),a=n(13),c=i.sum32,u=i.sum32_4,l=i.sum32_5,f=s.ch32,h=s.maj32,d=s.s0_256,p=s.s1_256,y=s.g0_256,g=s.g1_256,m=o.BlockHash,v=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];i.inherits(r,m),e.exports=r,r.blockSize=512,r.outSize=256,r.hmacStrength=192,r.padLength=64,r.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=u(g(n[r-2]),n[r-7],y(n[r-15]),n[r-16]);var i=this.h[0],o=this.h[1],s=this.h[2],m=this.h[3],v=this.h[4],b=this.h[5],w=this.h[6],S=this.h[7];for(a(this.k.length===n.length),r=0;r<n.length;r++){var E=l(S,p(v),f(v,b,w),this.k[r],n[r]),k=c(d(i),h(i,o,s));S=w,w=b,b=v,v=c(m,E),m=s,s=o,o=i,i=c(E,k)}this.h[0]=c(this.h[0],i),this.h[1]=c(this.h[1],o),this.h[2]=c(this.h[2],s),this.h[3]=c(this.h[3],m),this.h[4]=c(this.h[4],v),this.h[5]=c(this.h[5],b),this.h[6]=c(this.h[6],w),this.h[7]=c(this.h[7],S)},r.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},function(e,t,n){"use strict";function r(){if(!(this instanceof r))return new r;I.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=D,this.W=new Array(160)}function i(e,t,n,r,i){var o=e&n^~e&i;return o<0&&(o+=4294967296),o}function o(e,t,n,r,i,o){var s=t&r^~t&o;return s<0&&(s+=4294967296),s}function s(e,t,n,r,i){var o=e&n^e&i^n&i;return o<0&&(o+=4294967296),o}function a(e,t,n,r,i,o){var s=t&r^t&o^r&o;return s<0&&(s+=4294967296),s}function c(e,t){var n=b(e,t,28),r=b(t,e,2),i=b(t,e,7),o=n^r^i;return o<0&&(o+=4294967296),o}function u(e,t){var n=w(e,t,28),r=w(t,e,2),i=w(t,e,7),o=n^r^i;return o<0&&(o+=4294967296),o}function l(e,t){var n=b(e,t,14),r=b(e,t,18),i=b(t,e,9),o=n^r^i;return o<0&&(o+=4294967296),o}function f(e,t){var n=w(e,t,14),r=w(e,t,18),i=w(t,e,9),o=n^r^i;return o<0&&(o+=4294967296),o}function h(e,t){var n=b(e,t,1),r=b(e,t,8),i=S(e,t,7),o=n^r^i;return o<0&&(o+=4294967296),o}function d(e,t){var n=w(e,t,1),r=w(e,t,8),i=E(e,t,7),o=n^r^i;return o<0&&(o+=4294967296),o}function p(e,t){var n=b(e,t,19),r=b(t,e,29),i=S(e,t,6),o=n^r^i;return o<0&&(o+=4294967296),o}function y(e,t){var n=w(e,t,19),r=w(t,e,29),i=E(e,t,6),o=n^r^i;return o<0&&(o+=4294967296),o}var g=n(15),m=n(39),v=n(13),b=g.rotr64_hi,w=g.rotr64_lo,S=g.shr64_hi,E=g.shr64_lo,k=g.sum64,x=g.sum64_hi,_=g.sum64_lo,O=g.sum64_4_hi,C=g.sum64_4_lo,A=g.sum64_5_hi,P=g.sum64_5_lo,I=m.BlockHash,D=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];g.inherits(r,I),e.exports=r,r.blockSize=1024,r.outSize=512,r.hmacStrength=192,r.padLength=128,r.prototype._prepareBlock=function(e,t){for(var n=this.W,r=0;r<32;r++)n[r]=e[t+r];for(;r<n.length;r+=2){var i=p(n[r-4],n[r-3]),o=y(n[r-4],n[r-3]),s=n[r-14],a=n[r-13],c=h(n[r-30],n[r-29]),u=d(n[r-30],n[r-29]),l=n[r-32],f=n[r-31];n[r]=O(i,o,s,a,c,u,l,f),n[r+1]=C(i,o,s,a,c,u,l,f)}},r.prototype._update=function(e,t){this._prepareBlock(e,t);var n=this.W,r=this.h[0],h=this.h[1],d=this.h[2],p=this.h[3],y=this.h[4],g=this.h[5],m=this.h[6],b=this.h[7],w=this.h[8],S=this.h[9],E=this.h[10],O=this.h[11],C=this.h[12],I=this.h[13],D=this.h[14],R=this.h[15];v(this.k.length===n.length);for(var j=0;j<n.length;j+=2){var T=D,N=R,B=l(w,S),F=f(w,S),M=i(w,S,E,O,C),L=o(w,S,E,O,C,I),H=this.k[j],q=this.k[j+1],U=n[j],K=n[j+1],V=A(T,N,B,F,M,L,H,q,U,K),z=P(T,N,B,F,M,L,H,q,U,K);T=c(r,h),N=u(r,h),B=s(r,h,d,p,y),F=a(r,h,d,p,y,g);var J=x(T,N,B,F),G=_(T,N,B,F);D=C,R=I,C=E,I=O,E=w,O=S,w=x(m,b,V,z),S=_(b,b,V,z),m=y,b=g,y=d,g=p,d=r,p=h,r=x(V,z,J,G),h=_(V,z,J,G)}k(this.h,0,r,h),k(this.h,2,d,p),k(this.h,4,y,g),k(this.h,6,m,b),k(this.h,8,w,S),k(this.h,10,E,O),k(this.h,12,C,I),k(this.h,14,D,R)},r.prototype._digest=function(e){return"hex"===e?g.toHex32(this.h,"big"):g.split32(this.h,"big")}},function(e,t,n){function r(e,t){if(s.call(this,t),!a.isBuffer(e))return void this.error("Input not Buffer");this.base=e,this.offset=0,this.length=e.length}function i(e,t){if(Array.isArray(e))this.length=0,this.value=e.map(function(e){return e instanceof i||(e=new i(e,t)),this.length+=e.length,e},this);else if("number"==typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"==typeof e)this.value=e,this.length=a.byteLength(e);else{if(!a.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}var o=n(1),s=n(41).Reporter,a=n(0).Buffer;o(r,s),t.DecoderBuffer=r,r.prototype.save=function(){return{offset:this.offset,reporter:s.prototype.save.call(this)}},r.prototype.restore=function(e){var t=new r(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,s.prototype.restore.call(this,e.reporter),t},r.prototype.isEmpty=function(){return this.offset===this.length},r.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},r.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");var n=new r(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+e,this.offset+=e,n},r.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},t.EncoderBuffer=i,i.prototype.join=function(e,t){return e||(e=new a(this.length)),t||(t=0),0===this.length?e:(Array.isArray(this.value)?this.value.forEach(function(n){n.join(e,t),t+=n.length}):("number"==typeof this.value?e[t]=this.value:"string"==typeof this.value?e.write(this.value,t):a.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length),e)}},function(e,t,n){var r=t;r._reverse=function(e){var t={};return Object.keys(e).forEach(function(n){(0|n)==n&&(n|=0);var r=e[n];t[r]=n}),t},r.der=n(273)},function(e,t,n){function r(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new i,this.tree._init(e.body)}function i(e){u.Node.call(this,"der",e)}function o(e,t){var n=e.readUInt8(t);if(e.isError(n))return n;var r=f.tagClass[n>>6],i=0==(32&n);if(31==(31&n)){var o=n;for(n=0;128==(128&o);){if(o=e.readUInt8(t),e.isError(o))return o;n<<=7,n|=127&o}}else n&=31;return{cls:r,primitive:i,tag:n,tagStr:f.tag[n]}}function s(e,t,n){var r=e.readUInt8(n);if(e.isError(r))return r;if(!t&&128===r)return null;if(0==(128&r))return r;var i=127&r;if(i>4)return e.error("length octect is too long");r=0;for(var o=0;o<i;o++){r<<=8;var s=e.readUInt8(n);if(e.isError(s))return s;r|=s}return r}var a=n(1),c=n(40),u=c.base,l=c.bignum,f=c.constants.der;e.exports=r,r.prototype.decode=function(e,t){return e instanceof u.DecoderBuffer||(e=new u.DecoderBuffer(e,t)),this.tree._decode(e,t)},a(i,u.Node),i.prototype._peekTag=function(e,t,n){if(e.isEmpty())return!1;var r=e.save(),i=o(e,'Failed to peek tag: "'+t+'"');return e.isError(i)?i:(e.restore(r),i.tag===t||i.tagStr===t||i.tagStr+"of"===t||n)},i.prototype._decodeTag=function(e,t,n){var r=o(e,'Failed to decode tag of "'+t+'"');if(e.isError(r))return r;var i=s(e,r.primitive,'Failed to get length of "'+t+'"');if(e.isError(i))return i;if(!n&&r.tag!==t&&r.tagStr!==t&&r.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(r.primitive||null!==i)return e.skip(i,'Failed to match body of: "'+t+'"');var a=e.save(),c=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(c)?c:(i=e.offset-a.offset,e.restore(a),e.skip(i,'Failed to match body of: "'+t+'"'))},i.prototype._skipUntilEnd=function(e,t){for(;;){var n=o(e,t);if(e.isError(n))return n;var r=s(e,n.primitive,t);if(e.isError(r))return r;var i;if(i=n.primitive||null!==r?e.skip(r):this._skipUntilEnd(e,t),e.isError(i))return i;if("end"===n.tagStr)break}},i.prototype._decodeList=function(e,t,n,r){for(var i=[];!e.isEmpty();){var o=this._peekTag(e,"end");if(e.isError(o))return o;var s=n.decode(e,"der",r);if(e.isError(s)&&o)break;i.push(s)}return i},i.prototype._decodeStr=function(e,t){if("bitstr"===t){var n=e.readUInt8();return e.isError(n)?n:{unused:n,data:e.raw()}}if("bmpstr"===t){var r=e.raw();if(r.length%2==1)return e.error("Decoding of string type: bmpstr length mismatch");for(var i="",o=0;o<r.length/2;o++)i+=String.fromCharCode(r.readUInt16BE(2*o));return i}if("numstr"===t){var s=e.raw().toString("ascii");return this._isNumstr(s)?s:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){var a=e.raw().toString("ascii");return this._isPrintstr(a)?a:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},i.prototype._decodeObjid=function(e,t,n){for(var r,i=[],o=0;!e.isEmpty();){var s=e.readUInt8();o<<=7,o|=127&s,0==(128&s)&&(i.push(o),o=0)}128&s&&i.push(o);var a=i[0]/40|0,c=i[0]%40;if(r=n?i:[a,c].concat(i.slice(1)),t){var u=t[r.join(" ")];void 0===u&&(u=t[r.join(".")]),void 0!==u&&(r=u)}return r},i.prototype._decodeTime=function(e,t){var n=e.raw().toString();if("gentime"===t)var r=0|n.slice(0,4),i=0|n.slice(4,6),o=0|n.slice(6,8),s=0|n.slice(8,10),a=0|n.slice(10,12),c=0|n.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");var r=0|n.slice(0,2),i=0|n.slice(2,4),o=0|n.slice(4,6),s=0|n.slice(6,8),a=0|n.slice(8,10),c=0|n.slice(10,12);r=r<70?2e3+r:1900+r}return Date.UTC(r,i-1,o,s,a,c,0)},i.prototype._decodeNull=function(e){return null},i.prototype._decodeBool=function(e){var t=e.readUInt8();return e.isError(t)?t:0!==t},i.prototype._decodeInt=function(e,t){var n=e.raw(),r=new l(n);return t&&(r=t[r.toString(10)]||r),r},i.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getDecoder("der").tree}},function(e,t,n){function r(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new i,this.tree._init(e.body)}function i(e){l.Node.call(this,"der",e)}function o(e){return e<10?"0"+e:e}function s(e,t,n,r){var i;if("seqof"===e?e="seq":"setof"===e&&(e="set"),f.tagByName.hasOwnProperty(e))i=f.tagByName[e];else{if("number"!=typeof e||(0|e)!==e)return r.error("Unknown tag: "+e);i=e}return i>=31?r.error("Multi-octet tag encoding unsupported"):(t||(i|=32),i|=f.tagClassByName[n||"universal"]<<6)}var a=n(1),c=n(0).Buffer,u=n(40),l=u.base,f=u.constants.der;e.exports=r,r.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},a(i,l.Node),i.prototype._encodeComposite=function(e,t,n,r){var i=s(e,t,n,this.reporter);if(r.length<128){var o=new c(2);return o[0]=i,o[1]=r.length,this._createEncoderBuffer([o,r])}for(var a=1,u=r.length;u>=256;u>>=8)a++;var o=new c(2+a);o[0]=i,o[1]=128|a;for(var u=1+a,l=r.length;l>0;u--,l>>=8)o[u]=255&l;return this._createEncoderBuffer([o,r])},i.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){for(var n=new c(2*e.length),r=0;r<e.length;r++)n.writeUInt16BE(e.charCodeAt(r),2*r);return this._createEncoderBuffer(n)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)?this._createEncoderBuffer(e):"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},i.prototype._encodeObjid=function(e,t,n){if("string"==typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s\.]+/g);for(var r=0;r<e.length;r++)e[r]|=0}else if(Array.isArray(e)){e=e.slice();for(var r=0;r<e.length;r++)e[r]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!n){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}for(var i=0,r=0;r<e.length;r++){var o=e[r];for(i++;o>=128;o>>=7)i++}for(var s=new c(i),a=s.length-1,r=e.length-1;r>=0;r--){var o=e[r];for(s[a--]=127&o;(o>>=7)>0;)s[a--]=128|127&o}return this._createEncoderBuffer(s)},i.prototype._encodeTime=function(e,t){var n,r=new Date(e);return"gentime"===t?n=[o(r.getFullYear()),o(r.getUTCMonth()+1),o(r.getUTCDate()),o(r.getUTCHours()),o(r.getUTCMinutes()),o(r.getUTCSeconds()),"Z"].join(""):"utctime"===t?n=[o(r.getFullYear()%100),o(r.getUTCMonth()+1),o(r.getUTCDate()),o(r.getUTCHours()),o(r.getUTCMinutes()),o(r.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(n,"octstr")},i.prototype._encodeNull=function(){return this._createEncoderBuffer("")},i.prototype._encodeInt=function(e,t){if("string"==typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!=typeof e&&!c.isBuffer(e)){var n=e.toArray();!e.sign&&128&n[0]&&n.unshift(0),e=new c(n)}if(c.isBuffer(e)){var r=e.length;0===e.length&&r++;var i=new c(r);return e.copy(i),0===e.length&&(i[0]=0),this._createEncoderBuffer(i)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);for(var r=1,o=e;o>=256;o>>=8)r++;for(var i=new Array(r),o=i.length-1;o>=0;o--)i[o]=255&e,e>>=8;return 128&i[0]&&i.unshift(0),this._createEncoderBuffer(new c(i))},i.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},i.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getEncoder("der").tree},i.prototype._skipDefault=function(e,t,n){var r,i=this._baseState;if(null===i.default)return!1;var o=e.join();if(void 0===i.defaultBuffer&&(i.defaultBuffer=this._encodeValue(i.default,t,n).join()),o.length!==i.defaultBuffer.length)return!1;for(r=0;r<o.length;r++)if(o[r]!==i.defaultBuffer[r])return!1;return!0}},function(e,t){e.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},function(e,t,n){(function(t){function r(e){var n=new t(4);return n.writeUInt32BE(e,0),n}var i=n(37);e.exports=function(e,n){for(var o,s=new t(""),a=0;s.length<n;)o=r(a++),s=t.concat([s,i("sha1").update(e).update(o).digest()]);return s.slice(0,n)}}).call(t,n(0).Buffer)},function(e,t){e.exports=function(e,t){for(var n=e.length,r=-1;++r<n;)e[r]^=t[r];return e}},function(e,t,n){(function(t){function r(e,n){return new t(e.toRed(i.mont(n.modulus)).redPow(new i(n.publicExponent)).fromRed().toArray())}var i=n(7);e.exports=r}).call(t,n(0).Buffer)},function(e,t){t.endianness=function(){return"LE"},t.hostname=function(){return"undefined"!=typeof location?location.hostname:""},t.loadavg=function(){return[]},t.uptime=function(){return 0},t.freemem=function(){return Number.MAX_VALUE},t.totalmem=function(){return Number.MAX_VALUE},t.cpus=function(){return[]},t.type=function(){return"Browser"},t.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},t.networkInterfaces=t.getNetworkInterfaces=function(){return{}},t.arch=function(){return"javascript"},t.platform=function(){return"browser"},t.tmpdir=t.tmpDir=function(){return"/tmp"},t.EOL="\n",t.homedir=function(){return"/"}},function(e,t){function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function r(e){return!0===(e&&e.__isLong__)}function i(e,t){var n,r,i;return t?(e>>>=0,(i=0<=e&&e<256)&&(r=f[e])?r:(n=s(e,(0|e)<0?-1:0,!0),i&&(f[e]=n),n)):(e|=0,(i=-128<=e&&e<128)&&(r=l[e])?r:(n=s(e,e<0?-1:0,!1),i&&(l[e]=n),n))}function o(e,t){if(isNaN(e))return t?v:m;if(t){if(e<0)return v;if(e>=p)return k}else{if(e<=-y)return x;if(e+1>=y)return E}return e<0?o(-e,t).neg():s(e%d|0,e/d|0,t)}function s(e,t,r){return new n(e,t,r)}function a(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return m;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return a(e.substring(1),t,n).neg();for(var i=o(h(n,8)),s=m,c=0;c<e.length;c+=8){var u=Math.min(8,e.length-c),l=parseInt(e.substring(c,c+u),n);if(u<8){var f=o(h(n,u));s=s.mul(f).add(o(l))}else s=s.mul(i),s=s.add(o(l))}return s.unsigned=t,s}function c(e,t){return"number"==typeof e?o(e,t):"string"==typeof e?a(e,t):s(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}e.exports=n;var u=null;try{u=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=r;var l={},f={};n.fromInt=i,n.fromNumber=o,n.fromBits=s;var h=Math.pow;n.fromString=a,n.fromValue=c;var d=4294967296,p=d*d,y=p/2,g=i(1<<24),m=i(0);n.ZERO=m;var v=i(0,!0);n.UZERO=v;var b=i(1);n.ONE=b;var w=i(1,!0);n.UONE=w;var S=i(-1);n.NEG_ONE=S;var E=s(-1,2147483647,!1);n.MAX_VALUE=E;var k=s(-1,-1,!0);n.MAX_UNSIGNED_VALUE=k;var x=s(0,-2147483648,!1);n.MIN_VALUE=x;var _=n.prototype;_.toInt=function(){return this.unsigned?this.low>>>0:this.low},_.toNumber=function(){return this.unsigned?(this.high>>>0)*d+(this.low>>>0):this.high*d+(this.low>>>0)},_.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(x)){var t=o(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=o(h(e,6),this.unsigned),s=this,a="";;){var c=s.div(i),u=s.sub(c.mul(i)).toInt()>>>0,l=u.toString(e);if(s=c,s.isZero())return l+a;for(;l.length<6;)l="0"+l;a=""+l+a}},_.getHighBits=function(){return this.high},_.getHighBitsUnsigned=function(){return this.high>>>0},_.getLowBits=function(){return this.low},_.getLowBitsUnsigned=function(){return this.low>>>0},_.getNumBitsAbs=function(){if(this.isNegative())return this.eq(x)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},_.isZero=function(){return 0===this.high&&0===this.low},_.eqz=_.isZero,_.isNegative=function(){return!this.unsigned&&this.high<0},_.isPositive=function(){return this.unsigned||this.high>=0},_.isOdd=function(){return 1==(1&this.low)},_.isEven=function(){return 0==(1&this.low)},_.equals=function(e){return r(e)||(e=c(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&(this.high===e.high&&this.low===e.low)},_.eq=_.equals,_.notEquals=function(e){return!this.eq(e)},_.neq=_.notEquals,_.ne=_.notEquals,_.lessThan=function(e){return this.comp(e)<0},_.lt=_.lessThan,_.lessThanOrEqual=function(e){return this.comp(e)<=0},_.lte=_.lessThanOrEqual,_.le=_.lessThanOrEqual,_.greaterThan=function(e){return this.comp(e)>0},_.gt=_.greaterThan,_.greaterThanOrEqual=function(e){return this.comp(e)>=0},_.gte=_.greaterThanOrEqual,_.ge=_.greaterThanOrEqual,_.compare=function(e){if(r(e)||(e=c(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},_.comp=_.compare,_.negate=function(){return!this.unsigned&&this.eq(x)?x:this.not().add(b)},_.neg=_.negate,_.add=function(e){r(e)||(e=c(e));var t=this.high>>>16,n=65535&this.high,i=this.low>>>16,o=65535&this.low,a=e.high>>>16,u=65535&e.high,l=e.low>>>16,f=65535&e.low,h=0,d=0,p=0,y=0;return y+=o+f,p+=y>>>16,y&=65535,p+=i+l,d+=p>>>16,p&=65535,d+=n+u,h+=d>>>16,d&=65535,h+=t+a,h&=65535,s(p<<16|y,h<<16|d,this.unsigned)},_.subtract=function(e){return r(e)||(e=c(e)),this.add(e.neg())},_.sub=_.subtract,_.multiply=function(e){if(this.isZero())return m;if(r(e)||(e=c(e)),u){return s(u.mul(this.low,this.high,e.low,e.high),u.get_high(),this.unsigned)}if(e.isZero())return m;if(this.eq(x))return e.isOdd()?x:m;if(e.eq(x))return this.isOdd()?x:m;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(g)&&e.lt(g))return o(this.toNumber()*e.toNumber(),this.unsigned);var t=this.high>>>16,n=65535&this.high,i=this.low>>>16,a=65535&this.low,l=e.high>>>16,f=65535&e.high,h=e.low>>>16,d=65535&e.low,p=0,y=0,v=0,b=0;return b+=a*d,v+=b>>>16,b&=65535,v+=i*d,y+=v>>>16,v&=65535,v+=a*h,y+=v>>>16,v&=65535,y+=n*d,p+=y>>>16,y&=65535,y+=i*h,p+=y>>>16,y&=65535,y+=a*f,p+=y>>>16,y&=65535,p+=t*d+n*h+i*f+a*l,p&=65535,s(v<<16|b,p<<16|y,this.unsigned)},_.mul=_.multiply,_.divide=function(e){if(r(e)||(e=c(e)),e.isZero())throw Error("division by zero");if(u){if(!this.unsigned&&-2147483648===this.high&&-1===e.low&&-1===e.high)return this;return s((this.unsigned?u.div_u:u.div_s)(this.low,this.high,e.low,e.high),u.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?v:m;var t,n,i;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return v;if(e.gt(this.shru(1)))return w;i=v}else{if(this.eq(x)){if(e.eq(b)||e.eq(S))return x;if(e.eq(x))return b;return t=this.shr(1).div(e).shl(1),t.eq(m)?e.isNegative()?b:S:(n=this.sub(e.mul(t)),i=t.add(n.div(e)))}if(e.eq(x))return this.unsigned?v:m;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=m}for(n=this;n.gte(e);){t=Math.max(1,Math.floor(n.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(t)/Math.LN2),l=a<=48?1:h(2,a-48),f=o(t),d=f.mul(e);d.isNegative()||d.gt(n);)t-=l,f=o(t,this.unsigned),d=f.mul(e);f.isZero()&&(f=b),i=i.add(f),n=n.sub(d)}return i},_.div=_.divide,_.modulo=function(e){if(r(e)||(e=c(e)),u){return s((this.unsigned?u.rem_u:u.rem_s)(this.low,this.high,e.low,e.high),u.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))},_.mod=_.modulo,_.rem=_.modulo,_.not=function(){return s(~this.low,~this.high,this.unsigned)},_.and=function(e){return r(e)||(e=c(e)),s(this.low&e.low,this.high&e.high,this.unsigned)},_.or=function(e){return r(e)||(e=c(e)),s(this.low|e.low,this.high|e.high,this.unsigned)},_.xor=function(e){return r(e)||(e=c(e)),s(this.low^e.low,this.high^e.high,this.unsigned)},_.shiftLeft=function(e){return r(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?s(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):s(0,this.low<<e-32,this.unsigned)},_.shl=_.shiftLeft,_.shiftRight=function(e){return r(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?s(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):s(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},_.shr=_.shiftRight,_.shiftRightUnsigned=function(e){if(r(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;if(e<32){return s(this.low>>>e|t<<32-e,t>>>e,this.unsigned)}return 32===e?s(t,0,this.unsigned):s(t>>>e-32,0,this.unsigned)},_.shru=_.shiftRightUnsigned,_.shr_u=_.shiftRightUnsigned,_.toSigned=function(){return this.unsigned?s(this.low,this.high,!1):this},_.toUnsigned=function(){return this.unsigned?this:s(this.low,this.high,!0)},_.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},_.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},_.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,r){return r?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(287),s=(n(12),function(){function e(){r(this,e),this._fileStores=[],this._config=o}return i(e,[{key:"reorderFileStores",value:function(e,t){(null==this._config||this._config.undefined)&&(this._fileStores=[],this._config=o);for(var n in this._fileStores)this._config.remove(this._fileStores[n]);t?this._fileStores.push(e):this._fileStores.unshift(e);for(var n in this._fileStores){var r=this._fileStores[n];this.set(r,r)}}},{key:"file",value:function(e){if("string"!=typeof e)throw new Error('The "path" parameter must be a string');this.reorderFileStores(e)}},{key:"set",value:function(e,t){o.set(e,t)}},{key:"get",value:function(e,t){var n=o.get(e);return null!=n&&void 0!=n&&(t=n),t}},{key:"delete",value:function(e){o.remove(e)}},{key:"reset",value:function(e){o.clearAll()}}]),e}());e.exports=s},function(e,t,n){"use strict";(function(t){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),s=function(){function e(){r(this,e),this._cryptoSuite=null}return i(e,[{key:"setCryptoSuite",value:function(e){this._cryptoSuite=e}},{key:"getCryptoSuite",value:function(){return this._cryptoSuite}}],[{key:"newCryptoSuite",value:function(e){return o.newCryptoSuite(e)}},{key:"newCryptoKeyStore",value:function(e,t){return o.newCryptoKeyStore(e,t)}},{key:"newDefaultKeyValueStore",value:function(e){return o.newKeyValueStore(e)}},{key:"setLogger",value:function(e){var n="";if("function"!=typeof e.debug&&(n+="debug() "),"function"!=typeof e.info&&(n+="info() "),"function"!=typeof e.warn&&(n+="warn() "),"function"!=typeof e.error&&(n+="error()"),""!==n)throw new Error('The "logger" parameter must be an object that implements the following methods, which are missing: '+n);t.hfc?t.hfc.logger=e:t.hfc={logger:e}}},{key:"getConfigSetting",value:function(e,t){return o.getConfigSetting(e,t)}},{key:"addConfigFile",value:function(e){o.addConfigFile(e)}},{key:"setConfigSetting",value:function(e,t){o.setConfigSetting(e,t)}},{key:"normalizeX509",value:function(e){return o.normalizeX509(e)}}]),e}();e.exports=s}).call(t,n(5))},function(e,t,n){(function(e){function n(){if(void 0!==o)return o;if(e.XMLHttpRequest){o=new e.XMLHttpRequest;try{o.open("GET",e.XDomainRequest?"/":"https://example.com")}catch(e){o=null}}else o=null;return o}function r(e){var t=n();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(e){}return!1}function i(e){return"function"==typeof e}t.fetch=i(e.fetch)&&i(e.ReadableStream),t.writableStream=i(e.WritableStream),t.abortController=i(e.AbortController),t.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),t.blobConstructor=!0}catch(e){}var o,s=void 0!==e.ArrayBuffer,a=s&&i(e.ArrayBuffer.prototype.slice);t.arraybuffer=t.fetch||s&&r("arraybuffer"),t.msstream=!t.fetch&&a&&r("ms-stream"),t.mozchunkedarraybuffer=!t.fetch&&s&&r("moz-chunked-arraybuffer"),t.overrideMimeType=t.fetch||!!n()&&i(n().overrideMimeType),t.vbArray=i(e.VBArray),o=null}).call(t,n(5))},function(e,t,n){(function(e,r,i){var o=n(144),s=n(1),a=n(17),c=t.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},u=t.IncomingMessage=function(t,n,s,c){function u(){h.read().then(function(e){if(!l._destroyed){if(e.done)return i.clearTimeout(c),void l.push(null);l.push(new r(e.value)),u()}}).catch(function(e){i.clearTimeout(c),l._destroyed||l.emit("error",e)})}var l=this;if(a.Readable.call(l),l._mode=s,l.headers={},l.rawHeaders=[],l.trailers={},l.rawTrailers=[],l.on("end",function(){e.nextTick(function(){l.emit("close")})}),"fetch"===s){if(l._fetchResponse=n,l.url=n.url,l.statusCode=n.status,l.statusMessage=n.statusText,n.headers.forEach(function(e,t){l.headers[t.toLowerCase()]=e,l.rawHeaders.push(t,e)}),o.writableStream){var f=new WritableStream({write:function(e){return new Promise(function(t,n){l._destroyed?n():l.push(new r(e))?t():l._resumeFetch=t})},close:function(){i.clearTimeout(c),l._destroyed||l.push(null)},abort:function(e){l._destroyed||l.emit("error",e)}});try{return void n.body.pipeTo(f).catch(function(e){i.clearTimeout(c),l._destroyed||l.emit("error",e)})}catch(e){}}var h=n.body.getReader();u()}else{l._xhr=t,l._pos=0,l.url=t.responseURL,l.statusCode=t.status,l.statusMessage=t.statusText;if(t.getAllResponseHeaders().split(/\r?\n/).forEach(function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var n=t[1].toLowerCase();"set-cookie"===n?(void 0===l.headers[n]&&(l.headers[n]=[]),l.headers[n].push(t[2])):void 0!==l.headers[n]?l.headers[n]+=", "+t[2]:l.headers[n]=t[2],l.rawHeaders.push(t[1],t[2])}}),l._charset="x-user-defined",!o.overrideMimeType){var d=l.rawHeaders["mime-type"];if(d){var p=d.match(/;\s*charset=([^;])(;|$)/);p&&(l._charset=p[1].toLowerCase())}l._charset||(l._charset="utf-8")}}};s(u,a.Readable),u.prototype._read=function(){var e=this,t=e._resumeFetch;t&&(e._resumeFetch=null,t())},u.prototype._onXHRProgress=function(){var e=this,t=e._xhr,n=null;switch(e._mode){case"text:vbarray":if(t.readyState!==c.DONE)break;try{n=new i.VBArray(t.responseBody).toArray()}catch(e){}if(null!==n){e.push(new r(n));break}case"text":try{n=t.responseText}catch(t){e._mode="text:vbarray";break}if(n.length>e._pos){var o=n.substr(e._pos);if("x-user-defined"===e._charset){for(var s=new r(o.length),a=0;a<o.length;a++)s[a]=255&o.charCodeAt(a);e.push(s)}else e.push(o,e._charset);e._pos=n.length}break;case"arraybuffer":if(t.readyState!==c.DONE||!t.response)break;n=t.response,e.push(new r(new Uint8Array(n)));break;case"moz-chunked-arraybuffer":if(n=t.response,t.readyState!==c.LOADING||!n)break;e.push(new r(new Uint8Array(n)));break;case"ms-stream":if(n=t.response,t.readyState!==c.LOADING)break;var u=new i.MSStreamReader;u.onprogress=function(){u.result.byteLength>e._pos&&(e.push(new r(new Uint8Array(u.result.slice(e._pos)))),e._pos=u.result.byteLength)},u.onload=function(){e.push(null)},u.readAsArrayBuffer(n)}e._xhr.readyState===c.DONE&&"ms-stream"!==e._mode&&e.push(null)}}).call(t,n(6),n(0).Buffer,n(5))},function(e,t){function n(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var i in n)r.call(n,i)&&(e[i]=n[i])}return e}e.exports=n;var r=Object.prototype.hasOwnProperty},function(e,t,n){function r(e){if("string"==typeof e&&(e=o.parse(e)),e.protocol||(e.protocol="https:"),"https:"!==e.protocol)throw new Error('Protocol "'+e.protocol+'" not supported. Expected "https:"');return e}var i=n(79),o=n(26),s=e.exports;for(var a in i)i.hasOwnProperty(a)&&(s[a]=i[a]);s.request=function(e,t){return e=r(e),i.request.call(this,e,t)},s.get=function(e,t){return e=r(e),i.get.call(this,e,t)}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=(n(25),n(3)),c=n(82),u=n(4),l=n(11),f=l.protos,h=a.getLogger("Peer.js"),d=function(e){function t(e,n){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return h.debug("Peer.const - url: %s timeout: %s",e,o._request_timeout),o._endorserClient=new f.Endorser(o._endpoint.addr,o._endpoint.creds,o._options),o._roles={},o}return o(t,e),s(t,[{key:"close",value:function(){this._endorserClient&&(h.info("close - closing peer connection "+this._endpoint.addr),this._endorserClient.close())}},{key:"setRole",value:function(e,t){this._roles[e]=t}},{key:"isInRole",value:function(e){return!e||(void 0===this._roles[e]||this._roles[e])}},{key:"sendProposal",value:function(e,t){h.debug("Peer.sendProposal - Start");var n=this,r=n._request_timeout;return"number"==typeof t&&(r=t),e?new Promise(function(t,i){var o=setTimeout(function(){return h.error("sendProposal - timed out after:%s",r),i(new Error("REQUEST_TIMEOUT"))},r);n._endorserClient.processProposal(e,function(e,r){clearTimeout(o),e?(h.debug("Received proposal response from: %s status: %s",n._url,e),i(e instanceof Error?e:new Error(e))):r?(h.debug('Received proposal response from peer "%s": status - %s',n._url,r.response.status),t(r)):(h.error('GRPC client failed to get a proper response from the peer "%s".',n._url),i(new Error(u.format('GRPC client failed to get a proper response from the peer "%s".',n._url))))})}):Promise.reject(new Error("Missing proposal to send to peer"))}},{key:"toString",value:function(){return" Peer : {url:"+this._url+"}"}}]),t}(c);e.exports=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(313);t.BrowserHeaders=r.BrowserHeaders},function(e,t,n){"use strict";function r(e){return e.methodDefinition.requestStream?new Error("No transport available for client-streaming (requestStream) method"):(s||(s=i()),s(e))}function i(){if(a.detectFetchSupport())return a.default;if(u.detectMozXHRSupport())return u.default;if(c.detectXHRSupport())return c.default;if(l.detectNodeHTTPSupport())return l.default;throw new Error("No suitable transport found for gRPC-Web")}function o(e){return f.default(e)}Object.defineProperty(t,"__esModule",{value:!0});var s,a=n(316),c=n(317),u=n(318),l=n(320),f=n(321);t.DefaultTransportFactory=r,t.WebsocketTransportFactory=o},function(e,t,n){"use strict";function r(e){return h(e)||e>=32&&e<=126}function i(e){for(var t=0;t!==e.length;++t)if(!r(e[t]))throw new Error("Metadata is not valid (printable) ASCII");return String.fromCharCode.apply(String,Array.prototype.slice.call(e))}function o(e){for(var t=new Uint8Array(e.length),n=0;n!==e.length;++n){var i=e.charCodeAt(n);if(!r(i))throw new Error("Metadata contains invalid ASCII");t[n]=i}return t}function s(e){return 128==(128&e.getUint8(0))}function a(e){return new f.Metadata(i(e))}function c(e){return e.getUint32(1,!1)}function u(e,t,n){return e.byteLength-t>=n}function l(e,t,n){if(e.slice)return e.slice(t,n);var r=e.length;void 0!==n&&(r=n);for(var i=r-t,o=new Uint8Array(i),s=0,a=t;a<r;a++)o[s++]=e[a];return o}Object.defineProperty(t,"__esModule",{value:!0});var f=n(22),h=function(e){return 9===e||10===e||13===e};t.decodeASCII=i,t.encodeASCII=o;var d;!function(e){e[e.MESSAGE=1]="MESSAGE",e[e.TRAILERS=2]="TRAILERS"}(d=t.ChunkType||(t.ChunkType={}));var p=function(){function e(){this.buffer=null,this.position=0}return e.prototype.parse=function(e,t){if(0===e.length&&t)return[];var n=[];if(null==this.buffer)this.buffer=e,this.position=0;else if(this.position===this.buffer.byteLength)this.buffer=e,this.position=0;else{var r=this.buffer.byteLength-this.position,i=new Uint8Array(r+e.byteLength),o=l(this.buffer,this.position);i.set(o,0);var f=new Uint8Array(e);i.set(f,r),this.buffer=i,this.position=0}for(;;){if(!u(this.buffer,this.position,5))return n;var h=l(this.buffer,this.position,this.position+5),p=new DataView(h.buffer,h.byteOffset,h.byteLength),y=c(p);if(!u(this.buffer,this.position,5+y))return n;var g=l(this.buffer,this.position+5,this.position+5+y);if(this.position+=5+y,s(p))return n.push({chunkType:d.TRAILERS,trailers:a(g)}),n;n.push({chunkType:d.MESSAGE,data:g})}},e}();t.ChunkParser=p},function(e,t,n){"use strict";function r(e){switch(e){case 0:return i.Internal;case 200:return i.OK;case 400:return i.InvalidArgument;case 401:return i.Unauthenticated;case 403:return i.PermissionDenied;case 404:return i.NotFound;case 409:return i.Aborted;case 412:return i.FailedPrecondition;case 429:return i.ResourceExhausted;case 499:return i.Canceled;case 500:return i.Unknown;case 501:return i.Unimplemented;case 503:return i.Unavailable;case 504:return i.DeadlineExceeded;default:return i.Unknown}}Object.defineProperty(t,"__esModule",{value:!0});var i;!function(e){e[e.OK=0]="OK",e[e.Canceled=1]="Canceled",e[e.Unknown=2]="Unknown",e[e.InvalidArgument=3]="InvalidArgument",e[e.DeadlineExceeded=4]="DeadlineExceeded",e[e.NotFound=5]="NotFound",e[e.AlreadyExists=6]="AlreadyExists",e[e.PermissionDenied=7]="PermissionDenied",e[e.ResourceExhausted=8]="ResourceExhausted",e[e.FailedPrecondition=9]="FailedPrecondition",e[e.Aborted=10]="Aborted",e[e.OutOfRange=11]="OutOfRange",e[e.Unimplemented=12]="Unimplemented",e[e.Internal=13]="Internal",e[e.Unavailable=14]="Unavailable",e[e.DataLoss=15]="DataLoss",e[e.Unauthenticated=16]="Unauthenticated"}(i=t.Code||(t.Code={})),t.httpStatusToCode=r},function(e,t,n){"use strict";(function(t){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){return y[e]}for(var o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),s=n(3),a=n(82),c=n(84),u=n(54),l=s.getLogger("EventHub.js"),f=n(11),h=f.protos,d=f.common,p=(f.protos,f.protos),y=(f.protos,f.protos,f.protos,{}),g=Object.keys(p.TxValidationCode),m=0;m<g.length;m++){var v=p.TxValidationCode[g[m]];y[v]=g[m]}var b={};g=Object.keys(d.HeaderType);for(var w in g){b[d.HeaderType[g[w]]]=g[w]}var S=function e(t,n,i,o){r(this,e),this.ccid=t,this.eventNameFilter=new RegExp(n),this.onEvent=i,this.onError=o},E=function(){function e(t){if(r(this,e),l.debug("const "),this._chaincodeRegistrants={},this._block_registrant_count=1,this._blockOnEvents={},this._blockOnErrors={},this._transactionOnEvents={},this._transactionOnErrors={},this._ep=null,this._event_client=null,this._stream=null,this._connected=!1,this._connect_running=!1,this._force_reconnect=!0,this._current_stream=0,void 0===t||null===t||""===t)throw new Error("Missing required argument: clientContext");this._clientContext=t}return o(e,[{key:"setPeerAddr",value:function(e,t){l.debug("setPeerAddr -  %s",e),this._disconnect(new Error("EventHub has been shutdown due to new Peer address assignment")),this._ep=new a(e,t)}},{key:"getPeerAddr",value:function(){var e=null;return this._ep&&(e=this._ep._endpoint.addr),e}},{key:"isconnected",value:function(){return this._connected}},{key:"connect",value:function(){if(l.debug("connect - start"),this._connect_running=!1,"function"!=typeof this._clientContext.getUserContext)throw new Error('Invalid clientContext argument: missing required function "getUserContext"');if(void 0===this._clientContext.getUserContext()||null===this._clientContext.getUserContext())throw new Error("The clientContext has not been properly initialized, missing userContext");this._connect()}},{key:"_connect",value:function(e){if(l.debug("_connect - start - %s",new Date),this._connect_running)return void l.debug("_connect - connect is running");if(!e&&this._connected)return void l.debug("_connect - end - already conneted");if(!this._ep)throw Error("Must set peer address before connecting.");this._connect_running=!0,this._current_stream++;var t=this._current_stream;l.debug("_connect - start stream:",t);var n=this,r=setTimeout(function(){l.error("_connect - timed out after:%s",n._ep._request_timeout),n._connect_running=!1,n._disconnect(new Error("Unable to connect to the peer event hub"))},n._ep._request_timeout),i=s.checkAndAddConfigSetting("grpc.http2.keepalive_time",360,this._ep._options);i=s.checkAndAddConfigSetting("grpc.keepalive_time_ms",36e4,i);var o=s.getConfigSetting("request-timeout",3e3),a=o/1e3;i=s.checkAndAddConfigSetting("grpc.http2.keepalive_timeout",a,i),i=s.checkAndAddConfigSetting("grpc.keepalive_timeout_ms",o,i),i=s.checkAndAddConfigSetting("grpc.http2.min_time_between_pings_ms",3e5,i),l.debug("_connect - options %j",i),this._event_client=new h.Events(this._ep._endpoint.addr,this._ep._endpoint.creds,i),this._stream=this._event_client.chat(),this._stream.on("data",function(e){if(n._connect_running=!1,clearTimeout(r),l.debug("on.data - event stream:%s _current_stream:%s",t,n._current_stream),t!=n._current_stream)return void l.debug("on.data - incoming event was from a cancel stream");var i=-1;if(n._stream&&(i=n._stream.call.channel_.getConnectivityState()),l.debug("on.data - grpc stream state :%s",i),"block"==e.Event){var o=c.decodeBlock(e.block);n._processBlockOnEvents(o),n._processTxOnEvents(o),n._processChainCodeOnEvents(o)}else"register"==e.Event?(l.debug("on.data - register event received"),n._connected=!0):"unregister"==e.Event?(n._connected&&n._disconnect(new Error('Peer event hub has disconnected due to an "unregister" event')),l.debug("on.data - unregister event received")):l.debug("on.data - unknown event %s",e.Event)}),this._stream.on("end",function(){if(n._connect_running=!1,clearTimeout(r),l.debug("on.end - event stream:%s _current_stream:%s",t,n._current_stream),t!=n._current_stream)return void l.debug("on.end - incoming event was from a canceled stream");var e=-1;n._stream&&(e=n._stream.call.channel_.getConnectivityState()),l.debug("on.end - grpc stream state :%s",e),n._disconnect(new Error('Peer event hub has disconnected due to an "end" event'))}),this._stream.on("error",function(e){if(n._connect_running=!1,clearTimeout(r),l.debug("on.error - event stream:%s _current_stream:%s",t,n._current_stream),t!=n._current_stream)return l.debug("on.error - incoming event was from a canceled stream"),void l.debug("on.error - %s %s",new Date,e);var i=-1;n._stream&&(i=n._stream.call.channel_.getConnectivityState()),l.debug("on.error - grpc stream state :%s",i),e instanceof Error?n._disconnect(e):n._disconnect(new Error(e))}),this._sendRegistration(!0),l.debug("_connect - end stream:",t)}},{key:"disconnect",value:function(){this._disconnect(new Error("EventHub has been shutdown"))}},{key:"_disconnect",value:function(e){l.debug("_disconnect - start -- called due to:: %s",e.message),this._connected=!1,this._closeAllCallbacks(e),this._stream&&(l.debug("_disconnect - shutdown existing stream"),this._sendRegistration(!1),this._stream.end(),this._stream=null),this._event_client&&this._event_client.close()}},{key:"_sendRegistration",value:function(e){var n=this._clientContext.getUserContext(),r=new h.SignedEvent,i=new h.Event,o={events:[{event_type:"BLOCK"}]};e?i.setRegister(o):i.setUnregister(o),i.setCreator(n.getIdentity().serialize()),i.setTimestamp(u.buildCurrentTimestamp());var s=this._ep.getClientCertHash();s&&i.setTlsCertHash(s),r.setEventBytes(i.toBuffer());var a=n.getSigningIdentity().sign(i.toBuffer());r.setSignature(t.from(a)),this._stream.write(r)}},{key:"_closeAllCallbacks",value:function(e){l.debug("_closeAllCallbacks - start");var t=function(t){for(var n in t){var r=t[n];l.debug("_closeAllCallbacks - closing this callback %s",n),r(e)}};l.debug("_closeAllCallbacks - blockOnErrors %s",Object.keys(this._blockOnErrors).length),t(this._blockOnErrors),this._blockOnEvents={},this._blockOnErrors={},l.debug("_closeAllCallbacks - transactionOnErrors %s",Object.keys(this._transactionOnErrors).length),t(this._transactionOnErrors),this._transactionOnEvents={},this._transactionOnErrors={};var n=this,r=function(t){n._chaincodeRegistrants[t].forEach(function(t){l.debug("_closeAllCallbacks - closing this chaincode event ccid:%s eventNameFilter:%s",t.ccid,t.eventNameFilter),t.onError&&t.onError(e)})};l.debug("_closeAllCallbacks - chaincodeRegistrants %s",Object.keys(this._chaincodeRegistrants).length),Object.keys(this._chaincodeRegistrants).forEach(r),this._chaincodeRegistrants={}}},{key:"_checkConnection",value:function(e,t){l.debug("_checkConnection - start throw_error %s, force_reconnect %s",e,t);var n=0;if(this._stream&&(n=this._stream.call.channel_.getConnectivityState()),this._connected||this._connect_running)l.debug("_checkConnection - this hub %s is connected or trying to connect with stream channel state %s",this._ep.getUrl(),n);else if(l.debug("_checkConnection - this hub %s is not connected with stream channel state %s",this._ep.getUrl(),n),e&&!t)throw new Error("The event hub has not been connected to the event source");if(t)try{if(this._stream){var r=this._stream.isPaused();l.debug("_checkConnection - grpc isPaused :%s",r),r&&(this._stream.resume(),l.debug("_checkConnection - grpc resuming "));var n=this._stream.call.channel_.getConnectivityState();l.debug("_checkConnection - grpc stream state :%s",n),2!=n&&this._connect(!0)}else l.debug("_checkConnection - stream was shutdown - will reconnected"),this._connect(!0)}catch(e){l.error(e.stack);var i=new Error("Event hub is not connected ");this._disconnect(i)}}},{key:"registerChaincodeEvent",value:function(e,t,n,r){if(l.debug("registerChaincodeEvent - start"),!e)throw new Error('Missing "ccid" parameter');if(!t)throw new Error('Missing "eventname" parameter');if(!n)throw new Error('Missing "onEvent" parameter');var i=!!r;this._checkConnection(!i,!1);var o=new S(e,t,n,r),s=this._chaincodeRegistrants[e];return s||(s=new Set,this._chaincodeRegistrants[e]=s),s.add(o),i&&this._checkConnection(!1,this._force_reconnect),o}},{key:"unregisterChaincodeEvent",value:function(e){if(l.debug("unregisterChaincodeEvent - start"),!e)throw new Error('Missing "listener_handle" parameter');var t=this._chaincodeRegistrants[e.ccid];if(!t)return void l.debug("No event registration for ccid %s ",e.ccid);t.delete(e),t.size<=0&&delete this._chaincodeRegistrants[e.ccid]}},{key:"registerBlockEvent",value:function(e,t){if(l.debug("registerBlockEvent - start"),!e)throw new Error('Missing "onEvent" parameter');var n=!!t;this._checkConnection(!n,!1);var r=this._block_registrant_count++;return this._blockOnEvents[r]=e,n&&(this._blockOnErrors[r]=t,this._checkConnection(!1,this._force_reconnect)),r}},{key:"unregisterBlockEvent",value:function(e){if(l.debug("unregisterBlockEvent - start  %s",e),!e)throw new Error('Missing "block_registration_number" parameter');delete this._blockOnEvents[e],delete this._blockOnErrors[e]}},{key:"registerTxEvent",value:function(e,t,n){if(l.debug("registerTxEvent txid "+e),!e)throw new Error('Missing "txid" parameter');if(!t)throw new Error('Missing "onEvent" parameter');var r=!!n;this._checkConnection(!r,!1),this._transactionOnEvents[e]=t,r&&(this._transactionOnErrors[e]=n,this._checkConnection(!1,this._force_reconnect))}},{key:"unregisterTxEvent",value:function(e){if(l.debug("unregisterTxEvent txid "+e),!e)throw new Error('Missing "txid" parameter');delete this._transactionOnEvents[e],delete this._transactionOnErrors[e]}},{key:"_processBlockOnEvents",value:function(e){if(l.debug("_processBlockOnEvents block=%s",e.header.number),0==Object.keys(this._blockOnEvents).length)return void l.debug('_processBlockOnEvents - no registered block event "listeners"');var t=this;Object.keys(this._blockOnEvents).forEach(function(n){(0,t._blockOnEvents[n])(e)})}},{key:"_processTxOnEvents",value:function(e){if(l.debug("_processTxOnEvents block=%s",e.header.number),0==Object.keys(this._transactionOnEvents).length)return void l.debug('_processTxOnEvents - no registered transaction event "listeners"');for(var t=e.metadata.metadata[d.BlockMetadataIndex.TRANSACTIONS_FILTER],n=0;n<e.data.data.length;n++){l.debug("_processTxOnEvents - trans index=%s",n);var r=e.data.data[n].payload.header.channel_header,o=i(t[n]);l.debug("_processTxOnEvents - txid=%s  val_code=%s",r.tx_id,o);var s=this._transactionOnEvents[r.tx_id];s&&(l.debug("_processTxOnEvents - about to stream the transaction call back for code=%s tx=%s",o,r.tx_id),s(r.tx_id,o))}}},{key:"_processChainCodeOnEvents",value:function(e){if(l.debug("_processChainCodeOnEvents block=%s",e.header.number),0==Object.keys(this._chaincodeRegistrants).length)return void l.debug('_processChainCodeOnEvents - no registered chaincode event "listeners"');for(var t=0;t<e.data.data.length;t++){l.debug("_processChainCodeOnEvents - trans index=%s",t);try{var n=e.data.data[t],r=n.payload;if(3===r.header.channel_header.type){var i=r.data,o=i.actions[0].payload,s=o.action.proposal_response_payload,a=s.extension,c=a.events;l.debug("_processChainCodeOnEvents - ccEvent %s",c);var u=this._chaincodeRegistrants[c.chaincode_id];if(!u)return;u.forEach(function(e){e.eventNameFilter.test(c.event_name)&&e.onEvent(c)})}}catch(e){l.error("on.data - Error unmarshalling transaction=",e)}}}}]),e}();e.exports=E}).call(t,n(0).Buffer)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=(n(25),n(3)),c=n(82),u=a.getLogger("Orderer.js"),l=n(11),f=l.orderer,h=l.common,d=function(e){function t(e,n){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return u.debug("Orderer.const - url: %s timeout: %s",e,o._request_timeout),o._ordererClient=new f.AtomicBroadcast(o._endpoint.addr,o._endpoint.creds,o._options),o}return o(t,e),s(t,[{key:"close",value:function(){this._ordererClient&&(u.info("close - closing orderer connection "+this._endpoint.addr),this._ordererClient.close())}},{key:"sendBroadcast",value:function(e){if(u.debug("sendBroadcast - start"),!e||""==e){u.debug("sendBroadcast ERROR - missing envelope");var t=new Error("Missing data - Nothing to broadcast");return Promise.reject(t)}var n=this;return new Promise(function(t,r){var i=n._ordererClient.broadcast(),o=setTimeout(function(){return u.error("sendBroadcast - timed out after:%s",n._request_timeout),i.end(),r(new Error("REQUEST_TIMEOUT"))},n._request_timeout);i.on("data",function(e){return u.debug("sendBroadcast - on data response: %j",e),i.end(),e&&e.info&&u.debug("sendBroadcast - response info :: %s",e.info),e&&e.status?(u.debug("sendBroadcast - response status %s",e.status),t(e)):(u.error("sendBroadcast ERROR - reject with invalid response from the orderer"),r(new Error("SYSTEM_ERROR")))}),i.on("end",function(e){u.debug("sendBroadcast - on end:"),clearTimeout(o),i.cancel()}),i.on("error",function(e){return clearTimeout(o),i.end(),e&&e.code&&14==e.code?(u.error("sendBroadcast - on error: %j",e.stack?e.stack:e),r(new Error("SERVICE_UNAVAILABLE"))):(u.debug("sendBroadcast - on error: %j",e.stack?e.stack:e),r(e instanceof Error?e:new Error(e)))}),i.write(e),u.debug("sendBroadcast - sent message")})}},{key:"sendDeliver",value:function(e){if(u.debug("sendDeliver - start"),!e||""==e){u.debug("sendDeliver ERROR - missing envelope");var t=new Error("Missing data - Nothing to deliver");return Promise.reject(t)}var n=this;return new Promise(function(t,r){try{var i=n._ordererClient.deliver(),o=null,s=!1,a=setTimeout(function(){return u.debug("sendDeliver - timed out after:%s",n._request_timeout),i.end(),r(new Error("REQUEST_TIMEOUT"))},n._request_timeout);i.on("data",function(e){if(u.debug("sendDeliver - on data"),"block"!==e.Type)return"status"===e.Type?(clearTimeout(a),s=!1,i.end(),"SUCCESS"===e.status?(u.debug("sendDeliver - resolve - status:%s",e.status),t(o)):(u.error("sendDeliver - rejecting - status:%s",e.status),r(new Error("Invalid results returned ::"+e.status)))):(u.error("sendDeliver ERROR - reject with invalid response from the orderer"),s&&(clearTimeout(a),i.end(),s=!1),r(new Error("SYSTEM_ERROR")));var n=new h.BlockHeader;n.setNumber(e.block.header.number),n.setPreviousHash(e.block.header.previous_hash),n.setDataHash(e.block.header.data_hash);var c=new h.BlockData;c.setData(e.block.data.data);var l=new h.BlockMetadata;l.setMetadata(e.block.metadata.metadata);var f=new h.Block;f.setHeader(n),f.setData(c),f.setMetadata(l),o=f,u.debug("sendDeliver - wait for success, keep this block number %s",o.header.number)}),i.on("status",function(e){u.debug("sendDeliver - on status:%j",e)}),i.on("end",function(e){u.debug("sendDeliver - on end"),s&&(clearTimeout(a),i.cancel(),s=!1)}),i.on("error",function(e){return u.debug("sendDeliver - on error"),clearTimeout(a),s&&(i.end(),s=!1,e&&e.code&&14==e.code)?(u.error("sendDeliver - on error code 14: %j",e.stack?e.stack:e),r(new Error("SERVICE_UNAVAILABLE"))):r(e instanceof Error?e:new Error(e))}),i.write(e),s=!0,u.debug("sendDeliver - sent envelope")}catch(e){return u.error(e.stack),r(e instanceof Error?e:new Error(e))}})}},{key:"toString",value:function(){return" Orderer : {url:"+this._url+"}"}}]),t}(c);e.exports=d},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(4),s=n(3),a=n(25),c=s.getLogger("User.js"),u=n(55),l=u.Identity,f=u.SigningIdentity,h=u.Signer,d=function(){function e(t){if(r(this,e),o.isString(t))this._name=t,this._roles=null,this._affiliation="";else if(o.isObject(t)){var n=t;this._name=n.enrollmentID||n.name,this._roles=n.roles||["fabric.user"],this._affiliation=n.affiliation}this._enrollmentSecret="",this._identity=null,this._signingIdentity=null,this._mspId="",this._cryptoSuite=null}return i(e,[{key:"getName",value:function(){return this._name}},{key:"getRoles",value:function(){return this._roles}},{key:"setRoles",value:function(e){this._roles=e}},{key:"getAffiliation",value:function(){return this._affiliation}},{key:"setAffiliation",value:function(e){this._affiliation=e}},{key:"getIdentity",value:function(){return this._identity}},{key:"getSigningIdentity",value:function(){return this._signingIdentity}},{key:"getCryptoSuite",value:function(){return this._cryptoSuite}},{key:"setCryptoSuite",value:function(e){this._cryptoSuite=e}},{key:"setEnrollment",value:function(e,t,n){var r=this;if(void 0===e||null===e||""===e)throw new Error("Invalid parameter. Must have a valid private key.");if(void 0===t||null===t||""===t)throw new Error("Invalid parameter. Must have a valid certificate.");if(void 0===n||null===n||""===n)throw new Error("Invalid parameter. Must have a valid mspId.");this._mspId=n,this._cryptoSuite||(this._cryptoSuite=s.newCryptoSuite(),this._cryptoSuite.setCryptoKeyStore(s.newCryptoKeyStore()));var i;return i=this._cryptoSuite._cryptoKeyStore?this._cryptoSuite.importKey(t):Promise.resolve(this._cryptoSuite.importKey(t,{ephemeral:!0})),i.then(function(i){var o=new l(t,i,n,r._cryptoSuite);r._identity=o,r._signingIdentity=new f(t,i,n,r._cryptoSuite,new h(r._cryptoSuite,e))})}},{key:"isEnrolled",value:function(){return null!==this._identity&&null!=this._signingIdentity}},{key:"fromString",value:function(e,t){var n=this;c.debug("fromString --start");var r=JSON.parse(e);if(r.name!==this.getName())throw new Error("name mismatch: '"+r.name+"' does not equal '"+this.getName()+"'");if(this._name=r.name,this._roles=r.roles,this._affiliation=r.affiliation,this._enrollmentSecret=r.enrollmentSecret,void 0===r.mspid||null===r.mspid||""===r.mspid)throw new Error('Failed to find "mspid" in the deserialized state object for the user. Likely due to an outdated state store.');this._mspId=r.mspid,this._cryptoSuite||(this._cryptoSuite=s.newCryptoSuite(),this._cryptoSuite.setCryptoKeyStore(s.newCryptoKeyStore()));var i=this,u=void 0,d=null,p={algorithm:a.CryptoAlgorithms.X509Certificate};return t?(p.ephemeral=!0,d=new Promise(function(e,t){var i=n._cryptoSuite.importKey(r.enrollment.identity.certificate,p);i?e(i):t(new Error("Import of saved user has failed"))})):d=this._cryptoSuite.importKey(r.enrollment.identity.certificate,p),d.then(function(e){u=e;var t=new l(r.enrollment.identity.certificate,u,i._mspId,n._cryptoSuite);return i._identity=t,i._cryptoSuite.getKey(r.enrollment.signingIdentity)}).then(function(e){if(e.isPrivate())return i._signingIdentity=new f(r.enrollment.identity.certificate,u,i._mspId,i._cryptoSuite,new h(i._cryptoSuite,e)),i;throw new Error(o.format("Private key missing from key store. Can not establish the signing identity for user %s",r.name))})}},{key:"toString",value:function(){var e={};this._signingIdentity&&(e.signingIdentity=this._signingIdentity._signer._key.getSKI()),this._identity&&(e.identity={certificate:this._identity._certificate});var t={name:this._name,mspid:this._mspId,roles:this._roles,affiliation:this._affiliation,enrollmentSecret:this._enrollmentSecret,enrollment:e};return JSON.stringify(t)}}],[{key:"isInstance",value:function(e){return void 0!==e._name&&void 0!==e._roles&&void 0!==e._affiliation&&void 0!==e._enrollmentSecret&&void 0!==e._identity&&void 0!==e._signingIdentity&&void 0!==e._mspId&&void 0!==e._cryptoSuite}}]),e}();e.exports=d},function(e,t,n){"use strict";(function(t){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){return"string"==typeof e?e:b[e]}function o(e){var t=-1;return e._stream&&e._stream.call&&e._stream.call.channel_&&(t=e._stream.call.channel_.getConnectivityState()),t}function s(e){var t=null;try{t=_[e]}catch(t){h.error("Connection state conversion - unknown state - %s",e)}return t||(t="UNKNOWN_STATE"),t}for(var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),c=n(141),u=n(4),l=n(3),f=n(54),h=l.getLogger("ChannelEventHub.js"),d=n(84),p=n(11),y=p.orderer,g=p.protos,m=p.common,v=p.protos,b={},w=Object.keys(v.TxValidationCode),S=0;S<w.length;S++){var E=v.TxValidationCode[w[S]];b[E]=w[S]}var k={};w=Object.keys(m.HeaderType);for(var x in w){k[m.HeaderType[w[x]]]=w[x]}var _={0:"IDLE",1:"CONNECTING",2:"READY",3:"TRANSIENT_FAILURE",4:"FATAL_FAILURE",5:"SHUTDOWN"},O=function(){function e(t,n){if(r(this,e),h.debug("const "),this._last_block_seen=null,this._starting_block_number=null,this._ending_block_number=null,this._ending_block_seen=!1,this._start_stop_registration=null,this._chaincodeRegistrants={},this._block_registrant_count=0,this._blockRegistrations={},this._transactionRegistrations={},this._event_client=null,this._stream=null,this._allowRegistration=!0,this._connected=!1,this._connect_running=!1,this._filtered_stream=!0,this._current_stream=0,void 0===t||null===t||""===t)throw new Error("Missing required argument: channel");if(this._clientContext=t._clientContext,this._channel=t,void 0===n||null===n||""===n)throw new Error("Missing required argument: peer");this._peer=n}return a(e,[{key:"getPeerAddr",value:function(){var e=null;return this._peer&&(e=this._peer._endpoint.addr),e}},{key:"lastBlockNumber",value:function(){if(null===this._last_block_seen)throw new Error("This ChannelEventHub has not had an event from the peer");return this._last_block_seen}},{key:"_checkAllowRegistrations",value:function(){if(!this._allowRegistration)throw new Error("This ChannelEventHub is not open to event listener registrations")}},{key:"isconnected",value:function(){return this._connected}},{key:"connect",value:function(e){if(h.debug("connect - start"),!this._clientContext._userContext&&!this._clientContext._adminSigningIdentity)throw new Error("The clientContext has not been properly initialized, missing userContext or admin identity");if("boolean"==typeof e)this._filtered_stream=!e,h.debug("connect - filtered block stream set to:%s",!e);else{if(void 0!==e&&null!==e)throw new Error('"filtered" parameter is invalid');h.debug("connect - using a filtered block stream by default")}this._connect()}},{key:"_connect",value:function(e){if(h.debug("_connect - start - %s",new Date),this._connect_running)return void h.debug("_connect - connect is running");if(!e&&this._connected)return void h.debug("_connect - end - already connected");if(!this._peer)throw Error("Must set peer address before connecting.");this._shutdown(),this._connect_running=!0,this._current_stream++;var t=this._current_stream;h.debug("_connect - start stream:",t);var n=this,r=setTimeout(function(){h.error("_connect - timed out after:%s",n._peer._request_timeout),n._connect_running=!1,n._disconnect(new Error("Unable to connect to the peer event hub"))},n._peer._request_timeout),i=l.checkAndAddConfigSetting("grpc.keepalive_time_ms",36e4,this._peer._options),s=l.getConfigSetting("request-timeout",3e3);i=l.checkAndAddConfigSetting("grpc.keepalive_timeout_ms",s,i),i=l.checkAndAddConfigSetting("grpc.http2.min_time_between_pings_ms",3e5,i),h.debug("_connect - options %j",i),this._event_client=new g.Deliver(this._peer._endpoint.addr,this._peer._endpoint.creds,i),this._filtered_stream?this._stream=this._event_client.deliverFiltered():this._stream=this._event_client.deliver(),this._stream.on("data",function(e){if(n._connect_running&&(n._connect_running=!1,clearTimeout(r)),h.debug("on.data - event stream:%s _current_stream:%s",t,n._current_stream),t!=n._current_stream)return void h.debug("on.data - incoming event was from a canceled stream");var i=o(n);if(h.debug("on.data - grpc stream state :%s",i),"block"===e.Type||"filtered_block"===e.Type){1==n._connected?h.debug("on.data - new block received - check event registrations"):(h.debug("on.data - first block received , event hub now registered"),n._connected=!0);try{var s=null;"block"===e.Type?(s=d.decodeBlock(e.block),n._last_block_seen=l.convertToLong(s.header.number)):(s=JSON.parse(JSON.stringify(e.filtered_block)),n._last_block_seen=l.convertToLong(s.number)),h.debug("on.data - incoming block number %s",n._last_block_seen),n._processBlockEvents(s),n._processTxEvents(s),n._processChaincodeEvents(s),n._checkReplayEnd()}catch(e){h.error(e.stack),h.error("ChannelEventHub has detected an error "+e.toString()),n._disconnect(e)}}else"status"===e.Type?(h.debug("on.data - status received"),n._ending_block_seen?h.debug("on.data - status received after last block seen"):(h.debug("on.data - status received - %s",e.status),n._disconnect(new Error(u.format("Received status message on the event stream. status:%s",e.status))))):(h.debug("on.data - unknown deliverResponse"),h.error("ChannelEventHub has received and unknown message type %s",e.Type))}),this._stream.on("status",function(e){h.debug("on status - status received: %j",e)}),this._stream.on("end",function(){if(n._connect_running=!1,clearTimeout(r),h.debug("on.end - event stream:%s _current_stream:%s",t,n._current_stream),t!=n._current_stream)return void h.debug("on.end - incoming event was from a canceled stream");var e=o(n);h.debug("on.end - grpc stream state :%s",e),n._disconnect(new Error('Peer event hub has disconnected due to an "end" event'))}),this._stream.on("error",function(e){if(n._connect_running=!1,clearTimeout(r),h.debug("on.error - event stream:%s _current_stream:%s",t,n._current_stream),t!=n._current_stream)return h.debug("on.error - incoming event was from a canceled stream"),void h.debug("on.error - %s %s",new Date,e);var i=o(n);h.debug("on.error - grpc stream state :%s",i),e instanceof Error?n._disconnect(e):n._disconnect(new Error(e))}),this._sendRegistration(),h.debug("_connect - end stream:",t)}},{key:"disconnect",value:function(){this._disconnect(new Error("ChannelEventHub has been shutdown"))}},{key:"_disconnect",value:function(e){h.debug("_disconnect - start -- called due to:: %s",e.message),this._connected=!1,this._connect_running=!1,this._closeAllCallbacks(e),this._shutdown()}},{key:"_shutdown",value:function(){this._stream&&(h.debug("_disconnect - shutdown existing stream"),this._stream.cancel(),this._stream.end(),this._stream=null),this._event_client&&this._event_client.close()}},{key:"_sendRegistration",value:function(){var e=new y.SeekPosition;if(this._starting_block_number){var n=new y.SeekSpecified;n.setNumber(this._starting_block_number),e.setSpecified(n)}else{var r=new y.SeekNewest;e.setNewest(r)}var i=new y.SeekPosition,o=new y.SeekSpecified;this._ending_block_number?o.setNumber(this._ending_block_number):o.setNumber(c.MAX_VALUE),i.setSpecified(o);var s=new y.SeekInfo;s.setStart(e),s.setStop(i),s.setBehavior(y.SeekInfo.SeekBehavior.BLOCK_UNTIL_READY);var a=this._clientContext.newTransactionID(!0),u=this._clientContext._getSigningIdentity(!0),l=f.buildChannelHeader(m.HeaderType.DELIVER_SEEK_INFO,this._channel._name,a.getTransactionID(),this._initial_epoch,null,f.buildCurrentTimestamp(),this._peer.getClientCertHash()),h=f.buildHeader(u,l,a.getNonce()),d=new m.Payload;d.setHeader(h),d.setData(s.toBuffer());var p=d.toBuffer(),g=u.sign(p),v=t.from(g),b={signature:v,payload:p};this._stream.write(b)}},{key:"_closeAllCallbacks",value:function(e){h.debug("_closeAllCallbacks - start"),h.debug("_closeAllCallbacks - blockOnErrors %s",Object.keys(this._blockRegistrations).length);for(var t in this._blockRegistrations){var n=this._blockRegistrations[t];n.onError?(h.debug("_closeAllCallbacks - calling block error callback for %s",t),n.onError(e)):h.debug("_closeAllCallbacks - no block error callback to call for %s",t)}this._blockRegistrations={},h.debug("_closeAllCallbacks - transactionOnErrors %s",Object.keys(this._transactionRegistrations).length);for(var r in this._transactionRegistrations){var i=this._transactionRegistrations[r];i.onError?(h.debug("_closeAllCallbacks - calling transaction error callback for %s",r),i.onError(e)):h.debug("_closeAllCallbacks - no transaction error callback to call for %s",r)}this._transactionRegistrations={};var o=this,s=function(t){o._chaincodeRegistrants[t].forEach(function(t){h.debug("_closeAllCallbacks - closing this chaincode event ccid:%s eventNameFilter:%s",t.ccid,t.eventNameFilter),t.event_reg.onError&&t.event_reg.onError(e)})};h.debug("_closeAllCallbacks - chaincodeRegistrants %s",Object.keys(this._chaincodeRegistrants).length),Object.keys(this._chaincodeRegistrants).forEach(s),this._chaincodeRegistrants={}}},{key:"_checkReplay",value:function(e){h.debug("_checkReplay - start");var t=0,n=!1,r=!1,i={};if(e&&void 0!==e.startBlock)try{i.start_block=l.convertToLong(e.startBlock),n=!0}catch(e){throw new Error("Problem with the startBlock parameter ::"+e)}if(e&&void 0!==e.endBlock)try{i.end_block=l.convertToLong(e.endBlock),r=!0}catch(e){throw new Error("Problem with the endBlock parameter ::"+e)}if((n||r)&&this._haveRegistrations())throw h.error("This ChannelEventHub is already registered with active listeners. Not able options of startBlock:%s endBlock:%s",e.startBlock,e.endBlock),new Error("Only one event registration is allowed when startBlock or endBlock are used");if((n||r)&&(this._connected||this._connect_running))throw h.error("This ChannelEventHub has already been connected to start receiving blocks. Not able to use options of startBlock:%s endBlock:%s",e.startBlock,e.endBlock),new Error("Event listeners that use startBlock or endBlock must be registered before connecting to the peer channel-based event service");if(r){if(n&&i.start_block.greaterThan(i.end_block))throw new Error(u.format('"startBlock" (%s) must not be larger than "endBlock" (%s)',i.start_block,i.end_block));this._ending_block_number=i.end_block,this._allowRegistration=!1,t=2,h.debug("_checkReplay - Event listening will end at block %s",i.end_block)}return n&&(this._starting_block_number=i.start_block,this._allowRegistration=!1,t++,h.debug("_checkReplay - Event listening will start at block %s",i.start_block)),t}},{key:"_haveRegistrations",value:function(){var e=0;return e+=Object.keys(this._chaincodeRegistrants).length,e+=Object.keys(this._blockRegistrations).length,(e+=Object.keys(this._transactionRegistrations).length)>0}},{key:"_checkConnection",value:function(){if(h.debug("_checkConnection - start"),this._connected||this._connect_running){var e=o(this);if(h.debug("_checkConnection -  %s with stream channel state %s",this._peer.getUrl(),s(e)),2!=e&&!this._connect_running){h.error("_checkConnection - connection is not in the ready state. state:",s(e));var t=new Error("Connection is not in the READY state");throw this._disconnect(t),t}}else h.debug("_checkConnection - connection has not been started")}},{key:"checkConnection",value:function(e){h.debug("checkConnection - start force_reconnect:%s",e);var t=o(this);if(h.debug("checkConnection -  %s with stream channel state %s",this._peer.getUrl(),s(t)),e)try{if(this._stream){var n=this._stream.isPaused();h.debug("checkConnection - grpc isPaused :%s",n),n?(this._stream.resume(),h.debug("checkConnection - grpc resuming ")):2!=t&&(this._connect_running=!1,this._connect(!0))}else h.debug("checkConnection - stream was shutdown - will reconnected"),this._connect_running=!1,this._connect(!0)}catch(e){h.error(e.stack);var r=new Error("Problem during reconnect and the event hub is not connected ::%s",e);this._disconnect(r)}return s(t)}},{key:"registerChaincodeEvent",value:function(e,t,n,r,i){if(h.debug("registerChaincodeEvent - start"),!e)throw new Error('Missing "ccid" parameter');if(!t)throw new Error('Missing "eventname" parameter');if(!n)throw new Error('Missing "onEvent" parameter');this._checkAllowRegistrations();var o=!1,s=this._checkReplay(i);s>1&&(o=!0);var a=new A(n,r,i,!1,o),c=new C(e,t,a),u=this._chaincodeRegistrants[e];if(u||(u=new Set,this._chaincodeRegistrants[e]=u),u.add(c),s>0){this._start_stop_registration=c.event_reg;var l=this;c.event_reg.unregister_action=function(){l.unregisterChaincodeEvent(c)}}return this._checkConnection(),c}},{key:"unregisterChaincodeEvent",value:function(e,t){if(h.debug("unregisterChaincodeEvent - start"),!e)throw new Error('Missing "listener_handle" parameter');var n=this._chaincodeRegistrants[e.ccid];if(!n&&t)throw new Error(u.format("No event registration for chaincode id %s ",e.ccid));n.delete(e),n.size<=0&&delete this._chaincodeRegistrants[e.ccid]}},{key:"registerBlockEvent",value:function(e,t,n){if(h.debug("registerBlockEvent - start"),!e)throw new Error('Missing "onEvent" parameter');this._checkAllowRegistrations();var r=!1,i=this._checkReplay(n);i>1&&(r=!0);var o=++this._block_registrant_count,s=new A(e,t,n,!0,r);this._blockRegistrations[o]=s;var a=this;return i>0&&(this._start_stop_registration=s,s.unregister_action=function(){a.unregisterBlockEvent(o)}),this._checkConnection(),o}},{key:"unregisterBlockEvent",value:function(e,t){if(h.debug("unregisterBlockEvent - start  %s",e),!this._blockRegistrations[e]&&t)throw new Error(u.format('Block listener for block registration number "%" does not exist',e));delete this._blockRegistrations[e]}},{key:"registerTxEvent",value:function(e,t,n,r){if(h.debug("registerTxEvent start - txid:%s",e),!e)throw new Error('Missing "txid" parameter');if(!t)throw new Error('Missing "onEvent" parameter');if(this._checkAllowRegistrations(),this._transactionRegistrations[e])throw new Error(u.format("TransactionId (%s) has already been registered",e));var i=!1,o=this._checkReplay(r);o>1&&(i=!0);var s=new A(t,n,r,!0,i);this._transactionRegistrations[e]=s;var a=this;return o>0&&(this._start_stop_registration=s,s.unregister_action=function(){a.unregisterTxEvent(e)}),this._checkConnection(),e}},{key:"unregisterTxEvent",value:function(e,t){if(h.debug("unregisterTxEvent txid "+e),!this._transactionRegistrations[e]&&t)throw new Error(u.format('Transaction listener for transaction id "%" does not exist',e));delete this._transactionRegistrations[e]}},{key:"_processBlockEvents",value:function(e){if(0==Object.keys(this._blockRegistrations).length)return void h.debug('_processBlockEvents - no registered block event "listeners"');var t=this;Object.keys(this._blockRegistrations).forEach(function(n){var r=t._blockRegistrations[n];h.debug("_processBlockEvents - calling block listener callback"),r.onEvent(e)})}},{key:"_processTxEvents",value:function(e){if(0==Object.keys(this._transactionRegistrations).length)return void h.debug('_processTxEvents - no registered transaction event "listeners"');if(e.number){if(h.debug("_processTxEvents filtered block num=%s",e.number),e.filtered_tx)for(var t in e.filtered_tx){var n=e.filtered_tx[t];this._callTransactionListener(n.txid,n.tx_validation_code,e.number)}}else{h.debug("_processTxEvents block num=%s",e.header.number);for(var r=e.metadata.metadata[m.BlockMetadataIndex.TRANSACTIONS_FILTER],i=0;i<e.data.data.length;i++){var o=e.data.data[i].payload.header.channel_header;this._callTransactionListener(o.tx_id,r[i],e.header.number)}}}},{key:"_callTransactionListener",value:function(e,t,n){var r=this._transactionRegistrations[e];if(r){h.debug("_callTransactionListener - about to call the transaction call back for code=%s tx=%s",t,e);var o=i(t);r.onEvent(e,o,n),r.unregister&&(this.unregisterTxEvent(e),h.debug("_callTransactionListener - automatically unregister tx listener for %s",e)),r.disconnect&&this._disconnect(new Error("Shutdown due to disconnect on transaction id registration"))}else h.debug("_callTransactionListener - no call backs found for this transaction %s",e)}},{key:"_processChaincodeEvents",value:function(e){if(0==Object.keys(this._chaincodeRegistrants).length)return void h.debug('_processChaincodeEvents - no registered chaincode event "listeners"');if(e.number){if(e.filtered_tx)for(var t in e.filtered_tx){var n=e.filtered_tx[t];if(n.transaction_actions&&n.transaction_actions.chaincode_actions)for(var r in n.transaction_actions.chaincode_actions){var i=n.transaction_actions.chaincode_actions[r];this._callChaincodeListener(i.ccEvent,e.number,n.txid,n.tx_validation_code,!0)}}}else for(var o=0;o<e.data.data.length;o++){h.debug("_processChaincodeEvents - trans index=%s",o);try{var s=e.data.data[o],a=s.payload,c=a.header.channel_header;if(3===c.type){var u=a.data;if(u&&u.actions)for(var l in u.actions){var f=u.actions[l].payload,d=f.action.proposal_response_payload,p=d.extension,y=p.events;h.debug("_processChaincodeEvents - ccEvent %s",y);var g=e.metadata.metadata[m.BlockMetadataIndex.TRANSACTIONS_FILTER],v=e.data.data[o].payload.header.channel_header,b=g[o];this._callChaincodeListener(y,e.header.number,v.tx_id,b,!1)}else h.debug("_processChaincodeEvents - no transactions or transaction actions")}else h.debug("_processChaincodeEvents - block is not endorser transaction type")}catch(e){h.error("on.data - Error unmarshalling transaction=",e)}}}},{key:"_callChaincodeListener",value:function(e,t,n,r,o){h.debug("_callChaincodeListener - ccEvent %s",e);var s=this._chaincodeRegistrants[e.chaincode_id];if(!s)return void h.debug("_callChaincodeListener - no chaincode listeners found");var a=i(r);h.debug("_callChaincodeListener - txid=%s  val_code=%s",n,a);var c=this;s.forEach(function(r){r.eventNameFilter.test(e.event_name)?(h.debug("_callChaincodeListener - calling chaincode listener callback"),o&&delete e.payload,r.event_reg.onEvent(e,t,n,a),r.event_reg.unregister&&(s.delete(r),h.debug("_callChaincodeListener - automatically unregister tx listener for %s",n)),r.event_reg.disconnect&&c._disconnect(new Error("Shutdown due to disconnect on transaction id registration"))):h.debug("_callChaincodeListener - NOT calling chaincode listener callback")})}},{key:"_checkReplayEnd",value:function(){this._ending_block_number&&this._ending_block_number.lessThanOrEqual(this._last_block_seen)&&this._start_stop_registration&&(this._start_stop_registration.unregister&&this._start_stop_registration.unregister_action(),this._start_stop_registration.disconnect&&this._disconnect(new Error("Shutdown due to end block number has been seen")))}}]),e}();e.exports=O;var C=function e(t,n,i){r(this,e),this.ccid=t,this.eventNameFilter=new RegExp(n),this.event_reg=i},A=function e(t,n,i,o,s){if(r(this,e),this.onEvent=t,this.onError=n,this.unregister=o,this.disconnect=s,this.unregister_action=function(){},i){if(void 0===i.unregister||null===i.unregister)h.debug("const-EventRegistration - unregister was not defined");else{if("boolean"!=typeof i.unregister)throw new Error('Event registration has invalid value for "unregister" option');this.unregister=i.unregister}if(void 0===i.disconnect||null===i.disconnect)h.debug("const-EventRegistration - disconnect was not defined");else{if("boolean"!=typeof i.disconnect)throw new Error('Event registration has invalid value for "disconnect" option');this.disconnect=i.disconnect}}}}).call(t,n(0).Buffer)},function(e,t,n){"use strict";(function(t){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),s=o.getLogger("TransactionID.js"),a=n(155),c=n(78),u=function(){function e(n,i){if(r(this,e),s.debug("const - start"),void 0===n||null===n)throw new Error("Missing userContext or signing identity parameter");var u=null;u=a.isInstance(n)?n.getSigningIdentity():n,this._nonce=o.getNonce();var l=u.serialize(),f=t.concat([this._nonce,l]),h=c.sha2_256(f);this._transaction_id=t.from(h).toString(),s.debug("const - transaction_id %s",this._transaction_id),this._admin=i}return i(e,[{key:"getTransactionID",value:function(){return this._transaction_id}},{key:"getNonce",value:function(){return this._nonce}},{key:"isAdmin",value:function(){return!!this._admin}}]),e}();e.exports=u}).call(t,n(0).Buffer)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(25),s=n(55),a=s.Identity,c=s.SigningIdentity,u=n(3),l=u.getLogger("msp.js"),f=n(11),h=f.msp,d=f.msp,p=function(){function e(t){if(r(this,e),l.debug("const - start"),!t)throw new Error('Missing required parameter "config"');if(!t.id)throw new Error('Parameter "config" missing required field "id"');if(!t.cryptoSuite)throw new Error('Parameter "config" missing required field "cryptoSuite"');if(void 0!==t.signer&&!c.isInstance(t.signer))throw new Error('Parameter "signer" must be an instance of SigningIdentity');this._rootCerts=t.rootCerts,this._intermediateCerts=t.intermediateCerts,this._signer=t.signer,this._admins=t.admins,this.cryptoSuite=t.cryptoSuite,this._id=t.id,this._organization_units=t.orgs,this._tls_root_certs=t.tls_root_certs,this._tls_intermediate_certs=t.tls_intermediate_certs}return i(e,[{key:"getId",value:function(){return this._id}},{key:"getOrganizationUnits",value:function(){return this._organization_units}},{key:"getPolicy",value:function(){throw new Error("Not implemented yet")}},{key:"getSigningIdentity",value:function(e){throw new Error("Not implemented yet")}},{key:"getDefaultSigningIdentity",value:function(){return this._signer}},{key:"toProtobuf",value:function(){var e=new d.MSPConfig;e.setType(0);var t=new d.FabricMSPConfig;return t.setName(this._id),t.setRootCerts(this._rootCerts),this._intermediateCerts&&t.setIntermediateCerts(this._intermediateCerts),this._admins&&t.setAdmins(this._admins),this._organization_units&&t.setOrganizationalUnitIdentifiers(this._organization_units),this._tls_root_certs&&t.setTlsRootCerts(this._tls_root_certs),this._tls_intermediate_certs&&t.getTlsIntermediateCerts(this._tls_intermediate_certs),e.setConfig(t.toBuffer()),e}},{key:"deserializeIdentity",value:function(e,t){var n=this;l.debug("importKey - start");var r=!0;"boolean"==typeof t&&(r=t);var i=h.SerializedIdentity.decode(e),s=i.getIdBytes().toBinary();if(l.debug("Encoded cert from deserialized identity: %s",s),r)return this.cryptoSuite.importKey(s,{algorithm:o.CryptoAlgorithms.X509Certificate}).then(function(e){return new a(s,e,n.getId(),n.cryptoSuite)});var c=this.cryptoSuite.importKey(s,{algorithm:o.CryptoAlgorithms.X509Certificate,ephemeral:!0});return new a(s,c,this.getId(),this.cryptoSuite)}},{key:"validate",value:function(e){return!0}}]),e}();e.exports=p},function(e,t,n){"use strict";(function(e){function r(e,t,n){function r(){for(var t;null!==(t=e.read());)s.push(t),a+=t.length;e.once("readable",r)}function i(t){e.removeListener("end",o),e.removeListener("readable",r),n(t)}function o(){var t,r=null;a>=S?r=new RangeError(E):t=g.concat(s,a),s=[],e.close(),n(r,t)}var s=[],a=0;e.on("error",i),e.on("end",o),e.end(t),r()}function i(e,t){if("string"==typeof t&&(t=g.from(t)),!g.isBuffer(t))throw new TypeError("Not a string or buffer");var n=e._finishFlushFlag;return e._processChunk(t,n)}function o(e){if(!(this instanceof o))return new o(e);d.call(this,e,v.DEFLATE)}function s(e){if(!(this instanceof s))return new s(e);d.call(this,e,v.INFLATE)}function a(e){if(!(this instanceof a))return new a(e);d.call(this,e,v.GZIP)}function c(e){if(!(this instanceof c))return new c(e);d.call(this,e,v.GUNZIP)}function u(e){if(!(this instanceof u))return new u(e);d.call(this,e,v.DEFLATERAW)}function l(e){if(!(this instanceof l))return new l(e);d.call(this,e,v.INFLATERAW)}function f(e){if(!(this instanceof f))return new f(e);d.call(this,e,v.UNZIP)}function h(e){return e===v.Z_NO_FLUSH||e===v.Z_PARTIAL_FLUSH||e===v.Z_SYNC_FLUSH||e===v.Z_FULL_FLUSH||e===v.Z_FINISH||e===v.Z_BLOCK}function d(e,n){var r=this;if(this._opts=e=e||{},this._chunkSize=e.chunkSize||t.Z_DEFAULT_CHUNK,m.call(this,e),e.flush&&!h(e.flush))throw new Error("Invalid flush flag: "+e.flush);if(e.finishFlush&&!h(e.finishFlush))throw new Error("Invalid flush flag: "+e.finishFlush);if(this._flushFlag=e.flush||v.Z_NO_FLUSH,this._finishFlushFlag=void 0!==e.finishFlush?e.finishFlush:v.Z_FINISH,e.chunkSize&&(e.chunkSize<t.Z_MIN_CHUNK||e.chunkSize>t.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<t.Z_MIN_WINDOWBITS||e.windowBits>t.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<t.Z_MIN_LEVEL||e.level>t.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<t.Z_MIN_MEMLEVEL||e.memLevel>t.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=t.Z_FILTERED&&e.strategy!=t.Z_HUFFMAN_ONLY&&e.strategy!=t.Z_RLE&&e.strategy!=t.Z_FIXED&&e.strategy!=t.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!g.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new v.Zlib(n);var i=this;this._hadError=!1,this._handle.onerror=function(e,n){p(i),i._hadError=!0;var r=new Error(e);r.errno=n,r.code=t.codes[n],i.emit("error",r)};var o=t.Z_DEFAULT_COMPRESSION;"number"==typeof e.level&&(o=e.level);var s=t.Z_DEFAULT_STRATEGY;"number"==typeof e.strategy&&(s=e.strategy),this._handle.init(e.windowBits||t.Z_DEFAULT_WINDOWBITS,o,e.memLevel||t.Z_DEFAULT_MEMLEVEL,s,e.dictionary),this._buffer=g.allocUnsafe(this._chunkSize),this._offset=0,this._level=o,this._strategy=s,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!r._handle},configurable:!0,enumerable:!0})}function p(t,n){n&&e.nextTick(n),t._handle&&(t._handle.close(),t._handle=null)}function y(e){e.emit("close")}var g=n(0).Buffer,m=n(20).Transform,v=n(330),b=n(4),w=n(67).ok,S=n(0).kMaxLength,E="Cannot create final Buffer. It would be larger than 0x"+S.toString(16)+" bytes";v.Z_MIN_WINDOWBITS=8,v.Z_MAX_WINDOWBITS=15,v.Z_DEFAULT_WINDOWBITS=15,v.Z_MIN_CHUNK=64,v.Z_MAX_CHUNK=1/0,v.Z_DEFAULT_CHUNK=16384,v.Z_MIN_MEMLEVEL=1,v.Z_MAX_MEMLEVEL=9,v.Z_DEFAULT_MEMLEVEL=8,v.Z_MIN_LEVEL=-1,v.Z_MAX_LEVEL=9,v.Z_DEFAULT_LEVEL=v.Z_DEFAULT_COMPRESSION;for(var k=Object.keys(v),x=0;x<k.length;x++){var _=k[x];_.match(/^Z/)&&Object.defineProperty(t,_,{enumerable:!0,value:v[_],writable:!1})}for(var O={Z_OK:v.Z_OK,Z_STREAM_END:v.Z_STREAM_END,Z_NEED_DICT:v.Z_NEED_DICT,Z_ERRNO:v.Z_ERRNO,Z_STREAM_ERROR:v.Z_STREAM_ERROR,Z_DATA_ERROR:v.Z_DATA_ERROR,Z_MEM_ERROR:v.Z_MEM_ERROR,Z_BUF_ERROR:v.Z_BUF_ERROR,Z_VERSION_ERROR:v.Z_VERSION_ERROR},C=Object.keys(O),A=0;A<C.length;A++){var P=C[A];O[O[P]]=P}Object.defineProperty(t,"codes",{enumerable:!0,value:Object.freeze(O),writable:!1}),t.Deflate=o,t.Inflate=s,t.Gzip=a,t.Gunzip=c,t.DeflateRaw=u,t.InflateRaw=l,t.Unzip=f,t.createDeflate=function(e){return new o(e)},t.createInflate=function(e){return new s(e)},t.createDeflateRaw=function(e){return new u(e)},t.createInflateRaw=function(e){return new l(e)},t.createGzip=function(e){return new a(e)},t.createGunzip=function(e){return new c(e)},t.createUnzip=function(e){return new f(e)},t.deflate=function(e,t,n){return"function"==typeof t&&(n=t,t={}),r(new o(t),e,n)},t.deflateSync=function(e,t){return i(new o(t),e)},t.gzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),r(new a(t),e,n)},t.gzipSync=function(e,t){return i(new a(t),e)},t.deflateRaw=function(e,t,n){return"function"==typeof t&&(n=t,t={}),r(new u(t),e,n)},t.deflateRawSync=function(e,t){return i(new u(t),e)},t.unzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),r(new f(t),e,n)},t.unzipSync=function(e,t){return i(new f(t),e)},t.inflate=function(e,t,n){return"function"==typeof t&&(n=t,t={}),r(new s(t),e,n)},t.inflateSync=function(e,t){return i(new s(t),e)},t.gunzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),r(new c(t),e,n)},t.gunzipSync=function(e,t){return i(new c(t),e)},t.inflateRaw=function(e,t,n){return"function"==typeof t&&(n=t,t={}),r(new l(t),e,n)},t.inflateRawSync=function(e,t){return i(new l(t),e)},b.inherits(d,m),d.prototype.params=function(n,r,i){if(n<t.Z_MIN_LEVEL||n>t.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+n);if(r!=t.Z_FILTERED&&r!=t.Z_HUFFMAN_ONLY&&r!=t.Z_RLE&&r!=t.Z_FIXED&&r!=t.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+r);if(this._level!==n||this._strategy!==r){var o=this;this.flush(v.Z_SYNC_FLUSH,function(){w(o._handle,"zlib binding closed"),o._handle.params(n,r),o._hadError||(o._level=n,o._strategy=r,i&&i())})}else e.nextTick(i)},d.prototype.reset=function(){return w(this._handle,"zlib binding closed"),this._handle.reset()},d.prototype._flush=function(e){this._transform(g.alloc(0),"",e)},d.prototype.flush=function(t,n){var r=this,i=this._writableState;("function"==typeof t||void 0===t&&!n)&&(n=t,t=v.Z_FULL_FLUSH),i.ended?n&&e.nextTick(n):i.ending?n&&this.once("end",n):i.needDrain?n&&this.once("drain",function(){return r.flush(t,n)}):(this._flushFlag=t,this.write(g.alloc(0),"",n))},d.prototype.close=function(t){p(this,t),e.nextTick(y,this)},d.prototype._transform=function(e,t,n){var r,i=this._writableState,o=i.ending||i.ended,s=o&&(!e||i.length===e.length);return null===e||g.isBuffer(e)?this._handle?(s?r=this._finishFlushFlag:(r=this._flushFlag,e.length>=i.length&&(this._flushFlag=this._opts.flush||v.Z_NO_FLUSH)),void this._processChunk(e,r,n)):n(new Error("zlib binding closed")):n(new Error("invalid input"))},d.prototype._processChunk=function(e,t,n){function r(u,h){if(this&&(this.buffer=null,this.callback=null),!a._hadError){var d=o-h;if(w(d>=0,"have should not go down"),d>0){var p=a._buffer.slice(a._offset,a._offset+d);a._offset+=d,c?a.push(p):(l.push(p),f+=p.length)}if((0===h||a._offset>=a._chunkSize)&&(o=a._chunkSize,a._offset=0,a._buffer=g.allocUnsafe(a._chunkSize)),0===h){if(s+=i-u,i=u,!c)return!0;var y=a._handle.write(t,e,s,i,a._buffer,a._offset,a._chunkSize);return y.callback=r,void(y.buffer=e)}if(!c)return!1;n()}}var i=e&&e.length,o=this._chunkSize-this._offset,s=0,a=this,c="function"==typeof n;if(!c){var u,l=[],f=0;this.on("error",function(e){u=e}),w(this._handle,"zlib binding closed");do{var h=this._handle.writeSync(t,e,s,i,this._buffer,this._offset,o)}while(!this._hadError&&r(h[0],h[1]));if(this._hadError)throw u;if(f>=S)throw p(this),new RangeError(E);var d=g.concat(l,f);return p(this),d}w(this._handle,"zlib binding closed");var y=this._handle.write(t,e,s,i,this._buffer,this._offset,o);y.buffer=e,y.callback=r},b.inherits(o,d),b.inherits(s,d),b.inherits(a,d),b.inherits(c,d),b.inherits(u,d),b.inherits(l,d),b.inherits(f,d)}).call(t,n(6))},function(e,t,n){"use strict";function r(e,t,n,r){for(var i=65535&e|0,o=e>>>16&65535|0,s=0;0!==n;){s=n>2e3?2e3:n,n-=s;do{i=i+t[r++]|0,o=o+i|0}while(--s);i%=65521,o%=65521}return i|o<<16|0}e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){var o=i,s=r+n;e^=-1;for(var a=r;a<s;a++)e=e>>>8^o[255&(e^t[a])];return-1^e}var i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=r},function(e,t,n){"use strict";e.exports=n(85),e.exports.ReadableStreamBuffer=n(339),e.exports.WritableStreamBuffer=n(340)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(33),s=n(341),a=n(12),c=n(159),u=n(3),l=(u.getLogger("packager/BasePackager.js"),function(){function e(t){if(r(this,e),this.constructor===e)throw new TypeError("Can not construct abstract class.");if(this.package===e.prototype.package)throw new TypeError("Please implement method package from child class");this.keep=t}return i(e,[{key:"package",value:function(e,t){throw new TypeError("Please implement method package from child class")}},{key:"findSource",value:function(e){throw new Error("abstract function called")}},{key:"findMetadataDescriptors",value:function(e){throw new Error("cannot find metadata descriptors beacuse filesystem interactions are not allowed in browsers")}},{key:"isMetadata",value:function(e){return-1!=[".json"].indexOf(a.extname(e))}},{key:"isSource",value:function(e){return-1!=this.keep.indexOf(a.extname(e))}},{key:"packEntry",value:function(e,t){return new Promise(function(n,r){var i=o.readFileSync(t.fqp);if(i){var s=new Date(0),a={name:t.name,size:i.size,mode:33188,atime:s,mtime:s,ctime:s};e.entry(a,i,function(e){e?r(e):n(!0)})}else r(new Error("failed to read "+t.fqp))})}},{key:"generateTarGz",value:function(e,t){var n=this;return new Promise(function(r,i){var o=s.pack();o.pipe(c.createGzip()).pipe(t).on("finish",function(){r(!0)}).on("error",function(e){i(e)});var a=[],u=!0,l=!1,f=void 0;try{for(var h,d=e[Symbol.iterator]();!(u=(h=d.next()).done);u=!0){var p=h.value,y=n.packEntry(o,p);a.push(y)}}catch(e){l=!0,f=e}finally{try{!u&&d.return&&d.return()}finally{if(l)throw f}}Promise.all(a).then(function(){o.finalize()}).catch(function(e){i(e)})})}}]),e}());e.exports=l},function(e,t,n){(function(e){function r(e){var t;if(128===e[0])t=!0;else{if(255!==e[0])return null;t=!1}for(var n=!1,r=[],i=e.length-1;i>0;i--){var o=e[i];t?r.push(o):n&&0===o?r.push(0):n?(n=!1,r.push(256-o)):r.push(255-o)}var s=0,a=r.length;for(i=0;i<a;i++)s+=r[i]*Math.pow(256,i);return t?s:-1*s}var i=n(165),o=n(166),s="0000000000000000000",a="7777777777777777777",c="0".charCodeAt(0),u=parseInt("7777",8),l=function(e,t,n){return"number"!=typeof e?n:(e=~~e)>=t?t:e>=0?e:(e+=t,e>=0?e:0)},f=function(e){switch(e){case 0:return"file";case 1:return"link";case 2:return"symlink";case 3:return"character-device";case 4:return"block-device";case 5:return"directory";case 6:return"fifo";case 7:return"contiguous-file";case 72:return"pax-header";case 55:return"pax-global-header";case 27:return"gnu-long-link-path";case 28:case 30:return"gnu-long-path"}return null},h=function(e){switch(e){case"file":return 0;case"link":return 1;case"symlink":return 2;case"character-device":return 3;case"block-device":return 4;case"directory":return 5;case"fifo":return 6;case"contiguous-file":return 7;case"pax-header":return 72}return 0},d=function(e,t,n,r){for(;n<r;n++)if(e[n]===t)return n;return r},p=function(e){for(var t=256,n=0;n<148;n++)t+=e[n];for(var r=156;r<512;r++)t+=e[r];return t},y=function(e,t){return e=e.toString(8),e.length>t?a.slice(0,t)+" ":s.slice(0,t-e.length)+e+" "},g=function(e,t,n){if(e=e.slice(t,t+n),t=0,128&e[t])return r(e);for(;t<e.length&&32===e[t];)t++;for(var i=l(d(e,32,t,e.length),e.length,e.length);t<i&&0===e[t];)t++;return i===t?0:parseInt(e.slice(t,i).toString(),8)},m=function(e,t,n,r){return e.slice(t,d(e,0,t,t+n)).toString(r)},v=function(t){var n=e.byteLength(t),r=Math.floor(Math.log(n)/Math.log(10))+1;return n+r>=Math.pow(10,r)&&r++,n+r+t};t.decodeLongPath=function(e,t){return m(e,0,e.length,t)},t.encodePax=function(e){var t="";e.name&&(t+=v(" path="+e.name+"\n")),e.linkname&&(t+=v(" linkpath="+e.linkname+"\n"));var n=e.pax;if(n)for(var r in n)t+=v(" "+r+"="+n[r]+"\n");return i(t)},t.decodePax=function(e){for(var t={};e.length;){for(var n=0;n<e.length&&32!==e[n];)n++;var r=parseInt(e.slice(0,n).toString(),10);if(!r)return t;var i=e.slice(n+1,r-1).toString(),o=i.indexOf("=");if(-1===o)return t;t[i.slice(0,o)]=i.slice(o+1),e=e.slice(r)}return t},t.encode=function(t){var n=o(512),r=t.name,i="";if(5===t.typeflag&&"/"!==r[r.length-1]&&(r+="/"),e.byteLength(r)!==r.length)return null;for(;e.byteLength(r)>100;){var s=r.indexOf("/");if(-1===s)return null;i+=i?"/"+r.slice(0,s):r.slice(0,s),r=r.slice(s+1)}return e.byteLength(r)>100||e.byteLength(i)>155?null:t.linkname&&e.byteLength(t.linkname)>100?null:(n.write(r),n.write(y(t.mode&u,6),100),n.write(y(t.uid,6),108),n.write(y(t.gid,6),116),n.write(y(t.size,11),124),n.write(y(t.mtime.getTime()/1e3|0,11),136),n[156]=c+h(t.type),t.linkname&&n.write(t.linkname,157),n.write("ustar\x0000",257),t.uname&&n.write(t.uname,265),t.gname&&n.write(t.gname,297),n.write(y(t.devmajor||0,6),329),n.write(y(t.devminor||0,6),337),i&&n.write(i,345),n.write(y(p(n),6),148),n)},t.decode=function(e,t){var n=0===e[156]?0:e[156]-c,r=m(e,0,100,t),i=g(e,100,8),o=g(e,108,8),s=g(e,116,8),a=g(e,124,12),u=g(e,136,12),l=f(n),h=0===e[157]?null:m(e,157,100,t),d=m(e,265,32),y=m(e,297,32),v=g(e,329,8),b=g(e,337,8);e[345]&&(r=m(e,345,155,t)+"/"+r),0===n&&r&&"/"===r[r.length-1]&&(n=5);var w=p(e);if(256===w)return null;if(w!==g(e,148,8))throw new Error("Invalid tar header. Maybe the tar is corrupted or it needs to be gunzipped?");return{name:r,mode:i,uid:o,gid:s,size:a,mtime:new Date(1e3*u),type:l,linkname:h,uname:d,gname:y,devmajor:v,devminor:b}}}).call(t,n(0).Buffer)},function(e,t,n){(function(t){function n(e,n){return new t(e,n)}function r(e,n){if(t.isBuffer(e))return e;if("string"==typeof e)return i(e,n);if(Array.isArray(e))return i(e);throw new Error("Input should be a buffer or a string")}e.exports=r;var i=t.from&&t.from!==Uint8Array.from?t.from:n}).call(t,n(0).Buffer)},function(e,t,n){(function(t){var r=n(344),i=n(345);e.exports=function(e,n,o){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative');if(t.alloc)return t.alloc(e,n,o);var s=i(e);return 0===e?s:void 0===n?r(s,0):("string"!=typeof o&&(o=void 0),r(s,n,o))}}).call(t,n(0).Buffer)},function(e,t,n){"use strict";var r=n(31);e.exports=new r({include:[n(168)]})},function(e,t,n){"use strict";var r=n(31);e.exports=new r({include:[n(86)],implicit:[n(361),n(362),n(363),n(364)]})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(170),o=r(i),s=n(171),a=r(s),c=n(11),u=n(182),l=n(190),f=n(308);o.default,a.default,e.exports={Bridge:o.default,Logging:a.default,fabric:c,protobuf:u,ca:l,client:f}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e),this._name="Bridge"}return i(e,[{key:"name",get:function(){return this._name}}]),e}();t.default=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e),this._name="Logger",this.init()}return i(e,[{key:"init",value:function(){e.useDefaults(),e.setLevel(e.WARN),e.debug("Logger level: "+e.getLevel())}},{key:"name",get:function(){return this._name}}]),e}();t.default=o},function(e,t,n){"use strict";e.exports=n(87)},function(e,t,n){"use strict";var r=t;r.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;--t%4>1&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};for(var i=new Array(64),o=new Array(123),s=0;s<64;)o[i[s]=s<26?s+65:s<52?s+71:s<62?s-4:s-59|43]=s++;r.encode=function(e,t,n){for(var r,o=null,s=[],a=0,c=0;t<n;){var u=e[t++];switch(c){case 0:s[a++]=i[u>>2],r=(3&u)<<4,c=1;break;case 1:s[a++]=i[r|u>>4],r=(15&u)<<2,c=2;break;case 2:s[a++]=i[r|u>>6],s[a++]=i[63&u],c=0}a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,s)),a=0)}return c&&(s[a++]=i[r],s[a++]=61,1===c&&(s[a++]=61)),o?(a&&o.push(String.fromCharCode.apply(String,s.slice(0,a))),o.join("")):String.fromCharCode.apply(String,s.slice(0,a))};r.decode=function(e,t,n){for(var r,i=n,s=0,a=0;a<e.length;){var c=e.charCodeAt(a++);if(61===c&&s>1)break;if(void 0===(c=o[c]))throw Error("invalid encoding");switch(s){case 0:r=c,s=1;break;case 1:t[n++]=r<<2|(48&c)>>4,r=c,s=2;break;case 2:t[n++]=(15&r)<<4|(60&c)>>2,r=c,s=3;break;case 3:t[n++]=(3&r)<<6|c,s=0}}if(1===s)throw Error("invalid encoding");return n-i},r.test=function(e){return/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(e)}},function(e,t,n){"use strict";function r(){this._listeners={}}e.exports=r,r.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},r.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var n=this._listeners[e],r=0;r<n.length;)n[r].fn===t?n.splice(r,1):++r;return this},r.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this}},function(e,t,n){"use strict";function r(e){return"undefined"!=typeof Float32Array?function(){function t(e,t,n){o[0]=e,t[n]=s[0],t[n+1]=s[1],t[n+2]=s[2],t[n+3]=s[3]}function n(e,t,n){o[0]=e,t[n]=s[3],t[n+1]=s[2],t[n+2]=s[1],t[n+3]=s[0]}function r(e,t){return s[0]=e[t],s[1]=e[t+1],s[2]=e[t+2],s[3]=e[t+3],o[0]}function i(e,t){return s[3]=e[t],s[2]=e[t+1],s[1]=e[t+2],s[0]=e[t+3],o[0]}var o=new Float32Array([-0]),s=new Uint8Array(o.buffer),a=128===s[3];e.writeFloatLE=a?t:n,e.writeFloatBE=a?n:t,e.readFloatLE=a?r:i,e.readFloatBE=a?i:r}():function(){function t(e,t,n,r){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,n,r);else if(isNaN(t))e(2143289344,n,r);else if(t>3.4028234663852886e38)e((i<<31|2139095040)>>>0,n,r);else if(t<1.1754943508222875e-38)e((i<<31|Math.round(t/1.401298464324817e-45))>>>0,n,r);else{var o=Math.floor(Math.log(t)/Math.LN2),s=8388607&Math.round(t*Math.pow(2,-o)*8388608);e((i<<31|o+127<<23|s)>>>0,n,r)}}function n(e,t,n){var r=e(t,n),i=2*(r>>31)+1,o=r>>>23&255,s=8388607&r;return 255===o?s?NaN:i*(1/0):0===o?1.401298464324817e-45*i*s:i*Math.pow(2,o-150)*(s+8388608)}e.writeFloatLE=t.bind(null,i),e.writeFloatBE=t.bind(null,o),e.readFloatLE=n.bind(null,s),e.readFloatBE=n.bind(null,a)}(),"undefined"!=typeof Float64Array?function(){function t(e,t,n){o[0]=e,t[n]=s[0],t[n+1]=s[1],t[n+2]=s[2],t[n+3]=s[3],t[n+4]=s[4],t[n+5]=s[5],t[n+6]=s[6],t[n+7]=s[7]}function n(e,t,n){o[0]=e,t[n]=s[7],t[n+1]=s[6],t[n+2]=s[5],t[n+3]=s[4],t[n+4]=s[3],t[n+5]=s[2],t[n+6]=s[1],t[n+7]=s[0]}function r(e,t){return s[0]=e[t],s[1]=e[t+1],s[2]=e[t+2],s[3]=e[t+3],s[4]=e[t+4],s[5]=e[t+5],s[6]=e[t+6],s[7]=e[t+7],o[0]}function i(e,t){return s[7]=e[t],s[6]=e[t+1],s[5]=e[t+2],s[4]=e[t+3],s[3]=e[t+4],s[2]=e[t+5],s[1]=e[t+6],s[0]=e[t+7],o[0]}var o=new Float64Array([-0]),s=new Uint8Array(o.buffer),a=128===s[7];e.writeDoubleLE=a?t:n,e.writeDoubleBE=a?n:t,e.readDoubleLE=a?r:i,e.readDoubleBE=a?i:r}():function(){function t(e,t,n,r,i,o){var s=r<0?1:0;if(s&&(r=-r),0===r)e(0,i,o+t),e(1/r>0?0:2147483648,i,o+n);else if(isNaN(r))e(0,i,o+t),e(2146959360,i,o+n);else if(r>1.7976931348623157e308)e(0,i,o+t),e((s<<31|2146435072)>>>0,i,o+n);else{var a;if(r<2.2250738585072014e-308)a=r/5e-324,e(a>>>0,i,o+t),e((s<<31|a/4294967296)>>>0,i,o+n);else{var c=Math.floor(Math.log(r)/Math.LN2);1024===c&&(c=1023),a=r*Math.pow(2,-c),e(4503599627370496*a>>>0,i,o+t),e((s<<31|c+1023<<20|1048576*a&1048575)>>>0,i,o+n)}}}function n(e,t,n,r,i){var o=e(r,i+t),s=e(r,i+n),a=2*(s>>31)+1,c=s>>>20&2047,u=4294967296*(1048575&s)+o;return 2047===c?u?NaN:a*(1/0):0===c?5e-324*a*u:a*Math.pow(2,c-1075)*(u+4503599627370496)}e.writeDoubleLE=t.bind(null,i,0,4),e.writeDoubleBE=t.bind(null,o,4,0),e.readDoubleLE=n.bind(null,s,0,4),e.readDoubleBE=n.bind(null,a,4,0)}(),e}function i(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function o(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function s(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function a(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=r(r)},function(e,t,n){"use strict";var r=t;r.length=function(e){for(var t=0,n=0,r=0;r<e.length;++r)n=e.charCodeAt(r),n<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&e.charCodeAt(r+1))?(++r,t+=4):t+=3;return t},r.read=function(e,t,n){if(n-t<1)return"";for(var r,i=null,o=[],s=0;t<n;)r=e[t++],r<128?o[s++]=r:r>191&&r<224?o[s++]=(31&r)<<6|63&e[t++]:r>239&&r<365?(r=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,o[s++]=55296+(r>>10),o[s++]=56320+(1023&r)):o[s++]=(15&r)<<12|(63&e[t++])<<6|63&e[t++],s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),s=0);return i?(s&&i.push(String.fromCharCode.apply(String,o.slice(0,s))),i.join("")):String.fromCharCode.apply(String,o.slice(0,s))},r.write=function(e,t,n){for(var r,i,o=n,s=0;s<e.length;++s)r=e.charCodeAt(s),r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296==(64512&r)&&56320==(64512&(i=e.charCodeAt(s+1)))?(r=65536+((1023&r)<<10)+(1023&i),++s,t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128);return n-o}},function(e,t,n){"use strict";function r(e,t,n){var r=n||8192,i=r>>>1,o=null,s=r;return function(n){if(n<1||n>i)return e(n);s+n>r&&(o=e(r),s=0);var a=t.call(o,s,s+=n);return 7&s&&(s=1+(7|s)),a}}e.exports=r},function(e,t,n){"use strict";function r(e,t){this.lo=e>>>0,this.hi=t>>>0}e.exports=r;var i=n(16),o=r.zero=new r(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var s=r.zeroHash="\0\0\0\0\0\0\0\0";r.fromNumber=function(e){if(0===e)return o;var t=e<0;t&&(e=-e);var n=e>>>0,i=(e-n)/4294967296>>>0;return t&&(i=~i>>>0,n=~n>>>0,++n>4294967295&&(n=0,++i>4294967295&&(i=0))),new r(n,i)},r.from=function(e){if("number"==typeof e)return r.fromNumber(e);if(i.isString(e)){if(!i.Long)return r.fromNumber(parseInt(e,10));e=i.Long.fromString(e)}return e.low||e.high?new r(e.low>>>0,e.high>>>0):o},r.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+4294967296*n)}return this.lo+4294967296*this.hi},r.prototype.toLong=function(e){return i.Long?new i.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var a=String.prototype.charCodeAt;r.fromHash=function(e){return e===s?o:new r((a.call(e,0)|a.call(e,1)<<8|a.call(e,2)<<16|a.call(e,3)<<24)>>>0,(a.call(e,4)|a.call(e,5)<<8|a.call(e,6)<<16|a.call(e,7)<<24)>>>0)},r.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},r.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},r.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},r.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}},function(e,t,n){"use strict";function r(){o.call(this)}function i(e,t,n){e.length<40?s.utf8.write(e,t,n):t.utf8Write(e,n)}e.exports=r;var o=n(58);(r.prototype=Object.create(o.prototype)).constructor=r;var s=n(16),a=s.Buffer;r.alloc=function(e){return(r.alloc=s._Buffer_allocUnsafe)(e)};var c=a&&a.prototype instanceof Uint8Array&&"set"===a.prototype.set.name?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var r=0;r<e.length;)t[n++]=e[r++]};r.prototype.bytes=function(e){s.isString(e)&&(e=s._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(c,t,e),this},r.prototype.string=function(e){var t=a.byteLength(e);return this.uint32(t),t&&this._push(i,t,e),this}},function(e,t,n){"use strict";function r(e){i.call(this,e)}e.exports=r;var i=n(59);(r.prototype=Object.create(i.prototype)).constructor=r;var o=n(16);o.Buffer&&(r.prototype._slice=o.Buffer.prototype.slice),r.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len))}},function(e,t,n){"use strict";function r(e,t,n){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");i.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(n)}e.exports=r;var i=n(16);(r.prototype=Object.create(i.EventEmitter.prototype)).constructor=r,r.prototype.rpcCall=function e(t,n,r,o,s){if(!o)throw TypeError("request must be specified");var a=this;if(!s)return i.asPromise(e,a,t,n,r,o);if(!a.rpcImpl)return void setTimeout(function(){s(Error("already ended"))},0);try{return a.rpcImpl(t,n[a.requestDelimited?"encodeDelimited":"encode"](o).finish(),function(e,n){if(e)return a.emit("error",e,t),s(e);if(null===n)return void a.end(!0);if(!(n instanceof r))try{n=r[a.responseDelimited?"decodeDelimited":"decode"](n)}catch(e){return a.emit("error",e,t),s(e)}return a.emit("data",n,t),s(null,n)})}catch(e){return a.emit("error",e,t),void setTimeout(function(){s(e)},0)}},r.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},function(e,t,n){"use strict";e.exports=n(183)},function(e,t,n){"use strict";var r=e.exports=n(184);r.build="full",r.tokenize=n(97),r.parse=n(188),r.common=n(189),r.Root._configure(r.Type,r.parse,r.common)},function(e,t,n){"use strict";function r(e,t,n){return"function"==typeof t?(n=t,t=new o.Root):t||(t=new o.Root),t.load(e,n)}function i(e,t){return t||(t=new o.Root),t.loadSync(e)}var o=e.exports=n(87);o.build="light",o.load=r,o.loadSync=i,o.encoder=n(92),o.decoder=n(93),o.verifier=n(94),o.converter=n(95),o.ReflectionObject=n(23),o.Namespace=n(32),o.Root=n(65),o.Enum=n(14),o.Type=n(60),o.Field=n(19),o.OneOf=n(47),o.MapField=n(61),o.Service=n(62),o.Method=n(63),o.Message=n(64),o.wrappers=n(96),o.types=n(24),o.util=n(9),o.ReflectionObject._configure(o.Root),o.Namespace._configure(o.Type,o.Service),o.Root._configure(o.Type),o.Field._configure(o.Type)},function(e,t,n){"use strict";function r(e,t){function n(e){if("string"!=typeof e){var t=i();if(r.verbose&&console.log("codegen: "+t),t="return "+t,e){for(var s=Object.keys(e),a=new Array(s.length+1),c=new Array(s.length),u=0;u<s.length;)a[u]=s[u],c[u]=e[s[u++]];return a[u]=t,Function.apply(null,a).apply(null,c)}return Function(t)()}for(var l=new Array(arguments.length-1),f=0;f<l.length;)l[f]=arguments[++f];if(f=0,e=e.replace(/%([%dfijs])/g,function(e,t){var n=l[f++];switch(t){case"d":case"f":return String(Number(n));case"i":return String(Math.floor(n));case"j":return JSON.stringify(n);case"s":return String(n)}return"%"}),f!==l.length)throw Error("parameter count mismatch");return o.push(e),n}function i(n){return"function "+(n||t||"")+"("+(e&&e.join(",")||"")+"){\n  "+o.join("\n  ")+"\n}"}"string"==typeof e&&(t=e,e=void 0);var o=[];return n.toString=i,n}e.exports=r,r.verbose=!1},function(e,t,n){"use strict";function r(e,t,n){return"function"==typeof t?(n=t,t={}):t||(t={}),n?!t.xhr&&s&&s.readFile?s.readFile(e,function(i,o){return i&&"undefined"!=typeof XMLHttpRequest?r.xhr(e,t,n):i?n(i):n(null,t.binary?o:o.toString("utf8"))}):r.xhr(e,t,n):i(r,this,e,t)}e.exports=r;var i=n(88),o=n(89),s=o("fs");r.xhr=function(e,t,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4===r.readyState){if(0!==r.status&&200!==r.status)return n(Error("status "+r.status));if(t.binary){var e=r.response;if(!e){e=[];for(var i=0;i<r.responseText.length;++i)e.push(255&r.responseText.charCodeAt(i))}return n(null,"undefined"!=typeof Uint8Array?new Uint8Array(e):e)}return n(null,r.responseText)}},t.binary&&("overrideMimeType"in r&&r.overrideMimeType("text/plain; charset=x-user-defined"),r.responseType="arraybuffer"),r.open("GET",e),r.send()}},function(e,t,n){"use strict";var r=t,i=r.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},o=r.normalize=function(e){e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/");var t=e.split("/"),n=i(e),r="";n&&(r=t.shift()+"/");for(var o=0;o<t.length;)".."===t[o]?o>0&&".."!==t[o-1]?t.splice(--o,2):n?t.splice(o,1):++o:"."===t[o]?t.splice(o,1):++o;return r+t.join("/")};r.resolve=function(e,t,n){return n||(t=o(t)),i(t)?t:(n||(e=o(e)),(e=e.replace(/(?:\/|^)[^\/]+$/,"")).length?o(e+"/"+t):t)}},function(e,t,n){"use strict";function r(e,t,n){function _(e,t,n){var i=r.filename;return n||(r.filename=null),Error("illegal "+(t||"token")+" '"+e+"' ("+(i?i+", ":"")+"line "+Z.line+")")}function O(){var e,t=[];do{if('"'!==(e=$())&&"'"!==e)throw _(e);t.push($()),ne(e),e=te()}while('"'===e||"'"===e);return t.join("")}function C(e){var t=$();switch(t){case"'":case'"':return ee(t),O();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return P(t,!0)}catch(n){if(e&&k.test(t))return t;throw _(t,"value")}}function A(e,t){var n,r;do{!t||'"'!==(n=te())&&"'"!==n?e.push([r=I($()),ne("to",!0)?I($()):r]):e.push(O())}while(ne(",",!0));ne(";")}function P(e,t){var n=1;switch("-"===e.charAt(0)&&(n=-1,e=e.substring(1)),e){case"inf":case"INF":case"Inf":return n*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(y.test(e))return n*parseInt(e,10);if(m.test(e))return n*parseInt(e,16);if(b.test(e))return n*parseInt(e,8);if(S.test(e))return n*parseFloat(e);throw _(e,"number",t)}function I(e,t){switch(e){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!t&&"-"===e.charAt(0))throw _(e,"id");if(g.test(e))return parseInt(e,10);if(v.test(e))return parseInt(e,16);if(w.test(e))return parseInt(e,8);throw _(e,"id")}function D(e,t){switch(t){case"option":return H(e,t),ne(";"),!0;case"message":return j(e,t),!0;case"enum":return M(e,t),!0;case"service":return V(e,t),!0;case"extend":return J(e,t),!0}return!1}function R(e,t,n){var i=Z.line;if(e&&(e.comment=re(),e.filename=r.filename),ne("{",!0)){for(var o;"}"!==(o=$());)t(o);ne(";",!0)}else n&&n(),ne(";"),e&&"string"!=typeof e.comment&&(e.comment=re(i))}function j(e,t){if(!E.test(t=$()))throw _(t,"type name");var n=new s(t);R(n,function(e){if(!D(n,e))switch(e){case"map":B(n);break;case"required":case"optional":case"repeated":T(n,e);break;case"oneof":F(n,e);break;case"extensions":A(n.extensions||(n.extensions=[]));break;case"reserved":A(n.reserved||(n.reserved=[]),!0);break;default:if(!oe||!k.test(e))throw _(e);ee(e),T(n,"optional")}}),e.add(n)}function T(e,t,n){var r=$();if("group"===r)return void N(e,t);if(!k.test(r))throw _(r,"type");var i=$();if(!E.test(i))throw _(i,"name");i=ae(i),ne("=");var o=new a(i,I($()),r,t,n);R(o,function(e){if("option"!==e)throw _(e);H(o,e),ne(";")},function(){K(o)}),e.add(o),oe||!o.repeated||void 0===d.packed[r]&&void 0!==d.basic[r]||o.setOption("packed",!1,!0)}function N(e,t){var n=$();if(!E.test(n))throw _(n,"name");var i=p.lcFirst(n);n===i&&(n=p.ucFirst(n)),ne("=");var o=I($()),c=new s(n);c.group=!0;var u=new a(i,o,n,t);u.filename=r.filename,R(c,function(e){switch(e){case"option":H(c,e),ne(";");break;case"required":case"optional":case"repeated":T(c,e);break;default:throw _(e)}}),e.add(c).add(u)}function B(e){ne("<");var t=$();if(void 0===d.mapKey[t])throw _(t,"type");ne(",");var n=$();if(!k.test(n))throw _(n,"type");ne(">");var r=$();if(!E.test(r))throw _(r,"name");ne("=");var i=new c(ae(r),I($()),t,n);R(i,function(e){if("option"!==e)throw _(e);H(i,e),ne(";")},function(){K(i)}),e.add(i)}function F(e,t){if(!E.test(t=$()))throw _(t,"name");var n=new u(ae(t));R(n,function(e){"option"===e?(H(n,e),ne(";")):(ee(e),T(n,"optional"))}),e.add(n)}function M(e,t){if(!E.test(t=$()))throw _(t,"name");var n=new l(t);R(n,function(e){switch(e){case"option":H(n,e),ne(";");break;case"reserved":A(n.reserved||(n.reserved=[]),!0);break;default:L(n,e)}}),e.add(n)}function L(e,t){if(!E.test(t))throw _(t,"name");ne("=");var n=I($(),!0),r={};R(r,function(e){if("option"!==e)throw _(e);H(r,e),ne(";")},function(){K(r)}),e.add(t,n,r.comment)}function H(e,t){var n=ne("(",!0);if(!k.test(t=$()))throw _(t,"name");var r=t;n&&(ne(")"),r="("+r+")",t=te(),x.test(t)&&(r+=t,$())),ne("="),q(e,r)}function q(e,t){if(ne("{",!0))do{if(!E.test(Q=$()))throw _(Q,"name");"{"===te()?q(e,t+"."+Q):(ne(":"),"{"===te()?q(e,t+"."+Q):U(e,t+"."+Q,C(!0)))}while(!ne("}",!0));else U(e,t,C(!0))}function U(e,t,n){e.setOption&&e.setOption(t,n)}function K(e){if(ne("[",!0)){do{H(e,"option")}while(ne(",",!0));ne("]")}return e}function V(e,t){if(!E.test(t=$()))throw _(t,"service name");var n=new f(t);R(n,function(e){if(!D(n,e)){if("rpc"!==e)throw _(e);z(n,e)}}),e.add(n)}function z(e,t){var n=t;if(!E.test(t=$()))throw _(t,"name");var r,i,o,s,a=t;if(ne("("),ne("stream",!0)&&(i=!0),!k.test(t=$()))throw _(t);if(r=t,ne(")"),ne("returns"),ne("("),ne("stream",!0)&&(s=!0),!k.test(t=$()))throw _(t);o=t,ne(")");var c=new h(a,n,r,o,i,s);R(c,function(e){if("option"!==e)throw _(e);H(c,e),ne(";")}),e.add(c)}function J(e,t){if(!k.test(t=$()))throw _(t,"reference");var n=t;R(null,function(t){switch(t){case"required":case"repeated":case"optional":T(e,t,n);break;default:if(!oe||!k.test(t))throw _(t);ee(t),T(e,"optional",n)}})}t instanceof o||(n=t,t=new o),n||(n=r.defaults);for(var G,W,X,Y,Q,Z=i(e,n.alternateCommentMode||!1),$=Z.next,ee=Z.push,te=Z.peek,ne=Z.skip,re=Z.cmnt,ie=!0,oe=!1,se=t,ae=n.keepCase?function(e){return e}:p.camelCase;null!==(Q=$());)switch(Q){case"package":if(!ie)throw _(Q);!function(){if(void 0!==G)throw _("package");if(G=$(),!k.test(G))throw _(G,"name");se=se.define(G),ne(";")}();break;case"import":if(!ie)throw _(Q);!function(){var e,t=te();switch(t){case"weak":e=X||(X=[]),$();break;case"public":$();default:e=W||(W=[])}t=O(),ne(";"),e.push(t)}();break;case"syntax":if(!ie)throw _(Q);!function(){if(ne("="),Y=O(),!(oe="proto3"===Y)&&"proto2"!==Y)throw _(Y,"syntax");ne(";")}();break;case"option":if(!ie)throw _(Q);H(se,Q),ne(";");break;default:if(D(se,Q)){ie=!1;continue}throw _(Q)}return r.filename=null,{package:G,imports:W,weakImports:X,syntax:Y,root:t}}e.exports=r,r.filename=null,r.defaults={keepCase:!1};var i=n(97),o=n(65),s=n(60),a=n(19),c=n(61),u=n(47),l=n(14),f=n(62),h=n(63),d=n(24),p=n(9),y=/^[1-9][0-9]*$/,g=/^-?[1-9][0-9]*$/,m=/^0[x][0-9a-fA-F]+$/,v=/^-?0[x][0-9a-fA-F]+$/,b=/^0[0-7]+$/,w=/^-?0[0-7]+$/,S=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,E=/^[a-zA-Z_][a-zA-Z_0-9]*$/,k=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,x=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/},function(e,t,n){"use strict";function r(e,t){i.test(e)||(e="google/protobuf/"+e+".proto",t={nested:{google:{nested:{protobuf:{nested:t}}}}}),r[e]=t}e.exports=r;var i=/\/|\./;r("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}});var o;r("duration",{Duration:o={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),r("timestamp",{Timestamp:o}),r("empty",{Empty:{fields:{}}}),r("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),r("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),r("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),r.get=function(e){return r[e]||null}},function(e,t,n){"use strict";e.exports=n(191)},function(e,t,n){"use strict";(function(t,r){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){var t=S.pemToHex(e),n=E.getDecendantHexTLVByNthList(t,0,[0,5]),r=S.hex2dn(n),i=r.match(/CN=.+[^\/]/);if(i)return i[0].substring(3);throw new Error('Certificate PEM does not seem to contain a valid subject with common name "CN"')}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=(n(25),n(3)),f=n(143),h=n(4),d=n(12),p=n(79),y=n(147),g=n(26),m=n(77),v=n(306),b=n(307),w=n(80).checkRegistrar,S=m.X509,E=m.ASN1HEX,k=l.getConfig(),x=d.resolve(t,"../config/default_ca.json");k.reorderFileStores(x,!0);var _=l.getLogger("FabricCAClientImpl.js"),O=function(e){function t(e,n,r,s){i(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),u=void 0,f=void 0,h=void 0,d=void 0;"object"===(void 0===e?"undefined":c(e))?(u=e.url,f=e.tlsOptions,h=e.caName,d=e.cryptoSuite):(u=e,f=n,h=r,d=s),a.caName=h;var p=t._parseURL(u);return d?a.setCryptoSuite(d):(a.setCryptoSuite(l.newCryptoSuite()),a.getCryptoSuite().setCryptoKeyStore(l.newCryptoKeyStore())),a._fabricCAClient=new C({caname:h,protocol:p.protocol,hostname:p.hostname,port:p.port,tlsOptions:f},a.getCryptoSuite()),_.debug("Successfully constructed Fabric CA service client: endpoint - %j",p),a}return s(t,e),u(t,[{key:"getCaName",value:function(){return this.caName}},{key:"register",value:function(e,t){if(void 0===e||null===e)throw new Error('Missing required argument "request"');if(void 0===e.enrollmentID||null===e.enrollmentID)throw new Error('Missing required argument "request.enrollmentID"');return void 0!==e.maxEnrollments&&null!==e.maxEnrollments||(e.maxEnrollments=1),w(t),this._fabricCAClient.register(e.enrollmentID,e.enrollmentSecret,e.role,e.affiliation,e.maxEnrollments,e.attrs,t.getSigningIdentity())}},{key:"enroll",value:function(e){var t=this;return new Promise(function(n,r){if(void 0===e||null===e)return _.error('enroll() missing required argument "request"'),r(new Error('Missing required argument "request"'));if(!e.enrollmentID)return _.error("Invalid enroll request, missing enrollmentID"),r(new Error("req.enrollmentID is not set"));if(!e.enrollmentSecret)return _.error("Invalid enroll request, missing enrollmentSecret"),r(new Error("req.enrollmentSecret is not set"));if(e.attr_reqs){if(!Array.isArray(e.attr_reqs))return _.error("Invalid enroll request, attr_reqs must be an array of AttributeRequest objects"),r(new Error("req.attr_reqs is not an array"));for(var i in e.attr_reqs){if(!e.attr_reqs[i].name)return _.error("Invalid enroll request, attr_reqs object is missing the name of the attribute"),r(new Error("req.att_regs is missing the attribute name"))}}var o;o=t.getCryptoSuite()._cryptoKeyStore?{ephemeral:!1}:{ephemeral:!0},t.getCryptoSuite().generateKey(o).then(function(i){try{var o=i.generateCSR("CN="+e.enrollmentID);t._fabricCAClient.enroll(e.enrollmentID,e.enrollmentSecret,o,e.profile,e.attr_reqs).then(function(e){return n({key:i,certificate:e.enrollmentCert,rootCertificate:e.caCertChain})},function(e){return r(e)})}catch(e){return r(new Error(h.format("Failed to generate CSR for enrollmemnt due to error [%s]",e)))}},function(e){return r(new Error(h.format("Failed to generate key for enrollment due to error [%s]",e)))})})}},{key:"reenroll",value:function(e,t){if(!e)throw _.error('Invalid re-enroll request, missing argument "currentUser"'),new Error('Invalid re-enroll request, missing argument "currentUser"');if("function"!=typeof e.getIdentity)throw _.error('Invalid re-enroll request, "currentUser" is not a valid User object, missing "getIdentity()" method'),new Error('Invalid re-enroll request, "currentUser" is not a valid User object, missing "getIdentity()" method');if("function"!=typeof e.getSigningIdentity)throw _.error('Invalid re-enroll request, "currentUser" is not a valid User object, missing "getSigningIdentity()" method'),new Error('Invalid re-enroll request, "currentUser" is not a valid User object, missing "getSigningIdentity()" method');if(t){if(!Array.isArray(t))throw _.error("Invalid re-enroll request, attr_reqs must be an array of AttributeRequest objects"),new Error("Invalid re-enroll request, attr_reqs must be an array of AttributeRequest objects");for(var n in t){if(!t[n].name)throw _.error("Invalid re-enroll request, attr_reqs object is missing the name of the attribute"),new Error("Invalid re-enroll request, attr_reqs object is missing the name of the attribute")}}var i=e.getIdentity()._certificate,o=null;try{o=a(f.normalizeX509(i))}catch(e){_.error(h.format("Failed to parse enrollment certificate %s for Subject. \nError: %s",i,e))}if(null===o)throw new Error("Failed to parse the enrollment certificate of the current user for its subject");var s=this;return new Promise(function(n,i){s.getCryptoSuite().generateKey().then(function(a){try{var c=a.generateCSR("CN="+o);s._fabricCAClient.reenroll(c,e.getSigningIdentity(),t).then(function(e){return n({key:a,certificate:r.from(e.result.Cert,"base64").toString(),rootCertificate:r.from(e.result.ServerInfo.CAChain,"base64").toString()})},function(e){return i(e)})}catch(e){return i(new Error(h.format("Failed to generate CSR for enrollmemnt due to error [%s]",e)))}},function(e){return i(new Error(h.format("Failed to generate key for enrollment due to error [%s]",e)))})})}},{key:"revoke",value:function(e,t){if(void 0===e||null===e)throw new Error('Missing required argument "request"');if(!(null!==e.enrollmentID&&""!==e.enrollmentID||null!==e.aki&&""!==e.aki&&null!==e.serial&&""!==e.serial))throw new Error('Enrollment ID is empty, thus both "aki" and "serial" must have non-empty values');return w(t),this._fabricCAClient.revoke(e.enrollmentID,e.aki,e.serial,e.reason?e.reason:null,t.getSigningIdentity())}},{key:"generateCRL",value:function(e,t){if(void 0===e||null===e)throw new Error('Missing required argument "request"');return w(t),this._fabricCAClient.generateCRL(e.revokedBefore?e.revokedBefore.toISOString():null,e.revokedAfter?e.revokedAfter.toISOString():null,e.expireBefore?e.expireBefore.toISOString():null,e.expireAfter?e.expireAfter.toISOString():null,t.getSigningIdentity())}},{key:"newIdentityService",value:function(){return this._fabricCAClient.newIdentityService()}},{key:"newAffiliationService",value:function(){return this._fabricCAClient.newAffiliationService()}},{key:"toString",value:function(){return" FabricCAServices : {hostname: "+this._fabricCAClient._hostname+", port: "+this._fabricCAClient._port+"}"}}],[{key:"_parseURL",value:function(e){var t={},n=g.parse(e,!0);if(!n.protocol||!n.protocol.startsWith("http"))throw new Error("InvalidURL: url must start with http or https.");if("https"!=n.protocol.slice(0,-1)&&"http"!=n.protocol.slice(0,-1))throw new Error("InvalidURL: url must start with http or https.");if(t.protocol=n.protocol.slice(0,-1),!n.hostname)throw new Error("InvalidURL: missing hostname.");return t.hostname=n.hostname,n.port&&(t.port=parseInt(n.port)),t}}]),t}(f),C=function(){function e(t,n){i(this,e);try{this._validateConnectionOpts(t)}catch(e){throw new Error("Invalid connection options.  "+e.message)}this._caName=t.caname,this._httpClient="http"===t.protocol?p:y,this._hostname=t.hostname,t.port?this._port=t.port:this._port=7054,void 0===t.tlsOptions||null===t.tlsOptions?this._tlsOptions={trustedRoots:[],verify:!1}:(this._tlsOptions=t.tlsOptions,void 0===this._tlsOptions.verify&&(this._tlsOptions.verify=!0),void 0===this._tlsOptions.trustedRoots&&(this._tlsOptions.trustedRoots=[])),this._baseAPI="/api/v1/",this._cryptoPrimitives=n,_.debug("Successfully constructed Fabric CA client from options - %j",t)}return u(e,[{key:"register",value:function(e,t,n,r,i,o,s){var a=this;if(!(e&&r&&s))throw new Error("Missing required parameters.  'enrollmentID', 'affiliation', \t\t\t\tand 'signingIdentity' are all required.");if("number"!=typeof i)throw new Error("Missing required parameter. 'maxEnrollments' must be a number");return new Promise(function(c,u){var l={id:e,affiliation:r,max_enrollments:i};return n&&(l.type=n),o&&(l.attrs=o),"string"==typeof t&&""!==t&&(l.secret=t),a.post("register",l,s).then(function(e){return c(e.result.secret)}).catch(function(e){return u(e)})})}},{key:"revoke",value:function(e,t,n,r,i){var o=this;if(arguments.length<5)throw new Error("Missing required parameters.  'enrollmentID', 'aki', 'serial', 'reason', \t\t\t\t'callerID' and 'signingIdentity' are all required.");return new Promise(function(s,a){var c={id:e,aki:t,serial:n,reason:r};return o.post("revoke",c,i).then(function(e){return s(e)}).catch(function(e){return a(e)})})}},{key:"reenroll",value:function(e,t,n){var r=this;if(arguments.length<2)throw new Error("Missing required parameters.  'csr', 'signingIdentity' are all required.");return new Promise(function(i,o){var s={certificate_request:e};return n&&(s.attr_reqs=n),r.post("reenroll",s,t).then(function(e){return i(e)}).catch(function(e){return o(e)})})}},{key:"newIdentityService",value:function(){return new v(this)}},{key:"newAffiliationService",value:function(){return new b(this)}},{key:"post",value:function(e,t,n){return this.request("POST",e,n,t)}},{key:"delete",value:function(e,t){return this.request("DELETE",e,t)}},{key:"get",value:function(e,t){return this.request("GET",e,t)}},{key:"put",value:function(e,t,n){return this.request("PUT",e,n,t)}},{key:"request",value:function(e,t,n,r){r&&(r.caName=this._caName);var i=this;return new Promise(function(o,s){var a={hostname:i._hostname,port:i._port,path:i._baseAPI+t,method:e,headers:{Authorization:i.generateAuthToken(r,n)},ca:i._tlsOptions.trustedRoots,rejectUnauthorized:i._tlsOptions.verify},c=i._httpClient.request(a,function(e){var n=[];e.on("data",function(e){n.push(e)}),e.on("end",function(){var r=n.join("");r||s(new Error(h.format("fabric-ca request %s failed with HTTP status code %s",t,e.statusCode)));var i;try{return i=JSON.parse(r),i.success?o(i):s(new Error(h.format("fabric-ca request %s failed with errors [%s]",t,JSON.stringify(i&&i.errors?i.errors:i))))}catch(e){s(new Error(h.format("Could not parse %s response [%s] as JSON due to error [%s]",t,r,e)))}})});c.on("error",function(e){s(new Error(h.format("Calling %s endpoint failed with error [%s]",t,e)))}),r&&c.write(JSON.stringify(r)),c.end()})}},{key:"generateAuthToken",value:function(e,t){var n=r.from(t._certificate).toString("base64"),i=void 0;if(e){i=r.from(JSON.stringify(e)).toString("base64")+"."+n}else i="."+n;var o=t.sign(i,{hashFunction:this._cryptoPrimitives.hash.bind(this._cryptoPrimitives)});return _.debug(h.format("bodyAndcert: %s",i)),n+"."+r.from(o,"hex").toString("base64")}},{key:"enroll",value:function(e,t,n,i,o){var s=this,a=arguments.length;return new Promise(function(c,u){if(a<3)return u(new Error("Missing required parameters.  'enrollmentID', 'enrollmentSecret' and 'csr' are all required."));var l={hostname:s._hostname,port:s._port,path:s._baseAPI+"enroll",method:"POST",auth:e+":"+t,ca:s._tlsOptions.trustedRoots,rejectUnauthorized:s._tlsOptions.verify},f={caName:s._caName,certificate_request:n};i&&(f.profile=i),o&&(f.attr_reqs=o);var d=s._httpClient.request(l,function(e){var t=[];e.on("data",function(e){t.push(e)}),e.on("end",function(){var n=t.join("");n||u(new Error(h.format("Enrollment failed with HTTP status code ",e.statusCode)));try{var i=JSON.parse(n);if(i.success){var o=new Object;return o.enrollmentCert=r.from(i.result.Cert,"base64").toString(),o.caCertChain=r.from(i.result.ServerInfo.CAChain,"base64").toString(),c(o)}return u(new Error(h.format("Enrollment failed with errors [%s]",JSON.stringify(i.errors))))}catch(e){u(new Error(h.format("Could not parse enrollment response [%s] as JSON due to error [%s]",n,e)))}})});d.on("error",function(e){u(new Error(h.format("Calling enrollment endpoint failed with error [%s]",e)))});var p=JSON.stringify(f);d.write(p),d.end()})}},{key:"generateCRL",value:function(e,t,n,r,i){var o=this,s=arguments.length;return new Promise(function(a,c){if(5!==s)return c(new Error("Missing required parameters. 'revokedBefore', 'revokedAfter', \t\t\t\t\t'expireBefore', 'expireAfter' and 'signingIdentity' are all required."));var u={};return e||(u.revokedBefore=e),t||(u.revokedAfter=t),n||(u.expireBefore=n),r||(u.expireAfter=r),o._caName||(u.caname=o._caName),o.post("gencrl",u,i).then(function(e){return e.success&&e.result?a(e.result.CRL):c(e.errors)}).catch(function(e){return c(e)})})}},{key:"_validateConnectionOpts",value:function(e){if(!e.protocol)throw new Error("Protocol must be set to 'http' or 'https'");if("http"!=e.protocol&&"https"!=e.protocol)throw new Error("Protocol must be set to 'http' or 'https'");if(!e.hostname)throw new Error("Hostname must be set");if(e.port&&!Number.isInteger(e.port))throw new Error("Port must be an integer")}}],[{key:"pemToDER",value:function(e){var t=e.toString().trim().split(/\r?\n/);if(!t[0].match(/-----\s*BEGIN ?([^-]+)?-----/)||!t[t.length-1].match(/-----\s*END ?([^-]+)?-----/))throw new Error("Input parameter does not appear to be PEM-encoded.");return t.shift(),t.pop(),r.from(t.join(""),"base64").toString("hex")}}]),e}();e.exports=O,e.exports.FabricCAClient=C}).call(t,"/",n(0).Buffer)},function(e,t,n){"use strict";function r(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function i(e){var t=r(e),n=t[0],i=t[1];return 3*(n+i)/4-i}function o(e,t,n){return 3*(t+n)/4-n}function s(e){for(var t,n=r(e),i=n[0],s=n[1],a=new h(o(e,i,s)),c=0,u=s>0?i-4:i,l=0;l<u;l+=4)t=f[e.charCodeAt(l)]<<18|f[e.charCodeAt(l+1)]<<12|f[e.charCodeAt(l+2)]<<6|f[e.charCodeAt(l+3)],a[c++]=t>>16&255,a[c++]=t>>8&255,a[c++]=255&t;return 2===s&&(t=f[e.charCodeAt(l)]<<2|f[e.charCodeAt(l+1)]>>4,a[c++]=255&t),1===s&&(t=f[e.charCodeAt(l)]<<10|f[e.charCodeAt(l+1)]<<4|f[e.charCodeAt(l+2)]>>2,a[c++]=t>>8&255,a[c++]=255&t),a}function a(e){return l[e>>18&63]+l[e>>12&63]+l[e>>6&63]+l[63&e]}function c(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(a(r));return i.join("")}function u(e){for(var t,n=e.length,r=n%3,i=[],o=0,s=n-r;o<s;o+=16383)i.push(c(e,o,o+16383>s?s:o+16383));return 1===r?(t=e[n-1],i.push(l[t>>2]+l[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],i.push(l[t>>10]+l[t>>4&63]+l[t<<2&63]+"=")),i.join("")}t.byteLength=i,t.toByteArray=s,t.fromByteArray=u;for(var l=[],f=[],h="undefined"!=typeof Uint8Array?Uint8Array:Array,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,y=d.length;p<y;++p)l[p]=d[p],f[d.charCodeAt(p)]=p;f["-".charCodeAt(0)]=62,f["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,c=(1<<a)-1,u=c>>1,l=-7,f=n?i-1:0,h=n?-1:1,d=e[t+f];for(f+=h,o=d&(1<<-l)-1,d>>=-l,l+=a;l>0;o=256*o+e[t+f],f+=h,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+e[t+f],f+=h,l-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),o-=u}return(d?-1:1)*s*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var s,a,c,u=8*o-i-1,l=(1<<u)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),t+=s+f>=1?h/c:h*Math.pow(2,1-f),t*c>=2&&(s++,c/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(t*c-1)*Math.pow(2,i),s+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;e[n+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[n+d]=255&s,d+=p,s/=256,u-=8);e[n+d-p]|=128*y}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t,n){(function(e,t){!function(e,n){"use strict";function r(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return u[c]=r,a(c),c++}function i(e){delete u[e]}function o(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}function s(e){if(l)setTimeout(s,0,e);else{var t=u[e];if(t){l=!0;try{o(t)}finally{i(e),l=!1}}}}if(!e.setImmediate){var a,c=1,u={},l=!1,f=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,"[object process]"==={}.toString.call(e.process)?function(){a=function(e){t.nextTick(function(){s(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&s(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),a=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){s(e.data)},a=function(t){e.port2.postMessage(t)}}():f&&"onreadystatechange"in f.createElement("script")?function(){var e=f.documentElement;a=function(t){var n=f.createElement("script");n.onreadystatechange=function(){s(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():function(){a=function(e){setTimeout(s,0,e)}}(),h.setImmediate=r,h.clearImmediate=i}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,n(5),n(6))},function(e,t,n){"use strict";function r(e,t,n,r){void 0===t&&(t=""),void 0===n&&(n=""),void 0===r&&(r="");var i="";switch(n&&(i=" '"+n+"'"),r&&(i+=" -> '"+r+"'"),e){case de:return"ENOENT: no such file or directory, "+t+i;case pe:return"EBADF: bad file descriptor, "+t+i;case ye:return"EINVAL: invalid argument, "+t+i;case ge:return"EPERM: operation not permitted, "+t+i;case me:return"EPROTO: protocol error, "+t+i;case ve:return"EEXIST: file already exists, "+t+i;case be:return"ENOTDIR: not a directory, "+t+i;case Ee:return"EISDIR: illegal operation on a directory, "+t+i;case Se:return"EACCES: permission denied, "+t+i;case ke:return"ENOTEMPTY: directory not empty, "+t+i;case we:return"EMFILE: too many open files, "+t+i;case xe:return"ENOSYS: function not implemented, "+t+i;default:return e+": error occurred, "+t+i}}function i(e,t,n,i,o){void 0===t&&(t=""),void 0===n&&(n=""),void 0===i&&(i=""),void 0===o&&(o=Error);var s=new o(r(e,t,n,i));return s.code=e,s}function o(e,t,n,r,o){throw void 0===t&&(t=""),void 0===n&&(n=""),void 0===r&&(r=""),void 0===o&&(o=Error),i(e,t,n,r,o)}function s(e){if("number"==typeof e)return e;if("string"==typeof e){var t=ce[e];if(void 0!==t)return t}throw new V.TypeError("ERR_INVALID_OPT_VALUE","flags",e)}function a(e){if(e&&!H.Buffer.isEncoding(e))throw new V.TypeError("ERR_INVALID_OPT_VALUE_ENCODING",e)}function c(e,t){var n;if(!t)return e;var r=typeof t;switch(r){case"string":n=K({},e,{encoding:t});break;case"object":n=K({},e,t);break;default:throw TypeError(he(r))}return"buffer"!==n.encoding&&a(n.encoding),n}function u(e){return function(t){return c(e,t)}}function l(e){if("function"!=typeof e)throw TypeError(fe.CB);return e}function f(e){return function(t,n){return"function"==typeof t?[e(),t]:[e(t),l(n)]}}function h(e){if(""!==e.hostname)return new V.TypeError("ERR_INVALID_FILE_URL_HOST",U.default.platform);for(var t=e.pathname,n=0;n<t.length;n++)if("%"===t[n]){var r=32|t.codePointAt(n+2);if("2"===t[n+1]&&102===r)return new V.TypeError("ERR_INVALID_FILE_URL_PATH","must not include encoded / characters")}return decodeURIComponent(t)}function d(e){if("string"!=typeof e&&!H.Buffer.isBuffer(e)){try{if(!(e instanceof n(26).URL))throw new TypeError(fe.PATH_STR)}catch(e){throw new TypeError(fe.PATH_STR)}e=h(e)}var t=String(e);return w(t),t}function p(e,t){var n=Me(e,t),r=n.substr(1);return r?r.split(N):[]}function y(e){return p(d(e))}function g(e,t){return void 0===t&&(t=le),H.Buffer.isBuffer(e)?e.toString(t):e instanceof Uint8Array?H.Buffer.from(e).toString(t):String(e)}function m(e,t){return void 0===t&&(t=le),H.Buffer.isBuffer(e)?e:e instanceof Uint8Array?H.Buffer.from(e):H.Buffer.from(String(e),t)}function v(e,t){return t&&t!==le?"buffer"===t?new H.Buffer(e):new H.Buffer(e).toString(t):e}function b(e,t){return t&&"buffer"!==t?e.toString(t):e}function w(e,t){if(-1!==(""+e).indexOf("\0")){var n=new Error("Path must be a string without null bytes");if(n.code=de,"function"!=typeof t)throw n;return U.default.nextTick(t,n),!1}return!0}function S(e,t){return"number"==typeof e?e:"string"==typeof e?parseInt(e,8):t?E(t):void 0}function E(e,t){var n=S(e,t);if("number"!=typeof n||isNaN(n))throw new TypeError(fe.MODE_INT);return n}function k(e){return e>>>0===e}function x(e){if(!k(e))throw TypeError(fe.FD)}function _(e){if("string"==typeof e&&+e==e)return+e;if(isFinite(e))return e<0?Date.now()/1e3:e;if(e instanceof Date)return e.getTime()/1e3;throw new Error("Cannot parse time: "+e)}function O(e,t,n){return"function"==typeof e?[n,e]:[e,t]}function C(e){if("number"!=typeof e)throw TypeError(fe.UID)}function A(e){if("number"!=typeof e)throw TypeError(fe.GID)}function P(e){e.emit("stop")}function I(e){Ke=H.Buffer.allocUnsafe(e),Ke.used=0}function D(e,t,n){if(!(this instanceof D))return new D(e,t,n);if(this._vol=e,n=K({},c(n,{})),void 0===n.highWaterMark&&(n.highWaterMark=65536),J.Readable.call(this,n),this.path=d(t),this.fd=void 0===n.fd?null:n.fd,this.flags=void 0===n.flags?"r":n.flags,this.mode=void 0===n.mode?438:n.mode,this.start=n.start,this.end=n.end,this.autoClose=void 0===n.autoClose||n.autoClose,this.pos=void 0,this.bytesRead=0,void 0!==this.start){if("number"!=typeof this.start)throw new TypeError('"start" option must be a Number');if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw new TypeError('"end" option must be a Number');if(this.start>this.end)throw new Error('"start" option must be <= "end" option');this.pos=this.start}"number"!=typeof this.fd&&this.open(),this.on("end",function(){this.autoClose&&this.destroy&&this.destroy()})}function R(e){this.close()}function j(e,t,n){if(!(this instanceof j))return new j(e,t,n);if(this._vol=e,n=K({},c(n,{})),J.Writable.call(this,n),this.path=d(t),this.fd=void 0===n.fd?null:n.fd,this.flags=void 0===n.flags?"w":n.flags,this.mode=void 0===n.mode?438:n.mode,this.start=n.start,this.autoClose=void 0===n.autoClose||!!n.autoClose,this.pos=void 0,this.bytesWritten=0,void 0!==this.start){if("number"!=typeof this.start)throw new TypeError('"start" option must be a Number');if(this.start<0)throw new Error('"start" must be >= zero');this.pos=this.start}n.encoding&&this.setDefaultEncoding(n.encoding),"number"!=typeof this.fd&&this.open(),this.once("finish",function(){this.autoClose&&this.close()})}var T=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var N,B,F=n(12),M=n(12),L=n(100),H=n(0),q=n(102),U=n(101),K=n(197),V=n(198),z=n(199),J=n(20),G=n(4),W=n(66),X=n(34),Y=W.constants.O_RDONLY,Q=W.constants.O_WRONLY,Z=W.constants.O_RDWR,$=W.constants.O_CREAT,ee=W.constants.O_EXCL,te=(W.constants.O_NOCTTY,W.constants.O_TRUNC),ne=W.constants.O_APPEND,re=(W.constants.O_DIRECTORY,W.constants.O_NOATIME,W.constants.O_NOFOLLOW,W.constants.O_SYNC),ie=(W.constants.O_DIRECT,W.constants.O_NONBLOCK,W.constants.F_OK),oe=(W.constants.R_OK,W.constants.W_OK,W.constants.X_OK,W.constants.COPYFILE_EXCL),se=(W.constants.COPYFILE_FICLONE,W.constants.COPYFILE_FICLONE_FORCE);if(M.posix){var ae=M.posix;N=ae.sep,B=ae.relative}else N=M.sep,B=M.relative;var ce,ue="win32"===U.default.platform,le="utf8",fe={PATH_STR:"path must be a string or Buffer",FD:"fd must be a file descriptor",MODE_INT:"mode must be an int",CB:"callback must be a function",UID:"uid must be an unsigned int",GID:"gid must be an unsigned int",LEN:"len must be an integer",ATIME:"atime must be an integer",MTIME:"mtime must be an integer",PREFIX:"filename prefix is required",BUFFER:"buffer must be an instance of Buffer or StaticBuffer",OFFSET:"offset must be an integer",LENGTH:"length must be an integer",POSITION:"position must be an integer"},he=function(e){return"Expected options to be either an object or a string, but got "+e+" instead"},de="ENOENT",pe="EBADF",ye="EINVAL",ge="EPERM",me="EPROTO",ve="EEXIST",be="ENOTDIR",we="EMFILE",Se="EACCES",Ee="EISDIR",ke="ENOTEMPTY",xe="ENOSYS";!function(e){e[e.r=Y]="r",e[e["r+"]=Z]="r+",e[e.rs=Y|re]="rs",e[e.sr=e.rs]="sr",e[e["rs+"]=Z|re]="rs+",e[e["sr+"]=e["rs+"]]="sr+",e[e.w=Q|$|te]="w",e[e.wx=Q|$|te|ee]="wx",e[e.xw=e.wx]="xw",e[e["w+"]=Z|$|te]="w+",e[e["wx+"]=Z|$|te|ee]="wx+",e[e["xw+"]=e["wx+"]]="xw+",e[e.a=Q|ne|$]="a",e[e.ax=Q|ne|$|ee]="ax",e[e.xa=e.ax]="xa",e[e["a+"]=Z|ne|$]="a+",e[e["ax+"]=Z|ne|$|ee]="ax+",e[e["xa+"]=e["ax+"]]="xa+"}(ce=t.FLAGS||(t.FLAGS={})),t.flagsToNumber=s;var _e={encoding:"utf8"},Oe=u(_e),Ce=f(Oe),Ae={flag:"r"},Pe=u(Ae),Ie={encoding:"utf8",mode:438,flag:ce[ce.w]},De=u(Ie),Re={encoding:"utf8",mode:438,flag:ce[ce.a]},je=u(Re),Te=f(je),Ne=_e,Be=u(Ne),Fe=f(Be);t.pathToFilename=d;var Me=function(e,t){return void 0===t&&(t=U.default.cwd()),F.resolve(t,e)};if(ue){var Le=Me,He=n(213).unixify;Me=function(e,t){return He(Le(e,t))}}t.filenameToSteps=p,t.pathToSteps=y,t.dataToStr=g,t.dataToBuffer=m,t.strToEncoding=v,t.bufferToEncoding=b,t.toUnixTimestamp=_;var qe=function(){function e(e){void 0===e&&(e={}),this.ino=0,this.inodes={},this.releasedInos=[],this.fds={},this.releasedFds=[],this.maxFiles=1e4,this.openFiles=0,this.statWatchers={},this.props=K({Node:L.Node,Link:L.Link,File:L.File},e);var t=this.createLink();t.setNode(this.createNode(!0));var n=this;this.StatWatcher=function(e){function t(){return e.call(this,n)||this}return T(t,e),t}(Ue);var r=D;this.ReadStream=function(e){function t(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.apply(this,[n].concat(t))||this}return T(t,e),t}(r);var i=j;this.WriteStream=function(e){function t(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.apply(this,[n].concat(t))||this}return T(t,e),t}(i),this.FSWatcher=function(e){function t(){return e.call(this,n)||this}return T(t,e),t}(Ve),this.root=t}return e.fromJSON=function(t,n){var r=new e;return r.fromJSON(t,n),r},e.prototype.createLink=function(e,t,n,r){return void 0===n&&(n=!1),e?e.createChild(t,this.createNode(n,r)):new this.props.Link(this,null,"")},e.prototype.deleteLink=function(e){var t=e.parent;return!!t&&(t.deleteChild(e),e.vol=null,e.parent=null,!0)},e.prototype.newInoNumber=function(){return this.releasedInos.length?this.releasedInos.pop():(this.ino=(this.ino+1)%4294967295,this.ino)},e.prototype.newFdNumber=function(){return this.releasedFds.length?this.releasedFds.pop():e.fd--},e.prototype.createNode=function(e,t){void 0===e&&(e=!1);var n=new this.props.Node(this.newInoNumber(),t);return e&&n.setIsDirectory(),this.inodes[n.ino]=n,n},e.prototype.getNode=function(e){return this.inodes[e]},e.prototype.deleteNode=function(e){e.del(),delete this.inodes[e.ino],this.releasedInos.push(e.ino)},e.prototype.genRndStr=function(){var e=(Math.random()+1).toString(36).substr(2,6);return 6===e.length?e:this.genRndStr()},e.prototype.getLink=function(e){return this.root.walk(e)},e.prototype.getLinkOrThrow=function(e,t){var n=p(e),r=this.getLink(n);return r||o(de,t,e),r},e.prototype.getResolvedLink=function(e){for(var t="string"==typeof e?p(e):e,n=this.root,r=0;r<t.length;){var i=t[r];if(!(n=n.getChild(i)))return null;var o=n.getNode();o.isSymlink()?(t=o.symlink.concat(t.slice(r+1)),n=this.root,r=0):r++}return n},e.prototype.getResolvedLinkOrThrow=function(e,t){var n=this.getResolvedLink(e);return n||o(de,t,e),n},e.prototype.resolveSymlinks=function(e){return this.getResolvedLink(e.steps.slice(1))},e.prototype.getLinkAsDirOrThrow=function(e,t){var n=this.getLinkOrThrow(e,t);return n.getNode().isDirectory()||o(be,t,e),n},e.prototype.getLinkParent=function(e){return this.root.walk(e,e.length-1)},e.prototype.getLinkParentAsDirOrThrow=function(e,t){var n=e instanceof Array?e:p(e),r=this.getLinkParent(n);return r||o(de,t,N+n.join(N)),r.getNode().isDirectory()||o(be,t,N+n.join(N)),r},e.prototype.getFileByFd=function(e){return this.fds[String(e)]},e.prototype.getFileByFdOrThrow=function(e,t){if(!k(e))throw TypeError(fe.FD);var n=this.getFileByFd(e);return n||o(pe,t),n},e.prototype.getNodeByIdOrCreate=function(e,t,n){if("number"==typeof e){var r=this.getFileByFd(e);if(!r)throw Error("File nto found");return r.node}var i=y(e),s=this.getLink(i);if(s)return s.getNode();if(t&$){var a=this.getLinkParent(i);if(a){var c=i[i.length-1];return s=this.createLink(a,c,!1,n),s.getNode()}}o(de,"getNodeByIdOrCreate",d(e))},e.prototype.wrapAsync=function(e,t,n){var r=this;l(n),q.default(function(){try{n(null,e.apply(r,t))}catch(e){n(e)}})},e.prototype._toJSON=function(e,t,n){void 0===e&&(e=this.root),void 0===t&&(t={});var r=!0;for(var i in e.children){r=!1;var o=e.getChild(i),s=o.getNode();if(s.isFile()){var a=o.getPath();n&&(a=B(n,a)),t[a]=s.getString()}else s.isDirectory()&&this._toJSON(o,t,n)}var c=e.getPath();return n&&(c=B(n,c)),c&&r&&(t[c]=null),t},e.prototype.toJSON=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n=!1);var r=[];if(e){e instanceof Array||(e=[e]);for(var i=0,o=e;i<o.length;i++){var s=o[i],a=d(s),c=this.getResolvedLink(a);c&&r.push(c)}}else r.push(this.root);if(!r.length)return t;for(var u=0,l=r;u<l.length;u++){var c=l[u];this._toJSON(c,t,n?c.getPath():"")}return t},e.prototype.fromJSON=function(e,t){void 0===t&&(t=U.default.cwd());for(var n in e){var r=e[n];if("string"==typeof r){n=Me(n,t);var i=p(n);if(i.length>1){var o=N+i.slice(0,i.length-1).join(N);this.mkdirpBase(o,511)}this.writeFileSync(n,r)}else this.mkdirpBase(n,511)}},e.prototype.reset=function(){this.ino=0,this.inodes={},this.releasedInos=[],this.fds={},this.releasedFds=[],this.openFiles=0,this.root=this.createLink(),this.root.setNode(this.createNode(!0))},e.prototype.mountSync=function(e,t){this.fromJSON(t,e)},e.prototype.openLink=function(e,t,n){if(void 0===n&&(n=!0),this.openFiles>=this.maxFiles)throw i(we,"open",e.getPath());var r=e;n&&(r=this.resolveSymlinks(e)),r||o(de,"open",e.getPath());var s=r.getNode();s.isDirectory()&&t!==ce.r&&o(Ee,"open",e.getPath()),t&Q||s.canRead()||o(Se,"open",e.getPath());var a=new this.props.File(e,s,t,this.newFdNumber());return this.fds[a.fd]=a,this.openFiles++,t&te&&a.truncate(),a},e.prototype.openFile=function(e,t,n,r){void 0===r&&(r=!0);var i=p(e),s=this.getResolvedLink(i);if(!s){var a=this.getResolvedLink(i.slice(0,i.length-1));a||o(de,"open",N+i.join(N)),t&$&&"number"==typeof n&&(s=this.createLink(a,i[i.length-1],!1,n))}if(s)return this.openLink(s,t,r)},e.prototype.openBase=function(e,t,n,r){void 0===r&&(r=!0);var i=this.openFile(e,t,n,r);return i||o(de,"open",e),i.fd},e.prototype.openSync=function(e,t,n){void 0===n&&(n=438);var r=E(n),i=d(e),o=s(t);return this.openBase(i,o,r)},e.prototype.open=function(e,t,n,r){var i=n,o=r;"function"==typeof n&&(i=438,o=n),i=i||438;var a=E(i),c=d(e),u=s(t);this.wrapAsync(this.openBase,[c,u,a],o)},e.prototype.closeFile=function(e){this.fds[e.fd]&&(this.openFiles--,delete this.fds[e.fd],this.releasedFds.push(e.fd))},e.prototype.closeSync=function(e){x(e);var t=this.getFileByFdOrThrow(e,"close");this.closeFile(t)},e.prototype.close=function(e,t){x(e),this.wrapAsync(this.closeSync,[e],t)},e.prototype.openFileOrGetById=function(e,t,n){if("number"==typeof e){var r=this.fds[e];if(!r)throw i(de);return r}return this.openFile(d(e),t,n)},e.prototype.readBase=function(e,t,n,r,i){return this.getFileByFdOrThrow(e).read(t,Number(n),Number(r),i)},e.prototype.readSync=function(e,t,n,r,i){return x(e),this.readBase(e,t,n,r,i)},e.prototype.read=function(e,t,n,r,i,o){var s=this;if(l(o),0===r)return U.default.nextTick(function(){o&&o(null,0,t)});q.default(function(){try{var a=s.readBase(e,t,n,r,i);o(null,a,t)}catch(e){o(e)}})},e.prototype.readFileBase=function(e,t,n){var r,i,o=k(e);i=o?e:this.openSync(e,t);try{r=b(this.getFileByFdOrThrow(i).getBuffer(),n)}finally{o||this.closeSync(i)}return r},e.prototype.readFileSync=function(e,t){var n=Pe(t),r=s(n.flag);return this.readFileBase(e,r,n.encoding)},e.prototype.readFile=function(e,t,n){var r=f(Pe)(t,n),i=r[0],o=r[1],a=s(i.flag);this.wrapAsync(this.readFileBase,[e,a,i.encoding],o)},e.prototype.writeBase=function(e,t,n,r,i){return this.getFileByFdOrThrow(e,"write").write(t,n,r,i)},e.prototype.writeSync=function(e,t,n,r,i){x(e);var o,s,a,c,u="string"!=typeof t;u?(s=0|n,a=r,c=i):(c=n,o=r);var l=m(t,o);return u?void 0===a&&(a=l.length):(s=0,a=l.length),this.writeBase(e,l,s,a,c)},e.prototype.write=function(e,t,n,r,i,o){var s=this;x(e);var a,c,u,f,h,d=typeof t,p=typeof n,y=typeof r,g=typeof i;"string"!==d?"function"===p?h=n:"function"===y?(a=0|n,h=r):"function"===g?(a=0|n,c=r,h=i):(a=0|n,c=r,u=i,h=o):"function"===p?h=n:"function"===y?(u=n,h=r):"function"===g&&(u=n,f=r,h=i);var v=m(t,f);"string"!==d?void 0===c&&(c=v.length):(a=0,c=v.length),l(h),q.default(function(){try{var n=s.writeBase(e,v,a,c,u);"string"!==d?h(null,n,v):h(null,n,t)}catch(e){h(e)}})},e.prototype.writeFileBase=function(e,t,n,r){var i,o="number"==typeof e;i=o?e:this.openBase(d(e),n,r);var s=0,a=t.length,c=n&ne?null:0;try{for(;a>0;){var u=this.writeSync(i,t,s,a,c);s+=u,a-=u,null!==c&&(c+=u)}}finally{o||this.closeSync(i)}},e.prototype.writeFileSync=function(e,t,n){var r=De(n),i=s(r.flag),o=E(r.mode),a=m(t,r.encoding);this.writeFileBase(e,a,i,o)},e.prototype.writeFile=function(e,t,n,r){var i=n,o=r;"function"==typeof n&&(i=Ie,o=n);var a=De(i),c=s(a.flag),u=E(a.mode),l=m(t,a.encoding);this.wrapAsync(this.writeFileBase,[e,l,c,u],o)},e.prototype.linkBase=function(e,t){var n=p(e),r=this.getLink(n);r||o(de,"link",e,t);var i=p(t),s=this.getLinkParent(i);s||o(de,"link",e,t);var a=i[i.length-1];s.getChild(a)&&o(ve,"link",e,t);var c=r.getNode();c.nlink++,s.createChild(a,c)},e.prototype.copyFileBase=function(e,t,n){var r=this.readFileSync(e);n&oe&&this.existsSync(t)&&o(ve,"copyFile",e,t),n&se&&o(xe,"copyFile",e,t),this.writeFileBase(t,r,ce.w,438)},e.prototype.copyFileSync=function(e,t,n){var r=d(e),i=d(t);return this.copyFileBase(r,i,0|n)},e.prototype.copyFile=function(e,t,n,r){var i,o,s=d(e),a=d(t);"function"==typeof n?(i=0,o=n):(i=n,o=r),l(o),this.wrapAsync(this.copyFileBase,[s,a,i],o)},e.prototype.linkSync=function(e,t){var n=d(e),r=d(t);this.linkBase(n,r)},e.prototype.link=function(e,t,n){var r=d(e),i=d(t);this.wrapAsync(this.linkBase,[r,i],n)},e.prototype.unlinkBase=function(e){var t=p(e),n=this.getLink(t);if(n||o(de,"unlink",e),n.length)throw Error("Dir not empty...");this.deleteLink(n);var r=n.getNode();--r.nlink<=0&&this.deleteNode(r)},e.prototype.unlinkSync=function(e){var t=d(e);this.unlinkBase(t)},e.prototype.unlink=function(e,t){var n=d(e);this.wrapAsync(this.unlinkBase,[n],t)},e.prototype.symlinkBase=function(e,t){var n=p(t),r=this.getLinkParent(n);r||o(de,"symlink",e,t);var i=n[n.length-1];r.getChild(i)&&o(ve,"symlink",e,t);var s=r.createChild(i);return s.getNode().makeSymlink(p(e)),s},e.prototype.symlinkSync=function(e,t,n){var r=d(e),i=d(t);this.symlinkBase(r,i)},e.prototype.symlink=function(e,t,n,r){var i=O(n,r),o=(i[0],i[1]),s=d(e),a=d(t);this.wrapAsync(this.symlinkBase,[s,a],o)},e.prototype.realpathBase=function(e,t){var n=p(e),r=this.getLink(n);r||o(de,"realpath",e);var i=this.resolveSymlinks(r);return i||o(de,"realpath",e),v(i.getPath(),t)},e.prototype.realpathSync=function(e,t){return this.realpathBase(d(e),Be(t).encoding)},e.prototype.realpath=function(e,t,n){var r=Fe(t,n),i=r[0],o=r[1],s=d(e);this.wrapAsync(this.realpathBase,[s,i.encoding],o)},e.prototype.lstatBase=function(e){var t=this.getLink(p(e));return t||o(de,"lstat",e),L.Stats.build(t.getNode())},e.prototype.lstatSync=function(e){return this.lstatBase(d(e))},e.prototype.lstat=function(e,t){this.wrapAsync(this.lstatBase,[d(e)],t)},e.prototype.statBase=function(e){var t=this.getLink(p(e));return t||o(de,"stat",e),t=this.resolveSymlinks(t),t||o(de,"stat",e),L.Stats.build(t.getNode())},e.prototype.statSync=function(e){return this.statBase(d(e))},e.prototype.stat=function(e,t){this.wrapAsync(this.statBase,[d(e)],t)},e.prototype.fstatBase=function(e){var t=this.getFileByFd(e);return t||o(pe,"fstat"),L.Stats.build(t.node)},e.prototype.fstatSync=function(e){return this.fstatBase(e)},e.prototype.fstat=function(e,t){this.wrapAsync(this.fstatBase,[e],t)},e.prototype.renameBase=function(e,t){var n=this.getLink(p(e));n||o(de,"rename",e,t);var r=p(t),i=this.getLinkParent(r);i||o(de,"rename",e,t);var s=n.parent;s&&s.deleteChild(n);var a=r[r.length-1];n.steps=i.steps.concat([a]),i.setChild(n.getName(),n)},e.prototype.renameSync=function(e,t){var n=d(e),r=d(t);this.renameBase(n,r)},e.prototype.rename=function(e,t,n){var r=d(e),i=d(t);this.wrapAsync(this.renameBase,[r,i],n)},e.prototype.existsBase=function(e){return!!this.statBase(e)},e.prototype.existsSync=function(e){try{return this.existsBase(d(e))}catch(e){return!1}},e.prototype.exists=function(e,t){var n=this,r=d(e);if("function"!=typeof t)throw Error(fe.CB);q.default(function(){try{t(n.existsBase(r))}catch(e){t(!1)}})},e.prototype.accessBase=function(e,t){this.getLinkOrThrow(e,"access")},e.prototype.accessSync=function(e,t){void 0===t&&(t=ie);var n=d(e);t|=0,this.accessBase(n,t)},e.prototype.access=function(e,t,n){var r=t,i=n;"function"==typeof r&&(r=ie,i=t);var o=d(e);r|=0,this.wrapAsync(this.accessBase,[o,r],i)},e.prototype.appendFileSync=function(e,t,n){void 0===n&&(n=Re);var r=je(n);r.flag&&!k(e)||(r.flag="a"),this.writeFileSync(e,t,r)},e.prototype.appendFile=function(e,t,n,r){var i=Te(n,r),o=i[0],s=i[1];o.flag&&!k(e)||(o.flag="a"),this.writeFile(e,t,o,s)},e.prototype.readdirBase=function(e,t){var n=p(e),r=this.getResolvedLink(n);r||o(de,"readdir",e),r.getNode().isDirectory()||o(be,"scandir",e);var i=[];for(var s in r.children)i.push(v(s,t));return ue||"buffer"===t||i.sort(),i},e.prototype.readdirSync=function(e,t){var n=Oe(t),r=d(e);return this.readdirBase(r,n.encoding)},e.prototype.readdir=function(e,t,n){var r=t,i=n;"function"==typeof t&&(i=t,r=_e);var o=Oe(r),s=d(e);this.wrapAsync(this.readdirBase,[s,o.encoding],i)},e.prototype.readlinkBase=function(e,t){var n=this.getLinkOrThrow(e,"readlink"),r=n.getNode();return r.isSymlink()||o(ye,"readlink",e),v(N+r.symlink.join(N),t)},e.prototype.readlinkSync=function(e,t){var n=Oe(t),r=d(e);return this.readlinkBase(r,n.encoding)},e.prototype.readlink=function(e,t,n){var r=Ce(t,n),i=r[0],o=r[1],s=d(e);this.wrapAsync(this.readlinkBase,[s,i.encoding],o)},e.prototype.fsyncBase=function(e){this.getFileByFdOrThrow(e,"fsync")},e.prototype.fsyncSync=function(e){this.fsyncBase(e)},e.prototype.fsync=function(e,t){this.wrapAsync(this.fsyncBase,[e],t)},e.prototype.fdatasyncBase=function(e){this.getFileByFdOrThrow(e,"fdatasync")},e.prototype.fdatasyncSync=function(e){this.fdatasyncBase(e)},e.prototype.fdatasync=function(e,t){this.wrapAsync(this.fdatasyncBase,[e],t)},e.prototype.ftruncateBase=function(e,t){this.getFileByFdOrThrow(e,"ftruncate").truncate(t)},e.prototype.ftruncateSync=function(e,t){this.ftruncateBase(e,t)},e.prototype.ftruncate=function(e,t,n){var r=O(t,n),i=r[0],o=r[1];this.wrapAsync(this.ftruncateBase,[e,i],o)},e.prototype.truncateBase=function(e,t){var n=this.openSync(e,"r+");try{this.ftruncateSync(n,t)}finally{this.closeSync(n)}},e.prototype.truncateSync=function(e,t){if(k(e))return this.ftruncateSync(e,t);this.truncateBase(e,t)},e.prototype.truncate=function(e,t,n){if(k(e))return this.ftruncate(e,t,n);var r=O(t,n,0),i=r[0],o=r[1];this.wrapAsync(this.truncateBase,[e,i],o)},e.prototype.futimesBase=function(e,t,n){var r=this.getFileByFdOrThrow(e,"futimes"),i=r.node;i.atime=new Date(1e3*t),i.mtime=new Date(1e3*n)},e.prototype.futimesSync=function(e,t,n){this.futimesBase(e,_(t),_(n))},e.prototype.futimes=function(e,t,n,r){this.wrapAsync(this.futimesBase,[e,_(t),_(n)],r)},e.prototype.utimesBase=function(e,t,n){var r=this.openSync(e,"r+");try{this.futimesBase(r,t,n)}finally{this.closeSync(r)}},e.prototype.utimesSync=function(e,t,n){this.utimesBase(d(e),_(t),_(n))},e.prototype.utimes=function(e,t,n,r){this.wrapAsync(this.utimesBase,[d(e),_(t),_(n)],r)},e.prototype.mkdirBase=function(e,t){var n=p(e),r=this.getLinkParentAsDirOrThrow(e,"mkdir"),i=n[n.length-1];r.getChild(i)&&o(ve,"mkdir",e),r.createChild(i,this.createNode(!0,t))},e.prototype.mkdirSync=function(e,t){var n=E(t,511),r=d(e);this.mkdirBase(r,n)},e.prototype.mkdir=function(e,t,n){var r=O(t,n),i=r[0],o=r[1],s=E(i,511),a=d(e);this.wrapAsync(this.mkdirBase,[a,s],o)},e.prototype.mkdtempBase=function(e,t,n){void 0===n&&(n=5);var r=e+this.genRndStr();try{return this.mkdirBase(r,511),v(r,t)}catch(r){if(r.code!==ve)throw r;if(!(n>1))throw Error("Could not create temp dir.");this.mkdtempBase(e,t,n-1)}},e.prototype.mkdtempSync=function(e,t){var n=Oe(t).encoding;if(!e||"string"!=typeof e)throw new TypeError("filename prefix is required");if(w(e))return this.mkdtempBase(e,n)},e.prototype.mkdtemp=function(e,t,n){var r=Ce(t,n),i=r[0].encoding,o=r[1];if(!e||"string"!=typeof e)throw new TypeError("filename prefix is required");w(e)&&this.wrapAsync(this.mkdtempBase,[e,i],o)},e.prototype.mkdirpBase=function(e,t){for(var n=p(e),r=this.root,i=0;i<n.length;i++){var s=n[i];r.getNode().isDirectory()||o(be,"mkdirp",r.getPath());var a=r.getChild(s);a?a.getNode().isDirectory()?r=a:o(be,"mkdirp",a.getPath()):r=r.createChild(s,this.createNode(!0,t))}},e.prototype.mkdirpSync=function(e,t){var n=E(t,511),r=d(e);this.mkdirpBase(r,n)},e.prototype.mkdirp=function(e,t,n){var r=O(t,n),i=r[0],o=r[1],s=E(i,511),a=d(e);this.wrapAsync(this.mkdirpBase,[a,s],o)},e.prototype.rmdirBase=function(e){var t=this.getLinkAsDirOrThrow(e,"rmdir");t.length&&o(ke,"rmdir",e),this.deleteLink(t)},e.prototype.rmdirSync=function(e){this.rmdirBase(d(e))},e.prototype.rmdir=function(e,t){this.wrapAsync(this.rmdirBase,[d(e)],t)},e.prototype.fchmodBase=function(e,t){this.getFileByFdOrThrow(e,"fchmod").chmod(t)},e.prototype.fchmodSync=function(e,t){this.fchmodBase(e,E(t))},e.prototype.fchmod=function(e,t,n){this.wrapAsync(this.fchmodBase,[e,E(t)],n)},e.prototype.chmodBase=function(e,t){var n=this.openSync(e,"r+");try{this.fchmodBase(n,t)}finally{this.closeSync(n)}},e.prototype.chmodSync=function(e,t){var n=E(t),r=d(e);this.chmodBase(r,n)},e.prototype.chmod=function(e,t,n){var r=E(t),i=d(e);this.wrapAsync(this.chmodBase,[i,r],n)},e.prototype.lchmodBase=function(e,t){var n=this.openBase(e,Z,0,!1);try{this.fchmodBase(n,t)}finally{this.closeSync(n)}},e.prototype.lchmodSync=function(e,t){var n=E(t),r=d(e);this.lchmodBase(r,n)},e.prototype.lchmod=function(e,t,n){var r=E(t),i=d(e);this.wrapAsync(this.lchmodBase,[i,r],n)},e.prototype.fchownBase=function(e,t,n){this.getFileByFdOrThrow(e,"fchown").chown(t,n)},e.prototype.fchownSync=function(e,t,n){C(t),A(n),this.fchownBase(e,t,n)},e.prototype.fchown=function(e,t,n,r){C(t),A(n),this.wrapAsync(this.fchownBase,[e,t,n],r)},e.prototype.chownBase=function(e,t,n){this.getResolvedLinkOrThrow(e,"chown").getNode().chown(t,n)},e.prototype.chownSync=function(e,t,n){C(t),A(n),this.chownBase(d(e),t,n)},e.prototype.chown=function(e,t,n,r){C(t),A(n),this.wrapAsync(this.chownBase,[d(e),t,n],r)},e.prototype.lchownBase=function(e,t,n){this.getLinkOrThrow(e,"lchown").getNode().chown(t,n)},e.prototype.lchownSync=function(e,t,n){C(t),A(n),this.lchownBase(d(e),t,n)},e.prototype.lchown=function(e,t,n,r){C(t),A(n),this.wrapAsync(this.lchownBase,[d(e),t,n],r)},e.prototype.watchFile=function(e,t,n){var r=d(e),i=t,o=n;if("function"==typeof i&&(o=t,i=null),"function"!=typeof o)throw Error('"watchFile()" requires a listener function');var s=5007,a=!0;i&&"object"==typeof i&&("number"==typeof i.interval&&(s=i.interval),"boolean"==typeof i.persistent&&(a=i.persistent));var c=this.statWatchers[r];return c||(c=new this.StatWatcher,c.start(r,a,s),this.statWatchers[r]=c),c.addListener("change",o),c},e.prototype.unwatchFile=function(e,t){var n=d(e),r=this.statWatchers[n];r&&("function"==typeof t?r.removeListener("change",t):r.removeAllListeners("change"),0===r.listenerCount("change")&&(r.stop(),delete this.statWatchers[n]))},e.prototype.createReadStream=function(e,t){return new this.ReadStream(e,t)},e.prototype.createWriteStream=function(e,t){return new this.WriteStream(e,t)},e.prototype.watch=function(e,t,n){var r=d(e);"function"==typeof t&&(n=t,t=null);var i=Oe(t),o=i.persistent,s=i.recursive,a=i.encoding;void 0===o&&(o=!0),void 0===s&&(s=!1);var c=new this.FSWatcher;return c.start(r,o,s,a),n&&c.addListener("change",n),c},e.fd=4294967295,e}();t.Volume=qe;var Ue=function(e){function t(t){var n=e.call(this)||this;return n.vol=null,n.timeoutRef=null,n.prev=null,n.onInterval=function(){try{var e=n.vol.statSync(n.filename);n.hasChanged(e)&&(n.emit("change",e,n.prev),n.prev=e)}finally{n.loop()}},n.vol=t,n}return T(t,e),t.prototype.loop=function(){this.timeoutRef=this.setTimeout(this.onInterval,this.interval)},t.prototype.hasChanged=function(e){return e.mtimeMs>this.prev.mtimeMs||e.nlink!==this.prev.nlink},t.prototype.start=function(e,t,n){void 0===t&&(t=!0),void 0===n&&(n=5007),this.filename=d(e),this.setTimeout=t?setTimeout:z.default,this.interval=n,this.prev=this.vol.statSync(this.filename),this.loop()},t.prototype.stop=function(){clearTimeout(this.timeoutRef),U.default.nextTick(P,this)},t}(X.EventEmitter);t.StatWatcher=Ue;var Ke;G.inherits(D,J.Readable),t.ReadStream=D,D.prototype.open=function(){var e=this;this._vol.open(this.path,this.flags,this.mode,function(t,n){if(t)return e.autoClose&&e.destroy&&e.destroy(),void e.emit("error",t);e.fd=n,e.emit("open",n),e.read()})},D.prototype._read=function(e){function t(e,t){if(e)o.autoClose&&o.destroy&&o.destroy(),o.emit("error",e);else{var r=null;t>0&&(o.bytesRead+=t,r=n.slice(i,i+t)),o.push(r)}}if("number"!=typeof this.fd)return this.once("open",function(){this._read(e)});if(!this.destroyed){(!Ke||Ke.length-Ke.used<128)&&I(this._readableState.highWaterMark);var n=Ke,r=Math.min(Ke.length-Ke.used,e),i=Ke.used;if(void 0!==this.pos&&(r=Math.min(this.end-this.pos+1,r)),r<=0)return this.push(null);var o=this;this._vol.read(this.fd,Ke,Ke.used,r,this.pos,t),void 0!==this.pos&&(this.pos+=r),Ke.used+=r}},D.prototype._destroy=function(e,t){this.close(function(n){t(e||n)})},D.prototype.close=function(e){var t=this;if(e&&this.once("close",e),this.closed||"number"!=typeof this.fd)return"number"!=typeof this.fd?void this.once("open",R):U.default.nextTick(function(){return t.emit("close")});this.closed=!0,this._vol.close(this.fd,function(e){e?t.emit("error",e):t.emit("close")}),this.fd=null},G.inherits(j,J.Writable),t.WriteStream=j,j.prototype.open=function(){this._vol.open(this.path,this.flags,this.mode,function(e,t){if(e)return this.autoClose&&this.destroy&&this.destroy(),void this.emit("error",e);this.fd=t,this.emit("open",t)}.bind(this))},j.prototype._write=function(e,t,n){if(!(e instanceof H.Buffer))return this.emit("error",new Error("Invalid data"));if("number"!=typeof this.fd)return this.once("open",function(){this._write(e,t,n)});var r=this;this._vol.write(this.fd,e,0,e.length,this.pos,function(e,t){if(e)return r.autoClose&&r.destroy&&r.destroy(),n(e);r.bytesWritten+=t,n()}),void 0!==this.pos&&(this.pos+=e.length)},j.prototype._writev=function(e,t){if("number"!=typeof this.fd)return this.once("open",function(){this._writev(e,t)});for(var n=this,r=e.length,i=new Array(r),o=0,s=0;s<r;s++){var a=e[s].chunk;i[s]=a,o+=a.length}var c=H.Buffer.concat(i);this._vol.write(this.fd,c,0,c.length,this.pos,function(e,r){if(e)return n.destroy&&n.destroy(),t(e);n.bytesWritten+=r,t()}),void 0!==this.pos&&(this.pos+=o)},j.prototype._destroy=D.prototype._destroy,j.prototype.close=D.prototype.close,j.prototype.destroySoon=j.prototype.end;var Ve=function(e){function t(t){var n=e.call(this)||this;return n._filename="",n._steps=null,n._filenameEncoded="",n._recursive=!1,n._encoding=le,n._link=null,n._onNodeChange=function(){n._emit("change")},n._onParentChild=function(e){e.getName()===n._getName()&&n._emit("rename")},n._emit=function(e){n.emit("change",e,n._filenameEncoded)},n._persist=function(){n._timer=setTimeout(n._persist,1e6)},n._vol=t,n}return T(t,e),t.prototype._getName=function(){return this._steps[this._steps.length-1]},t.prototype.start=function(e,t,n,r){void 0===t&&(t=!0),void 0===n&&(n=!1),void 0===r&&(r=le),this._filename=d(e),this._steps=p(this._filename),this._filenameEncoded=v(this._filename),this._recursive=n,this._encoding=r;try{this._link=this._vol.getLinkOrThrow(this._filename,"FSWatcher")}catch(e){var i=new Error("watch "+this._filename+" "+e.code);throw i.code=e.code,i.errno=e.code,i}this._link.getNode().on("change",this._onNodeChange);var o=this._link.parent;o&&o.on("child:delete",this._onParentChild),t&&this._persist()},t.prototype.close=function(){clearTimeout(this._timer),this._link.getNode().removeListener("change",this._onNodeChange);var e=this._link.parent;e&&e.removeListener("child:delete",this._onParentChild)},t}(X.EventEmitter);t.FSWatcher=Ve},function(e,t){function n(e,t){for(var i in t)e[i]=t[i];return arguments.length<3?e:n.apply(null,[e].concat(r.call(arguments,2)))}var r=Array.prototype.slice;e.exports=n},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return function(e){function t(e){r(this,t);for(var n=arguments.length,o=Array(n>1?n-1:0),s=1;s<n;s++)o[s-1]=arguments[s];var c=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,a(e,o)));return c.code=e,c[y]=e,c.name=p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"name",c)+" ["+c[y]+"]",c}return o(t,e),t}(e)}function a(e,t){null===m&&(m=n(67)),m.strictEqual(void 0===e?"undefined":d(e),"string");var r=g[e];m(r,"An invalid error message key was used: "+e+".");var i=void 0;if("function"==typeof r)i=r;else{if(null===v&&(v=n(4)),i=v.format,void 0===t||0===t.length)return r;t.unshift(r)}return String(i.apply(null,t))}function c(e,t){g[e]="function"==typeof t?t:String(t)}function u(e,t,n){m(e,"name is required");var r=void 0;t.includes("not ")?(r="must not be",t=t.split("not ")[1]):r="must be";var i=void 0;if(Array.isArray(e)){i="The "+e.map(function(e){return'"'+e+'"'}).join(", ")+" arguments "+r+" "+f(t,"type")}else if(e.includes(" argument"))i="The "+e+" "+r+" "+f(t,"type");else{var o=e.includes(".")?"property":"argument";i='The "'+e+'" '+o+" "+r+" "+f(t,"type")}return arguments.length>=3&&(i+=". Received type "+(null!==n?void 0===n?"undefined":d(n):"null")),i}function l(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];m(t.length>0,"At least one arg needs to be specified");var r="The ",i=t.length;switch(t=t.map(function(e){return'"'+e+'"'}),i){case 1:r+=t[0]+" argument";break;case 2:r+=t[0]+" and "+t[1]+" arguments";break;default:r+=t.slice(0,i-1).join(", "),r+=", and "+t[i-1]+" arguments"}return r+" must be specified"}function f(e,t){if(m(e,"expected is required"),m("string"==typeof t,"thing is required"),Array.isArray(e)){var n=e.length;return m(n>0,"At least one expected value needs to be specified"),e=e.map(function(e){return String(e)}),n>2?"one of "+t+" "+e.slice(0,n-1).join(", ")+", or "+e[n-1]:2===n?"one of "+t+" "+e[0]+" or "+e[1]:"of "+t+" "+e[0]}return"of "+t+" "+String(e)}function h(e,t){return t?"Attempt to write outside buffer bounds":'"'+e+'" is outside of buffer bounds'}var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var s=i.get;if(void 0!==s)return s.call(r)},y="undefined"==typeof Symbol?"_kCode":Symbol("code"),g={},m=null,v=null,b=function(e){function s(e){if(r(this,s),"object"!==(void 0===e?"undefined":d(e))||null===e)throw new t.TypeError("ERR_INVALID_ARG_TYPE","options","object");if(e.message)var o=i(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e.message));else{null===v&&(v=n(4));var o=i(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,v.inspect(e.actual).slice(0,128)+" "+e.operator+" "+v.inspect(e.expected).slice(0,128)))}return o.generatedMessage=!e.message,o.name="AssertionError [ERR_ASSERTION]",o.code="ERR_ASSERTION",o.actual=e.actual,o.expected=e.expected,o.operator=e.operator,Error.captureStackTrace(o,e.stackStartFunction),i(o)}return o(s,e),s}(Error);e.exports=t={message:a,Error:s(Error),TypeError:s(TypeError),RangeError:s(RangeError),AssertionError:b,E:c},c("ERR_ARG_NOT_ITERABLE","%s must be iterable"),c("ERR_ASSERTION","%s"),c("ERR_BUFFER_OUT_OF_BOUNDS",h),c("ERR_CHILD_CLOSED_BEFORE_REPLY","Child closed before reply received"),c("ERR_CONSOLE_WRITABLE_STREAM","Console expects a writable stream instance for %s"),c("ERR_CPU_USAGE","Unable to obtain cpu usage %s"),c("ERR_DNS_SET_SERVERS_FAILED",function(e,t){return'c-ares failed to set servers: "'+e+'" ['+t+"]"}),c("ERR_FALSY_VALUE_REJECTION","Promise was rejected with falsy value"),c("ERR_ENCODING_NOT_SUPPORTED",function(e){return'The "'+e+'" encoding is not supported'}),c("ERR_ENCODING_INVALID_ENCODED_DATA",function(e){return"The encoded data was not valid for encoding "+e}),c("ERR_HTTP_HEADERS_SENT","Cannot render headers after they are sent to the client"),c("ERR_HTTP_INVALID_STATUS_CODE","Invalid status code: %s"),c("ERR_HTTP_TRAILER_INVALID","Trailers are invalid with this transfer encoding"),c("ERR_INDEX_OUT_OF_RANGE","Index out of range"),c("ERR_INVALID_ARG_TYPE",u),c("ERR_INVALID_ARRAY_LENGTH",function(e,t,n){return m.strictEqual(void 0===n?"undefined":d(n),"number"),'The array "'+e+'" (length '+n+") must be of length "+t+"."}),c("ERR_INVALID_BUFFER_SIZE","Buffer size must be a multiple of %s"),c("ERR_INVALID_CALLBACK","Callback must be a function"),c("ERR_INVALID_CHAR","Invalid character in %s"),c("ERR_INVALID_CURSOR_POS","Cannot set cursor row without setting its column"),c("ERR_INVALID_FD",'"fd" must be a positive integer: %s'),c("ERR_INVALID_FILE_URL_HOST",'File URL host must be "localhost" or empty on %s'),c("ERR_INVALID_FILE_URL_PATH","File URL path %s"),c("ERR_INVALID_HANDLE_TYPE","This handle type cannot be sent"),c("ERR_INVALID_IP_ADDRESS","Invalid IP address: %s"),c("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+String(t)+'" is invalid for option "'+e+'"'}),c("ERR_INVALID_OPT_VALUE_ENCODING",function(e){return'The value "'+String(e)+'" is invalid for option "encoding"'}),c("ERR_INVALID_REPL_EVAL_CONFIG",'Cannot specify both "breakEvalOnSigint" and "eval" for REPL'),c("ERR_INVALID_SYNC_FORK_INPUT","Asynchronous forks do not support Buffer, Uint8Array or string input: %s"),c("ERR_INVALID_THIS",'Value of "this" must be of type %s'),c("ERR_INVALID_TUPLE","%s must be an iterable %s tuple"),c("ERR_INVALID_URL","Invalid URL: %s"),c("ERR_INVALID_URL_SCHEME",function(e){return"The URL must be "+f(e,"scheme")}),c("ERR_IPC_CHANNEL_CLOSED","Channel closed"),c("ERR_IPC_DISCONNECTED","IPC channel is already disconnected"),c("ERR_IPC_ONE_PIPE","Child process can have only one IPC pipe"),c("ERR_IPC_SYNC_FORK","IPC cannot be used with synchronous forks"),c("ERR_MISSING_ARGS",l),c("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),c("ERR_NAPI_CONS_FUNCTION","Constructor must be a function"),c("ERR_NAPI_CONS_PROTOTYPE_OBJECT","Constructor.prototype must be an object"),c("ERR_NO_CRYPTO","Node.js is not compiled with OpenSSL crypto support"),c("ERR_NO_LONGER_SUPPORTED","%s is no longer supported"),c("ERR_PARSE_HISTORY_DATA","Could not parse history data in %s"),c("ERR_SOCKET_ALREADY_BOUND","Socket is already bound"),c("ERR_SOCKET_BAD_PORT","Port should be > 0 and < 65536"),c("ERR_SOCKET_BAD_TYPE","Bad socket type specified. Valid types are: udp4, udp6"),c("ERR_SOCKET_CANNOT_SEND","Unable to send data"),c("ERR_SOCKET_CLOSED","Socket is closed"),c("ERR_SOCKET_DGRAM_NOT_RUNNING","Not running"),c("ERR_STDERR_CLOSE","process.stderr cannot be closed"),c("ERR_STDOUT_CLOSE","process.stdout cannot be closed"),c("ERR_STREAM_WRAP","Stream has StringDecoder set or is in objectMode"),c("ERR_TLS_CERT_ALTNAME_INVALID","Hostname/IP does not match certificate's altnames: %s"),c("ERR_TLS_DH_PARAM_SIZE",function(e){return"DH parameter size "+e+" is less than 2048"}),c("ERR_TLS_HANDSHAKE_TIMEOUT","TLS handshake timeout"),c("ERR_TLS_RENEGOTIATION_FAILED","Failed to renegotiate"),c("ERR_TLS_REQUIRED_SERVER_NAME",'"servername" is required parameter for Server.addContext'),c("ERR_TLS_SESSION_ATTACK","TSL session renegotiation attack detected"),c("ERR_TRANSFORM_ALREADY_TRANSFORMING","Calling transform done when still transforming"),c("ERR_TRANSFORM_WITH_LENGTH_0","Calling transform done when writableState.length != 0"),c("ERR_UNKNOWN_ENCODING","Unknown encoding: %s"),c("ERR_UNKNOWN_SIGNAL","Unknown signal: %s"),c("ERR_UNKNOWN_STDIN_TYPE","Unknown stdin file type"),c("ERR_UNKNOWN_STREAM_TYPE","Unknown stream file type"),c("ERR_V8BREAKITERATOR","Full ICU data not installed. See https://github.com/nodejs/node/wiki/Intl")},function(e,t,n){"use strict";function r(e,t,n){var r=setTimeout.apply(null,arguments);return r&&"object"==typeof r&&"function"==typeof r.unref&&r.unref(),r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n){e.copy(t,n)}var o=n(2).Buffer,s=n(202);e.exports=function(){function e(){r(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return o.alloc(0);if(1===this.length)return this.head.data;for(var t=o.allocUnsafe(e>>>0),n=this.head,r=0;n;)i(n.data,t,r),r+=n.data.length,n=n.next;return t},e}(),s&&s.inspect&&s.inspect.custom&&(e.exports.prototype[s.inspect.custom]=function(){var e=s.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,n){(function(t){function n(e,t){function n(){if(!i){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),i=!0}return e.apply(this,arguments)}if(r("noDeprecation"))return e;var i=!1;return n}function r(e){try{if(!t.localStorage)return!1}catch(e){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=n}).call(t,n(5))},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);i.call(this,e)}e.exports=r;var i=n(107),o=n(35);o.inherits=n(1),o.inherits(r,i),r.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){e.exports=n(68)},function(e,t,n){e.exports=n(17).Transform},function(e,t,n){e.exports=n(17).PassThrough},function(e,t,n){(function(e,r){var i;!function(o){function s(e){throw new RangeError(R[e])}function a(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function c(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),e=e.replace(D,"."),r+a(e.split("."),t).join(".")}function u(e){for(var t,n,r=[],i=0,o=e.length;i<o;)t=e.charCodeAt(i++),t>=55296&&t<=56319&&i<o?(n=e.charCodeAt(i++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--)):r.push(t);return r}function l(e){return a(e,function(e){var t="";return e>65535&&(e-=65536,t+=N(e>>>10&1023|55296),e=56320|1023&e),t+=N(e)}).join("")}function f(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:S}function h(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function d(e,t,n){var r=0;for(e=n?T(e/_):e>>1,e+=T(e/t);e>j*k>>1;r+=S)e=T(e/j);return T(r+(j+1)*e/(e+x))}function p(e){var t,n,r,i,o,a,c,u,h,p,y=[],g=e.length,m=0,v=C,b=O;for(n=e.lastIndexOf(A),n<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&s("not-basic"),y.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<g;){for(o=m,a=1,c=S;i>=g&&s("invalid-input"),u=f(e.charCodeAt(i++)),(u>=S||u>T((w-m)/a))&&s("overflow"),m+=u*a,h=c<=b?E:c>=b+k?k:c-b,!(u<h);c+=S)p=S-h,a>T(w/p)&&s("overflow"),a*=p;t=y.length+1,b=d(m-o,t,0==o),T(m/t)>w-v&&s("overflow"),v+=T(m/t),m%=t,y.splice(m++,0,v)}return l(y)}function y(e){var t,n,r,i,o,a,c,l,f,p,y,g,m,v,b,x=[];for(e=u(e),g=e.length,t=C,n=0,o=O,a=0;a<g;++a)(y=e[a])<128&&x.push(N(y));for(r=i=x.length,i&&x.push(A);r<g;){for(c=w,a=0;a<g;++a)(y=e[a])>=t&&y<c&&(c=y);for(m=r+1,c-t>T((w-n)/m)&&s("overflow"),n+=(c-t)*m,t=c,a=0;a<g;++a)if(y=e[a],y<t&&++n>w&&s("overflow"),y==t){for(l=n,f=S;p=f<=o?E:f>=o+k?k:f-o,!(l<p);f+=S)b=l-p,v=S-p,x.push(N(h(p+b%v,0))),l=T(b/v);x.push(N(h(l,0))),o=d(n,m,r==i),n=0,++r}++n,++t}return x.join("")}function g(e){return c(e,function(e){return P.test(e)?p(e.slice(4).toLowerCase()):e})}function m(e){return c(e,function(e){return I.test(e)?"xn--"+y(e):e})}var v=("object"==typeof t&&t&&t.nodeType,"object"==typeof e&&e&&e.nodeType,"object"==typeof r&&r);var b,w=2147483647,S=36,E=1,k=26,x=38,_=700,O=72,C=128,A="-",P=/^xn--/,I=/[^\x20-\x7E]/,D=/[\x2E\u3002\uFF0E\uFF61]/g,R={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},j=S-E,T=Math.floor,N=String.fromCharCode;b={version:"1.4.1",ucs2:{decode:u,encode:l},decode:p,encode:y,toASCII:m,toUnicode:g},void 0!==(i=function(){return b}.call(t,n,t,e))&&(e.exports=i)}()}).call(t,n(109)(e),n(5))},function(e,t,n){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){"use strict";t.decode=t.parse=n(211),t.encode=t.stringify=n(212)},function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,o){t=t||"&",n=n||"=";var s={};if("string"!=typeof e||0===e.length)return s;var a=/\+/g;e=e.split(t);var c=1e3;o&&"number"==typeof o.maxKeys&&(c=o.maxKeys);var u=e.length;c>0&&u>c&&(u=c);for(var l=0;l<u;++l){var f,h,d,p,y=e[l].replace(a,"%20"),g=y.indexOf(n);g>=0?(f=y.substr(0,g),h=y.substr(g+1)):(f=y,h=""),d=decodeURIComponent(f),p=decodeURIComponent(h),r(s,d)?i(s[d])?s[d].push(p):s[d]=[s[d],p]:s[d]=p}return s};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";function r(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var i=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,a){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?r(s(e),function(s){var a=encodeURIComponent(i(s))+n;return o(e[s])?r(e[s],function(e){return a+encodeURIComponent(i(e))}).join(t):a+encodeURIComponent(i(e[s]))}).join(t):a?encodeURIComponent(i(a))+n+encodeURIComponent(i(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},s=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){"use strict";(function(e){function n(e){var t=e.length-1;if(t<2)return e;for(;r(e,t);)t--;return e.substr(0,t+1)}function r(e,t){var n=e[t];return t>0&&("/"===n||a&&"\\"===n)}function i(e,t){if("string"!=typeof e)throw new TypeError("expected a string");return e=e.replace(/[\\\/]+/g,"/"),!1!==t&&(e=n(e)),e}function o(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return a?(e=i(e,t),e.replace(/^([a-zA-Z]+:|\.\/)/,"")):e}function s(e){return o(e.replace(/^\\\\\?\\.:\\/,"\\"))}Object.defineProperty(t,"__esModule",{value:!0}),t.unixify=o,t.correctPath=s;var a="win32"===e.platform}).call(t,n(6))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fsProps=["constants","F_OK","R_OK","W_OK","X_OK","Stats"],t.fsSyncMethods=["renameSync","ftruncateSync","truncateSync","chownSync","fchownSync","lchownSync","chmodSync","fchmodSync","lchmodSync","statSync","lstatSync","fstatSync","linkSync","symlinkSync","readlinkSync","realpathSync","unlinkSync","rmdirSync","mkdirSync","mkdirpSync","readdirSync","closeSync","openSync","utimesSync","futimesSync","fsyncSync","writeSync","readSync","readFileSync","writeFileSync","appendFileSync","existsSync","accessSync","fdatasyncSync","mkdtempSync","copyFileSync","createReadStream","createWriteStream"],t.fsAsyncMethods=["rename","ftruncate","truncate","chown","fchown","lchown","chmod","fchmod","lchmod","stat","lstat","fstat","link","symlink","readlink","realpath","unlink","rmdir","mkdir","mkdirp","readdir","close","open","utimes","futimes","fsync","write","read","readFile","writeFile","appendFile","exists","access","fdatasync","mkdtemp","copyFile","watchFile","unwatchFile","watch"]},function(e,t,n){function r(){this.init(),this._w=f,c.call(this,64,56)}function i(e){return e<<5|e>>>27}function o(e){return e<<30|e>>>2}function s(e,t,n,r){return 0===e?t&n|~t&r:2===e?t&n|t&r|n&r:t^n^r}var a=n(1),c=n(28),u=n(2).Buffer,l=[1518500249,1859775393,-1894007588,-899497514],f=new Array(80);a(r,c),r.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},r.prototype._update=function(e){for(var t=this._w,n=0|this._a,r=0|this._b,a=0|this._c,c=0|this._d,u=0|this._e,f=0;f<16;++f)t[f]=e.readInt32BE(4*f);for(;f<80;++f)t[f]=t[f-3]^t[f-8]^t[f-14]^t[f-16];for(var h=0;h<80;++h){var d=~~(h/20),p=i(n)+s(d,r,a,c)+u+t[h]+l[d]|0;u=c,c=a,a=o(r),r=n,n=p}this._a=n+this._a|0,this._b=r+this._b|0,this._c=a+this._c|0,this._d=c+this._d|0,this._e=u+this._e|0},r.prototype._hash=function(){var e=u.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=r},function(e,t,n){function r(){this.init(),this._w=h,u.call(this,64,56)}function i(e){return e<<1|e>>>31}function o(e){return e<<5|e>>>27}function s(e){return e<<30|e>>>2}function a(e,t,n,r){return 0===e?t&n|~t&r:2===e?t&n|t&r|n&r:t^n^r}var c=n(1),u=n(28),l=n(2).Buffer,f=[1518500249,1859775393,-1894007588,-899497514],h=new Array(80);c(r,u),r.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},r.prototype._update=function(e){for(var t=this._w,n=0|this._a,r=0|this._b,c=0|this._c,u=0|this._d,l=0|this._e,h=0;h<16;++h)t[h]=e.readInt32BE(4*h);for(;h<80;++h)t[h]=i(t[h-3]^t[h-8]^t[h-14]^t[h-16]);for(var d=0;d<80;++d){var p=~~(d/20),y=o(n)+a(p,r,c,u)+l+t[d]+f[p]|0;l=u,u=c,c=s(r),r=n,n=y}this._a=n+this._a|0,this._b=r+this._b|0,this._c=c+this._c|0,this._d=u+this._d|0,this._e=l+this._e|0},r.prototype._hash=function(){var e=l.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=r},function(e,t,n){function r(){this.init(),this._w=c,s.call(this,64,56)}var i=n(1),o=n(111),s=n(28),a=n(2).Buffer,c=new Array(64);i(r,o),r.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},r.prototype._hash=function(){var e=a.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=r},function(e,t,n){function r(){this.init(),this._w=c,s.call(this,128,112)}var i=n(1),o=n(112),s=n(28),a=n(2).Buffer,c=new Array(160);i(r,o),r.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},r.prototype._hash=function(){function e(e,n,r){t.writeInt32BE(e,r),t.writeInt32BE(n,r+4)}var t=a.allocUnsafe(48);return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t},e.exports=r},function(e,t,n){"use strict";function r(e,t){s.call(this,"digest"),"string"==typeof t&&(t=o.from(t)),this._alg=e,this._key=t,t.length>c?t=e(t):t.length<c&&(t=o.concat([t,a],c));for(var n=this._ipad=o.allocUnsafe(c),r=this._opad=o.allocUnsafe(c),i=0;i<c;i++)n[i]=54^t[i],r[i]=92^t[i];this._hash=[n]}var i=n(1),o=n(2).Buffer,s=n(18),a=o.alloc(128),c=64;i(r,s),r.prototype._update=function(e){this._hash.push(e)},r.prototype._final=function(){var e=this._alg(o.concat(this._hash));return this._alg(o.concat([this._opad,e]))},e.exports=r},function(e,t,n){e.exports=n(115)},function(e,t,n){(function(t,r){function i(e){if(t.process&&!t.process.browser)return Promise.resolve(!1);if(!h||!h.importKey||!h.deriveBits)return Promise.resolve(!1);if(void 0!==p[e])return p[e];a=a||f.alloc(8);var n=o(a,a,10,128,e).then(function(){return!0}).catch(function(){return!1});return p[e]=n,n}function o(e,t,n,r,i){return h.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then(function(e){return h.deriveBits({name:"PBKDF2",salt:t,iterations:n,hash:{name:i}},e,r<<3)}).then(function(e){return f.from(e)})}function s(e,t){e.then(function(e){r.nextTick(function(){t(null,e)})},function(e){r.nextTick(function(){t(e)})})}var a,c=n(117),u=n(118),l=n(119),f=n(2).Buffer,h=t.crypto&&t.crypto.subtle,d={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},p=[];e.exports=function(e,n,a,h,p,y){"function"==typeof p&&(y=p,p=void 0),p=p||"sha1";var g=d[p.toLowerCase()];if(!g||"function"!=typeof t.Promise)return r.nextTick(function(){var t;try{t=l(e,n,a,h,p)}catch(e){return y(e)}y(null,t)});if(c(e,n,a,h),"function"!=typeof y)throw new Error("No callback provided to pbkdf2");f.isBuffer(e)||(e=f.from(e,u)),f.isBuffer(n)||(n=f.from(n,u)),s(i(g).then(function(t){return t?o(e,n,a,h,g):l(e,n,a,h,p)}),y)}}).call(t,n(5),n(6))},function(e,t,n){function r(e,t){e=e.toLowerCase();var n,r;if(l[e])n=l[e].key,r=l[e].iv;else{if(!f[e])throw new TypeError("invalid suite type");n=8*f[e].key,r=f[e].iv}var i=h(t,!1,n,r);return o(e,i.key,i.iv)}function i(e,t){e=e.toLowerCase();var n,r;if(l[e])n=l[e].key,r=l[e].iv;else{if(!f[e])throw new TypeError("invalid suite type");n=8*f[e].key,r=f[e].iv}var i=h(t,!1,n,r);return s(e,i.key,i.iv)}function o(e,t,n){if(e=e.toLowerCase(),l[e])return u.createCipheriv(e,t,n);if(f[e])return new c({key:t,iv:n,mode:e});throw new TypeError("invalid suite type")}function s(e,t,n){if(e=e.toLowerCase(),l[e])return u.createDecipheriv(e,t,n);if(f[e])return new c({key:t,iv:n,mode:e,decrypt:!0});throw new TypeError("invalid suite type")}function a(){return Object.keys(f).concat(u.getCiphers())}var c=n(223),u=n(73),l=n(74),f=n(238),h=n(51);t.createCipher=t.Cipher=r,t.createCipheriv=t.Cipheriv=o,t.createDecipher=t.Decipher=i,t.createDecipheriv=t.Decipheriv=s,t.listCiphers=t.getCiphers=a},function(e,t,n){(function(t){function r(e){i.call(this);var n,r=e.mode.toLowerCase(),o=a[r];n=e.decrypt?"decrypt":"encrypt";var s=e.key;"des-ede"!==r&&"des-ede-cbc"!==r||(s=t.concat([s,s.slice(0,8)]));var c=e.iv;this._des=o.create({key:s,iv:c,type:n})}var i=n(18),o=n(72),s=n(1),a={"des-ede3-cbc":o.CBC.instantiate(o.EDE),"des-ede3":o.EDE,"des-ede-cbc":o.CBC.instantiate(o.EDE),"des-ede":o.EDE,"des-cbc":o.CBC.instantiate(o.DES),"des-ecb":o.DES};a.des=a["des-cbc"],a.des3=a["des-ede3-cbc"],e.exports=r,s(r,i),r.prototype._update=function(e){return new t(this._des.update(e))},r.prototype._final=function(){return new t(this._des.final())}}).call(t,n(0).Buffer)},function(e,t,n){"use strict";t.readUInt32BE=function(e,t){return(e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t])>>>0},t.writeUInt32BE=function(e,t,n){e[0+n]=t>>>24,e[1+n]=t>>>16&255,e[2+n]=t>>>8&255,e[3+n]=255&t},t.ip=function(e,t,n,r){for(var i=0,o=0,s=6;s>=0;s-=2){for(var a=0;a<=24;a+=8)i<<=1,i|=t>>>a+s&1;for(var a=0;a<=24;a+=8)i<<=1,i|=e>>>a+s&1}for(var s=6;s>=0;s-=2){for(var a=1;a<=25;a+=8)o<<=1,o|=t>>>a+s&1;for(var a=1;a<=25;a+=8)o<<=1,o|=e>>>a+s&1}n[r+0]=i>>>0,n[r+1]=o>>>0},t.rip=function(e,t,n,r){for(var i=0,o=0,s=0;s<4;s++)for(var a=24;a>=0;a-=8)i<<=1,i|=t>>>a+s&1,i<<=1,i|=e>>>a+s&1;for(var s=4;s<8;s++)for(var a=24;a>=0;a-=8)o<<=1,o|=t>>>a+s&1,o<<=1,o|=e>>>a+s&1;n[r+0]=i>>>0,n[r+1]=o>>>0},t.pc1=function(e,t,n,r){for(var i=0,o=0,s=7;s>=5;s--){for(var a=0;a<=24;a+=8)i<<=1,i|=t>>a+s&1;for(var a=0;a<=24;a+=8)i<<=1,i|=e>>a+s&1}for(var a=0;a<=24;a+=8)i<<=1,i|=t>>a+s&1;for(var s=1;s<=3;s++){for(var a=0;a<=24;a+=8)o<<=1,o|=t>>a+s&1;for(var a=0;a<=24;a+=8)o<<=1,o|=e>>a+s&1}for(var a=0;a<=24;a+=8)o<<=1,o|=e>>a+s&1;n[r+0]=i>>>0,n[r+1]=o>>>0},t.r28shl=function(e,t){return e<<t&268435455|e>>>28-t};var r=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];t.pc2=function(e,t,n,i){for(var o=0,s=0,a=r.length>>>1,c=0;c<a;c++)o<<=1,o|=e>>>r[c]&1;for(var c=a;c<r.length;c++)s<<=1,s|=t>>>r[c]&1;n[i+0]=o>>>0,n[i+1]=s>>>0},t.expand=function(e,t,n){var r=0,i=0;r=(1&e)<<5|e>>>27;for(var o=23;o>=15;o-=4)r<<=6,r|=e>>>o&63;for(var o=11;o>=3;o-=4)i|=e>>>o&63,i<<=6;i|=(31&e)<<1|e>>>31,t[n+0]=r>>>0,t[n+1]=i>>>0};var i=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];t.substitute=function(e,t){for(var n=0,r=0;r<4;r++){var o=e>>>18-6*r&63,s=i[64*r+o];n<<=4,n|=s}for(var r=0;r<4;r++){var o=t>>>18-6*r&63,s=i[256+64*r+o];n<<=4,n|=s}return n>>>0};var o=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];t.permute=function(e){for(var t=0,n=0;n<o.length;n++)t<<=1,t|=e>>>o[n]&1;return t>>>0},t.padSplit=function(e,t,n){for(var r=e.toString(2);r.length<t;)r="0"+r;for(var i=[],o=0;o<t;o+=n)i.push(r.slice(o,o+n));return i.join(" ")}},function(e,t,n){"use strict";function r(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}var i=n(13);e.exports=r,r.prototype._init=function(){},r.prototype.update=function(e){return 0===e.length?[]:"decrypt"===this.type?this._updateDecrypt(e):this._updateEncrypt(e)},r.prototype._buffer=function(e,t){for(var n=Math.min(this.buffer.length-this.bufferOff,e.length-t),r=0;r<n;r++)this.buffer[this.bufferOff+r]=e[t+r];return this.bufferOff+=n,n},r.prototype._flushBuffer=function(e,t){return this._update(this.buffer,0,e,t),this.bufferOff=0,this.blockSize},r.prototype._updateEncrypt=function(e){var t=0,n=0,r=(this.bufferOff+e.length)/this.blockSize|0,i=new Array(r*this.blockSize);0!==this.bufferOff&&(t+=this._buffer(e,t),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(i,n)));for(var o=e.length-(e.length-t)%this.blockSize;t<o;t+=this.blockSize)this._update(e,t,i,n),n+=this.blockSize;for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return i},r.prototype._updateDecrypt=function(e){for(var t=0,n=0,r=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,i=new Array(r*this.blockSize);r>0;r--)t+=this._buffer(e,t),n+=this._flushBuffer(i,n);return t+=this._buffer(e,t),i},r.prototype.final=function(e){var t;e&&(t=this.update(e));var n;return n="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),t?t.concat(n):n},r.prototype._pad=function(e,t){if(0===t)return!1;for(;t<e.length;)e[t++]=0;return!0},r.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e},r.prototype._unpad=function(e){return e},r.prototype._finalDecrypt=function(){i.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}},function(e,t,n){"use strict";function r(){this.tmp=new Array(2),this.keys=null}function i(e){u.call(this,e);var t=new r;this._desState=t,this.deriveKeys(t,e.key)}var o=n(13),s=n(1),a=n(72),c=a.utils,u=a.Cipher;s(i,u),e.exports=i,i.create=function(e){return new i(e)};var l=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];i.prototype.deriveKeys=function(e,t){e.keys=new Array(32),o.equal(t.length,this.blockSize,"Invalid key length");var n=c.readUInt32BE(t,0),r=c.readUInt32BE(t,4);c.pc1(n,r,e.tmp,0),n=e.tmp[0],r=e.tmp[1];for(var i=0;i<e.keys.length;i+=2){var s=l[i>>>1];n=c.r28shl(n,s),r=c.r28shl(r,s),c.pc2(n,r,e.keys,i)}},i.prototype._update=function(e,t,n,r){var i=this._desState,o=c.readUInt32BE(e,t),s=c.readUInt32BE(e,t+4);c.ip(o,s,i.tmp,0),o=i.tmp[0],s=i.tmp[1],"encrypt"===this.type?this._encrypt(i,o,s,i.tmp,0):this._decrypt(i,o,s,i.tmp,0),o=i.tmp[0],s=i.tmp[1],c.writeUInt32BE(n,o,r),c.writeUInt32BE(n,s,r+4)},i.prototype._pad=function(e,t){for(var n=e.length-t,r=t;r<e.length;r++)e[r]=n;return!0},i.prototype._unpad=function(e){for(var t=e[e.length-1],n=e.length-t;n<e.length;n++)o.equal(e[n],t);return e.slice(0,e.length-t)},i.prototype._encrypt=function(e,t,n,r,i){for(var o=t,s=n,a=0;a<e.keys.length;a+=2){var u=e.keys[a],l=e.keys[a+1];c.expand(s,e.tmp,0),u^=e.tmp[0],l^=e.tmp[1];var f=c.substitute(u,l),h=c.permute(f),d=s;s=(o^h)>>>0,o=d}c.rip(s,o,r,i)},i.prototype._decrypt=function(e,t,n,r,i){for(var o=n,s=t,a=e.keys.length-2;a>=0;a-=2){var u=e.keys[a],l=e.keys[a+1];c.expand(o,e.tmp,0),u^=e.tmp[0],l^=e.tmp[1];var f=c.substitute(u,l),h=c.permute(f),d=o;o=(s^h)>>>0,s=d}c.rip(o,s,r,i)}},function(e,t,n){"use strict";function r(e){o.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}function i(e){function t(t){e.call(this,t),this._cbcInit()}s(t,e);for(var n=Object.keys(a),r=0;r<n.length;r++){var i=n[r];t.prototype[i]=a[i]}return t.create=function(e){return new t(e)},t}var o=n(13),s=n(1),a={};t.instantiate=i,a._cbcInit=function(){var e=new r(this.options.iv);this._cbcState=e},a._update=function(e,t,n,r){var i=this._cbcState,o=this.constructor.super_.prototype,s=i.iv;if("encrypt"===this.type){for(var a=0;a<this.blockSize;a++)s[a]^=e[t+a];o._update.call(this,s,0,n,r);for(var a=0;a<this.blockSize;a++)s[a]=n[r+a]}else{o._update.call(this,e,t,n,r);for(var a=0;a<this.blockSize;a++)n[r+a]^=s[a];for(var a=0;a<this.blockSize;a++)s[a]=e[t+a]}}},function(e,t,n){"use strict";function r(e,t){o.equal(t.length,24,"Invalid key length");var n=t.slice(0,8),r=t.slice(8,16),i=t.slice(16,24);this.ciphers="encrypt"===e?[u.create({type:"encrypt",key:n}),u.create({type:"decrypt",key:r}),u.create({type:"encrypt",key:i})]:[u.create({type:"decrypt",key:i}),u.create({type:"encrypt",key:r}),u.create({type:"decrypt",key:n})]}function i(e){c.call(this,e);var t=new r(this.type,this.options.key);this._edeState=t}var o=n(13),s=n(1),a=n(72),c=a.Cipher,u=a.DES;s(i,c),e.exports=i,i.create=function(e){return new i(e)},i.prototype._update=function(e,t,n,r){var i=this._edeState;i.ciphers[0]._update(e,t,n,r),i.ciphers[1]._update(n,r,n,r),i.ciphers[2]._update(n,r,n,r)},i.prototype._pad=u.prototype._pad,i.prototype._unpad=u.prototype._unpad},function(e,t,n){function r(e,t,n){f.call(this),this._cache=new i,this._cipher=new h.AES(t),this._prev=u.from(n),this._mode=e,this._autopadding=!0}function i(){this.cache=u.allocUnsafe(0)}function o(e,t,n){var i=a[e.toLowerCase()];if(!i)throw new TypeError("invalid suite type");if("string"==typeof t&&(t=u.from(t)),t.length!==i.key/8)throw new TypeError("invalid key length "+t.length);if("string"==typeof n&&(n=u.from(n)),"GCM"!==i.mode&&n.length!==i.iv)throw new TypeError("invalid iv length "+n.length);return"stream"===i.type?new l(i.module,t,n):"auth"===i.type?new c(i.module,t,n):new r(i.module,t,n)}function s(e,t){var n=a[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var r=d(t,!1,n.key,n.iv);return o(e,r.key,r.iv)}var a=n(74),c=n(123),u=n(2).Buffer,l=n(124),f=n(18),h=n(50),d=n(51);n(1)(r,f),r.prototype._update=function(e){this._cache.add(e);for(var t,n,r=[];t=this._cache.get();)n=this._mode.encrypt(this,t),r.push(n);return u.concat(r)};var p=u.alloc(16,16);r.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(p))throw this._cipher.scrub(),new Error("data not multiple of block length")},r.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},i.prototype.add=function(e){this.cache=u.concat([this.cache,e])},i.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},i.prototype.flush=function(){for(var e=16-this.cache.length,t=u.allocUnsafe(e),n=-1;++n<e;)t.writeUInt8(e,n);return u.concat([this.cache,t])},t.createCipheriv=o,t.createCipher=s},function(e,t){t.encrypt=function(e,t){return e._cipher.encryptBlock(t)},t.decrypt=function(e,t){return e._cipher.decryptBlock(t)}},function(e,t,n){var r=n(38);t.encrypt=function(e,t){var n=r(t,e._prev);return e._prev=e._cipher.encryptBlock(n),e._prev},t.decrypt=function(e,t){var n=e._prev;e._prev=t;var i=e._cipher.decryptBlock(t);return r(i,n)}},function(e,t,n){function r(e,t,n){var r=t.length,s=o(t,e._cache);return e._cache=e._cache.slice(r),e._prev=i.concat([e._prev,n?t:s]),s}var i=n(2).Buffer,o=n(38);t.encrypt=function(e,t,n){for(var o,s=i.allocUnsafe(0);t.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=i.allocUnsafe(0)),!(e._cache.length<=t.length)){s=i.concat([s,r(e,t,n)]);break}o=e._cache.length,s=i.concat([s,r(e,t.slice(0,o),n)]),t=t.slice(o)}return s}},function(e,t,n){function r(e,t,n){var r=e._cipher.encryptBlock(e._prev),o=r[0]^t;return e._prev=i.concat([e._prev.slice(1),i.from([n?t:o])]),o}var i=n(2).Buffer;t.encrypt=function(e,t,n){for(var o=t.length,s=i.allocUnsafe(o),a=-1;++a<o;)s[a]=r(e,t[a],n);return s}},function(e,t,n){function r(e,t,n){for(var r,o,s,a=-1,c=0;++a<8;)r=e._cipher.encryptBlock(e._prev),o=t&1<<7-a?128:0,s=r[0]^o,c+=(128&s)>>a%8,e._prev=i(e._prev,n?o:s);return c}function i(e,t){var n=e.length,r=-1,i=o.allocUnsafe(e.length);for(e=o.concat([e,o.from([t])]);++r<n;)i[r]=e[r]<<1|e[r+1]>>7;return i}var o=n(2).Buffer;t.encrypt=function(e,t,n){for(var i=t.length,s=o.allocUnsafe(i),a=-1;++a<i;)s[a]=r(e,t[a],n);return s}},function(e,t,n){(function(e){function r(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}var i=n(38);t.encrypt=function(t,n){for(;t._cache.length<n.length;)t._cache=e.concat([t._cache,r(t)]);var o=t._cache.slice(0,n.length);return t._cache=t._cache.slice(n.length),i(n,o)}}).call(t,n(0).Buffer)},function(e,t,n){function r(e){return[e.readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)]}function i(e){var t=s.allocUnsafe(16);return t.writeUInt32BE(e[0]>>>0,0),t.writeUInt32BE(e[1]>>>0,4),t.writeUInt32BE(e[2]>>>0,8),t.writeUInt32BE(e[3]>>>0,12),t}function o(e){this.h=e,this.state=s.alloc(16,0),this.cache=s.allocUnsafe(0)}var s=n(2).Buffer,a=s.alloc(16,0);o.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()},o.prototype._multiply=function(){for(var e,t,n,o=r(this.h),s=[0,0,0,0],a=-1;++a<128;){for(t=0!=(this.state[~~(a/8)]&1<<7-a%8),t&&(s[0]^=o[0],s[1]^=o[1],s[2]^=o[2],s[3]^=o[3]),n=0!=(1&o[3]),e=3;e>0;e--)o[e]=o[e]>>>1|(1&o[e-1])<<31;o[0]=o[0]>>>1,n&&(o[0]=o[0]^225<<24)}this.state=i(s)},o.prototype.update=function(e){this.cache=s.concat([this.cache,e]);for(var t;this.cache.length>=16;)t=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(t)},o.prototype.final=function(e,t){return this.cache.length&&this.ghash(s.concat([this.cache,a],16)),this.ghash(i([0,e,0,t])),this.state},e.exports=o},function(e,t,n){function r(e,t,n){h.call(this),this._cache=new i,this._last=void 0,this._cipher=new d.AES(t),this._prev=u.from(n),this._mode=e,this._autopadding=!0}function i(){this.cache=u.allocUnsafe(0)}function o(e){var t=e[15];if(t<1||t>16)throw new Error("unable to decrypt data");for(var n=-1;++n<t;)if(e[n+(16-t)]!==t)throw new Error("unable to decrypt data");if(16!==t)return e.slice(0,16-t)}function s(e,t,n){var i=l[e.toLowerCase()];if(!i)throw new TypeError("invalid suite type");if("string"==typeof n&&(n=u.from(n)),"GCM"!==i.mode&&n.length!==i.iv)throw new TypeError("invalid iv length "+n.length);if("string"==typeof t&&(t=u.from(t)),t.length!==i.key/8)throw new TypeError("invalid key length "+t.length);return"stream"===i.type?new f(i.module,t,n,!0):"auth"===i.type?new c(i.module,t,n,!0):new r(i.module,t,n)}function a(e,t){var n=l[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var r=p(t,!1,n.key,n.iv);return s(e,r.key,r.iv)}var c=n(123),u=n(2).Buffer,l=n(74),f=n(124),h=n(18),d=n(50),p=n(51);n(1)(r,h),r.prototype._update=function(e){this._cache.add(e);for(var t,n,r=[];t=this._cache.get(this._autopadding);)n=this._mode.decrypt(this,t),r.push(n);return u.concat(r)},r.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return o(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},r.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},i.prototype.add=function(e){this.cache=u.concat([this.cache,e])},i.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},i.prototype.flush=function(){if(this.cache.length)return this.cache},t.createDecipher=a,t.createDecipheriv=s},function(e,t){t["des-ecb"]={key:8,iv:0},t["des-cbc"]=t.des={key:8,iv:8},t["des-ede3-cbc"]=t.des3={key:24,iv:8},t["des-ede3"]={key:24,iv:0},t["des-ede-cbc"]={key:16,iv:8},t["des-ede"]={key:16,iv:0}},function(e,t,n){(function(e){function r(t){var n=new e(s[t].prime,"hex"),r=new e(s[t].gen,"hex");return new a(n,r)}function i(t,n,r,s){return e.isBuffer(n)||void 0===c[n]?i(t,"binary",n,r):(n=n||"binary",s=s||"binary",r=r||new e([2]),e.isBuffer(r)||(r=new e(r,s)),"number"==typeof t?new a(o(t,r),r,!0):(e.isBuffer(t)||(t=new e(t,n)),new a(t,r,!0)))}var o=n(125),s=n(242),a=n(243),c={binary:!0,hex:!0,base64:!0};t.DiffieHellmanGroup=t.createDiffieHellmanGroup=t.getDiffieHellman=r,t.createDiffieHellman=t.DiffieHellman=i}).call(t,n(0).Buffer)},function(e,t){},function(e,t){},function(e,t){e.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},function(e,t,n){(function(t){function r(e,n){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),this._pub=new c(e),this}function i(e,n){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),this._priv=new c(e),this}function o(e,t){var n=t.toString("hex"),r=[n,e.toString(16)].join("_");if(r in v)return v[r];var i=0;if(e.isEven()||!g.simpleSieve||!g.fermatTest(e)||!l.test(e))return i+=1,i+="02"===n||"05"===n?8:4,v[r]=i,i;l.test(e.shrn(1))||(i+=2);var o;switch(n){case"02":e.mod(f).cmp(h)&&(i+=8);break;case"05":o=e.mod(d),o.cmp(p)&&o.cmp(y)&&(i+=8);break;default:i+=4}return v[r]=i,i}function s(e,t,n){this.setGenerator(t),this.__prime=new c(e),this._prime=c.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,n?(this.setPublicKey=r,this.setPrivateKey=i):this._primeCode=8}function a(e,n){var r=new t(e.toArray());return n?r.toString(n):r}var c=n(7),u=n(126),l=new u,f=new c(24),h=new c(11),d=new c(10),p=new c(3),y=new c(7),g=n(125),m=n(27);e.exports=s;var v={};Object.defineProperty(s.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=o(this.__prime,this.__gen)),this._primeCode}}),s.prototype.generateKeys=function(){return this._priv||(this._priv=new c(m(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},s.prototype.computeSecret=function(e){e=new c(e),e=e.toRed(this._prime);var n=e.redPow(this._priv).fromRed(),r=new t(n.toArray()),i=this.getPrime();if(r.length<i.length){var o=new t(i.length-r.length);o.fill(0),r=t.concat([o,r])}return r},s.prototype.getPublicKey=function(e){return a(this._pub,e)},s.prototype.getPrivateKey=function(e){return a(this._priv,e)},s.prototype.getPrime=function(e){return a(this.__prime,e)},s.prototype.getGenerator=function(e){return a(this._gen,e)},s.prototype.setGenerator=function(e,n){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),this.__gen=e,this._gen=new c(e),this}}).call(t,n(0).Buffer)},function(e,t,n){(function(t){function r(e){c.Writable.call(this);var t=h[e];if(!t)throw new Error("Unknown message digest");this._hashType=t.hash,this._hash=a(t.hash),this._tag=t.id,this._signType=t.sign}function i(e){c.Writable.call(this);var t=h[e];if(!t)throw new Error("Unknown message digest");this._hash=a(t.hash),this._tag=t.id,this._signType=t.sign}function o(e){return new r(e)}function s(e){return new i(e)}var a=n(37),c=n(20),u=n(1),l=n(245),f=n(281),h=n(115);Object.keys(h).forEach(function(e){h[e].id=new t(h[e].id,"hex"),h[e.toLowerCase()]=h[e]}),u(r,c.Writable),r.prototype._write=function(e,t,n){this._hash.update(e),n()},r.prototype.update=function(e,n){return"string"==typeof e&&(e=new t(e,n)),this._hash.update(e),this},r.prototype.sign=function(e,t){this.end();var n=this._hash.digest(),r=l(n,e,this._hashType,this._signType,this._tag);return t?r.toString(t):r},u(i,c.Writable),i.prototype._write=function(e,t,n){this._hash.update(e),n()},i.prototype.update=function(e,n){return"string"==typeof e&&(e=new t(e,n)),this._hash.update(e),this},i.prototype.verify=function(e,n,r){"string"==typeof n&&(n=new t(n,r)),this.end();var i=this._hash.digest();return f(n,i,e,this._signType,this._tag)},e.exports={Sign:o,Verify:s,createSign:o,createVerify:s}}).call(t,n(0).Buffer)},function(e,t,n){(function(t){function r(e,n,r,s,a){var c=g(n);if(c.curve){if("ecdsa"!==s&&"ecdsa/rsa"!==s)throw new Error("wrong private key type");return i(e,c)}if("dsa"===c.type){if("dsa"!==s)throw new Error("wrong private key type");return o(e,c,r)}if("rsa"!==s&&"ecdsa/rsa"!==s)throw new Error("wrong private key type");e=t.concat([a,e]);for(var u=c.modulus.byteLength(),l=[0,1];e.length+l.length+1<u;)l.push(255);l.push(0);for(var f=-1;++f<e.length;)l.push(e[f]);return d(l,c)}function i(e,n){var r=m[n.curve.join(".")];if(!r)throw new Error("unknown curve "+n.curve.join("."));var i=new p(r),o=i.keyFromPrivate(n.privateKey),s=o.sign(e);return new t(s.toDER())}function o(e,t,n){for(var r,i=t.params.priv_key,o=t.params.p,u=t.params.q,h=t.params.g,d=new y(0),p=c(e,u).mod(u),g=!1,m=a(i,u,e,n);!1===g;)r=l(u,m,n),d=f(h,r,o,u),g=r.invm(u).imul(p.add(i.mul(d))).mod(u),0===g.cmpn(0)&&(g=!1,d=new y(0));return s(d,g)}function s(e,n){e=e.toArray(),n=n.toArray(),128&e[0]&&(e=[0].concat(e)),128&n[0]&&(n=[0].concat(n));var r=e.length+n.length+4,i=[48,r,2,e.length];return i=i.concat(e,[2,n.length],n),new t(i)}function a(e,n,r,i){if(e=new t(e.toArray()),e.length<n.byteLength()){var o=new t(n.byteLength()-e.length);o.fill(0),e=t.concat([o,e])}var s=r.length,a=u(r,n),c=new t(s);c.fill(1);var l=new t(s);return l.fill(0),l=h(i,l).update(c).update(new t([0])).update(e).update(a).digest(),c=h(i,l).update(c).digest(),l=h(i,l).update(c).update(new t([1])).update(e).update(a).digest(),c=h(i,l).update(c).digest(),{k:l,v:c}}function c(e,t){var n=new y(e),r=(e.length<<3)-t.bitLength();return r>0&&n.ishrn(r),n}function u(e,n){e=c(e,n),e=e.mod(n);var r=new t(e.toArray());if(r.length<n.byteLength()){var i=new t(n.byteLength()-r.length);i.fill(0),r=t.concat([i,r])}return r}function l(e,n,r){var i,o;do{for(i=new t(0);8*i.length<e.bitLength();)n.v=h(r,n.k).update(n.v).digest(),i=t.concat([i,n.v]);o=c(i,e),n.k=h(r,n.k).update(n.v).update(new t([0])).digest(),n.v=h(r,n.k).update(n.v).digest()}while(-1!==o.cmp(e));return o}function f(e,t,n,r){return e.toRed(y.mont(n)).redPow(t).fromRed().mod(r)}var h=n(113),d=n(75),p=n(10).ec,y=n(7),g=n(53),m=n(136);e.exports=r,e.exports.getKey=a,e.exports.makeKey=l}).call(t,n(0).Buffer)},function(e,t){e.exports={_args:[["elliptic@6.4.0","/home/sergio/Proyectos/git/hyperledger-fabric-js"]],_from:"elliptic@6.4.0",_id:"elliptic@6.4.0",_inBundle:!1,_integrity:"sha1-ysmvh2LIWDYYcAPI3+GT5eLq5d8=",_location:"/elliptic",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"elliptic@6.4.0",name:"elliptic",escapedName:"elliptic",rawSpec:"6.4.0",saveSpec:null,fetchSpec:"6.4.0"},_requiredBy:["/","/browserify-sign","/create-ecdh"],_resolved:"https://registry.npmjs.org/elliptic/-/elliptic-6.4.0.tgz",_spec:"6.4.0",_where:"/home/sergio/Proyectos/git/hyperledger-fabric-js",author:{name:"Fedor Indutny",email:"fedor@indutny.com"},bugs:{url:"https://github.com/indutny/elliptic/issues"},dependencies:{"bn.js":"^4.4.0",brorand:"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0",inherits:"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"},description:"EC cryptography",devDependencies:{brfs:"^1.4.3",coveralls:"^2.11.3",grunt:"^0.4.5","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^8.6.2",istanbul:"^0.4.2",jscs:"^2.9.0",jshint:"^2.6.0",mocha:"^2.1.0"},files:["lib"],homepage:"https://github.com/indutny/elliptic",keywords:["EC","Elliptic","curve","Cryptography"],license:"MIT",main:"lib/elliptic.js",name:"elliptic",repository:{type:"git",url:"git+ssh://git@github.com/indutny/elliptic.git"},scripts:{jscs:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",jshint:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",lint:"npm run jscs && npm run jshint",test:"npm run lint && npm run unit",unit:"istanbul test _mocha --reporter=spec test/index.js",version:"grunt dist && git add dist/"},version:"6.4.0"}},function(e,t,n){"use strict";function r(e,t){for(var n=[],r=1<<t+1,i=e.clone();i.cmpn(1)>=0;){var o;if(i.isOdd()){var s=i.andln(r-1);o=s>(r>>1)-1?(r>>1)-s:s,i.isubn(o)}else o=0;n.push(o);for(var a=0!==i.cmpn(0)&&0===i.andln(r-1)?t+1:1,c=1;c<a;c++)n.push(0);i.iushrn(a)}return n}function i(e,t){var n=[[],[]];e=e.clone(),t=t.clone();for(var r=0,i=0;e.cmpn(-r)>0||t.cmpn(-i)>0;){var o=e.andln(3)+r&3,s=t.andln(3)+i&3;3===o&&(o=-1),3===s&&(s=-1);var a;if(0==(1&o))a=0;else{var c=e.andln(7)+r&7;a=3!==c&&5!==c||2!==s?o:-o}n[0].push(a);var u;if(0==(1&s))u=0;else{var c=t.andln(7)+i&7;u=3!==c&&5!==c||2!==o?s:-s}n[1].push(u),2*r===a+1&&(r=1-r),2*i===u+1&&(i=1-i),e.iushrn(1),t.iushrn(1)}return n}function o(e,t,n){var r="_"+t;e.prototype[t]=function(){return void 0!==this[r]?this[r]:this[r]=n.call(this)}}function s(e){return"string"==typeof e?c.toArray(e,"hex"):e}function a(e){return new u(e,"hex","le")}var c=t,u=n(7),l=n(13),f=n(128);c.assert=l,c.toArray=f.toArray,c.zero2=f.zero2,c.toHex=f.toHex,c.encode=f.encode,c.getNAF=r,c.getJSF=i,c.cachedProperty=o,c.parseBytes=s,c.intFromLE=a},function(e,t,n){"use strict";function r(e,t){this.type=e,this.p=new o(t.p,16),this.red=t.prime?o.red(t.prime):o.mont(this.p),this.zero=new o(0).toRed(this.red),this.one=new o(1).toRed(this.red),this.two=new o(2).toRed(this.red),this.n=t.n&&new o(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4);var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function i(e,t){this.curve=e,this.type=t,this.precomputed=null}var o=n(7),s=n(10),a=s.utils,c=a.getNAF,u=a.getJSF,l=a.assert;e.exports=r,r.prototype.point=function(){throw new Error("Not implemented")},r.prototype.validate=function(){throw new Error("Not implemented")},r.prototype._fixedNafMul=function(e,t){l(e.precomputed);var n=e._getDoubles(),r=c(t,1),i=(1<<n.step+1)-(n.step%2==0?2:1);i/=3;for(var o=[],s=0;s<r.length;s+=n.step){for(var a=0,t=s+n.step-1;t>=s;t--)a=(a<<1)+r[t];o.push(a)}for(var u=this.jpoint(null,null,null),f=this.jpoint(null,null,null),h=i;h>0;h--){for(var s=0;s<o.length;s++){var a=o[s];a===h?f=f.mixedAdd(n.points[s]):a===-h&&(f=f.mixedAdd(n.points[s].neg()))}u=u.add(f)}return u.toP()},r.prototype._wnafMul=function(e,t){var n=4,r=e._getNAFPoints(n);n=r.wnd;for(var i=r.points,o=c(t,n),s=this.jpoint(null,null,null),a=o.length-1;a>=0;a--){for(var t=0;a>=0&&0===o[a];a--)t++;if(a>=0&&t++,s=s.dblp(t),a<0)break;var u=o[a];l(0!==u),s="affine"===e.type?u>0?s.mixedAdd(i[u-1>>1]):s.mixedAdd(i[-u-1>>1].neg()):u>0?s.add(i[u-1>>1]):s.add(i[-u-1>>1].neg())}return"affine"===e.type?s.toP():s},r.prototype._wnafMulAdd=function(e,t,n,r,i){for(var o=this._wnafT1,s=this._wnafT2,a=this._wnafT3,l=0,f=0;f<r;f++){var h=t[f],d=h._getNAFPoints(e);o[f]=d.wnd,s[f]=d.points}for(var f=r-1;f>=1;f-=2){var p=f-1,y=f;if(1===o[p]&&1===o[y]){var g=[t[p],null,null,t[y]];0===t[p].y.cmp(t[y].y)?(g[1]=t[p].add(t[y]),g[2]=t[p].toJ().mixedAdd(t[y].neg())):0===t[p].y.cmp(t[y].y.redNeg())?(g[1]=t[p].toJ().mixedAdd(t[y]),g[2]=t[p].add(t[y].neg())):(g[1]=t[p].toJ().mixedAdd(t[y]),g[2]=t[p].toJ().mixedAdd(t[y].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],v=u(n[p],n[y]);l=Math.max(v[0].length,l),a[p]=new Array(l),a[y]=new Array(l);for(var b=0;b<l;b++){var w=0|v[0][b],S=0|v[1][b];a[p][b]=m[3*(w+1)+(S+1)],a[y][b]=0,s[p]=g}}else a[p]=c(n[p],o[p]),a[y]=c(n[y],o[y]),l=Math.max(a[p].length,l),l=Math.max(a[y].length,l)}for(var E=this.jpoint(null,null,null),k=this._wnafT4,f=l;f>=0;f--){for(var x=0;f>=0;){for(var _=!0,b=0;b<r;b++)k[b]=0|a[b][f],0!==k[b]&&(_=!1);if(!_)break;x++,f--}if(f>=0&&x++,E=E.dblp(x),f<0)break;for(var b=0;b<r;b++){var h,O=k[b];0!==O&&(O>0?h=s[b][O-1>>1]:O<0&&(h=s[b][-O-1>>1].neg()),E="affine"===h.type?E.mixedAdd(h):E.add(h))}}for(var f=0;f<r;f++)s[f]=null;return i?E:E.toP()},r.BasePoint=i,i.prototype.eq=function(){throw new Error("Not implemented")},i.prototype.validate=function(){return this.curve.validate(this)},r.prototype.decodePoint=function(e,t){e=a.toArray(e,t);var n=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*n){6===e[0]?l(e[e.length-1]%2==0):7===e[0]&&l(e[e.length-1]%2==1);return this.point(e.slice(1,1+n),e.slice(1+n,1+2*n))}if((2===e[0]||3===e[0])&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),3===e[0]);throw new Error("Unknown point format")},i.prototype.encodeCompressed=function(e){return this.encode(e,!0)},i.prototype._encode=function(e){var t=this.curve.p.byteLength(),n=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",t))},i.prototype.encode=function(e,t){return a.encode(this._encode(t),e)},i.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},i.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},i.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],r=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)r=r.dbl();n.push(r)}return{step:e,points:n}},i.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],n=(1<<e)-1,r=1===n?null:this.dbl(),i=1;i<n;i++)t[i]=t[i-1].add(r);return{wnd:e,points:t}},i.prototype._getBeta=function(){return null},i.prototype.dblp=function(e){for(var t=this,n=0;n<e;n++)t=t.dbl();return t}},function(e,t,n){"use strict";function r(e){l.call(this,"short",e),this.a=new c(e.a,16).toRed(this.red),this.b=new c(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function i(e,t,n,r){l.BasePoint.call(this,e,"affine"),null===t&&null===n?(this.x=null,this.y=null,this.inf=!0):(this.x=new c(t,16),this.y=new c(n,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function o(e,t,n,r){l.BasePoint.call(this,e,"jacobian"),null===t&&null===n&&null===r?(this.x=this.curve.one,this.y=this.curve.one,this.z=new c(0)):(this.x=new c(t,16),this.y=new c(n,16),this.z=new c(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}var s=n(52),a=n(10),c=n(7),u=n(1),l=s.base,f=a.utils.assert;u(r,l),e.exports=r,r.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,n;if(e.beta)t=new c(e.beta,16).toRed(this.red);else{var r=this._getEndoRoots(this.p);t=r[0].cmp(r[1])<0?r[0]:r[1],t=t.toRed(this.red)}if(e.lambda)n=new c(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))?n=i[0]:(n=i[1],f(0===this.g.mul(n).x.cmp(this.g.x.redMul(t))))}var o;return o=e.basis?e.basis.map(function(e){return{a:new c(e.a,16),b:new c(e.b,16)}}):this._getEndoBasis(n),{beta:t,lambda:n,basis:o}}},r.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:c.mont(e),n=new c(2).toRed(t).redInvm(),r=n.redNeg(),i=new c(3).toRed(t).redNeg().redSqrt().redMul(n);return[r.redAdd(i).fromRed(),r.redSub(i).fromRed()]},r.prototype._getEndoBasis=function(e){for(var t,n,r,i,o,s,a,u,l,f=this.n.ushrn(Math.floor(this.n.bitLength()/2)),h=e,d=this.n.clone(),p=new c(1),y=new c(0),g=new c(0),m=new c(1),v=0;0!==h.cmpn(0);){var b=d.div(h);u=d.sub(b.mul(h)),l=g.sub(b.mul(p));var w=m.sub(b.mul(y));if(!r&&u.cmp(f)<0)t=a.neg(),n=p,r=u.neg(),i=l;else if(r&&2==++v)break;a=u,d=h,h=u,g=p,p=l,m=y,y=w}o=u.neg(),s=l;var S=r.sqr().add(i.sqr());return o.sqr().add(s.sqr()).cmp(S)>=0&&(o=t,s=n),r.negative&&(r=r.neg(),i=i.neg()),o.negative&&(o=o.neg(),s=s.neg()),[{a:r,b:i},{a:o,b:s}]},r.prototype._endoSplit=function(e){var t=this.endo.basis,n=t[0],r=t[1],i=r.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),s=i.mul(n.a),a=o.mul(r.a),c=i.mul(n.b),u=o.mul(r.b);return{k1:e.sub(s).sub(a),k2:c.add(u).neg()}},r.prototype.pointFromX=function(e,t){e=new c(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),r=n.redSqrt();if(0!==r.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");var i=r.fromRed().isOdd();return(t&&!i||!t&&i)&&(r=r.redNeg()),this.point(e,r)},r.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,n=e.y,r=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(r).redIAdd(this.b);return 0===n.redSqr().redISub(i).cmpn(0)},r.prototype._endoWnafMulAdd=function(e,t,n){for(var r=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var s=this._endoSplit(t[o]),a=e[o],c=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),c=c.neg(!0)),r[2*o]=a,r[2*o+1]=c,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var u=this._wnafMulAdd(1,r,i,2*o,n),l=0;l<2*o;l++)r[l]=null,i[l]=null;return u},u(i,l.BasePoint),r.prototype.point=function(e,t,n){return new i(this,e,t,n)},r.prototype.pointFromJSON=function(e,t){return i.fromJSON(this,e,t)},i.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,r=function(e){return n.point(e.x.redMul(n.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(r)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(r)}}}return t}},i.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},i.fromJSON=function(e,t,n){function r(t){return e.point(t[0],t[1],n)}"string"==typeof t&&(t=JSON.parse(t));var i=e.point(t[0],t[1],n);if(!t[2])return i;var o=t[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(r))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(r))}},i},i.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},i.prototype.isInfinity=function(){return this.inf},i.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x),r=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,r)},i.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),r=e.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(r),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},i.prototype.getX=function(){return this.x.fromRed()},i.prototype.getY=function(){return this.y.fromRed()},i.prototype.mul=function(e){return e=new c(e,16),this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},i.prototype.mulAdd=function(e,t,n){var r=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i):this.curve._wnafMulAdd(1,r,i,2)},i.prototype.jmulAdd=function(e,t,n){var r=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i,!0):this.curve._wnafMulAdd(1,r,i,2,!0)},i.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},i.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,r=function(e){return e.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(r)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(r)}}}return t},i.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},u(o,l.BasePoint),r.prototype.jpoint=function(e,t,n){return new o(this,e,t,n)},o.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),n=this.x.redMul(t),r=this.y.redMul(t).redMul(e);return this.curve.point(n,r)},o.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},o.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),n=this.z.redSqr(),r=this.x.redMul(t),i=e.x.redMul(n),o=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(n.redMul(this.z)),a=r.redSub(i),c=o.redSub(s);if(0===a.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),l=u.redMul(a),f=r.redMul(u),h=c.redSqr().redIAdd(l).redISub(f).redISub(f),d=c.redMul(f.redISub(h)).redISub(o.redMul(l)),p=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(h,d,p)},o.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),n=this.x,r=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),s=n.redSub(r),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=s.redSqr(),u=c.redMul(s),l=n.redMul(c),f=a.redSqr().redIAdd(u).redISub(l).redISub(l),h=a.redMul(l.redISub(f)).redISub(i.redMul(u)),d=this.z.redMul(s);return this.curve.jpoint(f,h,d)},o.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var t=this,n=0;n<e;n++)t=t.dbl();return t}for(var r=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,c=a.redSqr().redSqr(),u=s.redAdd(s),n=0;n<e;n++){var l=o.redSqr(),f=u.redSqr(),h=f.redSqr(),d=l.redAdd(l).redIAdd(l).redIAdd(r.redMul(c)),p=o.redMul(f),y=d.redSqr().redISub(p.redAdd(p)),g=p.redISub(y),m=d.redMul(g);m=m.redIAdd(m).redISub(h);var v=u.redMul(a);n+1<e&&(c=c.redMul(h)),o=y,a=v,u=m}return this.curve.jpoint(o,u.redMul(i),a)},o.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},o.prototype._zeroDbl=function(){var e,t,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(r).redISub(o);s=s.redIAdd(s);var a=r.redAdd(r).redIAdd(r),c=a.redSqr().redISub(s).redISub(s),u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),e=c,t=a.redMul(s.redISub(c)).redISub(u),n=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),f=this.y.redSqr(),h=f.redSqr(),d=this.x.redAdd(f).redSqr().redISub(l).redISub(h);d=d.redIAdd(d);var p=l.redAdd(l).redIAdd(l),y=p.redSqr(),g=h.redIAdd(h);g=g.redIAdd(g),g=g.redIAdd(g),e=y.redISub(d).redISub(d),t=p.redMul(d.redISub(e)).redISub(g),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,t,n)},o.prototype._threeDbl=function(){var e,t,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(r).redISub(o);s=s.redIAdd(s);var a=r.redAdd(r).redIAdd(r).redIAdd(this.curve.a),c=a.redSqr().redISub(s).redISub(s);e=c;var u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),t=a.redMul(s.redISub(c)).redISub(u),n=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),f=this.y.redSqr(),h=this.x.redMul(f),d=this.x.redSub(l).redMul(this.x.redAdd(l));d=d.redAdd(d).redIAdd(d);var p=h.redIAdd(h);p=p.redIAdd(p);var y=p.redAdd(p);e=d.redSqr().redISub(y),n=this.y.redAdd(this.z).redSqr().redISub(f).redISub(l);var g=f.redSqr();g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g),t=d.redMul(p.redISub(e)).redISub(g)}return this.curve.jpoint(e,t,n)},o.prototype._dbl=function(){var e=this.curve.a,t=this.x,n=this.y,r=this.z,i=r.redSqr().redSqr(),o=t.redSqr(),s=n.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),c=t.redAdd(t);c=c.redIAdd(c);var u=c.redMul(s),l=a.redSqr().redISub(u.redAdd(u)),f=u.redISub(l),h=s.redSqr();h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var d=a.redMul(f).redISub(h),p=n.redAdd(n).redMul(r);return this.curve.jpoint(l,d,p)},o.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),r=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(r);s=s.redIAdd(s),s=s.redAdd(s).redIAdd(s),s=s.redISub(o);var a=s.redSqr(),c=r.redIAdd(r);c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var u=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(c),l=t.redMul(u);l=l.redIAdd(l),l=l.redIAdd(l);var f=this.x.redMul(a).redISub(l);f=f.redIAdd(f),f=f.redIAdd(f);var h=this.y.redMul(u.redMul(c.redISub(u)).redISub(s.redMul(a)));h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var d=this.z.redAdd(s).redSqr().redISub(n).redISub(a);return this.curve.jpoint(f,h,d)},o.prototype.mul=function(e,t){return e=new c(e,t),this.curve._wnafMul(this,e)},o.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),n=e.z.redSqr();if(0!==this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0))return!1;var r=t.redMul(this.z),i=n.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(r)).cmpn(0)},o.prototype.eqXToP=function(e){var t=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(n))return!0;for(var r=e.clone(),i=this.curve.redN.redMul(t);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),0===this.x.cmp(n))return!0}return!1},o.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},o.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},function(e,t,n){"use strict";function r(e){c.call(this,"mont",e),this.a=new s(e.a,16).toRed(this.red),this.b=new s(e.b,16).toRed(this.red),this.i4=new s(4).toRed(this.red).redInvm(),this.two=new s(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function i(e,t,n){c.BasePoint.call(this,e,"projective"),null===t&&null===n?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new s(t,16),this.z=new s(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}var o=n(52),s=n(7),a=n(1),c=o.base,u=n(10),l=u.utils;a(r,c),e.exports=r,r.prototype.validate=function(e){var t=e.normalize().x,n=t.redSqr(),r=n.redMul(t).redAdd(n.redMul(this.a)).redAdd(t);return 0===r.redSqrt().redSqr().cmp(r)},a(i,c.BasePoint),r.prototype.decodePoint=function(e,t){return this.point(l.toArray(e,t),1)},r.prototype.point=function(e,t){return new i(this,e,t)},r.prototype.pointFromJSON=function(e){return i.fromJSON(this,e)},i.prototype.precompute=function(){},i.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},i.fromJSON=function(e,t){return new i(e,t[0],t[1]||e.one)},i.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},i.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},i.prototype.dbl=function(){var e=this.x.redAdd(this.z),t=e.redSqr(),n=this.x.redSub(this.z),r=n.redSqr(),i=t.redSub(r),o=t.redMul(r),s=i.redMul(r.redAdd(this.curve.a24.redMul(i)));return this.curve.point(o,s)},i.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},i.prototype.diffAdd=function(e,t){var n=this.x.redAdd(this.z),r=this.x.redSub(this.z),i=e.x.redAdd(e.z),o=e.x.redSub(e.z),s=o.redMul(n),a=i.redMul(r),c=t.z.redMul(s.redAdd(a).redSqr()),u=t.x.redMul(s.redISub(a).redSqr());return this.curve.point(c,u)},i.prototype.mul=function(e){for(var t=e.clone(),n=this,r=this.curve.point(null,null),i=this,o=[];0!==t.cmpn(0);t.iushrn(1))o.push(t.andln(1));for(var s=o.length-1;s>=0;s--)0===o[s]?(n=n.diffAdd(r,i),r=r.dbl()):(r=n.diffAdd(r,i),n=n.dbl());return r},i.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},i.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},i.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},i.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},i.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},function(e,t,n){"use strict";function r(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,u.call(this,"edwards",e),this.a=new a(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new a(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new a(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),l(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}function i(e,t,n,r,i){u.BasePoint.call(this,e,"projective"),null===t&&null===n&&null===r?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new a(t,16),this.y=new a(n,16),this.z=r?new a(r,16):this.curve.one,this.t=i&&new a(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}var o=n(52),s=n(10),a=n(7),c=n(1),u=o.base,l=s.utils.assert;c(r,u),e.exports=r,r.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},r.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},r.prototype.jpoint=function(e,t,n,r){return this.point(e,t,n,r)},r.prototype.pointFromX=function(e,t){e=new a(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),r=this.c2.redSub(this.a.redMul(n)),i=this.one.redSub(this.c2.redMul(this.d).redMul(n)),o=r.redMul(i.redInvm()),s=o.redSqrt();if(0!==s.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");var c=s.fromRed().isOdd();return(t&&!c||!t&&c)&&(s=s.redNeg()),this.point(e,s)},r.prototype.pointFromY=function(e,t){e=new a(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),r=n.redSub(this.one),i=n.redMul(this.d).redAdd(this.one),o=r.redMul(i.redInvm());if(0===o.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var s=o.redSqrt();if(0!==s.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");return s.isOdd()!==t&&(s=s.redNeg()),this.point(s,e)},r.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),n=e.y.redSqr(),r=t.redMul(this.a).redAdd(n),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(n)));return 0===r.cmp(i)},c(i,u.BasePoint),r.prototype.pointFromJSON=function(e){return i.fromJSON(this,e)},r.prototype.point=function(e,t,n,r){return new i(this,e,t,n,r)},i.fromJSON=function(e,t){return new i(e,t[0],t[1],t[2])},i.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},i.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&0===this.y.cmp(this.z)},i.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var r=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=r.redAdd(t),s=o.redSub(n),a=r.redSub(t),c=i.redMul(s),u=o.redMul(a),l=i.redMul(a),f=s.redMul(o);return this.curve.point(c,u,f,l)},i.prototype._projDbl=function(){var e,t,n,r=this.x.redAdd(this.y).redSqr(),i=this.x.redSqr(),o=this.y.redSqr();if(this.curve.twisted){var s=this.curve._mulA(i),a=s.redAdd(o);if(this.zOne)e=r.redSub(i).redSub(o).redMul(a.redSub(this.curve.two)),t=a.redMul(s.redSub(o)),n=a.redSqr().redSub(a).redSub(a);else{var c=this.z.redSqr(),u=a.redSub(c).redISub(c);e=r.redSub(i).redISub(o).redMul(u),t=a.redMul(s.redSub(o)),n=a.redMul(u)}}else{var s=i.redAdd(o),c=this.curve._mulC(this.c.redMul(this.z)).redSqr(),u=s.redSub(c).redSub(c);e=this.curve._mulC(r.redISub(s)).redMul(u),t=this.curve._mulC(s).redMul(i.redISub(o)),n=s.redMul(u)}return this.curve.point(e,t,n)},i.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},i.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),r=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),o=n.redSub(t),s=i.redSub(r),a=i.redAdd(r),c=n.redAdd(t),u=o.redMul(s),l=a.redMul(c),f=o.redMul(c),h=s.redMul(a);return this.curve.point(u,l,h,f)},i.prototype._projAdd=function(e){var t,n,r=this.z.redMul(e.z),i=r.redSqr(),o=this.x.redMul(e.x),s=this.y.redMul(e.y),a=this.curve.d.redMul(o).redMul(s),c=i.redSub(a),u=i.redAdd(a),l=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(s),f=r.redMul(c).redMul(l);return this.curve.twisted?(t=r.redMul(u).redMul(s.redSub(this.curve._mulA(o))),n=c.redMul(u)):(t=r.redMul(u).redMul(s.redSub(o)),n=this.curve._mulC(c).redMul(u)),this.curve.point(f,t,n)},i.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},i.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},i.prototype.mulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!1)},i.prototype.jmulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!0)},i.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},i.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},i.prototype.getX=function(){return this.normalize(),this.x.fromRed()},i.prototype.getY=function(){return this.normalize(),this.y.fromRed()},i.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},i.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var n=e.clone(),r=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(r),0===this.x.cmp(t))return!0}return!1},i.prototype.toP=i.prototype.normalize,i.prototype.mixedAdd=i.prototype.add},function(e,t,n){"use strict";function r(e){"short"===e.type?this.curve=new a.curve.short(e):"edwards"===e.type?this.curve=new a.curve.edwards(e):this.curve=new a.curve.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,c(this.g.validate(),"Invalid curve"),c(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function i(e,t){Object.defineProperty(o,e,{configurable:!0,enumerable:!0,get:function(){var n=new r(t);return Object.defineProperty(o,e,{configurable:!0,enumerable:!0,value:n}),n}})}var o=t,s=n(76),a=n(10),c=a.utils.assert;o.PresetCurve=r,i("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:s.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),i("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:s.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),i("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:s.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),i("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:s.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),i("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:s.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),i("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["9"]}),i("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var u;try{u=n(259)}catch(e){u=void 0}i("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:s.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",u]})},function(e,t,n){"use strict";t.sha1=n(254),t.sha224=n(255),t.sha256=n(130),t.sha384=n(256),t.sha512=n(131)},function(e,t,n){"use strict";function r(){if(!(this instanceof r))return new r;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}var i=n(15),o=n(39),s=n(129),a=i.rotl32,c=i.sum32,u=i.sum32_5,l=s.ft_1,f=o.BlockHash,h=[1518500249,1859775393,2400959708,3395469782];i.inherits(r,f),e.exports=r,r.blockSize=512,r.outSize=160,r.hmacStrength=80,r.padLength=64,r.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=a(n[r-3]^n[r-8]^n[r-14]^n[r-16],1);var i=this.h[0],o=this.h[1],s=this.h[2],f=this.h[3],d=this.h[4];for(r=0;r<n.length;r++){var p=~~(r/20),y=u(a(i,5),l(p,o,s,f),d,n[r],h[p]);d=f,f=s,s=a(o,30),o=i,i=y}this.h[0]=c(this.h[0],i),this.h[1]=c(this.h[1],o),this.h[2]=c(this.h[2],s),this.h[3]=c(this.h[3],f),this.h[4]=c(this.h[4],d)},r.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},function(e,t,n){"use strict";function r(){if(!(this instanceof r))return new r;o.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}var i=n(15),o=n(130);i.inherits(r,o),e.exports=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h.slice(0,7),"big"):i.split32(this.h.slice(0,7),"big")}},function(e,t,n){"use strict";function r(){if(!(this instanceof r))return new r;o.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}var i=n(15),o=n(131);i.inherits(r,o),e.exports=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h.slice(0,12),"big"):i.split32(this.h.slice(0,12),"big")}},function(e,t,n){"use strict";function r(){if(!(this instanceof r))return new r;d.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function i(e,t,n,r){return e<=15?t^n^r:e<=31?t&n|~t&r:e<=47?(t|~n)^r:e<=63?t&r|n&~r:t^(n|~r)}function o(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function s(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}var a=n(15),c=n(39),u=a.rotl32,l=a.sum32,f=a.sum32_3,h=a.sum32_4,d=c.BlockHash;a.inherits(r,d),t.ripemd160=r,r.blockSize=512,r.outSize=160,r.hmacStrength=192,r.padLength=64,r.prototype._update=function(e,t){for(var n=this.h[0],r=this.h[1],a=this.h[2],c=this.h[3],d=this.h[4],v=n,b=r,w=a,S=c,E=d,k=0;k<80;k++){var x=l(u(h(n,i(k,r,a,c),e[p[k]+t],o(k)),g[k]),d);n=d,d=c,c=u(a,10),a=r,r=x,x=l(u(h(v,i(79-k,b,w,S),e[y[k]+t],s(k)),m[k]),E),v=E,E=S,S=u(w,10),w=b,b=x}x=f(this.h[1],a,S),this.h[1]=f(this.h[2],c,E),this.h[2]=f(this.h[3],d,v),this.h[3]=f(this.h[4],n,b),this.h[4]=f(this.h[0],r,w),this.h[0]=x},r.prototype._digest=function(e){return"hex"===e?a.toHex32(this.h,"little"):a.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],y=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},function(e,t,n){"use strict";function r(e,t,n){if(!(this instanceof r))return new r(e,t,n);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(i.toArray(t,n))}var i=n(15),o=n(13);e.exports=r,r.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),o(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},r.prototype.update=function(e,t){return this.inner.update(e,t),this},r.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},function(e,t){e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);"string"==typeof e&&(c(s.curves.hasOwnProperty(e),"Unknown curve "+e),e=s.curves[e]),e instanceof s.curves.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var i=n(7),o=n(261),s=n(10),a=s.utils,c=a.assert,u=n(262),l=n(263);e.exports=r,r.prototype.keyPair=function(e){return new u(this,e)},r.prototype.keyFromPrivate=function(e,t){return u.fromPrivate(this,e,t)},r.prototype.keyFromPublic=function(e,t){return u.fromPublic(this,e,t)},r.prototype.genKeyPair=function(e){e||(e={});for(var t=new o({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||s.rand(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),r=this.n.sub(new i(2));;){var a=new i(t.generate(n));if(!(a.cmp(r)>0))return a.iaddn(1),this.keyFromPrivate(a)}},r.prototype._truncateToN=function(e,t){var n=8*e.byteLength()-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},r.prototype.sign=function(e,t,n,r){"object"==typeof n&&(r=n,n=null),r||(r={}),t=this.keyFromPrivate(t,n),e=this._truncateToN(new i(e,16));for(var s=this.n.byteLength(),a=t.getPrivate().toArray("be",s),c=e.toArray("be",s),u=new o({hash:this.hash,entropy:a,nonce:c,pers:r.pers,persEnc:r.persEnc||"utf8"}),f=this.n.sub(new i(1)),h=0;!0;h++){var d=r.k?r.k(h):new i(u.generate(this.n.byteLength()));if(d=this._truncateToN(d,!0),!(d.cmpn(1)<=0||d.cmp(f)>=0)){var p=this.g.mul(d);if(!p.isInfinity()){var y=p.getX(),g=y.umod(this.n);if(0!==g.cmpn(0)){var m=d.invm(this.n).mul(g.mul(t.getPrivate()).iadd(e));if(m=m.umod(this.n),0!==m.cmpn(0)){var v=(p.getY().isOdd()?1:0)|(0!==y.cmp(g)?2:0);return r.canonical&&m.cmp(this.nh)>0&&(m=this.n.sub(m),v^=1),new l({r:g,s:m,recoveryParam:v})}}}}}},r.prototype.verify=function(e,t,n,r){e=this._truncateToN(new i(e,16)),n=this.keyFromPublic(n,r),t=new l(t,"hex");var o=t.r,s=t.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var a=s.invm(this.n),c=a.mul(e).umod(this.n),u=a.mul(o).umod(this.n);if(!this.curve._maxwellTrick){var f=this.g.mulAdd(c,n.getPublic(),u);return!f.isInfinity()&&0===f.getX().umod(this.n).cmp(o)}var f=this.g.jmulAdd(c,n.getPublic(),u);return!f.isInfinity()&&f.eqXToP(o)},r.prototype.recoverPubKey=function(e,t,n,r){c((3&n)===n,"The recovery param is more than two bits"),t=new l(t,r);var o=this.n,s=new i(e),a=t.r,u=t.s,f=1&n,h=n>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&h)throw new Error("Unable to find sencond key candinate");a=h?this.curve.pointFromX(a.add(this.curve.n),f):this.curve.pointFromX(a,f);var d=t.r.invm(o),p=o.sub(s).mul(d).umod(o),y=u.mul(d).umod(o);return this.g.mulAdd(p,a,y)},r.prototype.getKeyRecoveryParam=function(e,t,n,r){if(t=new l(t,r),null!==t.recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,t,i)}catch(e){continue}if(o.eq(n))return i}throw new Error("Unable to find valid recovery factor")}},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=o.toArray(e.entropy,e.entropyEnc||"hex"),n=o.toArray(e.nonce,e.nonceEnc||"hex"),i=o.toArray(e.pers,e.persEnc||"hex");s(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,n,i)}var i=n(76),o=n(128),s=n(13);e.exports=r,r.prototype._init=function(e,t,n){var r=e.concat(t).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(r),this._reseed=1,this.reseedInterval=281474976710656},r.prototype._hmac=function(){return new i.hmac(this.hash,this.K)},r.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},r.prototype.reseed=function(e,t,n,r){"string"!=typeof t&&(r=n,n=t,t=null),e=o.toArray(e,t),n=o.toArray(n,r),s(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1},r.prototype.generate=function(e,t,n,r){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(r=n,n=t,t=null),n&&(n=o.toArray(n,r||"hex"),this._update(n));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var s=i.slice(0,e);return this._update(n),this._reseed++,o.encode(s,t)}},function(e,t,n){"use strict";function r(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var i=n(7),o=n(10),s=o.utils,a=s.assert;e.exports=r,r.fromPublic=function(e,t,n){return t instanceof r?t:new r(e,{pub:t,pubEnc:n})},r.fromPrivate=function(e,t,n){return t instanceof r?t:new r(e,{priv:t,privEnc:n})},r.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},r.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},r.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},r.prototype._importPrivate=function(e,t){this.priv=new i(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},r.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?a(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||a(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},r.prototype.derive=function(e){return e.mul(this.priv).getX()},r.prototype.sign=function(e,t,n){return this.ec.sign(e,this,t,n)},r.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},r.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},function(e,t,n){"use strict";function r(e,t){if(e instanceof r)return e;this._importDER(e,t)||(f(e.r&&e.s,"Signature without r or s"),this.r=new c(e.r,16),this.s=new c(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function i(){this.place=0}function o(e,t){var n=e[t.place++];if(!(128&n))return n;for(var r=15&n,i=0,o=0,s=t.place;o<r;o++,s++)i<<=8,i|=e[s];return t.place=s,i}function s(e){for(var t=0,n=e.length-1;!e[t]&&!(128&e[t+1])&&t<n;)t++;return 0===t?e:e.slice(t)}function a(e,t){if(t<128)return void e.push(t);var n=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|n);--n;)e.push(t>>>(n<<3)&255);e.push(t)}var c=n(7),u=n(10),l=u.utils,f=l.assert;e.exports=r,r.prototype._importDER=function(e,t){e=l.toArray(e,t);var n=new i;if(48!==e[n.place++])return!1;if(o(e,n)+n.place!==e.length)return!1;if(2!==e[n.place++])return!1;var r=o(e,n),s=e.slice(n.place,r+n.place);if(n.place+=r,2!==e[n.place++])return!1;var a=o(e,n);if(e.length!==a+n.place)return!1;var u=e.slice(n.place,a+n.place);return 0===s[0]&&128&s[1]&&(s=s.slice(1)),0===u[0]&&128&u[1]&&(u=u.slice(1)),this.r=new c(s),this.s=new c(u),this.recoveryParam=null,!0},r.prototype.toDER=function(e){var t=this.r.toArray(),n=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&n[0]&&(n=[0].concat(n)),t=s(t),n=s(n);!(n[0]||128&n[1]);)n=n.slice(1);var r=[2];a(r,t.length),r=r.concat(t),r.push(2),a(r,n.length);var i=r.concat(n),o=[48];return a(o,i.length),o=o.concat(i),l.encode(o,e)}},function(e,t,n){"use strict";function r(e){if(a("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof r))return new r(e);var e=o.curves[e].curve;this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=i.sha512}var i=n(76),o=n(10),s=o.utils,a=s.assert,c=s.parseBytes,u=n(265),l=n(266);e.exports=r,r.prototype.sign=function(e,t){e=c(e);var n=this.keyFromSecret(t),r=this.hashInt(n.messagePrefix(),e),i=this.g.mul(r),o=this.encodePoint(i),s=this.hashInt(o,n.pubBytes(),e).mul(n.priv()),a=r.add(s).umod(this.curve.n);return this.makeSignature({R:i,S:a,Rencoded:o})},r.prototype.verify=function(e,t,n){e=c(e),t=this.makeSignature(t);var r=this.keyFromPublic(n),i=this.hashInt(t.Rencoded(),r.pubBytes(),e),o=this.g.mul(t.S());return t.R().add(r.pub().mul(i)).eq(o)},r.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return s.intFromLE(e.digest()).umod(this.curve.n)},r.prototype.keyFromPublic=function(e){return u.fromPublic(this,e)},r.prototype.keyFromSecret=function(e){return u.fromSecret(this,e)},r.prototype.makeSignature=function(e){return e instanceof l?e:new l(this,e)},r.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},r.prototype.decodePoint=function(e){e=s.parseBytes(e);var t=e.length-1,n=e.slice(0,t).concat(-129&e[t]),r=0!=(128&e[t]),i=s.intFromLE(n);return this.curve.pointFromY(i,r)},r.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},r.prototype.decodeInt=function(e){return s.intFromLE(e)},r.prototype.isPoint=function(e){return e instanceof this.pointClass}},function(e,t,n){"use strict";function r(e,t){this.eddsa=e,this._secret=a(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=a(t.pub)}var i=n(10),o=i.utils,s=o.assert,a=o.parseBytes,c=o.cachedProperty;r.fromPublic=function(e,t){return t instanceof r?t:new r(e,{pub:t})},r.fromSecret=function(e,t){return t instanceof r?t:new r(e,{secret:t})},r.prototype.secret=function(){return this._secret},c(r,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),c(r,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),c(r,"privBytes",function(){var e=this.eddsa,t=this.hash(),n=e.encodingLength-1,r=t.slice(0,e.encodingLength);return r[0]&=248,r[n]&=127,r[n]|=64,r}),c(r,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),c(r,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),c(r,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),r.prototype.sign=function(e){return s(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},r.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},r.prototype.getSecret=function(e){return s(this._secret,"KeyPair is public only"),o.encode(this.secret(),e)},r.prototype.getPublic=function(e){return o.encode(this.pubBytes(),e)},e.exports=r},function(e,t,n){"use strict";function r(e,t){this.eddsa=e,"object"!=typeof t&&(t=u(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),a(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof i&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}var i=n(7),o=n(10),s=o.utils,a=s.assert,c=s.cachedProperty,u=s.parseBytes;c(r,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),c(r,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),c(r,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),c(r,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),r.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},r.prototype.toHex=function(){return s.encode(this.toBytes(),"hex").toUpperCase()},e.exports=r},function(e,t,n){"use strict";var r=n(40);t.certificate=n(278);var i=r.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});t.RSAPrivateKey=i;var o=r.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});t.RSAPublicKey=o;var s=r.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())});t.PublicKey=s;var a=r.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),c=r.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(a),this.key("subjectPrivateKey").octstr())});t.PrivateKey=c;var u=r.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});t.EncryptedPrivateKey=u;var l=r.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});t.DSAPrivateKey=l,t.DSAparam=r.define("DSAparam",function(){this.int()});var f=r.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(h),this.key("publicKey").optional().explicit(1).bitstr())});t.ECPrivateKey=f;var h=r.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});t.signature=r.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},function(e,t,n){function r(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}var i=n(40),o=n(1);t.define=function(e,t){return new r(e,t)},r.prototype._createNamed=function(e){var t;try{t=n(269).runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(e){t=function(e){this._initNamed(e)}}return o(t,e),t.prototype._initNamed=function(t){e.call(this,t)},new t(this)},r.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(i.decoders[e])),this.decoders[e]},r.prototype.decode=function(e,t,n){return this._getDecoder(t).decode(e,n)},r.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(i.encoders[e])),this.encoders[e]},r.prototype.encode=function(e,t,n){return this._getEncoder(t).encode(e,n)}},function(module,exports,__webpack_require__){function Context(){}var indexOf=__webpack_require__(270),Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)t.push(n);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t(e[n],n,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,n){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:n})}}catch(e){return function(e,t,n){e[t]=n}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var n=t.contentWindow,r=n.eval,i=n.execScript;!r&&i&&(i.call(n,"null"),r=n.eval),forEach(Object_keys(e),function(t){n[t]=e[t]}),forEach(globals,function(t){e[t]&&(n[t]=e[t])});var o=Object_keys(n),s=r.call(n,this.code);return forEach(Object_keys(n),function(t){(t in e||-1===indexOf(o,t))&&(e[t]=n[t])}),forEach(globals,function(t){t in e||defineProp(e,t,n[t])}),document.body.removeChild(t),s},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),n=this.runInContext(t);return forEach(Object_keys(t),function(n){e[n]=t[n]}),n},forEach(Object_keys(Script.prototype),function(e){exports[e]=Script[e]=function(t){var n=Script(t);return n[e].apply(n,[].slice.call(arguments,1))}}),exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t=new Context;return"object"==typeof e&&forEach(Object_keys(e),function(n){t[n]=e[n]}),t}},function(e,t){var n=[].indexOf;e.exports=function(e,t){if(n)return e.indexOf(t);for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}},function(e,t,n){function r(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function i(e,t){this.path=e,this.rethrow(t)}var o=n(1);t.Reporter=r,r.prototype.isError=function(e){return e instanceof i},r.prototype.save=function(){var e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},r.prototype.restore=function(e){var t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},r.prototype.enterKey=function(e){return this._reporterState.path.push(e)},r.prototype.exitKey=function(e){var t=this._reporterState;t.path=t.path.slice(0,e-1)},r.prototype.leaveKey=function(e,t,n){var r=this._reporterState;this.exitKey(e),null!==r.obj&&(r.obj[t]=n)},r.prototype.path=function(){return this._reporterState.path.join("/")},r.prototype.enterObject=function(){var e=this._reporterState,t=e.obj;return e.obj={},t},r.prototype.leaveObject=function(e){var t=this._reporterState,n=t.obj;return t.obj=e,n},r.prototype.error=function(e){var t,n=this._reporterState,r=e instanceof i;if(t=r?e:new i(n.path.map(function(e){return"["+JSON.stringify(e)+"]"}).join(""),e.message||e,e.stack),!n.options.partial)throw t;return r||n.errors.push(t),t},r.prototype.wrapResult=function(e){var t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},o(i,Error),i.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,i),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this}},function(e,t,n){function r(e,t){var n={};this._baseState=n,n.enc=e,n.parent=t||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}var i=n(41).Reporter,o=n(41).EncoderBuffer,s=n(41).DecoderBuffer,a=n(13),c=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],u=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(c),l=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];e.exports=r;var f=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];r.prototype.clone=function(){var e=this._baseState,t={};f.forEach(function(n){t[n]=e[n]});var n=new this.constructor(t.parent);return n._baseState=t,n},r.prototype._wrap=function(){var e=this._baseState;u.forEach(function(t){this[t]=function(){var n=new this.constructor(this);return e.children.push(n),n[t].apply(n,arguments)}},this)},r.prototype._init=function(e){var t=this._baseState;a(null===t.parent),e.call(this),t.children=t.children.filter(function(e){return e._baseState.parent===this},this),a.equal(t.children.length,1,"Root node can have only one child")},r.prototype._useArgs=function(e){var t=this._baseState,n=e.filter(function(e){return e instanceof this.constructor},this);e=e.filter(function(e){return!(e instanceof this.constructor)},this),0!==n.length&&(a(null===t.children),t.children=n,n.forEach(function(e){e._baseState.parent=this},this)),0!==e.length&&(a(null===t.args),t.args=e,t.reverseArgs=e.map(function(e){if("object"!=typeof e||e.constructor!==Object)return e;var t={};return Object.keys(e).forEach(function(n){n==(0|n)&&(n|=0);var r=e[n];t[r]=n}),t}))},l.forEach(function(e){r.prototype[e]=function(){var t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}}),c.forEach(function(e){r.prototype[e]=function(){var t=this._baseState,n=Array.prototype.slice.call(arguments);return a(null===t.tag),t.tag=e,this._useArgs(n),this}}),r.prototype.use=function(e){a(e);var t=this._baseState;return a(null===t.use),t.use=e,this},r.prototype.optional=function(){return this._baseState.optional=!0,this},r.prototype.def=function(e){var t=this._baseState;return a(null===t.default),t.default=e,t.optional=!0,this},r.prototype.explicit=function(e){var t=this._baseState;return a(null===t.explicit&&null===t.implicit),t.explicit=e,this},r.prototype.implicit=function(e){var t=this._baseState;return a(null===t.explicit&&null===t.implicit),t.implicit=e,this},r.prototype.obj=function(){var e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},r.prototype.key=function(e){var t=this._baseState;return a(null===t.key),t.key=e,this},r.prototype.any=function(){return this._baseState.any=!0,this},r.prototype.choice=function(e){var t=this._baseState;return a(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map(function(t){return e[t]})),this},r.prototype.contains=function(e){var t=this._baseState;return a(null===t.use),t.contains=e,this},r.prototype._decode=function(e,t){var n=this._baseState;if(null===n.parent)return e.wrapResult(n.children[0]._decode(e,t));var r=n.default,i=!0,o=null;if(null!==n.key&&(o=e.enterKey(n.key)),n.optional){var a=null;if(null!==n.explicit?a=n.explicit:null!==n.implicit?a=n.implicit:null!==n.tag&&(a=n.tag),null!==a||n.any){if(i=this._peekTag(e,a,n.any),e.isError(i))return i}else{var c=e.save();try{null===n.choice?this._decodeGeneric(n.tag,e,t):this._decodeChoice(e,t),i=!0}catch(e){i=!1}e.restore(c)}}var u;if(n.obj&&i&&(u=e.enterObject()),i){if(null!==n.explicit){var l=this._decodeTag(e,n.explicit);if(e.isError(l))return l;e=l}var f=e.offset;if(null===n.use&&null===n.choice){if(n.any)var c=e.save();var h=this._decodeTag(e,null!==n.implicit?n.implicit:n.tag,n.any);if(e.isError(h))return h;n.any?r=e.raw(c):e=h}if(t&&t.track&&null!==n.tag&&t.track(e.path(),f,e.length,"tagged"),t&&t.track&&null!==n.tag&&t.track(e.path(),e.offset,e.length,"content"),r=n.any?r:null===n.choice?this._decodeGeneric(n.tag,e,t):this._decodeChoice(e,t),e.isError(r))return r;if(n.any||null!==n.choice||null===n.children||n.children.forEach(function(n){n._decode(e,t)}),n.contains&&("octstr"===n.tag||"bitstr"===n.tag)){var d=new s(r);r=this._getUse(n.contains,e._reporterState.obj)._decode(d,t)}}return n.obj&&i&&(r=e.leaveObject(u)),null===n.key||null===r&&!0!==i?null!==o&&e.exitKey(o):e.leaveKey(o,n.key,r),r},r.prototype._decodeGeneric=function(e,t,n){var r=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,r.args[0],n):/str$/.test(e)?this._decodeStr(t,e,n):"objid"===e&&r.args?this._decodeObjid(t,r.args[0],r.args[1],n):"objid"===e?this._decodeObjid(t,null,null,n):"gentime"===e||"utctime"===e?this._decodeTime(t,e,n):"null_"===e?this._decodeNull(t,n):"bool"===e?this._decodeBool(t,n):"objDesc"===e?this._decodeStr(t,e,n):"int"===e||"enum"===e?this._decodeInt(t,r.args&&r.args[0],n):null!==r.use?this._getUse(r.use,t._reporterState.obj)._decode(t,n):t.error("unknown tag: "+e)},r.prototype._getUse=function(e,t){var n=this._baseState;return n.useDecoder=this._use(e,t),a(null===n.useDecoder._baseState.parent),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder},r.prototype._decodeChoice=function(e,t){var n=this._baseState,r=null,i=!1;return Object.keys(n.choice).some(function(o){var s=e.save(),a=n.choice[o];try{var c=a._decode(e,t);if(e.isError(c))return!1;r={type:o,value:c},i=!0}catch(t){return e.restore(s),!1}return!0},this),i?r:e.error("Choice not matched")},r.prototype._createEncoderBuffer=function(e){return new o(e,this.reporter)},r.prototype._encode=function(e,t,n){var r=this._baseState;if(null===r.default||r.default!==e){var i=this._encodeValue(e,t,n);if(void 0!==i&&!this._skipDefault(i,t,n))return i}},r.prototype._encodeValue=function(e,t,n){var r=this._baseState;if(null===r.parent)return r.children[0]._encode(e,t||new i);var o=null;if(this.reporter=t,r.optional&&void 0===e){if(null===r.default)return;e=r.default}var s=null,a=!1;if(r.any)o=this._createEncoderBuffer(e);else if(r.choice)o=this._encodeChoice(e,t);else if(r.contains)s=this._getUse(r.contains,n)._encode(e,t),a=!0;else if(r.children)s=r.children.map(function(n){if("null_"===n._baseState.tag)return n._encode(null,t,e);if(null===n._baseState.key)return t.error("Child should have a key");var r=t.enterKey(n._baseState.key);if("object"!=typeof e)return t.error("Child expected, but input is not object");var i=n._encode(e[n._baseState.key],t,e);return t.leaveKey(r),i},this).filter(function(e){return e}),s=this._createEncoderBuffer(s);else if("seqof"===r.tag||"setof"===r.tag){if(!r.args||1!==r.args.length)return t.error("Too many args for : "+r.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");var c=this.clone();c._baseState.implicit=null,s=this._createEncoderBuffer(e.map(function(n){var r=this._baseState;return this._getUse(r.args[0],e)._encode(n,t)},c))}else null!==r.use?o=this._getUse(r.use,n)._encode(e,t):(s=this._encodePrimitive(r.tag,e),a=!0);var o;if(!r.any&&null===r.choice){var u=null!==r.implicit?r.implicit:r.tag,l=null===r.implicit?"universal":"context";null===u?null===r.use&&t.error("Tag could be omitted only for .use()"):null===r.use&&(o=this._encodeComposite(u,a,l,s))}return null!==r.explicit&&(o=this._encodeComposite(r.explicit,!1,"context",o)),o},r.prototype._encodeChoice=function(e,t){var n=this._baseState,r=n.choice[e.type];return r||a(!1,e.type+" not found in "+JSON.stringify(Object.keys(n.choice))),r._encode(e.value,t)},r.prototype._encodePrimitive=function(e,t){var n=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&n.args)return this._encodeObjid(t,n.reverseArgs[0],n.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,n.args&&n.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},r.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},r.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(e)}},function(e,t,n){var r=n(133);t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=r._reverse(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=r._reverse(t.tag)},function(e,t,n){var r=t;r.der=n(134),r.pem=n(275)},function(e,t,n){function r(e){s.call(this,e),this.enc="pem"}var i=n(1),o=n(0).Buffer,s=n(134);i(r,s),e.exports=r,r.prototype.decode=function(e,t){for(var n=e.toString().split(/[\r\n]+/g),r=t.label.toUpperCase(),i=/^-----(BEGIN|END) ([^-]+)-----$/,a=-1,c=-1,u=0;u<n.length;u++){var l=n[u].match(i);if(null!==l&&l[2]===r){if(-1!==a){if("END"!==l[1])break;c=u;break}if("BEGIN"!==l[1])break;a=u}}if(-1===a||-1===c)throw new Error("PEM section not found for: "+r);var f=n.slice(a+1,c).join("");f.replace(/[^a-z0-9\+\/=]+/gi,"");var h=new o(f,"base64");return s.prototype.decode.call(this,h,t)}},function(e,t,n){var r=t;r.der=n(135),r.pem=n(277)},function(e,t,n){function r(e){o.call(this,e),this.enc="pem"}var i=n(1),o=n(135);i(r,o),e.exports=r,r.prototype.encode=function(e,t){for(var n=o.prototype.encode.call(this,e),r=n.toString("base64"),i=["-----BEGIN "+t.label+"-----"],s=0;s<r.length;s+=64)i.push(r.slice(s,s+64));return i.push("-----END "+t.label+"-----"),i.join("\n")}},function(e,t,n){"use strict";var r=n(40),i=r.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),o=r.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),s=r.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional())}),a=r.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())}),c=r.define("RelativeDistinguishedName",function(){this.setof(o)}),u=r.define("RDNSequence",function(){this.seqof(c)}),l=r.define("Name",function(){this.choice({rdnSequence:this.use(u)})}),f=r.define("Validity",function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))}),h=r.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),d=r.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int(),this.key("serialNumber").int(),this.key("signature").use(s),this.key("issuer").use(l),this.key("validity").use(f),this.key("subject").use(l),this.key("subjectPublicKeyInfo").use(a),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(h).optional())}),p=r.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(d),this.key("signatureAlgorithm").use(s),this.key("signatureValue").bitstr())});e.exports=p},function(e,t){e.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},function(e,t,n){(function(t){var r=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r\+\/\=]+)[\n\r]+/m,i=/^-----BEGIN ((?:.* KEY)|CERTIFICATE)-----/m,o=/^-----BEGIN ((?:.* KEY)|CERTIFICATE)-----([0-9A-z\n\r\+\/\=]+)-----END \1-----$/m,s=n(51),a=n(73);e.exports=function(e,n){var c,u=e.toString(),l=u.match(r);if(l){var f="aes"+l[1],h=new t(l[2],"hex"),d=new t(l[3].replace(/[\r\n]/g,""),"base64"),p=s(n,h.slice(0,8),parseInt(l[1],10)).key,y=[],g=a.createDecipheriv(f,p,h);y.push(g.update(d)),y.push(g.final()),c=t.concat(y)}else{var m=u.match(o);c=new t(m[2].replace(/[\r\n]/g,""),"base64")}return{tag:u.match(i)[1],data:c}}}).call(t,n(0).Buffer)},function(e,t,n){(function(t){function r(e,n,r,s,c){var l=u(r);if("ec"===l.type){if("ecdsa"!==s&&"ecdsa/rsa"!==s)throw new Error("wrong public key type");return i(e,n,l)}if("dsa"===l.type){if("dsa"!==s)throw new Error("wrong public key type");return o(e,n,l)}if("rsa"!==s&&"ecdsa/rsa"!==s)throw new Error("wrong public key type");n=t.concat([c,n]);for(var f=l.modulus.byteLength(),h=[1],d=0;n.length+h.length+2<f;)h.push(255),d++;h.push(0);for(var p=-1;++p<n.length;)h.push(n[p]);h=new t(h);var y=a.mont(l.modulus);e=new a(e).toRed(y),e=e.redPow(new a(l.publicExponent)),e=new t(e.fromRed().toArray());var g=d<8?1:0;for(f=Math.min(e.length,h.length),e.length!==h.length&&(g=1),p=-1;++p<f;)g|=e[p]^h[p];return 0===g}function i(e,t,n){var r=l[n.data.algorithm.curve.join(".")];if(!r)throw new Error("unknown curve "+n.data.algorithm.curve.join("."));var i=new c(r),o=n.data.subjectPrivateKey.data;return i.verify(t,e,o)}function o(e,t,n){var r=n.data.p,i=n.data.q,o=n.data.g,c=n.data.pub_key,l=u.signature.decode(e,"der"),f=l.s,h=l.r;s(f,i),s(h,i);var d=a.mont(r),p=f.invm(i);return 0===o.toRed(d).redPow(new a(t).mul(p).mod(i)).fromRed().mul(c.toRed(d).redPow(h.mul(p).mod(i)).fromRed()).mod(r).mod(i).cmp(h)}function s(e,t){if(e.cmpn(0)<=0)throw new Error("invalid sig");if(e.cmp(t)>=t)throw new Error("invalid sig")}var a=n(7),c=n(10).ec,u=n(53),l=n(136);e.exports=r}).call(t,n(0).Buffer)},function(e,t,n){(function(t){function r(e){this.curveType=a[e],this.curveType||(this.curveType={name:e}),this.curve=new o.ec(this.curveType.name),this.keys=void 0}function i(e,n,r){Array.isArray(e)||(e=e.toArray());var i=new t(e);if(r&&i.length<r){var o=new t(r-i.length);o.fill(0),i=t.concat([o,i])}return n?i.toString(n):i}var o=n(10),s=n(7);e.exports=function(e){return new r(e)};var a={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};a.p224=a.secp224r1,a.p256=a.secp256r1=a.prime256v1,a.p192=a.secp192r1=a.prime192v1,a.p384=a.secp384r1,a.p521=a.secp521r1,r.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},r.prototype.computeSecret=function(e,n,r){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),i(this.curve.keyFromPublic(e).getPublic().mul(this.keys.getPrivate()).getX(),r,this.curveType.byteLength)},r.prototype.getPublicKey=function(e,t){var n=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(n[n.length-1]%2?n[0]=7:n[0]=6),i(n,e)},r.prototype.getPrivateKey=function(e){return i(this.keys.getPrivate(),e)},r.prototype.setPublicKey=function(e,n){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),this.keys._importPublic(e),this},r.prototype.setPrivateKey=function(e,n){n=n||"utf8",t.isBuffer(e)||(e=new t(e,n));var r=new s(e);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this}}).call(t,n(0).Buffer)},function(e,t,n){t.publicEncrypt=n(284),t.privateDecrypt=n(285),t.privateEncrypt=function(e,n){return t.publicEncrypt(e,n,!0)},t.publicDecrypt=function(e,n){return t.privateDecrypt(e,n,!0)}},function(e,t,n){(function(t){function r(e,n){var r=e.modulus.byteLength(),i=n.length,o=c("sha1").update(new t("")).digest(),s=o.length,h=2*s;if(i>r-h-2)throw new Error("message too long");var d=new t(r-i-h-2);d.fill(0);var p=r-s-1,y=a(s),g=l(t.concat([o,d,new t([1]),n],p),u(y,p)),m=l(y,u(g,s));return new f(t.concat([new t([0]),m,g],r))}function i(e,n,r){var i=n.length,s=e.modulus.byteLength();if(i>s-11)throw new Error("message too long");var a;return r?(a=new t(s-i-3),a.fill(255)):a=o(s-i-3),new f(t.concat([new t([0,r?1:2]),a,new t([0]),n],s))}function o(e,n){for(var r,i=new t(e),o=0,s=a(2*e),c=0;o<e;)c===s.length&&(s=a(2*e),c=0),(r=s[c++])&&(i[o++]=r);return i}var s=n(53),a=n(27),c=n(37),u=n(137),l=n(138),f=n(7),h=n(139),d=n(75);e.exports=function(e,t,n){var o;o=e.padding?e.padding:n?1:4;var a,c=s(e);if(4===o)a=r(c,t);else if(1===o)a=i(c,t,n);else{if(3!==o)throw new Error("unknown padding");if(a=new f(t),a.cmp(c.modulus)>=0)throw new Error("data too long for modulus")}return n?d(a,c):h(a,c)}}).call(t,n(0).Buffer)},function(e,t,n){(function(t){function r(e,n){var r=(e.modulus,e.modulus.byteLength()),i=(n.length,f("sha1").update(new t("")).digest()),s=i.length;if(0!==n[0])throw new Error("decryption error");var u=n.slice(1,s+1),l=n.slice(s+1),h=c(u,a(l,s)),d=c(l,a(h,r-s-1));if(o(i,d.slice(0,s)))throw new Error("decryption error");for(var p=s;0===d[p];)p++;if(1!==d[p++])throw new Error("decryption error");return d.slice(p)}function i(e,t,n){for(var r=t.slice(0,2),i=2,o=0;0!==t[i++];)if(i>=t.length){o++;break}var s=t.slice(2,i-1);t.slice(i-1,i);if(("0002"!==r.toString("hex")&&!n||"0001"!==r.toString("hex")&&n)&&o++,s.length<8&&o++,o)throw new Error("decryption error");return t.slice(i)}function o(e,n){e=new t(e),n=new t(n);var r=0,i=e.length;e.length!==n.length&&(r++,i=Math.min(e.length,n.length));for(var o=-1;++o<i;)r+=e[o]^n[o];return r}var s=n(53),a=n(137),c=n(138),u=n(7),l=n(75),f=n(37),h=n(139);e.exports=function(e,n,o){var a;a=e.padding?e.padding:o?1:4;var c=s(e),f=c.modulus.byteLength();if(n.length>f||new u(n).cmp(c.modulus)>=0)throw new Error("decryption error");var d;d=o?h(new u(n),c):l(n,c);var p=new t(f-d.length);if(p.fill(0),d=t.concat([p,d],f),4===a)return r(c,d);if(1===a)return i(c,d,o);if(3===a)return d;throw new Error("unknown padding")}}).call(t,n(0).Buffer)},function(e,t,n){"use strict";(function(e,r){function i(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}function o(e,t){if("number"!=typeof e||e!==e)throw new TypeError("offset must be a number");if(e>y||e<0)throw new TypeError("offset must be a uint32");if(e>d||e>t)throw new RangeError("offset out of range")}function s(e,t,n){if("number"!=typeof e||e!==e)throw new TypeError("size must be a number");if(e>y||e<0)throw new TypeError("size must be a uint32");if(e+t>n||e>d)throw new RangeError("buffer too small")}function a(t,n,r,i){if(!(h.isBuffer(t)||t instanceof e.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof n)i=n,n=0,r=t.length;else if("function"==typeof r)i=r,r=t.length-n;else if("function"!=typeof i)throw new TypeError('"cb" argument must be a function');return o(n,t.length),s(r,n,t.length),c(t,n,r,i)}function c(e,t,n,i){if(r.browser){var o=e.buffer,s=new Uint8Array(o,t,n);return p.getRandomValues(s),i?void r.nextTick(function(){i(null,e)}):e}return i?void f(n,function(n,r){if(n)return i(n);r.copy(e,t),i(null,e)}):(f(n).copy(e,t),e)}function u(t,n,r){if(void 0===n&&(n=0),!(h.isBuffer(t)||t instanceof e.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return o(n,t.length),void 0===r&&(r=t.length-n),s(r,n,t.length),c(t,n,r)}var l=n(2),f=n(27),h=l.Buffer,d=l.kMaxLength,p=e.crypto||e.msCrypto,y=Math.pow(2,32)-1;p&&p.getRandomValues||!r.browser?(t.randomFill=a,t.randomFillSync=u):(t.randomFill=i,t.randomFillSync=i)}).call(t,n(5),n(6))},function(e,t,n){var r=n(288),i=n(289),o=[n(296)];e.exports=r.createStore(i,o)},function(e,t,n){function r(){var e="undefined"==typeof console?null:console;if(e){(e.warn?e.warn:e.log).apply(e,arguments)}}function i(e,t,n){n||(n=""),e&&!f(e)&&(e=[e]),t&&!f(t)&&(t=[t]);var i=n?"__storejs_"+n+"_":"",o=n?new RegExp("^"+i):null;if(!/^[a-zA-Z0-9_\-]*$/.test(n))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var y={_namespacePrefix:i,_namespaceRegexp:o,_testStorage:function(e){try{var t="__storejs__test__";e.write(t,t);var n=e.read(t)===t;return e.remove(t),n}catch(e){return!1}},_assignPluginFnProp:function(e,t){var n=this[t];this[t]=function(){function t(){if(n)return c(arguments,function(e,t){r[t]=e}),n.apply(i,r)}var r=s(arguments,0),i=this,o=[t].concat(r);return e.apply(i,o)}},_serialize:function(e){return JSON.stringify(e)},_deserialize:function(e,t){if(!e)return t;var n="";try{n=JSON.parse(e)}catch(t){n=e}return void 0!==n?n:t},_addStorage:function(e){this.enabled||this._testStorage(e)&&(this.storage=e,this.enabled=!0)},_addPlugin:function(e){var t=this;if(f(e))return void c(e,function(e){t._addPlugin(e)});if(!a(this.plugins,function(t){return e===t})){if(this.plugins.push(e),!h(e))throw new Error("Plugins must be function values that return objects");var n=e.call(this);if(!d(n))throw new Error("Plugins must return an object of function properties");c(n,function(n,r){if(!h(n))throw new Error("Bad plugin property: "+r+" from plugin "+e.name+". Plugins should only return functions.");t._assignPluginFnProp(n,r)})}},addStorage:function(e){r("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(e)}},g=l(y,p,{plugins:[]});return g.raw={},c(g,function(e,t){h(e)&&(g.raw[t]=u(g,e))}),c(e,function(e){g._addStorage(e)}),c(t,function(e){g._addPlugin(e)}),g}var o=n(29),s=o.slice,a=o.pluck,c=o.each,u=o.bind,l=o.create,f=o.isList,h=o.isFunction,d=o.isObject;e.exports={createStore:i};var p={version:"2.0.12",enabled:!1,get:function(e,t){var n=this.storage.read(this._namespacePrefix+e);return this._deserialize(n,t)},set:function(e,t){return void 0===t?this.remove(e):(this.storage.write(this._namespacePrefix+e,this._serialize(t)),t)},remove:function(e){this.storage.remove(this._namespacePrefix+e)},each:function(e){var t=this;this.storage.each(function(n,r){e.call(t,t._deserialize(n),(r||"").replace(t._namespaceRegexp,""))})},clearAll:function(){this.storage.clearAll()},hasNamespace:function(e){return this._namespacePrefix=="__storejs_"+e+"_"},createStore:function(){return i.apply(this,arguments)},addPlugin:function(e){this._addPlugin(e)},namespace:function(e){return i(this.storage,this.plugins,e)}}},function(e,t,n){e.exports=[n(290),n(291),n(292),n(293),n(294),n(295)]},function(e,t,n){function r(){return l.localStorage}function i(e){return r().getItem(e)}function o(e,t){return r().setItem(e,t)}function s(e){for(var t=r().length-1;t>=0;t--){var n=r().key(t);e(i(n),n)}}function a(e){return r().removeItem(e)}function c(){return r().clear()}var u=n(29),l=u.Global;e.exports={name:"localStorage",read:i,write:o,each:s,remove:a,clearAll:c}},function(e,t,n){function r(e){return l[e]}function i(e,t){l[e]=t}function o(e){for(var t=l.length-1;t>=0;t--){var n=l.key(t);e(l[n],n)}}function s(e){return l.removeItem(e)}function a(){o(function(e,t){delete l[e]})}var c=n(29),u=c.Global;e.exports={name:"oldFF-globalStorage",read:r,write:i,each:o,remove:s,clearAll:a};var l=u.globalStorage},function(e,t,n){function r(e,t){if(!p){var n=c(e);d(function(e){e.setAttribute(n,t),e.save(f)})}}function i(e){if(!p){var t=c(e),n=null;return d(function(e){n=e.getAttribute(t)}),n}}function o(e){d(function(t){for(var n=t.XMLDocument.documentElement.attributes,r=n.length-1;r>=0;r--){var i=n[r];e(t.getAttribute(i.name),i.name)}})}function s(e){var t=c(e);d(function(e){e.removeAttribute(t),e.save(f)})}function a(){d(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(f);for(var n=t.length-1;n>=0;n--)e.removeAttribute(t[n].name);e.save(f)})}function c(e){return e.replace(/^\d/,"___$&").replace(y,"___")}var u=n(29),l=u.Global;e.exports={name:"oldIE-userDataStorage",write:r,read:i,each:o,remove:s,clearAll:a};var f="storejs",h=l.document,d=function(){if(!h||!h.documentElement||!h.documentElement.addBehavior)return null;var e,t,n;try{t=new ActiveXObject("htmlfile"),t.open(),t.write('<script>document.w=window<\/script><iframe src="/favicon.ico"></iframe>'),t.close(),e=t.w.frames[0].document,n=e.createElement("div")}catch(t){n=h.createElement("div"),e=h.body}return function(t){var r=[].slice.call(arguments,0);r.unshift(n),e.appendChild(n),n.addBehavior("#default#userData"),n.load(f),t.apply(this,r),e.removeChild(n)}}(),p=(l.navigator?l.navigator.userAgent:"").match(/ (MSIE 8|MSIE 9|MSIE 10)\./),y=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g")},function(e,t,n){function r(e){if(!e||!c(e))return null;var t="(?:^|.*;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(h.cookie.replace(new RegExp(t),"$1"))}function i(e){for(var t=h.cookie.split(/; ?/g),n=t.length-1;n>=0;n--)if(f(t[n])){var r=t[n].split("="),i=unescape(r[0]),o=unescape(r[1]);e(o,i)}}function o(e,t){e&&(h.cookie=escape(e)+"="+escape(t)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/")}function s(e){e&&c(e)&&(h.cookie=escape(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function a(){i(function(e,t){s(t)})}function c(e){return new RegExp("(?:^|;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(h.cookie)}var u=n(29),l=u.Global,f=u.trim;e.exports={name:"cookieStorage",read:r,write:o,each:i,remove:s,clearAll:a};var h=l.document},function(e,t,n){function r(){return l.sessionStorage}function i(e){return r().getItem(e)}function o(e,t){return r().setItem(e,t)}function s(e){for(var t=r().length-1;t>=0;t--){var n=r().key(t);e(i(n),n)}}function a(e){return r().removeItem(e)}function c(){return r().clear()}var u=n(29),l=u.Global;e.exports={name:"sessionStorage",read:i,write:o,each:s,remove:a,clearAll:c}},function(e,t){function n(e){return a[e]}function r(e,t){a[e]=t}function i(e){for(var t in a)a.hasOwnProperty(t)&&e(a[t],t)}function o(e){delete a[e]}function s(e){a={}}e.exports={name:"memoryStorage",read:n,write:r,each:i,remove:o,clearAll:s};var a={}},function(e,t,n){function r(){return n(297),{}}e.exports=r},function(module,exports){"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(e){return e<10?"0"+e:e}function this_value(){return this.valueOf()}function quote(e){return rx_escapable.lastIndex=0,rx_escapable.test(e)?'"'+e.replace(rx_escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,i,o,s,a=gap,c=t[e];switch(c&&"object"==typeof c&&"function"==typeof c.toJSON&&(c=c.toJSON(e)),"function"==typeof rep&&(c=rep.call(t,e,c)),typeof c){case"string":return quote(c);case"number":return isFinite(c)?String(c):"null";case"boolean":case"null":return String(c);case"object":if(!c)return"null";if(gap+=indent,s=[],"[object Array]"===Object.prototype.toString.apply(c)){for(o=c.length,n=0;n<o;n+=1)s[n]=str(n,c)||"null";return i=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+a+"]":"["+s.join(",")+"]",gap=a,i}if(rep&&"object"==typeof rep)for(o=rep.length,n=0;n<o;n+=1)"string"==typeof rep[n]&&(r=rep[n],(i=str(r,c))&&s.push(quote(r)+(gap?": ":":")+i));else for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(i=str(r,c))&&s.push(quote(r)+(gap?": ":":")+i);return i=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+a+"}":"{"+s.join(",")+"}",gap=a,i}}var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value);var gap,indent,meta,rep;"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;r<n;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var n,r,i=e[t];if(i&&"object"==typeof i)for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r=walk(i,n),void 0!==r?i[n]=r:delete i[n]);return reviver.call(e,t,i)}var j;if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()},function(e,t,n){"use strict";function r(e,t,n){if(4!==t.length)throw new h.exception.invalid("invalid aes block size");var r=e.b[n],i=t[0]^r[0],o=t[n?3:1]^r[1],s=t[2]^r[2];t=t[n?1:3]^r[3];var a,c,u,l,f=r.length/4-2,d=4,p=[0,0,0,0];a=e.s[n],e=a[0];var y=a[1],g=a[2],m=a[3],v=a[4];for(l=0;l<f;l++)a=e[i>>>24]^y[o>>16&255]^g[s>>8&255]^m[255&t]^r[d],c=e[o>>>24]^y[s>>16&255]^g[t>>8&255]^m[255&i]^r[d+1],u=e[s>>>24]^y[t>>16&255]^g[i>>8&255]^m[255&o]^r[d+2],t=e[t>>>24]^y[i>>16&255]^g[o>>8&255]^m[255&s]^r[d+3],d+=4,i=a,o=c,s=u;for(l=0;4>l;l++)p[n?3&-l:l]=v[i>>>24]<<24^v[o>>16&255]<<16^v[s>>8&255]<<8^v[255&t]^r[d++],a=i,i=o,o=s,s=t,t=a;return p}function i(e,t){var n,r,i,o=e.F,s=e.b,a=o[0],c=o[1],u=o[2],l=o[3],f=o[4],h=o[5],d=o[6],p=o[7];for(n=0;64>n;n++)16>n?r=t[n]:(r=t[n+1&15],i=t[n+14&15],r=t[15&n]=(r>>>7^r>>>18^r>>>3^r<<25^r<<14)+(i>>>17^i>>>19^i>>>10^i<<15^i<<13)+t[15&n]+t[n+9&15]|0),r=r+p+(f>>>6^f>>>11^f>>>25^f<<26^f<<21^f<<7)+(d^f&(h^d))+s[n],p=d,d=h,h=f,f=l+r|0,l=u,u=c,c=a,a=r+(c&u^l&(c^u))+(c>>>2^c>>>13^c>>>22^c<<30^c<<19^c<<10)|0;o[0]=o[0]+a|0,o[1]=o[1]+c|0,o[2]=o[2]+u|0,o[3]=o[3]+l|0,o[4]=o[4]+f|0,o[5]=o[5]+h|0,o[6]=o[6]+d|0,o[7]=o[7]+p|0}function o(e,t){var n,r=h.random.K[e],i=[];for(n in r)r.hasOwnProperty(n)&&i.push(r[n]);for(n=0;n<i.length;n++)i[n](t)}function s(e,t){"undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?e.addEntropy(window.performance.now(),t,"loadtime"):e.addEntropy((new Date).valueOf(),t,"loadtime")}function a(e){e.b=c(e).concat(c(e)),e.L=new h.cipher.aes(e.b)}function c(e){for(var t=0;4>t&&(e.h[t]=e.h[t]+1|0,!e.h[t]);t++);return e.L.encrypt(e.h)}function u(e,t){return function(){t.apply(e,arguments)}}var l,f,h={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(e){this.toString=function(){return"CORRUPT: "+this.message},this.message=e},invalid:function(e){this.toString=function(){return"INVALID: "+this.message},this.message=e},bug:function(e){this.toString=function(){return"BUG: "+this.message},this.message=e},notReady:function(e){this.toString=function(){return"NOT READY: "+this.message},this.message=e}}};h.cipher.aes=function(e){this.s[0][0][0]||this.O();var t,n,r,i,o=this.s[0][4],s=this.s[1];t=e.length;var a=1;if(4!==t&&6!==t&&8!==t)throw new h.exception.invalid("invalid aes key size");for(this.b=[r=e.slice(0),i=[]],e=t;e<4*t+28;e++)n=r[e-1],(0==e%t||8===t&&4==e%t)&&(n=o[n>>>24]<<24^o[n>>16&255]<<16^o[n>>8&255]<<8^o[255&n],0==e%t&&(n=n<<8^n>>>24^a<<24,a=a<<1^283*(a>>7))),r[e]=r[e-t]^n;for(t=0;e;t++,e--)n=r[3&t?e:e-4],i[t]=4>=e||4>t?n:s[0][o[n>>>24]]^s[1][o[n>>16&255]]^s[2][o[n>>8&255]]^s[3][o[255&n]]},h.cipher.aes.prototype={encrypt:function(e){return r(this,e,0)},decrypt:function(e){return r(this,e,1)},s:[[[],[],[],[],[]],[[],[],[],[],[]]],O:function(){var e,t,n,r,i,o,s,a=this.s[0],c=this.s[1],u=a[4],l=c[4],f=[],h=[];for(e=0;256>e;e++)h[(f[e]=e<<1^283*(e>>7))^e]=e;for(t=n=0;!u[t];t^=r||1,n=h[n]||1)for(o=n^n<<1^n<<2^n<<3^n<<4,o=o>>8^255&o^99,u[t]=o,l[o]=t,i=f[e=f[r=f[t]]],s=16843009*i^65537*e^257*r^16843008*t,i=257*f[o]^16843008*o,e=0;4>e;e++)a[e][t]=i=i<<24^i>>>8,c[e][o]=s=s<<24^s>>>8;for(e=0;5>e;e++)a[e]=a[e].slice(0),c[e]=c[e].slice(0)}},h.bitArray={bitSlice:function(e,t,n){return e=h.bitArray.$(e.slice(t/32),32-(31&t)).slice(1),void 0===n?e:h.bitArray.clamp(e,n-t)},extract:function(e,t,n){var r=Math.floor(-t-n&31);return(-32&(t+n-1^t)?e[t/32|0]<<32-r^e[t/32+1|0]>>>r:e[t/32|0]>>>r)&(1<<n)-1},concat:function(e,t){if(0===e.length||0===t.length)return e.concat(t);var n=e[e.length-1],r=h.bitArray.getPartial(n);return 32===r?e.concat(t):h.bitArray.$(t,r,0|n,e.slice(0,e.length-1))},bitLength:function(e){var t=e.length;return 0===t?0:32*(t-1)+h.bitArray.getPartial(e[t-1])},clamp:function(e,t){if(32*e.length<t)return e;e=e.slice(0,Math.ceil(t/32));var n=e.length;return t&=31,0<n&&t&&(e[n-1]=h.bitArray.partial(t,e[n-1]&2147483648>>t-1,1)),e},partial:function(e,t,n){return 32===e?t:(n?0|t:t<<32-e)+1099511627776*e},getPartial:function(e){return Math.round(e/1099511627776)||32},equal:function(e,t){if(h.bitArray.bitLength(e)!==h.bitArray.bitLength(t))return!1;var n,r=0;for(n=0;n<e.length;n++)r|=e[n]^t[n];return 0===r},$:function(e,t,n,r){var i;for(i=0,void 0===r&&(r=[]);32<=t;t-=32)r.push(n),n=0;if(0===t)return r.concat(e);for(i=0;i<e.length;i++)r.push(n|e[i]>>>t),n=e[i]<<32-t;return i=e.length?e[e.length-1]:0,e=h.bitArray.getPartial(i),r.push(h.bitArray.partial(t+e&31,32<t+e?n:r.pop(),1)),r},i:function(e,t){return[e[0]^t[0],e[1]^t[1],e[2]^t[2],e[3]^t[3]]},byteswapM:function(e){var t,n;for(t=0;t<e.length;++t)n=e[t],e[t]=n>>>24|n>>>8&65280|(65280&n)<<8|n<<24;return e}},h.codec.utf8String={fromBits:function(e){var t,n,r="",i=h.bitArray.bitLength(e);for(t=0;t<i/8;t++)0==(3&t)&&(n=e[t/4]),r+=String.fromCharCode(n>>>8>>>8>>>8),n<<=8;return decodeURIComponent(escape(r))},toBits:function(e){e=unescape(encodeURIComponent(e));var t,n=[],r=0;for(t=0;t<e.length;t++)r=r<<8|e.charCodeAt(t),3==(3&t)&&(n.push(r),r=0);return 3&t&&n.push(h.bitArray.partial(8*(3&t),r)),n}},h.codec.hex={fromBits:function(e){var t,n="";for(t=0;t<e.length;t++)n+=(0xf00000000000+(0|e[t])).toString(16).substr(4);return n.substr(0,h.bitArray.bitLength(e)/4)},toBits:function(e){var t,n,r=[];for(e=e.replace(/\s|0x/g,""),n=e.length,e+="00000000",t=0;t<e.length;t+=8)r.push(0^parseInt(e.substr(t,8),16));return h.bitArray.clamp(r,4*n)}},h.codec.base32={B:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",X:"0123456789ABCDEFGHIJKLMNOPQRSTUV",BITS:32,BASE:5,REMAINING:27,fromBits:function(e,t,n){var r=h.codec.base32.BASE,i=h.codec.base32.REMAINING,o="",s=0,a=h.codec.base32.B,c=0,u=h.bitArray.bitLength(e);for(n&&(a=h.codec.base32.X),n=0;o.length*r<u;)o+=a.charAt((c^e[n]>>>s)>>>i),s<r?(c=e[n]<<r-s,s+=i,n++):(c<<=r,s-=r);for(;7&o.length&&!t;)o+="=";return o},toBits:function(e,t){e=e.replace(/\s|=/g,"").toUpperCase();var n,r,i=h.codec.base32.BITS,o=h.codec.base32.BASE,s=h.codec.base32.REMAINING,a=[],c=0,u=h.codec.base32.B,l=0,f="base32";for(t&&(u=h.codec.base32.X,f="base32hex"),n=0;n<e.length;n++){if(0>(r=u.indexOf(e.charAt(n)))){if(!t)try{return h.codec.base32hex.toBits(e)}catch(e){}throw new h.exception.invalid("this isn't "+f+"!")}c>s?(c-=s,a.push(l^r>>>c),l=r<<i-c):(c+=o,l^=r<<i-c)}return 56&c&&a.push(h.bitArray.partial(56&c,l,1)),a}},h.codec.base32hex={fromBits:function(e,t){return h.codec.base32.fromBits(e,t,1)},toBits:function(e){return h.codec.base32.toBits(e,1)}},h.codec.base64={B:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(e,t,n){var r="",i=0,o=h.codec.base64.B,s=0,a=h.bitArray.bitLength(e);for(n&&(o=o.substr(0,62)+"-_"),n=0;6*r.length<a;)r+=o.charAt((s^e[n]>>>i)>>>26),6>i?(s=e[n]<<6-i,i+=26,n++):(s<<=6,i-=6);for(;3&r.length&&!t;)r+="=";return r},toBits:function(e,t){e=e.replace(/\s|=/g,"");var n,r,i=[],o=0,s=h.codec.base64.B,a=0;for(t&&(s=s.substr(0,62)+"-_"),n=0;n<e.length;n++){if(0>(r=s.indexOf(e.charAt(n))))throw new h.exception.invalid("this isn't base64!");26<o?(o-=26,i.push(a^r>>>o),a=r<<32-o):(o+=6,a^=r<<32-o)}return 56&o&&i.push(h.bitArray.partial(56&o,a,1)),i}},h.codec.base64url={fromBits:function(e){return h.codec.base64.fromBits(e,1,1)},toBits:function(e){return h.codec.base64.toBits(e,1)}},h.hash.sha256=function(e){this.b[0]||this.O(),e?(this.F=e.F.slice(0),this.A=e.A.slice(0),this.l=e.l):this.reset()},h.hash.sha256.hash=function(e){return(new h.hash.sha256).update(e).finalize()},h.hash.sha256.prototype={blockSize:512,reset:function(){return this.F=this.Y.slice(0),this.A=[],this.l=0,this},update:function(e){"string"==typeof e&&(e=h.codec.utf8String.toBits(e));var t,n=this.A=h.bitArray.concat(this.A,e);if(t=this.l,9007199254740991<(e=this.l=t+h.bitArray.bitLength(e)))throw new h.exception.invalid("Cannot hash more than 2^53 - 1 bits");if("undefined"!=typeof Uint32Array){var r=new Uint32Array(n),o=0;for(t=512+t-(512+t&511);t<=e;t+=512)i(this,r.subarray(16*o,16*(o+1))),o+=1;n.splice(0,16*o)}else for(t=512+t-(512+t&511);t<=e;t+=512)i(this,n.splice(0,16));return this},finalize:function(){var e,t=this.A,n=this.F,t=h.bitArray.concat(t,[h.bitArray.partial(1,1)]);for(e=t.length+2;15&e;e++)t.push(0);for(t.push(Math.floor(this.l/4294967296)),t.push(0|this.l);t.length;)i(this,t.splice(0,16));return this.reset(),n},Y:[],b:[],O:function(){function e(e){return 4294967296*(e-Math.floor(e))|0}for(var t,n,r=0,i=2;64>r;i++){for(n=!0,t=2;t*t<=i;t++)if(0==i%t){n=!1;break}n&&(8>r&&(this.Y[r]=e(Math.pow(i,.5))),this.b[r]=e(Math.pow(i,1/3)),r++)}}},h.mode.ccm={name:"ccm",G:[],listenProgress:function(e){h.mode.ccm.G.push(e)},unListenProgress:function(e){-1<(e=h.mode.ccm.G.indexOf(e))&&h.mode.ccm.G.splice(e,1)},fa:function(e){var t,n=h.mode.ccm.G.slice();for(t=0;t<n.length;t+=1)n[t](e)},encrypt:function(e,t,n,r,i){var o,s=t.slice(0),a=h.bitArray,c=a.bitLength(n)/8,u=a.bitLength(s)/8;if(i=i||64,r=r||[],7>c)throw new h.exception.invalid("ccm: iv must be at least 7 bytes");for(o=2;4>o&&u>>>8*o;o++);return o<15-c&&(o=15-c),n=a.clamp(n,8*(15-o)),t=h.mode.ccm.V(e,t,n,r,i,o),s=h.mode.ccm.C(e,s,n,t,i,o),a.concat(s.data,s.tag)},decrypt:function(e,t,n,r,i){i=i||64,r=r||[];var o=h.bitArray,s=o.bitLength(n)/8,a=o.bitLength(t),c=o.clamp(t,a-i),u=o.bitSlice(t,a-i),a=(a-i)/8;if(7>s)throw new h.exception.invalid("ccm: iv must be at least 7 bytes");for(t=2;4>t&&a>>>8*t;t++);if(t<15-s&&(t=15-s),n=o.clamp(n,8*(15-t)),c=h.mode.ccm.C(e,c,n,u,i,t),e=h.mode.ccm.V(e,c.data,n,r,i,t),!o.equal(c.tag,e))throw new h.exception.corrupt("ccm: tag doesn't match");return c.data},na:function(e,t,n,r,i,o){var s=[],a=h.bitArray,c=a.i;if(r=[a.partial(8,(t.length?64:0)|r-2<<2|o-1)],r=a.concat(r,n),r[3]|=i,r=e.encrypt(r),t.length)for(n=a.bitLength(t)/8,65279>=n?s=[a.partial(16,n)]:4294967295>=n&&(s=a.concat([a.partial(16,65534)],[n])),s=a.concat(s,t),t=0;t<s.length;t+=4)r=e.encrypt(c(r,s.slice(t,t+4).concat([0,0,0])));return r},V:function(e,t,n,r,i,o){var s=h.bitArray,a=s.i;if((i/=8)%2||4>i||16<i)throw new h.exception.invalid("ccm: invalid tag length");if(4294967295<r.length||4294967295<t.length)throw new h.exception.bug("ccm: can't deal with 4GiB or more data");for(n=h.mode.ccm.na(e,r,n,i,s.bitLength(t)/8,o),r=0;r<t.length;r+=4)n=e.encrypt(a(n,t.slice(r,r+4).concat([0,0,0])));return s.clamp(n,8*i)},C:function(e,t,n,r,i,o){var s,a=h.bitArray;s=a.i;var c=t.length,u=a.bitLength(t),l=c/50,f=l;if(n=a.concat([a.partial(8,o-1)],n).concat([0,0,0]).slice(0,4),r=a.bitSlice(s(r,e.encrypt(n)),0,i),!c)return{tag:r,data:[]};for(s=0;s<c;s+=4)s>l&&(h.mode.ccm.fa(s/c),l+=f),n[3]++,i=e.encrypt(n),t[s]^=i[0],t[s+1]^=i[1],t[s+2]^=i[2],t[s+3]^=i[3];return{tag:r,data:a.clamp(t,u)}}},h.mode.ocb2={name:"ocb2",encrypt:function(e,t,n,r,i,o){if(128!==h.bitArray.bitLength(n))throw new h.exception.invalid("ocb iv must be 128 bits");var s,a=h.mode.ocb2.S,c=h.bitArray,u=c.i,l=[0,0,0,0];n=a(e.encrypt(n));var f,d=[];for(r=r||[],i=i||64,s=0;s+4<t.length;s+=4)f=t.slice(s,s+4),l=u(l,f),d=d.concat(u(n,e.encrypt(u(n,f)))),n=a(n);return f=t.slice(s),t=c.bitLength(f),s=e.encrypt(u(n,[0,0,0,t])),f=c.clamp(u(f.concat([0,0,0]),s),t),l=u(l,u(f.concat([0,0,0]),s)),l=e.encrypt(u(l,u(n,a(n)))),r.length&&(l=u(l,o?r:h.mode.ocb2.pmac(e,r))),d.concat(c.concat(f,c.clamp(l,i)))},decrypt:function(e,t,n,r,i,o){if(128!==h.bitArray.bitLength(n))throw new h.exception.invalid("ocb iv must be 128 bits");i=i||64;var s,a,c=h.mode.ocb2.S,u=h.bitArray,l=u.i,f=[0,0,0,0],d=c(e.encrypt(n)),p=h.bitArray.bitLength(t)-i,y=[];for(r=r||[],n=0;n+4<p/32;n+=4)s=l(d,e.decrypt(l(d,t.slice(n,n+4)))),f=l(f,s),y=y.concat(s),d=c(d);if(a=p-32*n,s=e.encrypt(l(d,[0,0,0,a])),s=l(s,u.clamp(t.slice(n),a).concat([0,0,0])),f=l(f,s),f=e.encrypt(l(f,l(d,c(d)))),r.length&&(f=l(f,o?r:h.mode.ocb2.pmac(e,r))),!u.equal(u.clamp(f,i),u.bitSlice(t,p)))throw new h.exception.corrupt("ocb: tag doesn't match");return y.concat(u.clamp(s,a))},pmac:function(e,t){var n,r=h.mode.ocb2.S,i=h.bitArray,o=i.i,s=[0,0,0,0],a=e.encrypt([0,0,0,0]),a=o(a,r(r(a)));for(n=0;n+4<t.length;n+=4)a=r(a),s=o(s,e.encrypt(o(a,t.slice(n,n+4))));return n=t.slice(n),128>i.bitLength(n)&&(a=o(a,r(a)),n=i.concat(n,[-2147483648,0,0,0])),s=o(s,n),e.encrypt(o(r(o(a,r(a))),s))},S:function(e){return[e[0]<<1^e[1]>>>31,e[1]<<1^e[2]>>>31,e[2]<<1^e[3]>>>31,e[3]<<1^135*(e[0]>>>31)]}},h.mode.gcm={name:"gcm",encrypt:function(e,t,n,r,i){var o=t.slice(0);return t=h.bitArray,r=r||[],e=h.mode.gcm.C(!0,e,o,r,n,i||128),t.concat(e.data,e.tag)},decrypt:function(e,t,n,r,i){var o=t.slice(0),s=h.bitArray,a=s.bitLength(o);if(i=i||128,r=r||[],i<=a?(t=s.bitSlice(o,a-i),o=s.bitSlice(o,0,a-i)):(t=o,o=[]),e=h.mode.gcm.C(!1,e,o,r,n,i),!s.equal(e.tag,t))throw new h.exception.corrupt("gcm: tag doesn't match");return e.data},ka:function(e,t){var n,r,i,o,s,a=h.bitArray.i;for(i=[0,0,0,0],o=t.slice(0),n=0;128>n;n++){for((r=0!=(e[Math.floor(n/32)]&1<<31-n%32))&&(i=a(i,o)),s=0!=(1&o[3]),r=3;0<r;r--)o[r]=o[r]>>>1|(1&o[r-1])<<31;o[0]>>>=1,s&&(o[0]^=-520093696)}return i},j:function(e,t,n){var r,i=n.length;for(t=t.slice(0),r=0;r<i;r+=4)t[0]^=4294967295&n[r],t[1]^=4294967295&n[r+1],t[2]^=4294967295&n[r+2],t[3]^=4294967295&n[r+3],t=h.mode.gcm.ka(t,e);return t},C:function(e,t,n,r,i,o){var s,a,c,u,l,f,d,p,y=h.bitArray;for(f=n.length,d=y.bitLength(n),p=y.bitLength(r),a=y.bitLength(i),s=t.encrypt([0,0,0,0]),96===a?(i=i.slice(0),i=y.concat(i,[1])):(i=h.mode.gcm.j(s,[0,0,0,0],i),i=h.mode.gcm.j(s,i,[0,0,Math.floor(a/4294967296),4294967295&a])),a=h.mode.gcm.j(s,[0,0,0,0],r),l=i.slice(0),r=a.slice(0),e||(r=h.mode.gcm.j(s,a,n)),u=0;u<f;u+=4)l[3]++,c=t.encrypt(l),n[u]^=c[0],n[u+1]^=c[1],n[u+2]^=c[2],n[u+3]^=c[3];return n=y.clamp(n,d),e&&(r=h.mode.gcm.j(s,a,n)),e=[Math.floor(p/4294967296),4294967295&p,Math.floor(d/4294967296),4294967295&d],r=h.mode.gcm.j(s,r,e),c=t.encrypt(i),r[0]^=c[0],r[1]^=c[1],r[2]^=c[2],r[3]^=c[3],{tag:y.bitSlice(r,0,o),data:n}}},h.misc.hmac=function(e,t){this.W=t=t||h.hash.sha256;var n,r=[[],[]],i=t.prototype.blockSize/32;for(this.w=[new t,new t],e.length>i&&(e=t.hash(e)),n=0;n<i;n++)r[0][n]=909522486^e[n],r[1][n]=1549556828^e[n];this.w[0].update(r[0]),this.w[1].update(r[1]),this.R=new t(this.w[0])},h.misc.hmac.prototype.encrypt=h.misc.hmac.prototype.mac=function(e){if(this.aa)throw new h.exception.invalid("encrypt on already updated hmac called!");return this.update(e),this.digest(e)},h.misc.hmac.prototype.reset=function(){this.R=new this.W(this.w[0]),this.aa=!1},h.misc.hmac.prototype.update=function(e){this.aa=!0,this.R.update(e)},h.misc.hmac.prototype.digest=function(){var e=this.R.finalize(),e=new this.W(this.w[1]).update(e).finalize();return this.reset(),e},h.misc.pbkdf2=function(e,t,n,r,i){if(n=n||1e4,0>r||0>n)throw new h.exception.invalid("invalid params to pbkdf2");"string"==typeof e&&(e=h.codec.utf8String.toBits(e)),"string"==typeof t&&(t=h.codec.utf8String.toBits(t)),i=i||h.misc.hmac,e=new i(e);var o,s,a,c,u=[],l=h.bitArray;for(c=1;32*u.length<(r||1);c++){for(i=o=e.encrypt(l.concat(t,[c])),s=1;s<n;s++)for(o=e.encrypt(o),a=0;a<o.length;a++)i[a]^=o[a];u=u.concat(i)}return r&&(u=l.clamp(u,r)),u},h.prng=function(e){this.c=[new h.hash.sha256],this.m=[0],this.P=0,this.H={},this.N=0,this.U={},this.Z=this.f=this.o=this.ha=0,this.b=[0,0,0,0,0,0,0,0],this.h=[0,0,0,0],this.L=void 0,this.M=e,this.D=!1,this.K={progress:{},seeded:{}},this.u=this.ga=0,this.I=1,this.J=2,this.ca=65536,this.T=[0,48,64,96,128,192,256,384,512,768,1024],this.da=3e4,this.ba=80},h.prng.prototype={randomWords:function(e,t){var n,r=[];n=this.isReady(t);var i;if(n===this.u)throw new h.exception.notReady("generator isn't seeded");if(n&this.J){n=!(n&this.I),i=[];var o,s=0;for(this.Z=i[0]=(new Date).valueOf()+this.da,o=0;16>o;o++)i.push(4294967296*Math.random()|0);for(o=0;o<this.c.length&&(i=i.concat(this.c[o].finalize()),s+=this.m[o],this.m[o]=0,n||!(this.P&1<<o));o++);for(this.P>=1<<this.c.length&&(this.c.push(new h.hash.sha256),this.m.push(0)),this.f-=s,s>this.o&&(this.o=s),this.P++,this.b=h.hash.sha256.hash(this.b.concat(i)),this.L=new h.cipher.aes(this.b),n=0;4>n&&(this.h[n]=this.h[n]+1|0,!this.h[n]);n++);}for(n=0;n<e;n+=4)0==(n+1)%this.ca&&a(this),i=c(this),r.push(i[0],i[1],i[2],i[3]);return a(this),r.slice(0,e)},setDefaultParanoia:function(e,t){if(0===e&&"Setting paranoia=0 will ruin your security; use it only for testing"!==t)throw new h.exception.invalid("Setting paranoia=0 will ruin your security; use it only for testing");this.M=e},addEntropy:function(e,t,n){n=n||"user";var r,i,s=(new Date).valueOf(),a=this.H[n],c=this.isReady(),u=0;switch(r=this.U[n],void 0===r&&(r=this.U[n]=this.ha++),void 0===a&&(a=this.H[n]=0),this.H[n]=(this.H[n]+1)%this.c.length,typeof e){case"number":void 0===t&&(t=1),this.c[a].update([r,this.N++,1,t,s,1,0|e]);break;case"object":if("[object Uint32Array]"===(n=Object.prototype.toString.call(e))){for(i=[],n=0;n<e.length;n++)i.push(e[n]);e=i}else for("[object Array]"!==n&&(u=1),n=0;n<e.length&&!u;n++)"number"!=typeof e[n]&&(u=1);if(!u){if(void 0===t)for(n=t=0;n<e.length;n++)for(i=e[n];0<i;)t++,i>>>=1;this.c[a].update([r,this.N++,2,t,s,e.length].concat(e))}break;case"string":void 0===t&&(t=e.length),this.c[a].update([r,this.N++,3,t,s,e.length]),this.c[a].update(e);break;default:u=1}if(u)throw new h.exception.bug("random: addEntropy only supports number, array of numbers or string");this.m[a]+=t,this.f+=t,c===this.u&&(this.isReady()!==this.u&&o("seeded",Math.max(this.o,this.f)),o("progress",this.getProgress()))},isReady:function(e){return e=this.T[void 0!==e?e:this.M],this.o&&this.o>=e?this.m[0]>this.ba&&(new Date).valueOf()>this.Z?this.J|this.I:this.I:this.f>=e?this.J|this.u:this.u},getProgress:function(e){return e=this.T[e||this.M],this.o>=e?1:this.f>e?1:this.f/e},startCollectors:function(){if(!this.D){if(this.a={loadTimeCollector:u(this,this.ma),mouseCollector:u(this,this.oa),keyboardCollector:u(this,this.la),accelerometerCollector:u(this,this.ea),touchCollector:u(this,this.qa)},window.addEventListener)window.addEventListener("load",this.a.loadTimeCollector,!1),window.addEventListener("mousemove",this.a.mouseCollector,!1),window.addEventListener("keypress",this.a.keyboardCollector,!1),window.addEventListener("devicemotion",this.a.accelerometerCollector,!1),window.addEventListener("touchmove",this.a.touchCollector,!1);else{if(!document.attachEvent)throw new h.exception.bug("can't attach event");document.attachEvent("onload",this.a.loadTimeCollector),document.attachEvent("onmousemove",this.a.mouseCollector),document.attachEvent("keypress",this.a.keyboardCollector)}this.D=!0}},stopCollectors:function(){this.D&&(window.removeEventListener?(window.removeEventListener("load",this.a.loadTimeCollector,!1),window.removeEventListener("mousemove",this.a.mouseCollector,!1),window.removeEventListener("keypress",this.a.keyboardCollector,!1),window.removeEventListener("devicemotion",this.a.accelerometerCollector,!1),window.removeEventListener("touchmove",this.a.touchCollector,!1)):document.detachEvent&&(document.detachEvent("onload",this.a.loadTimeCollector),document.detachEvent("onmousemove",this.a.mouseCollector),document.detachEvent("keypress",this.a.keyboardCollector)),this.D=!1)},addEventListener:function(e,t){this.K[e][this.ga++]=t},removeEventListener:function(e,t){var n,r,i=this.K[e],o=[];for(r in i)i.hasOwnProperty(r)&&i[r]===t&&o.push(r);for(n=0;n<o.length;n++)r=o[n],delete i[r]},la:function(){s(this,1)},oa:function(e){var t,n;try{t=e.x||e.clientX||e.offsetX||0,n=e.y||e.clientY||e.offsetY||0}catch(e){n=t=0}0!=t&&0!=n&&this.addEntropy([t,n],2,"mouse"),s(this,0)},qa:function(e){e=e.touches[0]||e.changedTouches[0],this.addEntropy([e.pageX||e.clientX,e.pageY||e.clientY],1,"touch"),s(this,0)},ma:function(){s(this,2)},ea:function(e){if(e=e.accelerationIncludingGravity.x||e.accelerationIncludingGravity.y||e.accelerationIncludingGravity.z,window.orientation){var t=window.orientation;"number"==typeof t&&this.addEntropy(t,1,"accelerometer")}e&&this.addEntropy(e,2,"accelerometer"),s(this,0)}},h.random=new h.prng(6);e:try{var d,p,y,g;if(g=void 0!==e&&e.exports){var m;try{m=n(36)}catch(e){m=null}g=p=m}if(g&&p.randomBytes)d=p.randomBytes(128),d=new Uint32Array(new Uint8Array(d).buffer),h.random.addEntropy(d,1024,"crypto['randomBytes']");else if("undefined"!=typeof window&&"undefined"!=typeof Uint32Array){if(y=new Uint32Array(32),window.crypto&&window.crypto.getRandomValues)window.crypto.getRandomValues(y);else{if(!window.msCrypto||!window.msCrypto.getRandomValues)break e;window.msCrypto.getRandomValues(y)}h.random.addEntropy(y,1024,"crypto['getRandomValues']")}}catch(e){"undefined"!=typeof window&&window.console&&(console.log("There was an error collecting entropy from the browser:"),console.log(e))}h.json={defaults:{v:1,iter:1e4,ks:128,ts:64,mode:"ccm",adata:"",cipher:"aes"},ja:function(e,t,n,r){n=n||{},r=r||{};var i,o=h.json,s=o.g({iv:h.random.randomWords(4,0)},o.defaults);if(o.g(s,n),n=s.adata,"string"==typeof s.salt&&(s.salt=h.codec.base64.toBits(s.salt)),"string"==typeof s.iv&&(s.iv=h.codec.base64.toBits(s.iv)),!h.mode[s.mode]||!h.cipher[s.cipher]||"string"==typeof e&&100>=s.iter||64!==s.ts&&96!==s.ts&&128!==s.ts||128!==s.ks&&192!==s.ks&&256!==s.ks||2>s.iv.length||4<s.iv.length)throw new h.exception.invalid("json encrypt: invalid parameters");return"string"==typeof e?(i=h.misc.cachedPbkdf2(e,s),e=i.key.slice(0,s.ks/32),s.salt=i.salt):h.ecc&&e instanceof h.ecc.elGamal.publicKey&&(i=e.kem(),s.kemtag=i.tag,e=i.key.slice(0,s.ks/32)),"string"==typeof t&&(t=h.codec.utf8String.toBits(t)),"string"==typeof n&&(s.adata=n=h.codec.utf8String.toBits(n)),i=new h.cipher[s.cipher](e),o.g(r,s),r.key=e,s.ct="ccm"===s.mode&&h.arrayBuffer&&h.arrayBuffer.ccm&&t instanceof ArrayBuffer?h.arrayBuffer.ccm.encrypt(i,t,s.iv,n,s.ts):h.mode[s.mode].encrypt(i,t,s.iv,n,s.ts),s},encrypt:function(e,t,n,r){var i=h.json,o=i.ja.apply(i,arguments);return i.encode(o)},ia:function(e,t,n,r){n=n||{},r=r||{};var i=h.json;t=i.g(i.g(i.g({},i.defaults),t),n,!0);var o,s;if(o=t.adata,"string"==typeof t.salt&&(t.salt=h.codec.base64.toBits(t.salt)),"string"==typeof t.iv&&(t.iv=h.codec.base64.toBits(t.iv)),!h.mode[t.mode]||!h.cipher[t.cipher]||"string"==typeof e&&100>=t.iter||64!==t.ts&&96!==t.ts&&128!==t.ts||128!==t.ks&&192!==t.ks&&256!==t.ks||!t.iv||2>t.iv.length||4<t.iv.length)throw new h.exception.invalid("json decrypt: invalid parameters");return"string"==typeof e?(s=h.misc.cachedPbkdf2(e,t),e=s.key.slice(0,t.ks/32),t.salt=s.salt):h.ecc&&e instanceof h.ecc.elGamal.secretKey&&(e=e.unkem(h.codec.base64.toBits(t.kemtag)).slice(0,t.ks/32)),"string"==typeof o&&(o=h.codec.utf8String.toBits(o)),s=new h.cipher[t.cipher](e),o="ccm"===t.mode&&h.arrayBuffer&&h.arrayBuffer.ccm&&t.ct instanceof ArrayBuffer?h.arrayBuffer.ccm.decrypt(s,t.ct,t.iv,t.tag,o,t.ts):h.mode[t.mode].decrypt(s,t.ct,t.iv,o,t.ts),i.g(r,t),r.key=e,1===n.raw?o:h.codec.utf8String.fromBits(o)},decrypt:function(e,t,n,r){var i=h.json;return i.ia(e,i.decode(t),n,r)},encode:function(e){var t,n="{",r="";for(t in e)if(e.hasOwnProperty(t)){if(!t.match(/^[a-z0-9]+$/i))throw new h.exception.invalid("json encode: invalid property name");switch(n+=r+'"'+t+'":',r=",",typeof e[t]){case"number":case"boolean":n+=e[t];break;case"string":n+='"'+escape(e[t])+'"';break;case"object":n+='"'+h.codec.base64.fromBits(e[t],0)+'"';break;default:throw new h.exception.bug("json encode: unsupported type")}}return n+"}"},decode:function(e){if(e=e.replace(/\s/g,""),!e.match(/^\{.*\}$/))throw new h.exception.invalid("json decode: this isn't json!");e=e.replace(/^\{|\}$/g,"").split(/,/);var t,n,r={};for(t=0;t<e.length;t++){if(!(n=e[t].match(/^\s*(?:(["']?)([a-z][a-z0-9]*)\1)\s*:\s*(?:(-?\d+)|"([a-z0-9+\/%*_.@=\-]*)"|(true|false))$/i)))throw new h.exception.invalid("json decode: this isn't json!");null!=n[3]?r[n[2]]=parseInt(n[3],10):null!=n[4]?r[n[2]]=n[2].match(/^(ct|adata|salt|iv)$/)?h.codec.base64.toBits(n[4]):unescape(n[4]):null!=n[5]&&(r[n[2]]="true"===n[5])}return r},g:function(e,t,n){if(void 0===e&&(e={}),void 0===t)return e;for(var r in t)if(t.hasOwnProperty(r)){if(n&&void 0!==e[r]&&e[r]!==t[r])throw new h.exception.invalid("required parameter overridden");e[r]=t[r]}return e},sa:function(e,t){var n,r={};for(n in e)e.hasOwnProperty(n)&&e[n]!==t[n]&&(r[n]=e[n]);return r},ra:function(e,t){var n,r={};for(n=0;n<t.length;n++)void 0!==e[t[n]]&&(r[t[n]]=e[t[n]]);return r}},h.encrypt=h.json.encrypt,h.decrypt=h.json.decrypt,h.misc.pa={},h.misc.cachedPbkdf2=function(e,t){var n,r=h.misc.pa;return t=t||{},n=t.iter||1e3,r=r[e]=r[e]||{},n=r[n]=r[n]||{firstSalt:t.salt&&t.salt.length?t.salt.slice(0):h.random.randomWords(2,0)},r=void 0===t.salt?n.firstSalt:t.salt,n[r]=n[r]||h.misc.pbkdf2(e,r,t.iter),{key:n[r].slice(0),salt:r.slice(0)}},void 0!==e&&e.exports&&(e.exports=h),l=[],void 0!==(f=function(){return h}.apply(t,l))&&(e.exports=f)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return t?e+"-priv":e+"-pub"}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(77),u=c.KEYUTIL,l=n(3),f=n(300),h=(l.getLogger("CryptoKeyStore.js"),function(e){return function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"getKey",value:function(e){var t=this;return this.getValue(s(e,!0)).then(function(n){if(null!==n){var r=u.getKeyFromPlainPrivatePKCS8PEM(n);return new f(r)}return t.getValue(s(e,!1))}).then(function(e){if(f.isInstance(e))return e;if(null!==e){var t=u.getKey(e);return new f(t)}})}},{key:"putKey",value:function(e){var t=s(e.getSKI(),e.isPrivate()),n=e.toBytes();return this.setValue(t,n).then(function(){return e})}}]),t}(e)}),d=function(e,t){var n;if("function"!=typeof e){var s=l.getConfigSetting("crypto-value-store");s||(s=l.getConfigSetting("key-value-store")),n=!function(){var e=new Error('Cannot find module "."');throw e.code="MODULE_NOT_FOUND",e}()}else n=e;return null!==e&&void 0===t&&(t=e),new(function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),t}(h(n)))(t)};e.exports=d},function(e,t,n){"use strict";(function(t){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(78),s=n(3),a=n(77),c=a.asn1,u=a.KEYUTIL,l=a.ECDSA,f=s.getLogger("ecdsa/key.js");e.exports=function(){function e(t){if(r(this,e),void 0===t||null===t)throw new Error("The key parameter is required by this key class implementation, whether this instance is for the public key or private key");if(!t.type||"EC"!==t.type)throw new Error('This key implementation only supports keys generated by jsrsasign.KEYUTIL. It must have a "type" property of value "EC"');if(void 0===t.prvKeyHex)throw new Error('This key implementation only supports keys generated by jsrsasign.KEYUTIL. It must have a "prvKeyHex" property');if(!t.pubKeyHex)throw new Error('This key implementation only supports keys generated by jsrsasign.KEYUTIL. It must have a "pubKeyHex" property');this._key=void 0===t?null:t}return i(e,[{key:"getSKI",value:function(){var e,n=function(e){var n=e.ecparams.keylen+7>>3,r=t.allocUnsafe(1+2*n);r[0]=4;var i=e.getPublicKeyXYHex(),o=t.from(i.x,"hex"),s=t.from(i.y,"hex");return f.debug("ECDSA curve param X: %s",o.toString("hex")),f.debug("ECDSA curve param Y: %s",s.toString("hex")),o.copy(r,1+n-o.length),s.copy(r,1+2*n-s.length),r};return e=n(this._key.isPublic?this._key:this.getPublicKey()._key),o.sha2_256(e)}},{key:"isSymmetric",value:function(){return!1}},{key:"isPrivate",value:function(){return void 0===this._key.prvKeyHex||null!==this._key.prvKeyHex}},{key:"getPublicKey",value:function(){if(this._key.isPublic)return this;var t=new l({curve:this._key.curveName});return t.setPublicKeyHex(this._key.pubKeyHex),t.isPrivate=!1,t.isPublic=!0,new e(t)}},{key:"generateCSR",value:function(e){if(!this.isPrivate())throw new Error("A CSR cannot be generated from a public key");try{return c.csr.CSRUtil.newCSRPEM({subject:{str:c.x509.X500Name.ldapToOneline(e)},sbjpubkey:this.getPublicKey()._key,sigalg:"SHA256withECDSA",sbjprvkey:this._key})}catch(e){throw e}}},{key:"toBytes",value:function(){return this.isPrivate()?u.getPEM(this._key,"PKCS8PRV"):u.getPEM(this._key)}}],[{key:"isInstance",value:function(e){if(void 0===e._key)return!1;var t=e._key;return t.type&&"EC"===t.type&&void 0!==t.prvKeyHex&&"string"==typeof t.pubKeyHex}}]),e}()}).call(t,n(0).Buffer)},function(e,t,n){(function(t,n){/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.5.7
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2016
 * @license MIT
 */
!function(){"use strict";function r(e,t,n){this.blocks=[],this.s=[],this.padding=t,this.outputBits=n,this.reset=!0,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=n>>5,this.extraBytes=(31&n)>>3;for(var r=0;r<50;++r)this.s[r]=0}var i="object"==typeof window?window:{};!i.JS_SHA3_NO_NODE_JS&&"object"==typeof t&&t.versions&&t.versions.node&&(i=n);for(var o=!i.JS_SHA3_NO_COMMON_JS&&"object"==typeof e&&e.exports,s="0123456789abcdef".split(""),a=[31,7936,2031616,520093696],c=[1,256,65536,16777216],u=[6,1536,393216,100663296],l=[0,8,16,24],f=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],h=[224,256,384,512],d=[128,256],p=["hex","buffer","arrayBuffer","array"],y=function(e,t,n){return function(i){return new r(e,t,e).update(i)[n]()}},g=function(e,t,n){return function(i,o){return new r(e,t,o).update(i)[n]()}},m=function(e,t){var n=y(e,t,"hex");n.create=function(){return new r(e,t,e)},n.update=function(e){return n.create().update(e)};for(var i=0;i<p.length;++i){var o=p[i];n[o]=y(e,t,o)}return n},v=function(e,t){var n=g(e,t,"hex");n.create=function(n){return new r(e,t,n)},n.update=function(e,t){return n.create(t).update(e)};for(var i=0;i<p.length;++i){var o=p[i];n[o]=g(e,t,o)}return n},b=[{name:"keccak",padding:c,bits:h,createMethod:m},{name:"sha3",padding:u,bits:h,createMethod:m},{name:"shake",padding:a,bits:d,createMethod:v}],w={},S=[],E=0;E<b.length;++E)for(var k=b[E],x=k.bits,_=0;_<x.length;++_){var O=k.name+"_"+x[_];S.push(O),w[O]=k.createMethod(x[_],k.padding)}r.prototype.update=function(e){var t="string"!=typeof e;t&&e.constructor===ArrayBuffer&&(e=new Uint8Array(e));for(var n,r,i=e.length,o=this.blocks,s=this.byteCount,a=this.blockCount,c=0,u=this.s;c<i;){if(this.reset)for(this.reset=!1,o[0]=this.block,n=1;n<a+1;++n)o[n]=0;if(t)for(n=this.start;c<i&&n<s;++c)o[n>>2]|=e[c]<<l[3&n++];else for(n=this.start;c<i&&n<s;++c)r=e.charCodeAt(c),r<128?o[n>>2]|=r<<l[3&n++]:r<2048?(o[n>>2]|=(192|r>>6)<<l[3&n++],o[n>>2]|=(128|63&r)<<l[3&n++]):r<55296||r>=57344?(o[n>>2]|=(224|r>>12)<<l[3&n++],o[n>>2]|=(128|r>>6&63)<<l[3&n++],o[n>>2]|=(128|63&r)<<l[3&n++]):(r=65536+((1023&r)<<10|1023&e.charCodeAt(++c)),o[n>>2]|=(240|r>>18)<<l[3&n++],o[n>>2]|=(128|r>>12&63)<<l[3&n++],o[n>>2]|=(128|r>>6&63)<<l[3&n++],o[n>>2]|=(128|63&r)<<l[3&n++]);if(this.lastByteIndex=n,n>=s){for(this.start=n-s,this.block=o[a],n=0;n<a;++n)u[n]^=o[n];C(u),this.reset=!0}else this.start=n}return this},r.prototype.finalize=function(){var e=this.blocks,t=this.lastByteIndex,n=this.blockCount,r=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[n],t=1;t<n+1;++t)e[t]=0;for(e[n-1]|=2147483648,t=0;t<n;++t)r[t]^=e[t];C(r)},r.prototype.toString=r.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,n=this.s,r=this.outputBlocks,i=this.extraBytes,o=0,a=0,c="";a<r;){for(o=0;o<t&&a<r;++o,++a)e=n[o],c+=s[e>>4&15]+s[15&e]+s[e>>12&15]+s[e>>8&15]+s[e>>20&15]+s[e>>16&15]+s[e>>28&15]+s[e>>24&15];a%t==0&&(C(n),o=0)}return i&&(e=n[o],i>0&&(c+=s[e>>4&15]+s[15&e]),i>1&&(c+=s[e>>12&15]+s[e>>8&15]),i>2&&(c+=s[e>>20&15]+s[e>>16&15])),c},r.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,n=this.s,r=this.outputBlocks,i=this.extraBytes,o=0,s=0,a=this.outputBits>>3;e=i?new ArrayBuffer(r+1<<2):new ArrayBuffer(a);for(var c=new Uint32Array(e);s<r;){for(o=0;o<t&&s<r;++o,++s)c[s]=n[o];s%t==0&&C(n)}return i&&(c[o]=n[o],e=e.slice(0,a)),e},r.prototype.buffer=r.prototype.arrayBuffer,r.prototype.digest=r.prototype.array=function(){this.finalize();for(var e,t,n=this.blockCount,r=this.s,i=this.outputBlocks,o=this.extraBytes,s=0,a=0,c=[];a<i;){for(s=0;s<n&&a<i;++s,++a)e=a<<2,t=r[s],c[e]=255&t,c[e+1]=t>>8&255,c[e+2]=t>>16&255,c[e+3]=t>>24&255;a%n==0&&C(r)}return o&&(e=a<<2,t=r[s],o>0&&(c[e]=255&t),o>1&&(c[e+1]=t>>8&255),o>2&&(c[e+2]=t>>16&255)),c};var C=function(e){var t,n,r,i,o,s,a,c,u,l,h,d,p,y,g,m,v,b,w,S,E,k,x,_,O,C,A,P,I,D,R,j,T,N,B,F,M,L,H,q,U,K,V,z,J,G,W,X,Y,Q,Z,$,ee,te,ne,re,ie,oe,se,ae,ce,ue,le;for(r=0;r<48;r+=2)i=e[0]^e[10]^e[20]^e[30]^e[40],o=e[1]^e[11]^e[21]^e[31]^e[41],s=e[2]^e[12]^e[22]^e[32]^e[42],a=e[3]^e[13]^e[23]^e[33]^e[43],c=e[4]^e[14]^e[24]^e[34]^e[44],u=e[5]^e[15]^e[25]^e[35]^e[45],l=e[6]^e[16]^e[26]^e[36]^e[46],h=e[7]^e[17]^e[27]^e[37]^e[47],d=e[8]^e[18]^e[28]^e[38]^e[48],p=e[9]^e[19]^e[29]^e[39]^e[49],t=d^(s<<1|a>>>31),n=p^(a<<1|s>>>31),e[0]^=t,e[1]^=n,e[10]^=t,e[11]^=n,e[20]^=t,e[21]^=n,e[30]^=t,e[31]^=n,e[40]^=t,e[41]^=n,t=i^(c<<1|u>>>31),n=o^(u<<1|c>>>31),e[2]^=t,e[3]^=n,e[12]^=t,e[13]^=n,e[22]^=t,e[23]^=n,e[32]^=t,e[33]^=n,e[42]^=t,e[43]^=n,t=s^(l<<1|h>>>31),n=a^(h<<1|l>>>31),e[4]^=t,e[5]^=n,e[14]^=t,e[15]^=n,e[24]^=t,e[25]^=n,e[34]^=t,e[35]^=n,e[44]^=t,e[45]^=n,t=c^(d<<1|p>>>31),n=u^(p<<1|d>>>31),e[6]^=t,e[7]^=n,e[16]^=t,e[17]^=n,e[26]^=t,e[27]^=n,e[36]^=t,e[37]^=n,e[46]^=t,e[47]^=n,t=l^(i<<1|o>>>31),n=h^(o<<1|i>>>31),e[8]^=t,e[9]^=n,e[18]^=t,e[19]^=n,e[28]^=t,e[29]^=n,e[38]^=t,e[39]^=n,e[48]^=t,e[49]^=n,y=e[0],g=e[1],G=e[11]<<4|e[10]>>>28,W=e[10]<<4|e[11]>>>28,P=e[20]<<3|e[21]>>>29,I=e[21]<<3|e[20]>>>29,ae=e[31]<<9|e[30]>>>23,ce=e[30]<<9|e[31]>>>23,K=e[40]<<18|e[41]>>>14,V=e[41]<<18|e[40]>>>14,N=e[2]<<1|e[3]>>>31,B=e[3]<<1|e[2]>>>31,m=e[13]<<12|e[12]>>>20,v=e[12]<<12|e[13]>>>20,X=e[22]<<10|e[23]>>>22,Y=e[23]<<10|e[22]>>>22,D=e[33]<<13|e[32]>>>19,R=e[32]<<13|e[33]>>>19,ue=e[42]<<2|e[43]>>>30,le=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,ne=e[4]<<30|e[5]>>>2,F=e[14]<<6|e[15]>>>26,M=e[15]<<6|e[14]>>>26,b=e[25]<<11|e[24]>>>21,w=e[24]<<11|e[25]>>>21,Q=e[34]<<15|e[35]>>>17,Z=e[35]<<15|e[34]>>>17,j=e[45]<<29|e[44]>>>3,T=e[44]<<29|e[45]>>>3,_=e[6]<<28|e[7]>>>4,O=e[7]<<28|e[6]>>>4,re=e[17]<<23|e[16]>>>9,ie=e[16]<<23|e[17]>>>9,L=e[26]<<25|e[27]>>>7,H=e[27]<<25|e[26]>>>7,S=e[36]<<21|e[37]>>>11,E=e[37]<<21|e[36]>>>11,$=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,z=e[8]<<27|e[9]>>>5,J=e[9]<<27|e[8]>>>5,C=e[18]<<20|e[19]>>>12,A=e[19]<<20|e[18]>>>12,oe=e[29]<<7|e[28]>>>25,se=e[28]<<7|e[29]>>>25,q=e[38]<<8|e[39]>>>24,U=e[39]<<8|e[38]>>>24,k=e[48]<<14|e[49]>>>18,x=e[49]<<14|e[48]>>>18,e[0]=y^~m&b,e[1]=g^~v&w,e[10]=_^~C&P,e[11]=O^~A&I,e[20]=N^~F&L,e[21]=B^~M&H,e[30]=z^~G&X,e[31]=J^~W&Y,e[40]=te^~re&oe,e[41]=ne^~ie&se,e[2]=m^~b&S,e[3]=v^~w&E,e[12]=C^~P&D,e[13]=A^~I&R,e[22]=F^~L&q,e[23]=M^~H&U,e[32]=G^~X&Q,e[33]=W^~Y&Z,e[42]=re^~oe&ae,e[43]=ie^~se&ce,e[4]=b^~S&k,e[5]=w^~E&x,e[14]=P^~D&j,e[15]=I^~R&T,e[24]=L^~q&K,e[25]=H^~U&V,e[34]=X^~Q&$,e[35]=Y^~Z&ee,e[44]=oe^~ae&ue,e[45]=se^~ce&le,e[6]=S^~k&y,e[7]=E^~x&g,e[16]=D^~j&_,e[17]=R^~T&O,e[26]=q^~K&N,e[27]=U^~V&B,e[36]=Q^~$&z,e[37]=Z^~ee&J,e[46]=ae^~ue&te,e[47]=ce^~le&ne,e[8]=k^~y&m,e[9]=x^~g&v,e[18]=j^~_&C,e[19]=T^~O&A,e[28]=K^~N&F,e[29]=V^~B&M,e[38]=$^~z&G,e[39]=ee^~J&W,e[48]=ue^~te&re,e[49]=le^~ne&ie,e[0]^=f[r],e[1]^=f[r+1]};if(o)e.exports=w;else for(var E=0;E<S.length;++E)i[S[E]]=w[S[E]]}()}).call(t,n(6),n(5))},function(e,t){function n(e){throw new Error("Cannot find module '"+e+"'.")}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=302},function(e,t,n){(function(t,r,i){function o(e,t){return a.fetch&&t?"fetch":a.mozchunkedarraybuffer?"moz-chunked-arraybuffer":a.msstream?"ms-stream":a.arraybuffer&&e?"arraybuffer":a.vbArray&&e?"text:vbarray":"text"}function s(e){try{var t=e.status;return null!==t&&0!==t}catch(e){return!1}}var a=n(144),c=n(1),u=n(145),l=n(17),f=n(304),h=u.IncomingMessage,d=u.readyStates,p=e.exports=function(e){var n=this;l.Writable.call(n),n._opts=e,n._body=[],n._headers={},e.auth&&n.setHeader("Authorization","Basic "+new t(e.auth).toString("base64")),Object.keys(e.headers).forEach(function(t){n.setHeader(t,e.headers[t])});var r,i=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!a.abortController)i=!1,r=!0;else if("prefer-streaming"===e.mode)r=!1;else if("allow-wrong-content-type"===e.mode)r=!a.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");r=!0}n._mode=o(r,i),n._fetchTimer=null,n.on("finish",function(){n._onFinish()})};c(p,l.Writable),p.prototype.setHeader=function(e,t){var n=this,r=e.toLowerCase();-1===y.indexOf(r)&&(n._headers[r]={name:e,value:t})},p.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},p.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},p.prototype._onFinish=function(){var e=this;if(!e._destroyed){var n=e._opts,o=e._headers,s=null;"GET"!==n.method&&"HEAD"!==n.method&&(s=a.arraybuffer?f(t.concat(e._body)):a.blobConstructor?new r.Blob(e._body.map(function(e){return f(e)}),{type:(o["content-type"]||{}).value||""}):t.concat(e._body).toString());var c=[];if(Object.keys(o).forEach(function(e){var t=o[e].name,n=o[e].value;Array.isArray(n)?n.forEach(function(e){c.push([t,e])}):c.push([t,n])}),"fetch"===e._mode){var u=null;if(a.abortController){var l=new AbortController;u=l.signal,e._fetchAbortController=l,"requestTimeout"in n&&0!==n.requestTimeout&&(e._fetchTimer=r.setTimeout(function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()},n.requestTimeout))}r.fetch(e._opts.url,{method:e._opts.method,headers:c,body:s||void 0,mode:"cors",credentials:n.withCredentials?"include":"same-origin",signal:u}).then(function(t){e._fetchResponse=t,e._connect()},function(t){r.clearTimeout(e._fetchTimer),e._destroyed||e.emit("error",t)})}else{var h=e._xhr=new r.XMLHttpRequest;try{h.open(e._opts.method,e._opts.url,!0)}catch(t){return void i.nextTick(function(){e.emit("error",t)})}"responseType"in h&&(h.responseType=e._mode.split(":")[0]),"withCredentials"in h&&(h.withCredentials=!!n.withCredentials),"text"===e._mode&&"overrideMimeType"in h&&h.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in n&&(h.timeout=n.requestTimeout,h.ontimeout=function(){e.emit("requestTimeout")}),c.forEach(function(e){h.setRequestHeader(e[0],e[1])}),e._response=null,h.onreadystatechange=function(){switch(h.readyState){case d.LOADING:case d.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(h.onprogress=function(){e._onXHRProgress()}),h.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{h.send(s)}catch(t){return void i.nextTick(function(){e.emit("error",t)})}}}},p.prototype._onXHRProgress=function(){var e=this;s(e._xhr)&&!e._destroyed&&(e._response||e._connect(),e._response._onXHRProgress())},p.prototype._connect=function(){var e=this;e._destroyed||(e._response=new h(e._xhr,e._fetchResponse,e._mode,e._fetchTimer),e._response.on("error",function(t){e.emit("error",t)}),e.emit("response",e._response))},p.prototype._write=function(e,t,n){this._body.push(e),n()},p.prototype.abort=p.prototype.destroy=function(){var e=this;e._destroyed=!0,r.clearTimeout(e._fetchTimer),e._response&&(e._response._destroyed=!0),e._xhr?e._xhr.abort():e._fetchAbortController&&e._fetchAbortController.abort()},p.prototype.end=function(e,t,n){var r=this;"function"==typeof e&&(n=e,e=void 0),l.Writable.prototype.end.call(r,e,t,n)},p.prototype.flushHeaders=function(){},p.prototype.setTimeout=function(){},p.prototype.setNoDelay=function(){},p.prototype.setSocketKeepAlive=function(){};var y=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(t,n(0).Buffer,n(5),n(6))},function(e,t,n){var r=n(0).Buffer;e.exports=function(e){if(e instanceof Uint8Array){if(0===e.byteOffset&&e.byteLength===e.buffer.byteLength)return e.buffer;if("function"==typeof e.buffer.slice)return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}if(r.isBuffer(e)){for(var t=new Uint8Array(e.length),n=e.length,i=0;i<n;i++)t[i]=e[i];return t.buffer}throw new Error("Argument must be a Buffer")}},function(e,t){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=(n(3).getLogger("IdentityService"),n(80).checkRegistrar),s=function(){function e(t){r(this,e),this.client=t}return i(e,[{key:"create",value:function(e,t){if(void 0===e||null===e)throw new Error('Missing required argument "req"');if(!e.enrollmentID||!e.affiliation)throw new Error('Missing required parameters.  "req.enrollmentID", "req.affiliation" are all required.');o(t);var n=1;Number.isInteger(e.maxEnrollments)&&(n=e.maxEnrollments);var r=this,i=t.getSigningIdentity();if(!i)throw new Error("Can not get signingIdentity from registrar");return new Promise(function(t,o){var s={id:e.enrollmentID,type:e.type||null,affiliation:e.affiliation,attrs:e.attrs||[],max_enrollments:n,secret:e.enrollmentSecret||null,caname:e.caname||null};return r.client.post("identities",s,i).then(function(e){return t(e.result.secret)}).catch(function(e){return o(e)})})}},{key:"getOne",value:function(e,t){if(!e||"string"!=typeof e)throw new Error('Missing required argument "enrollmentID", or argument "enrollmentID" is not a valid string');o(t);var n=t.getSigningIdentity();if(!n)throw new Error("Can not get signingIdentity from registrar");var r="identities/"+e;return this.client.get(r,n)}},{key:"getAll",value:function(e){o(e);var t=e.getSigningIdentity();if(!t)throw new Error("Can not get signingIdentity from registrar");return this.client.get("identities",t)}},{key:"delete",value:function(e,t){if(!e||"string"!=typeof e)throw new Error('Missing required argument "enrollmentID", or argument "enrollmentID" is not a valid string');o(t);var n=t.getSigningIdentity();if(!n)throw new Error("Can not get signingIdentity from registrar");var r="identities/"+e;return this.client.delete(r,n)}},{key:"update",value:function(e,t,n){if(!e||"string"!=typeof e)throw new Error('Missing required argument "enrollmentID", or argument "enrollmentID" is not a valid string');o(n);var r=n.getSigningIdentity();if(!r)throw new Error("Can not get signingIdentity from registrar");var i="identities/"+e,s={};return t.type&&(s.type=t.type),t.affiliation&&(s.affiliation=t.affiliation),Number.isInteger(t.maxEnrollments)&&(s.maxEnrollments=t.maxEnrollments),t.attrs&&(s.attrs=t.attrs),t.enrollmentSecret&&(s.secret=t.enrollmentSecret),t.caname&&(s.caname=t.caname),this.client.put(i,s,r)}}]),e}();e.exports=s,e.exports.HFCAIdentityType={PEER:"peer",ORDERER:"orderer",CLIENT:"client",USER:"user"},e.exports.HFCAIdentityAttributes={HFREGISTRARROLES:"hf.Registrar.Roles",HFREGISTRARDELEGATEROLES:"hf.Registrar.DelegateRoles",HFREGISTRARATTRIBUTES:"hf.Registrar.Attributes",HFINTERMEDIATECA:"hf.IntermediateCA",HFREVOKER:"hf.Revoker",HFAFFILIATIONMGR:"hf.AffiliationMgr",HFGENCRL:"hf.GenCRL"}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3).getLogger("AffiliationService"),s=n(80).checkRegistrar,a=function(){function e(t){r(this,e),this.client=t}return i(e,[{key:"create",value:function(e,t){if(void 0===e||null===e)throw new Error('Missing required argument "req"');if(!e.name)throw new Error('Missing required parameters.  "req.name" is required.');s(t);var n=t.getSigningIdentity();if(!n)throw new Error("Can not get signingIdentity from registrar");var r="affiliations";!0===e.force&&(r+="?force=true"),o.debug("create new affiliation with url "+r);var i={name:e.name,caname:e.caname};return this.client.post(r,i,n)}},{key:"getOne",value:function(e,t){if(!e||"string"!=typeof e)throw new Error('Missing required argument "affiliation", or argument "affiliation" is not a valid string');s(t);var n=t.getSigningIdentity();if(!n)throw new Error("Can not get signingIdentity from registrar");var r="affiliations/"+e;return this.client.get(r,n)}},{key:"getAll",value:function(e){s(e);var t=e.getSigningIdentity();if(!t)throw new Error("Can not get signingIdentity from registrar");return this.client.get("affiliations",t)}},{key:"delete",value:function(e,t){if(void 0===e||null===e)throw new Error('Missing required argument "req"');if(!e.name||"string"!=typeof e.name)throw new Error('Missing required argument "req.name", or argument "req.name" is not a valid string');s(t);var n=t.getSigningIdentity();if(!n)throw new Error("Can not get signingIdentity from registrar");var r="affiliations/"+e.name;return!0===e.force&&(r+="?force=true"),this.client.delete(r,n)}},{key:"update",value:function(e,t,n){if(!e||"string"!=typeof e)throw new Error('Missing required argument "affiliation", or argument "affiliation" is not a valid string');if(void 0===t||null===t)throw new Error('Missing required argument "req"');if(!t.name||"string"!=typeof t.name)throw new Error('Missing required argument "req.name", or argument "req.name" is not a valid string');s(n);var r=n.getSigningIdentity();if(!r)throw new Error("Can not get signingIdentity from registrar");var i="affiliations/"+e;!0===t.force&&(i+="?force=true");var o={name:t.name};return t.caname&&"string"==typeof t.caname&&(o.caname=t.caname),this.client.put(i,o,r)}}]),e}();e.exports=a},function(e,t,n){"use strict";e.exports=n(309)},function(e,t,n){"use strict";(function(t,r){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){return new Promise(function(t,n){P.readFile(e,"utf8",function(e,r){return e?"ENOENT"!==e.code?n(e):t(null):t(r)})})}function c(e,t){return new Promise(function(n,r){e.chaincodePackage?(H.debug("_getChaincodePackageData - working with included chaincodePackage"),n(e.chaincodePackage)):(H.debug("_getChaincodePackageData -  build package with chaincodepath %s, chaincodeType %s, devMode %s, metadataPath %s",e.chaincodePath,e.chaincodeType,t,e.metadataPath),n(b.package(e.chaincodePath,e.chaincodeType,t,e.metadataPath)))})}function u(e){var t=[],n=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var c=s.value;if(c&&c.signature_header&&c.signature)H.debug("_stringToSignature - signature is protobuf");else{H.debug("_stringToSignature - signature is string");var u=r.from(c,"hex");c=N.ConfigSignature.decode(u)}t.push(c)}}catch(e){i=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw o}}return t}function l(e,t){var n=null,r=null;if("string"==typeof e){var i=I.resolve(e);H.debug("%s - looking at absolute path of ==>%s<==","_getNetworkConfig",i);var o=P.readFileSync(i);r=I.extname(i).indexOf("y")>-1?D.safeLoad(o):JSON.parse(o)}else r=e;var s=null;if(r)if(r.version){var a=q.getConfigSetting("network-config-schema");if(a){var c=r.version.toString().split("."),u=c[0]+"."+c[1];if(a[u]){var l=!function(){var e=new Error('Cannot find module "."');throw e.code="MODULE_NOT_FOUND",e}();n=new l(r,t)}else s='network configuration has an unknown "version"'}else s='missing "network-config-schema" configuration setting'}else s='"version" is missing';else s="missing configuration data";if(s)throw new Error(A.format("Invalid network configuration due to %s",s));return n}var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(3),p=n(54),y=n(25),g=n(143),m=n(155),v=n(325),b=n(328),w=n(148),S=n(153),E=n(156),k=n(154),x=n(157),_=(n(158),n(55)),O=(_.Identity,_.SigningIdentity),C=_.Signer,A=n(4),P=n(33),I=n(12),D=n(354),R=n(81),j=n(11),T=j.common,N=j.common,B=j.protos,F=j.protos,M=d.getConfig(),L=I.resolve(t,"../config/default_client.json");M.reorderFileStores(L);var H=d.getLogger("Client.js"),q=function(e){function t(){i(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._channels={},e._stateStore=null,e._userContext=null,e._network_config=null,e._msps=new Map,e._devMode=!1,e._adminSigningIdentity=null,e._tls_mutual={},e}return s(t,e),h(t,[{key:"loadFromConfig",value:function(e){var t=l(e,this);this._network_config?this._network_config.mergeSettings(t):this._network_config=t,this._network_config.hasClient()&&this._setAdminFromConfig()}},{key:"setTlsClientCertAndKey",value:function(e,t){H.debug("setTlsClientCertAndKey - start"),this._tls_mutual.clientCert=e,this._tls_mutual.clientKey=t}},{key:"addTlsClientCertAndKey",value:function(e){this._tls_mutual.clientCert&&(e.clientCert=this._tls_mutual.clientCert),this._tls_mutual.clientKey&&(e.clientKey=this._tls_mutual.clientKey)}},{key:"isDevMode",value:function(){return this._devMode}},{key:"setDevMode",value:function(e){this._devMode=e}},{key:"newChannel",value:function(e){var t=this._channels[e];if(t)throw new Error(A.format("Channel %s already exists",e));return t=new v(e,this),this._channels[e]=t,t}},{key:"getChannel",value:function(e,t){var n=this._channels[e];if(n)return n;if(this._network_config){if(!e){var r=Object.keys(this._network_config._network_config.channels);r&&(e=r[0])}n=this._network_config.getChannel(e),this._channels[e]=n}if(n)return n;if(H.error("Channel not found for name "+e+"."),void 0===t&&(t=!0),t)throw new Error("Channel not found for name "+e+".");return null}},{key:"newPeer",value:function(e,t){return new w(e,t)}},{key:"newEventHub",value:function(){return new S(this)}},{key:"getEventHub",value:function(e){var t=null;return this._network_config&&(t=this._network_config.getEventHub(e)),t}},{key:"getEventHubsForOrg",value:function(e){var t=[];if(this._network_config){if(!e&&this._network_config.hasClient()){e=this._network_config.getClientConfig().organization}if(e){var n=this._network_config.getOrganization(e);n&&(t=n.getEventHubs())}}return t}},{key:"getPeersForOrg",value:function(e){var t=[];if(this._network_config){if(!e&&this._network_config.hasClient()){e=this._network_config.getClientConfig().organization}if(e){var n=this._network_config.getOrganization(e);n&&(t=n.getPeers())}}return t}},{key:"newOrderer",value:function(e,t){return new k(e,t)}},{key:"getCertificateAuthority",value:function(e){if(!this._network_config)throw new Error("No network configuration has been loaded");if(!this._cryptoSuite)throw new Error("A crypto suite has not been assigned to this client");var t=null;if(e)t=this._network_config.getCertificateAuthority(e);else{var n=this._network_config.getClientConfig();if(n&&n.organization){var r=this._network_config.getOrganization(n.organization);if(r){var i=r.getCertificateAuthorities();i.length>0&&(t=i[0])}}}if(!t)throw new Error("Network configuration is missing this client's organization and certificate authority");return this._buildCAfromConfig(t)}},{key:"_buildCAfromConfig",value:function(e){var n=e.getTlsCACerts();n=n?[n]:[];var r=e.getConnectionOptions(),i=!0;r&&"boolean"==typeof r.verify&&(i=r.verify);var o={trustedRoots:n,verify:i},s=e.getUrl(),a=e.getCaName();t.getConfigSetting("certificate-authority-client");return new(!function(){var e=new Error('Cannot find module "."');throw e.code="MODULE_NOT_FOUND",e}())({url:s,tlsOptions:o,caName:a,cryptoSuite:this._cryptoSuite})}},{key:"getClientConfig",value:function(){var e=null;return this._network_config&&this._network_config.hasClient()&&(e=this._network_config.getClientConfig()),e}},{key:"getMspid",value:function(){var e=null,t=this.getClientConfig();return t&&(e=t.mspid),e}},{key:"newTransactionID",value:function(e){if(e){if("boolean"!=typeof e)throw new Error('"admin" parameter must be of type boolean');e?H.debug("newTransactionID - getting an admin TransactionID"):H.debug("newTransactionID - getting non admin TransactionID")}else e=!1,H.debug("newTransactionID - no admin parameter, returning non admin TransactionID");return new x(this._getSigningIdentity(e),e)}},{key:"extractChannelConfig",value:function(e){H.debug("extractConfigUpdate - start");try{var t=T.Envelope.decode(e),n=T.Payload.decode(t.getPayload().toBuffer());return N.ConfigUpdateEnvelope.decode(n.getData().toBuffer()).getConfigUpdate().toBuffer()}catch(e){throw e instanceof Error?(H.error("Problem with extracting the config update object :: %s",e.stack?e.stack:e),e):(H.error("Problem with extracting the config update object :: %s",e),new Error(e))}}},{key:"signChannelConfig",value:function(e){if(H.debug("signChannelConfigUpdate - start"),void 0===e||null===e)throw new Error("Channel configuration update parameter is required.");if(!(e instanceof r))throw new Error("Channel configuration update parameter is not in the correct form.");var t=this._getSigningIdentity(!0),n=new T.SignatureHeader;n.setCreator(t.serialize()),n.setNonce(d.getNonce());var i=n.toBuffer(),o=r.concat([i,e]),s=t.sign(o),a=r.from(s),c=new N.ConfigSignature;return c.setSignatureHeader(i),c.setSignature(a),c}},{key:"createChannel",value:function(e){var t=!1;return e&&e.envelope&&(H.debug("createChannel - have envelope"),t=!0),this._createOrUpdateChannel(e,t)}},{key:"updateChannel",value:function(e){var t=!1;return e&&e.envelope&&(H.debug("updateChannel - have envelope"),t=!0),this._createOrUpdateChannel(e,t)}},{key:"_createOrUpdateChannel",value:function(e,t){H.debug("_createOrUpdateChannel - start");var n=null,i=null;if(e?e.config||t?e.signatures||t?Array.isArray(e.signatures)||t?e.txId||t?e.name||(n="Missing name request parameter"):n="Missing txId request parameter":n="Signatures request parameter must be an array of signatures":n="Missing signatures request parameter for the new channel":n="Missing config request parameter containing the configuration of the channel":n="Missing all required input request parameters for initialize channel",n)return H.error("_createOrUpdateChannel error %s",n),Promise.reject(new Error(n));try{i=this.getTargetOrderer(e.orderer,null,e.name)}catch(e){return Promise.reject(e)}var o=(e.name,this._getSigningIdentity(e.txId.isAdmin())),s=null,a=null;if(t){H.debug("_createOrUpdateChannel - have envelope");var c=T.Envelope.decode(e.envelope);s=c.signature,a=c.payload}else{H.debug("_createOrUpdateChannel - have config_update");var l=new N.ConfigUpdateEnvelope;l.setConfigUpdate(e.config);var f=u(e.signatures);l.setSignatures(f);var h=p.buildChannelHeader(T.HeaderType.CONFIG_UPDATE,e.name,e.txId.getTransactionID()),d=p.buildHeader(o,h,e.txId.getNonce()),y=new T.Payload;y.setHeader(d),y.setData(l.toBuffer());var g=y.toBuffer(),m=o.sign(g);s=r.from(m),a=g}var v={signature:s,payload:a};return H.debug("_createOrUpdateChannel - about to send envelope"),i.sendBroadcast(v).then(function(e){return H.debug("_createOrUpdateChannel - good results from broadcast :: %j",e),Promise.resolve(e)}).catch(function(e){return e instanceof Error?(H.debug("_createOrUpdateChannel - rejecting with %s",e),Promise.reject(e)):(H.error("_createOrUpdateChannel - system error :: %s",e),Promise.reject(new Error(e)))})}},{key:"queryChannels",value:function(e,t){H.debug("queryChannels - start");var n=null;if(!e)return Promise.reject(new Error("Peer is required"));try{n=this.getTargetPeers(e)}catch(e){return Promise.reject(e)}var r=this,i=this._getSigningIdentity(t),o=new x(i,t),s={targets:n,chaincodeId:R.CSCC,txId:o,signer:i,fcn:"GetChannels",args:[]};return v.sendTransactionProposal(s,"",r).then(function(e){var t=e[0];if(H.debug("queryChannels - got response"),t&&Array.isArray(t)){if(t.length>1)return Promise.reject(new Error("Too many results returned"));var n=t[0];if(n instanceof Error)return Promise.reject(n);if(n.response){H.debug("queryChannels - response status :: %d",n.response.status);var r=F.ChannelQueryResponse.decode(n.response.payload);H.debug("queryChannels - ProcessedTransaction.channelInfo.length :: %s",r.channels.length);var i=!0,o=!1,s=void 0;try{for(var a,c=r.channels[Symbol.iterator]();!(i=(a=c.next()).done);i=!0){var u=a.value;H.debug(">>> channel id %s ",u.channel_id)}}catch(e){o=!0,s=e}finally{try{!i&&c.return&&c.return()}finally{if(o)throw s}}return Promise.resolve(r)}return Promise.reject(n)}return Promise.reject(new Error("Payload results are missing from the query"))}).catch(function(e){return H.error("Failed Channels Query. Error: %s",e.stack?e.stack:e),Promise.reject(e)})}},{key:"queryInstalledChaincodes",value:function(e,t){H.debug("queryInstalledChaincodes - start peer %s",e);var n=null;if(!e)return Promise.reject(new Error("Peer is required"));try{n=this.getTargetPeers(e)}catch(e){return Promise.reject(e)}var r=this,i=this._getSigningIdentity(t),o=new x(i,t),s={targets:n,chaincodeId:R.LSCC,txId:o,signer:i,fcn:"getinstalledchaincodes",args:[]};return v.sendTransactionProposal(s,"",r).then(function(e){var t=e[0];if(H.debug("queryInstalledChaincodes - got response"),t&&Array.isArray(t)){if(t.length>1)return Promise.reject(new Error("Too many results returned"));var n=t[0];if(n instanceof Error)return Promise.reject(n);if(n.response){H.debug("queryInstalledChaincodes - response status :: %d",n.response.status);var r=F.ChaincodeQueryResponse.decode(n.response.payload);H.debug("queryInstalledChaincodes - ProcessedTransaction.chaincodeInfo.length :: %s",r.chaincodes.length);var i=!0,o=!1,s=void 0;try{for(var a,c=r.chaincodes[Symbol.iterator]();!(i=(a=c.next()).done);i=!0){var u=a.value;H.debug(">>> name %s, version %s, path %s",u.name,u.version,u.path)}}catch(e){o=!0,s=e}finally{try{!i&&c.return&&c.return()}finally{if(o)throw s}}return Promise.resolve(r)}return Promise.reject(n)}return Promise.reject(new Error("Payload results are missing from the query"))}).catch(function(e){return H.error("Failed Installed Chaincodes Query. Error: %s",e.stack?e.stack:e),Promise.reject(e)})}},{key:"installChaincode",value:function(e,t){H.debug("installChaincode - start");var n=null,i=null;if(e){try{i=this.getTargetPeers(e.targets),i||(i=this.getPeersForOrgOnChannel(e.channelNames))}catch(e){return Promise.reject(e)}i&&i.length>0?H.debug("installChaincode - found peers ::%s",i.length):n="Missing peer objects in install chaincode request"}else n="Missing input request object on install chaincode request";if(n||(n=p.checkProposalRequest(e,!0)),n||(n=p.checkInstallRequest(e)),n)return H.error("installChaincode error "+n),Promise.reject(new Error(n));var o=this,s={type:p.translateCCType(e.chaincodeType),chaincode_id:{name:e.chaincodeId,path:e.chaincodePath,version:e.chaincodeVersion}};H.debug("installChaincode - ccSpec %s ",JSON.stringify(s));var a=new B.ChaincodeDeploymentSpec;return a.setChaincodeSpec(s),a.setEffectiveDate(p.buildCurrentTimestamp()),c(e,this.isDevMode()).then(function(n){n&&(a.setCodePackage(n),H.debug("installChaincode - found packaged data")),H.debug("installChaincode - sending deployment spec %s ",a);var c={type:s.type,chaincode_id:{name:R.LSCC},input:{args:[r.from("install","utf8"),a.toBuffer()]}},u=void 0,l=e.txId;l?u=o._getSigningIdentity(l.isAdmin()):(u=o._getSigningIdentity(!0),l=new x(u,!0));var f=p.buildChannelHeader(T.HeaderType.ENDORSER_TRANSACTION,"",l.getTransactionID(),null,R.LSCC),h=p.buildHeader(u,f,l.getNonce()),d=p.buildProposal(c,h),y=p.signProposal(u,d);return H.debug("installChaincode - about to sendPeersProposal"),p.sendPeersProposal(i,y,t).then(function(e){return[e,d]})})}},{key:"initCredentialStores",value:function(){if(this._network_config){var e=this._network_config.getClientConfig();if(e&&e.credentialStore){var t=this;return g.newDefaultKeyValueStore(e.credentialStore).then(function(n){t.setStateStore(n);var r=g.newCryptoSuite();return"function"==typeof r.setCryptoKeyStore&&r.setCryptoKeyStore(g.newCryptoKeyStore(e.credentialStore.cryptoStore)),t.setCryptoSuite(r),Promise.resolve(!0)}).catch(function(e){return Promise.reject(e)})}return Promise.reject(new Error("No credentialStore settings found"))}return Promise.reject(new Error("No network configuration settings found"))}},{key:"setStateStore",value:function(e){var t="";if(d.getClassMethods(y.KeyValueStore).forEach(function(n){"function"!=typeof e[n]&&(t+=n+"() ")}),""!==t)throw new Error('The "keyValueStore" parameter must be an object that implements the following methods, which are missing: '+t);this._stateStore=e,this._userContext=null}},{key:"_getSigningIdentity",value:function(e){if(H.debug("_getSigningIdentity - admin parameter is %s :%s",void 0===e?"undefined":f(e),e),e&&this._adminSigningIdentity)return this._adminSigningIdentity;if(this._userContext)return this._userContext.getSigningIdentity();throw new Error("No identity has been assigned to this client")}},{key:"setAdminSigningIdentity",value:function(e,t,n){if(H.debug("setAdminSigningIdentity - start mspid:%s",n),void 0===e||null===e||""===e)throw new Error("Invalid parameter. Must have a valid private key.");if(void 0===t||null===t||""===t)throw new Error("Invalid parameter. Must have a valid certificate.");if(void 0===n||null===n||""===n)throw new Error("Invalid parameter. Must have a valid mspid.");var r=this.getCryptoSuite();r||(r=g.newCryptoSuite());var i=r.importKey(e,{ephemeral:!0}),o=r.importKey(t,{ephemeral:!0});this._adminSigningIdentity=new O(t,o,n,r,new C(r,i))}},{key:"_setAdminFromConfig",value:function(){var e=void 0,t=void 0,n=null;if(!this._network_config)throw new Error("No network configuration has been loaded");var r=this._network_config.getClientConfig();if(r&&r.organization){var i=this._network_config.getOrganization(r.organization);i&&(n=i.getMspid(),e=i.getAdminPrivateKey(),t=i.getAdminCert())}e&&t&&n&&this.setAdminSigningIdentity(e,t,n)}},{key:"_setUserFromConfig",value:function(e){var t=this;if(!e||void 0===e.username||null===e.username||""===e.username)return Promise.reject(new Error("Missing parameter. Must have a username."));if(!this._network_config||!this._stateStore||!this._cryptoSuite)return Promise.reject(new Error("Client requires a network configuration loaded, stores attached, and crypto suite."));this._userContext=null;var n=this;return n.getUserContext(e.username,!0).then(function(r){return new Promise(function(i,o){if(r&&r.isEnrolled())return H.debug("Successfully loaded member from persistence"),i(r);if(void 0===e.password||null===e.password||""===e.password)return o(new Error("Missing parameter. Must have a password."));var s=void 0,a=null;try{var c=t._network_config.getClientConfig();if(c&&c.organization){var u=t._network_config.getOrganization(c.organization);u&&(a=u.getMspid())}if(!a)throw new Error("Network configuration is missing this client's organization and mspid");s=n.getCertificateAuthority()}catch(e){o(e)}return s.enroll({enrollmentID:e.username,enrollmentSecret:e.password}).then(function(t){return H.debug('Successfully enrolled user "%s"',e.username),n.createUser({username:e.username,mspid:a,cryptoContent:{privateKeyPEM:t.key.toBytes(),signedCertPEM:t.certificate}})}).then(function(e){return i(e)}).catch(function(e){H.error(e.stack),o(e)})})})}},{key:"saveUserToStateStore",value:function(){var e=this;return H.debug("saveUserToStateStore, userContext: "+e._userContext),new Promise(function(t,n){e._userContext&&e._userContext._name&&e._stateStore?(H.debug("saveUserToStateStore, begin promise stateStore.setValue"),e._stateStore.setValue(e._userContext._name,e._userContext.toString()).then(function(n){H.debug("saveUserToStateStore, store.setValue, result = "+n),t(e._userContext)},function(e){H.debug("saveUserToStateStore, store.setValue, reject reason = "+e),n(e)}).catch(function(e){H.debug("saveUserToStateStore, store.setValue, error: "+e),n(new Error(e))})):e._userContext?e._userContext._name?(H.debug("saveUserToStateStore Promise rejected, Cannot save user to state store when stateStore is null."),n(new Error("Cannot save user to state store when stateStore is null."))):(H.debug("saveUserToStateStore Promise rejected, Cannot save user to state store when userContext has no name."),n(new Error("Cannot save user to state store when userContext has no name."))):(H.debug("saveUserToStateStore Promise rejected, Cannot save user to state store when userContext is null."),n(new Error("Cannot save user to state store when userContext is null.")))})}},{key:"setUserContext",value:function(e,t){H.debug("setUserContext - user: "+e+", skipPersistence: "+t);var n=this;return new Promise(function(r,i){if(e)if(e.constructor&&"User"===e.constructor.name){if(n._userContext=e,t)return H.debug("setUserContext - resolved user"),r(e);H.debug("setUserContext - begin promise to saveUserToStateStore"),n.saveUserToStateStore().then(function(e){return r(e)}).catch(function(e){i(e)})}else H.debug("setUserContext - will try to use network configuration to set the user"),n._setUserFromConfig(e).then(function(e){return r(e)}).catch(function(e){i(e)});else H.debug("setUserContext, Cannot save null userContext"),i(new Error("Cannot save null userContext."))})}},{key:"getUserContext",value:function(e,t){if("boolean"==typeof e&&e&&void 0===t)throw new Error('Illegal arguments: "checkPersistence" is truthy but "name" is undefined');if("boolean"==typeof t&&t&&("string"!=typeof e||null===e||""===e))throw new Error('Illegal arguments: "checkPersistence" is truthy but "name" is not a valid string value');var n=this,r=e;return n._userContext&&e&&n._userContext.getName()===e||n._userContext&&!e?"boolean"==typeof t&&t?Promise.resolve(n._userContext):n._userContext:r?"boolean"==typeof t&&t?n._stateStore?n.loadUserFromStateStore(r).then(function(t){return t?(H.debug('Requested user "%s" loaded successfully from the state store on this Client instance: name - %s',e,e),n.setUserContext(t,!0)):(H.debug('Requested user "%s" not loaded from the state store on this Client instance: name - %s',e,e),null)}).then(function(e){return Promise.resolve(e)}).catch(function(t){return H.error('Failed to load an instance of requested user "%s" from the state store on this Client instance. Error: %s',e,t.stack?t.stack:t),Promise.reject(t)}):Promise.resolve(null):null:"boolean"==typeof t&&t?Promise.resolve(null):null}},{key:"loadUserFromStateStore",value:function(e){var t=this;return new Promise(function(n,r){t._stateStore.getValue(e).then(function(r){if(r){var i=new m(e);return t.getCryptoSuite()||H.debug("loadUserFromStateStore, cryptoSuite is not set, will load using defaults"),i.setCryptoSuite(t.getCryptoSuite()),i.fromString(r,!0)}return H.debug('Failed to find "%s" in local key value store',e),n(null)}).then(function(t){return t?(H.debug('Successfully loaded user "%s" from local key value store',e),n(t)):(H.debug('Failed to load user "%s" from local key value store',e),n(null))}).catch(function(t){H.error('Failed to load user "%s" from local key value store. Error: %s',e,t.stack?t.stack:t),r(t)})})}},{key:"getStateStore",value:function(){return this._stateStore}},{key:"createUser",value:function(e){if(H.debug("opts = %j",e),!e)return Promise.reject(new Error("Client.createUser missing required 'opts' parameter."));if(!e.username||e.username&&e.username.length<1)return Promise.reject(new Error("Client.createUser parameter 'opts username' is required."));if(!e.mspid||e.mspid&&e.mspid.length<1)return Promise.reject(new Error("Client.createUser parameter 'opts mspid' is required."));if(!e.cryptoContent)return Promise.reject(new Error("Client.createUser parameter 'opts cryptoContent' is required."));if(!e.cryptoContent.privateKey&&!e.cryptoContent.privateKeyPEM&&!e.cryptoContent.privateKeyObj)return Promise.reject(new Error("Client.createUser one of 'opts cryptoContent privateKey, privateKeyPEM or privateKeyObj' is required."));if(!e.cryptoContent.signedCert&&!e.cryptoContent.signedCertPEM)return Promise.reject(new Error("Client.createUser either 'opts cryptoContent signedCert or signedCertPEM' is required."));null==this.getCryptoSuite()?(H.debug("cryptoSuite is null, creating default cryptoSuite and cryptoKeyStore"),this.setCryptoSuite(d.newCryptoSuite()),this.getCryptoSuite().setCryptoKeyStore(t.newCryptoKeyStore())):this.getCryptoSuite()._cryptoKeyStore?H.debug("cryptoSuite has a cryptoKeyStore"):H.debug("cryptoSuite does not have a cryptoKeyStore");var n=this;return new Promise(function(t,r){var i,o,s;e.cryptoContent.privateKey?i=a(e.cryptoContent.privateKey):e.cryptoContent.privateKeyPEM?i=Promise.resolve(e.cryptoContent.privateKeyPEM):(s=e.cryptoContent.privateKeyObj,i=Promise.resolve()),i.then(function(e){if(e){H.debug("then privateKeyPEM data");var t;return t=n.getCryptoSuite()._cryptoKeyStore?{ephemeral:!1}:{ephemeral:!0},n.getCryptoSuite().importKey(e.toString(),t)}return s}).then(function(t){return H.debug("then key"),s=t,i=e.cryptoContent.signedCert?a(e.cryptoContent.signedCert):Promise.resolve(e.cryptoContent.signedCertPEM)}).then(function(t){return H.debug("then signedCertPEM data"),o=new m(e.username),o.setCryptoSuite(n.getCryptoSuite()),o.setEnrollment(s,t.toString(),e.mspid)}).then(function(){return H.debug("then setUserContext"),n.setUserContext(o,e.skipPersistence)},function(e){return H.debug("error during setUserContext..."),H.error(e.stack?e.stack:e),r(e)}).then(function(e){return H.debug("then user"),t(e)}).catch(function(e){return H.error(e.stack?e.stack:e),r(new Error("Failed to load key or certificate and save to local stores."))})})}},{key:"getTargetPeers",value:function(e){H.debug("%s - start","getTargetPeers");var t=[],n=e;if(e){Array.isArray(e)||(n=[e]);var r=!0,i=!1,o=void 0;try{for(var s,a=n[Symbol.iterator]();!(r=(s=a.next()).done);r=!0){var c=s.value;if("string"==typeof c){if(!this._network_config)throw new Error("No network configuraton loaded");var u=this._network_config.getPeer(c);if(!u)throw new Error("Target peer name was not found");t.push(u)}else{if(!c||!c.constructor||"Peer"!==c.constructor.name)throw new Error("Target peer is not a valid peer object instance");t.push(c)}}}catch(e){i=!0,o=e}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}}return t.length>0?t:null}},{key:"getTargetOrderer",value:function(e,t,n){H.debug("%s - start","getTargetOrderer");var r=null;if(e)if("string"==typeof e){if(this._network_config&&!(r=this._network_config.getOrderer(e)))throw new Error("Orderer name was not found in the network configuration")}else{if(!e||!e.constructor||"Orderer"!==e.constructor.name)throw new Error('"orderer" request parameter is not valid. Must be an orderer name or "Orderer" object.');r=e}else if(t&&Array.isArray(t)&&t[0])r=t[0];else{if(!n||!this._network_config)throw new Error('Missing "orderer" request parameter');var i=this.getChannel(n,!1);if(!i)throw new Error(A.format("Channel name %s was not found in the network configuration",n));var o=i.getOrderers();if(!(o&&o.length>0))throw new Error('"orderer" request parameter is missing and there are no orderers defined on this channel in the network configuration');r=o[0]}return r}},{key:"getPeersForOrgOnChannel",value:function(e){var t="getPeersForOrgOnChannel";H.debug("%s - starting",t);var n=[];if(this._network_config&&this._network_config.hasClient()){var r=this.getPeersForOrg();if(H.debug("%s - have client config and an org_peers list with %s",t,r.length),e){H.debug("%s - have channels %s",t,e),Array.isArray(e)||(e=[e]),n=[];var i={};for(var o in e){H.debug("%s - looking at channel:%s",t,e[o]);var s=this._network_config.getChannel(e[o]),a=s.getPeers();for(var c in a){var u=a[c];if(H.debug("%s - looking at channel peer:%s",t,u.getName()),u.isInRole(R.NetworkConfig.ENDORSING_PEER_ROLE)||u.isInRole(R.NetworkConfig.CHAINCODE_QUERY_ROLE))for(var l in r){var f=r[l];H.debug("%s - looking at org peer:%s",t,f.getName()),f.getName()===u.getName()&&(i[f.getName()]=f,H.debug("%s - adding peer to list:%s",t,f.getName()))}}}for(var h in i)H.debug("%s - final list has:%s",t,h),n.push(i[h])}else H.debug("%s - return org list",t),n=r}return n}}],[{key:"loadFromConfig",value:function(e){var n=new t;return n._network_config=l(e,n),n._network_config.hasClient()&&n._setAdminFromConfig(),n}}]),t}(g);e.exports=q,e.exports.Peer=w,e.exports.EventHub=S,e.exports.ChannelEventHub=E,e.exports.Orderer=k,e.exports.Channel=v,e.exports.User=m}).call(t,"/",n(0).Buffer)},function(e,t,n){"use strict";e.exports=n(311)},function(e,t,n){"use strict";function r(e){return Promise.resolve(e).then(i)}function i(e){if(!Array.isArray(e))throw new TypeError("Expected an array of Promises");return Promise.all(e.map(o))}function o(e){return Promise.resolve(e).then(s,a)}function s(e){return{isFulfilled:c,isRejected:u,value:function(){return e},reason:f}}function a(e){return{isFulfilled:u,isRejected:c,value:l,reason:function(){return e}}}function c(){return!0}function u(){return!1}function l(){throw new Error("Promise is rejected")}function f(){throw new Error("Promise is fulfilled")}e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(149),i=n(150),o=n(152),s=n(322),a=n(324),c=n(83);!function(e){function t(e,t){return c.client(e,t)}e.DefaultTransportFactory=i.DefaultTransportFactory,e.WebsocketTransportFactory=i.WebsocketTransportFactory,e.Code=o.Code,e.Metadata=r.BrowserHeaders,e.client=t,e.invoke=s.invoke,e.unary=a.unary}(t.grpc||(t.grpc={}))},function(e,t,n){"use strict";function r(e){return"object"==typeof e&&"object"==typeof e.headersMap&&"function"==typeof e.forEach}Object.defineProperty(t,"__esModule",{value:!0});var i=n(314),o=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t={splitValues:!1});var n=this;if(this.headersMap={},e)if("undefined"!=typeof Headers&&e instanceof Headers){var o=i.getHeaderKeys(e);o.forEach(function(r){i.getHeaderValues(e,r).forEach(function(e){t.splitValues?n.append(r,i.splitHeaderValue(e)):n.append(r,e)})})}else if(r(e))e.forEach(function(e,t){n.append(e,t)});else if("undefined"!=typeof Map&&e instanceof Map){var s=e;s.forEach(function(e,t){n.append(t,e)})}else"string"==typeof e?this.appendFromString(e):"object"==typeof e&&Object.getOwnPropertyNames(e).forEach(function(t){var r=e,i=r[t];Array.isArray(i)?i.forEach(function(e){n.append(t,e)}):n.append(t,i)})}return e.prototype.appendFromString=function(e){for(var t=e.split("\r\n"),n=0;n<t.length;n++){var r=t[n],i=r.indexOf(":");if(i>0){var o=r.substring(0,i).trim(),s=r.substring(i+1).trim();this.append(o,s)}}},e.prototype.delete=function(e,t){var n=i.normalizeName(e);if(void 0===t)delete this.headersMap[n];else{var r=this.headersMap[n];if(r){var o=r.indexOf(t);o>=0&&r.splice(o,1),0===r.length&&delete this.headersMap[n]}}},e.prototype.append=function(e,t){var n=this,r=i.normalizeName(e);Array.isArray(this.headersMap[r])||(this.headersMap[r]=[]),Array.isArray(t)?t.forEach(function(e){n.headersMap[r].push(i.normalizeValue(e))}):this.headersMap[r].push(i.normalizeValue(t))},e.prototype.set=function(e,t){var n=i.normalizeName(e);if(Array.isArray(t)){var r=[];t.forEach(function(e){r.push(i.normalizeValue(e))}),this.headersMap[n]=r}else this.headersMap[n]=[i.normalizeValue(t)]},e.prototype.has=function(e,t){var n=this.headersMap[i.normalizeName(e)];if(!Array.isArray(n))return!1;if(void 0!==t){var r=i.normalizeValue(t);return n.indexOf(r)>=0}return!0},e.prototype.get=function(e){var t=this.headersMap[i.normalizeName(e)];return void 0!==t?t.concat():[]},e.prototype.forEach=function(e){var t=this;Object.getOwnPropertyNames(this.headersMap).forEach(function(n){e(n,t.headersMap[n])},this)},e.prototype.toHeaders=function(){if("undefined"!=typeof Headers){var e=new Headers;return this.forEach(function(t,n){n.forEach(function(n){e.append(t,n)})}),e}throw new Error("Headers class is not defined")},e}();t.BrowserHeaders=o},function(e,t,n){"use strict";function r(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function i(e){return"string"!=typeof e&&(e=String(e)),e}function o(e,t){var n=s(e);if(n instanceof Headers&&n.getAll)return n.getAll(t);var r=n.get(t);return r&&"string"==typeof r?[r]:r}function s(e){return e}function a(e){var t=s(e),n={},r=[];return t.keys?u.iterateHeadersKeys(t,function(e){n[e]||(n[e]=!0,r.push(e))}):t.forEach?t.forEach(function(e,t){n[t]||(n[t]=!0,r.push(t))}):u.iterateHeaders(t,function(e){var t=e[0];n[t]||(n[t]=!0,r.push(t))}),r}function c(e){var t=[];return e.split(", ").forEach(function(e){e.split(",").forEach(function(e){t.push(e)})}),t}Object.defineProperty(t,"__esModule",{value:!0});var u=n(315);t.normalizeName=r,t.normalizeValue=i,t.getHeaderValues=o,t.getHeaderKeys=a,t.splitHeaderValue=c},function(e,t){function n(e,t){for(var n=e[Symbol.iterator](),r=n.next();!r.done;)t(r.value[0]),r=n.next()}function r(e,t){for(var n=e.keys(),r=n.next();!r.done;)t(r.value),r=n.next()}e.exports={iterateHeaders:n,iterateHeadersKeys:r}},function(e,t,n){"use strict";function r(e){return e.debug&&s.debug("fetchRequest",e),new c(e)}function i(){return"undefined"!=typeof Response&&Response.prototype.hasOwnProperty("body")&&"function"==typeof Headers}Object.defineProperty(t,"__esModule",{value:!0});var o=n(22),s=n(43),a=n(44);t.default=r;var c=function(){function e(e){this.cancelled=!1,this.controller=window.AbortController&&new AbortController,this.options=e}return e.prototype.pump=function(e,t){var n=this;if(this.reader=e,this.cancelled)return this.options.debug&&s.debug("Fetch.pump.cancel at first pump"),void this.reader.cancel();this.reader.read().then(function(e){if(e.done)return a.default(function(){n.options.onEnd()}),t;a.default(function(){n.options.onChunk(e.value)}),n.pump(n.reader,t)})},e.prototype.send=function(e){var t=this;fetch(this.options.url,{headers:this.metadata.toHeaders(),method:"POST",body:e,credentials:"same-origin",signal:this.controller&&this.controller.signal}).then(function(e){return t.options.debug&&s.debug("Fetch.response",e),a.default(function(){t.options.onHeaders(new o.Metadata(e.headers),e.status)}),e.body?void t.pump(e.body.getReader(),e):e}).catch(function(e){if(t.cancelled)return void(t.options.debug&&s.debug("Fetch.catch - request cancelled"));t.options.debug&&s.debug("Fetch.catch",e.message),a.default(function(){t.options.onEnd(e)})})},e.prototype.sendMessage=function(e){this.send(e)},e.prototype.finishSend=function(){},e.prototype.start=function(e){this.metadata=e},e.prototype.cancel=function(){this.cancelled=!0,this.reader?(this.options.debug&&s.debug("Fetch.abort.cancel"),this.reader.cancel()):this.options.debug&&s.debug("Fetch.abort.cancel before reader"),this.controller&&this.controller.abort()},e}();t.detectFetchSupport=i},function(e,t,n){"use strict";function r(e){return e.debug&&c.debug("xhrRequest",e),new l(e)}function i(e,t){var n=e.charCodeAt(t);if(n>=55296&&n<=56319){var r=e.charCodeAt(t+1);r>=56320&&r<=57343&&(n=65536+(n-55296<<10)+(r-56320))}return n}function o(e){for(var t=new Uint8Array(e.length),n=0,r=0;r<e.length;r++){var o=String.prototype.codePointAt?e.codePointAt(r):i(e,r);t[n++]=255&o}return t}function s(){return"undefined"!=typeof XMLHttpRequest&&XMLHttpRequest.prototype.hasOwnProperty("overrideMimeType")}Object.defineProperty(t,"__esModule",{value:!0});var a=n(22),c=n(43),u=n(44);t.default=r;var l=function(){function e(e){this.options=e}return e.prototype.onProgressEvent=function(){var e=this;this.options.debug&&c.debug("XHR.onProgressEvent.length: ",this.xhr.response.length);var t=this.xhr.response.substr(this.index);this.index=this.xhr.response.length;var n=o(t);u.default(function(){e.options.onChunk(n)})},e.prototype.onLoadEvent=function(){var e=this;this.options.debug&&c.debug("XHR.onLoadEvent"),u.default(function(){e.options.onEnd()})},e.prototype.onStateChange=function(){var e=this;this.options.debug&&c.debug("XHR.onStateChange",this.xhr.readyState),this.xhr.readyState===XMLHttpRequest.HEADERS_RECEIVED&&u.default(function(){e.options.onHeaders(new a.Metadata(e.xhr.getAllResponseHeaders()),e.xhr.status)})},e.prototype.sendMessage=function(e){this.xhr.send(e)},e.prototype.finishSend=function(){},e.prototype.start=function(e){var t=this;this.metadata=e;var n=new XMLHttpRequest;this.xhr=n,n.open("POST",this.options.url),n.responseType="text",n.overrideMimeType("text/plain; charset=x-user-defined"),this.metadata.forEach(function(e,t){n.setRequestHeader(e,t.join(", "))}),n.addEventListener("readystatechange",this.onStateChange.bind(this)),n.addEventListener("progress",this.onProgressEvent.bind(this)),n.addEventListener("loadend",this.onLoadEvent.bind(this)),n.addEventListener("error",function(e){t.options.debug&&c.debug("XHR.error",e),u.default(function(){t.options.onEnd(e.error)})})},e.prototype.cancel=function(){this.options.debug&&c.debug("XHR.abort"),this.xhr.abort()},e}();t.stringToArrayBuffer=o,t.detectXHRSupport=s},function(e,t,n){"use strict";function r(e){return e.debug&&s.debug("mozXhrRequest",e),new u(e)}function i(){return"undefined"!=typeof XMLHttpRequest&&c.xhrSupportsResponseType("moz-chunked-arraybuffer")}Object.defineProperty(t,"__esModule",{value:!0});var o=n(22),s=n(43),a=n(44),c=n(319);t.default=r;var u=function(){function e(e){this.options=e}return e.prototype.onProgressEvent=function(){var e=this,t=this.xhr.response;this.options.debug&&s.debug("MozXHR.onProgressEvent: ",new Uint8Array(t)),a.default(function(){e.options.onChunk(new Uint8Array(t))})},e.prototype.onLoadEvent=function(){var e=this;this.options.debug&&s.debug("MozXHR.onLoadEvent"),a.default(function(){e.options.onEnd()})},e.prototype.onStateChange=function(){var e=this;this.options.debug&&s.debug("MozXHR.onStateChange",this.xhr.readyState),this.options.debug&&s.debug("MozXHR.XMLHttpRequest.HEADERS_RECEIVED",XMLHttpRequest.HEADERS_RECEIVED),this.xhr.readyState===XMLHttpRequest.HEADERS_RECEIVED&&a.default(function(){e.options.onHeaders(new o.Metadata(e.xhr.getAllResponseHeaders()),e.xhr.status)})},e.prototype.sendMessage=function(e){this.options.debug&&s.debug("MozXHR.sendMessage"),this.xhr.send(e)},e.prototype.finishSend=function(){},e.prototype.start=function(e){var t=this;this.options.debug&&s.debug("MozXHR.start"),this.metadata=e;var n=new XMLHttpRequest;this.xhr=n,n.open("POST",this.options.url),n.responseType="moz-chunked-arraybuffer",this.metadata.forEach(function(e,t){n.setRequestHeader(e,t.join(", "))}),n.addEventListener("readystatechange",this.onStateChange.bind(this)),n.addEventListener("progress",this.onProgressEvent.bind(this)),n.addEventListener("loadend",this.onLoadEvent.bind(this)),n.addEventListener("error",function(e){t.options.debug&&s.debug("MozXHR.error",e),a.default(function(){t.options.onEnd(e.error)})})},e.prototype.cancel=function(){this.options.debug&&s.debug("MozXHR.cancel"),this.xhr.abort()},e}();t.detectMozXHRSupport=i},function(e,t,n){"use strict";function r(){if(void 0!==o)return o;if(XMLHttpRequest){o=new XMLHttpRequest;try{o.open("GET","https://localhost")}catch(e){}}return o}function i(e){var t=r();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(e){}return!1}Object.defineProperty(t,"__esModule",{value:!0});var o;t.xhrSupportsResponseType=i},function(e,t,n){"use strict";(function(r){function i(e){return e.debug&&console.log("nodeHttpRequest",e),new d(e)}function o(e){var t={};for(var n in e){var r=e[n];e.hasOwnProperty(n)&&void 0!==r&&(t[n]=r)}return t}function s(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e[n];return t}function a(e){for(var t=new r(e.byteLength),n=0;n<t.length;n++)t[n]=e[n];return t}function c(){return void 0!==e&&e.exports}Object.defineProperty(t,"__esModule",{value:!0});var u=n(79),l=n(147),f=n(26),h=n(22);t.default=i;var d=function(){function e(e){this.options=e}return e.prototype.sendMessage=function(e){this.request.write(a(e)),this.request.end()},e.prototype.finishSend=function(){},e.prototype.responseCallback=function(e){var t=this;this.options.debug&&console.log("NodeHttp.response",e.statusCode);var n=o(e.headers);this.options.onHeaders(new h.Metadata(n),e.statusCode),e.on("data",function(e){t.options.debug&&console.log("NodeHttp.data",e),t.options.onChunk(s(e))}),e.on("end",function(){t.options.debug&&console.log("NodeHttp.end"),t.options.onEnd()})},e.prototype.start=function(e){var t=this,n={};e.forEach(function(e,t){n[e]=t.join(", ")});var r=f.parse(this.options.url),i={host:r.hostname,port:r.port?parseInt(r.port):void 0,path:r.path,headers:n,method:"POST"};"https:"===r.protocol?this.request=l.request(i,this.responseCallback.bind(this)):this.request=u.request(i,this.responseCallback.bind(this)),this.request.on("error",function(e){t.options.debug&&console.log("NodeHttp.error",e),t.options.onEnd(e)})},e.prototype.cancel=function(){this.options.debug&&console.log("NodeHttp.abort"),this.request.abort()},e}();t.detectNodeHTTPSupport=c}).call(t,n(0).Buffer)},function(e,t,n){"use strict";function r(e){function t(e){if(e===s.FINISH_SEND)n.send(l);else{var t=e,r=new Int8Array(t.byteLength+1);r.set(new Uint8Array([0])),r.set(t,1),n.send(r)}}e.debug&&a.debug("websocketRequest",e);var n,r=i(e.url),u=[];return{sendMessage:function(e){n&&n.readyState!==n.CONNECTING?t(e):u.push(e)},finishSend:function(){n&&n.readyState!==n.CONNECTING?t(s.FINISH_SEND):u.push(s.FINISH_SEND)},start:function(i){n=new WebSocket(r,["grpc-websockets"]),n.binaryType="arraybuffer",n.onopen=function(){e.debug&&a.debug("websocketRequest.onopen"),n.send(o(i)),u.forEach(function(e){t(e)})},n.onclose=function(t){e.debug&&a.debug("websocketRequest.onclose",t),c.default(function(){e.onEnd()})},n.onerror=function(t){e.debug&&a.debug("websocketRequest.onerror",t)},n.onmessage=function(t){c.default(function(){e.onChunk(new Uint8Array(t.data))})}},cancel:function(){e.debug&&a.debug("websocket.abort"),c.default(function(){n.close()})}}}function i(e){if("https://"===e.substr(0,8))return"wss://"+e.substr(8);if("http://"===e.substr(0,7))return"ws://"+e.substr(7);throw new Error("Websocket transport constructed with non-https:// or http:// host.")}function o(e){var t="";return e.forEach(function(e,n){t+=e+": "+n.join(", ")+"\r\n"}),u.encodeASCII(t)}Object.defineProperty(t,"__esModule",{value:!0});var s,a=n(43),c=n(44),u=n(151);!function(e){e[e.FINISH_SEND=1]="FINISH_SEND"}(s||(s={}));var l=new Uint8Array([1]);t.default=r},function(e,t,n){"use strict";function r(e,t){if(e.requestStream)throw new Error(".invoke cannot be used with client-streaming methods. Use .client instead.");var n=i.client(e,{host:t.host,transport:t.transport,debug:t.debug});return t.onHeaders&&n.onHeaders(t.onHeaders),t.onMessage&&n.onMessage(t.onMessage),t.onEnd&&n.onEnd(t.onEnd),n.start(t.metadata),n.send(t.request),{close:function(){n.close()}}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(83);t.invoke=r},function(e,t,n){"use strict";function r(e){var t=e.serializeBinary(),n=new ArrayBuffer(t.byteLength+5);return new DataView(n,1,4).setUint32(0,t.length,!1),new Uint8Array(n,5).set(t),new Uint8Array(n)}Object.defineProperty(t,"__esModule",{value:!0}),t.frameRequest=r},function(e,t,n){"use strict";function r(e,t){if(e.responseStream)throw new Error(".unary cannot be used with server-streaming methods. Use .invoke or .client instead.");if(e.requestStream)throw new Error(".unary cannot be used with client-streaming methods. Use .client instead.");var n=null,r=null,s=o.client(e,{host:t.host,transport:t.transport,debug:t.debug});return s.onHeaders(function(e){n=e}),s.onMessage(function(e){r=e}),s.onEnd(function(e,o,s){t.onEnd({status:e,statusMessage:o,headers:n||new i.Metadata,message:r,trailers:s})}),s.start(t.metadata),s.send(t.request),{close:function(){s.close()}}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(22),o=n(83);t.unary=r},function(e,t,n){"use strict";(function(t){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){if(!e.payload)throw new Error("Parameter must be a ProposalResponse Object");var t=x.ProposalResponsePayload.decode(e.payload),n=k.ChaincodeAction.decode(t.extension);return g.debug("_getWriteSet - chaincode action status:%s message:%s",n.response.status,n.response.message),n.results.toBuffer()}function o(e,t,n,r,i,c){if(g.debug("loadConfigGroup - %s - > group:%s",r,i),!n)return g.debug("loadConfigGroup - %s - no group",r),void g.debug("loadConfigGroup - %s - < group",r);var u=r.indexOf("base.Orderer")>-1;g.debug("loadConfigGroup - %s   - version %s",r,n.version),g.debug("loadConfigGroup - %s   - mod policy %s",r,n.mod_policy);var l=null;if(c?(l=n.groups,t.version=n.version):(l=n.value.groups,t.version=n.value.version),g.debug("loadConfigGroup - %s - >> groups",r),l){var f=Object.keys(l.map);t.groups={},0==f.length&&g.debug("loadConfigGroup - %s   - no groups",r);for(var h=0;h<f.length;h++){var d=f[h];g.debug("loadConfigGroup - %s   - found config group ==> %s",r,d),t.groups[d]={},o(e,t.groups[d],l.map[d],r+"."+d,d,!1)}}else g.debug("loadConfigGroup - %s   - no groups",r);g.debug("loadConfigGroup - %s - << groups",r),g.debug("loadConfigGroup - %s - >> values",r);var p=null;if(p=c?n.values:n.value.values){t.values={};for(var y=Object.keys(p.map),m=0;m<y.length;m++){var v=y[m];t.values[v]={};var b=p.map[v];s(e,t.values[v],b,r,i,u)}}else g.debug("loadConfigGroup - %s   - no values",r);g.debug("loadConfigGroup - %s - << values",r),g.debug("loadConfigGroup - %s - >> policies",r);var w=null;if(w=c?n.policies:n.value.policies){t.policies={};for(var S=Object.keys(w.map),E=0;E<S.length;E++){var k=S[E];t.policies[k]={};var x=w.map[k];a(e,t.policies[k],x,r,i)}}else g.debug("loadConfigGroup - %s   - no policies",r);g.debug("loadConfigGroup - %s - << policies",r),g.debug("loadConfigGroup - %s - < group",r)}function s(e,t,n,r,i,o){g.debug("loadConfigValue - %s -  value name: %s",r,n.key),g.debug("loadConfigValue - %s    - version: %s",r,n.value.version),g.debug("loadConfigValue - %s    - mod_policy: %s",r,n.value.mod_policy),t.version=n.value.version;try{switch(n.key){case"AnchorPeers":var s=O.AnchorPeers.decode(n.value.value);if(g.debug("loadConfigValue - %s    - AnchorPeers :: %s",r,s),s&&s.anchor_peers)for(var a in s.anchor_peers){var u={host:s.anchor_peers[a].host,port:s.anchor_peers[a].port,org:i};e["anchor-peers"].push(u),g.debug("loadConfigValue - %s    - AnchorPeer :: %s:%s:%s",r,u.host,u.port,u.org)}break;case"MSP":var l=T.MSPConfig.decode(n.value.value);g.debug("loadConfigValue - %s    - MSP found",r),o||e.msps.push(l);break;case"ConsensusType":var f=R.ConsensusType.decode(n.value.value);e.settings.ConsensusType=f,g.debug("loadConfigValue - %s    - Consensus type value :: %s",r,f.type);break;case"BatchSize":var h=R.BatchSize.decode(n.value.value);e.settings.BatchSize=h,g.debug("loadConfigValue - %s    - BatchSize  max_message_count :: %s",r,h.maxMessageCount),g.debug("loadConfigValue - %s    - BatchSize  absolute_max_bytes :: %s",r,h.absoluteMaxBytes),g.debug("loadConfigValue - %s    - BatchSize  preferred_max_bytes :: %s",r,h.preferredMaxBytes);break;case"BatchTimeout":var d=R.BatchTimeout.decode(n.value.value);e.settings.BatchTimeout=d,g.debug("loadConfigValue - %s    - BatchTimeout timeout value :: %s",r,d.timeout);break;case"ChannelRestrictions":var p=R.ChannelRestrictions.decode(n.value.value);e.settings.ChannelRestrictions=p,g.debug("loadConfigValue - %s    - ChannelRestrictions max_count value :: %s",r,p.max_count);break;case"ChannelCreationPolicy":var y=P.Policy.decode(n.value.value);c(e,t,n.key,y,r);break;case"HashingAlgorithm":var m=D.HashingAlgorithm.decode(n.value.value);e.settings.HashingAlgorithm=m,g.debug("loadConfigValue - %s    - HashingAlgorithm name value :: %s",r,m.name);break;case"Consortium":var v=D.Consortium.decode(n.value.value);e.settings.Consortium=v,g.debug("loadConfigValue - %s    - Consortium name value :: %s",r,v.name);break;case"BlockDataHashingStructure":var b=D.BlockDataHashingStructure.decode(n.value.value);e.settings.BlockDataHashingStructure=b,g.debug("loadConfigValue - %s    - BlockDataHashingStructure width value :: %s",r,b.width);break;case"OrdererAddresses":var w=D.OrdererAddresses.decode(n.value.value);if(g.debug("loadConfigValue - %s    - OrdererAddresses addresses value :: %s",r,w.addresses),w&&w.addresses){var S=!0,E=!1,k=void 0;try{for(var x,_=w.addresses[Symbol.iterator]();!(S=(x=_.next()).done);S=!0){var C=x.value;e.orderers.push(C)}}catch(e){E=!0,k=e}finally{try{!S&&_.return&&_.return()}finally{if(E)throw k}}}break;case"KafkaBrokers":var A=R.KafkaBrokers.decode(n.value.value);if(g.debug("loadConfigValue - %s    - KafkaBrokers addresses value :: %s",r,A.brokers),A&&A.brokers){var I=!0,j=!1,N=void 0;try{for(var B,F=A.brokers[Symbol.iterator]();!(I=(B=F.next()).done);I=!0){var M=B.value;e["kafka-brokers"].push(M)}}catch(e){j=!0,N=e}finally{try{!I&&F.return&&F.return()}finally{if(j)throw N}}}break;default:g.debug("loadConfigValue - %s    - value: %s",r,n.value.value)}}catch(e){g.debug("loadConfigValue - %s - name: %s - *** unable to parse with error :: %s",r,n.key,e)}}function a(e,t,n,r,i){g.debug("loadConfigPolicy - %s - policy name: %s",r,n.key),g.debug("loadConfigPolicy - %s   - version: %s",r,n.value.version),g.debug("loadConfigPolicy - %s   - mod_policy: %s",r,n.value.mod_policy),t.version=n.value.version,c(e,t,n.key,n.value.policy,r)}function c(e,t,n,r,i){try{if(r.type===P.Policy.PolicyType.SIGNATURE){var o=P.SignaturePolicyEnvelope.decode(r.policy);g.debug("loadPolicy - %s - policy SIGNATURE :: %s %s",i,o.encodeJSON(),this.decodeSignaturePolicy(o.getIdentities()))}else{if(r.type!==P.Policy.PolicyType.IMPLICIT_META)throw g.error("loadPolicy - Unknown policy type :: %s",r.type),new Error("Unknown Policy type ::"+r.type);var s=P.ImplicitMetaPolicy.decode(r.value),a=B[s.getRule()];g.debug("loadPolicy - %s - policy IMPLICIT_META :: %s %s",i,a,s.getSubPolicy())}}catch(e){g.debug("loadPolicy - %s - name: %s - unable to parse policy %s",i,n,e)}}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(3),f=n(54),h=n(4),d=(n(12),n(156)),p=n(84),y=n(157),g=l.getLogger("Channel.js"),m=n(326),v=n(327),b=n(81),w=n(11),S=w.protos,E=w.protos,k=w.protos,x=w.protos,_=w.protos,O=w.protos,C=w.common,A=w.common,P=w.common,I=w.common,D=w.common,R=w.orderer,j=w.orderer,T=w.msp,N=(w.common,w.msp),B={0:"ANY",1:"ALL",2:"MAJORITY"},F=function(){function e(t,n){if(r(this,e),void 0===t||!t)throw g.error('Failed to create Channel. Missing requirement "name" parameter.'),new Error('Failed to create Channel. Missing requirement "name" parameter.');if(void 0===n||!n)throw g.error('Failed to create Channel. Missing requirement "clientContext" parameter.'),new Error('Failed to create Channel. Missing requirement "clientContext" parameter.');this._name=t,this._peers=[],this._anchor_peers=[],this._orderers=[],this._kafka_brokers=[],this._clientContext=n,this._msp_manager=new m,g.debug("Constructed Channel instance: name - %s, network mode: %s",this._name,!this._devMode)}return u(e,[{key:"close",value:function(){g.info("close - closing connections");var e=function(e){e.close()};this._peers.map(e),this._orderers.map(e)}},{key:"initialize",value:function(e){if(e)return this.loadConfigUpdate(e),Promise.resolve(!0);var t=this;return this.getChannelConfig().then(function(e){g.debug("initialize - got config envelope from getChannelConfig :: %j",e);var n=t.loadConfigEnvelope(e);return Promise.resolve(n)}).catch(function(e){return g.error(e.stack),Promise.reject(new Error(e))})}},{key:"getName",value:function(){return this._name}},{key:"getOrganizations",value:function(){g.debug("getOrganizationUnits - start");var e=this._msp_manager.getMSPs(),t=[];if(e){var n=Object.keys(e);for(var r in n){var i=e[n[r]],o={id:i.getId()};g.debug("getOrganizationUnits - found %j",o),t.push(o)}}return g.debug("getOrganizationUnits - orgs::%j",t),t}},{key:"setMSPManager",value:function(e){this._msp_manager=e}},{key:"getMSPManager",value:function(){return this._msp_manager}},{key:"addPeer",value:function(e){for(var t=e.getUrl(),n=0;n<this._peers.length;n++)if(this._peers[n].getUrl()===t){var r=new Error;throw r.name="DuplicatePeer",r.message="Peer with URL "+t+" already exists",g.error(r.message),r}this._peers.push(e)}},{key:"removePeer",value:function(e){for(var t=e.getUrl(),n=0;n<this._peers.length;n++)if(this._peers[n].getUrl()===t)return this._peers.splice(n,1),void g.debug('Removed peer with url "%s".',t)}},{key:"getPeers",value:function(){return g.debug("getPeers - list size: %s.",this._peers.length),this._peers}},{key:"addOrderer",value:function(e){for(var t=e.getUrl(),n=0;n<this._orderers.length;n++)if(this._orderers[n].getUrl()===t){var r=new Error;throw r.name="DuplicateOrderer",r.message="Orderer with URL "+t+" already exists",g.error(r.message),r}this._orderers.push(e)}},{key:"removeOrderer",value:function(e){for(var t=e.getUrl(),n=0;n<this._orderers.length;n++)if(this._orderers[n].getUrl()===t)return this._orderers.splice(n,1),void g.debug('Removed orderer with url "%s".',t)}},{key:"getOrderers",value:function(){return this._orderers}},{key:"newChannelEventHub",value:function(e){return e=this._getPeerForEvents(e),new d(this,e)}},{key:"getChannelEventHubsForOrg",value:function(e){var t="getChannelEventHubsForOrg";g.debug("%s - starting",t);var n=[],r=null,i={};if(!this._clientContext||!this._clientContext._network_config)throw new Error("No connecton profile has been loaded");if(!e&&this._clientContext._network_config.hasClient()){r=this._clientContext._network_config.getClientConfig().organization}else r=e;if(!r)throw new Error("No organization name provided");var o=this._clientContext._network_config.getOrganization(r);if(!o)throw new Error(h.format("Organization definition not found for %s",r));var s=this.getPeers(),a=o.getPeers();for(var c in s){var u=s[c];if(g.debug("%s - looking at channel peer:%s",t,u.getName()),u.isInRole(b.NetworkConfig.EVENT_SOURCE_ROLE))for(var l in a){var f=a[l];g.debug("%s - looking at org peer:%s",t,f.getName()),f.getName()===u.getName()&&(i[f.getName()]=f,g.debug("%s - adding peer to list:%s",t,f.getName()))}}for(var p in i){g.debug("%s - final list has:%s",t,p);var y=i[p],m=new d(this,y);n.push(m)}return n}},{key:"getGenesisBlock",value:function(e){g.debug("getGenesisBlock - start"),e||(e={});var n=this._clientContext.getTargetOrderer(e.orderer,this._orderers,this._name),r=null,i=e.txId;i?r=this._clientContext._getSigningIdentity(i.isAdmin()):(r=this._clientContext._getSigningIdentity(!0),i=new y(r,!0));var o=new j.SeekSpecified;o.setNumber(0);var s=new j.SeekPosition;s.setSpecified(o);var a=new j.SeekSpecified;a.setNumber(0);var c=new j.SeekPosition;c.setSpecified(a);var u=new j.SeekInfo;u.setStart(s),u.setStop(c),u.setBehavior(j.SeekInfo.SeekBehavior.BLOCK_UNTIL_READY);var l=f.buildChannelHeader(C.HeaderType.DELIVER_SEEK_INFO,this._name,i.getTransactionID(),this._initial_epoch,null,f.buildCurrentTimestamp(),n.getClientCertHash()),h=f.buildHeader(r,l,i.getNonce()),d=new C.Payload;d.setHeader(h),d.setData(u.toBuffer());var p=d.toBuffer(),m=r.sign(p),v=t.from(m),b={signature:v,payload:p};return n.sendDeliver(b)}},{key:"joinChannel",value:function(e,n){g.debug("joinChannel - start");var r=null;if(e?e.txId?e.block||(r="Missing block input parameter with the required genesis block"):r="Missing txId input parameter with the required transaction identifier":r="Missing all required input request parameters",r)throw g.error("joinChannel - error "+r),new Error(r);var i=this._getTargets(e.targets),o=this._clientContext._getSigningIdentity(e.txId.isAdmin()),s=new S.ChaincodeInput,a=[];a.push(t.from("JoinChain","utf8")),a.push(e.block.toBuffer()),s.setArgs(a);var c=new S.ChaincodeID;c.setName(b.CSCC);var u=new S.ChaincodeSpec;u.setType(S.ChaincodeSpec.Type.GOLANG),u.setChaincodeId(c),u.setInput(s);var l=f.buildChannelHeader(C.HeaderType.ENDORSER_TRANSACTION,"",e.txId.getTransactionID(),null,b.CSCC,f.buildCurrentTimestamp(),i[0].getClientCertHash()),h=f.buildHeader(o,l,e.txId.getNonce()),d=f.buildProposal(u,h),p=f.signProposal(o,d);return f.sendPeersProposal(i,p,n).then(function(e){return Promise.resolve(e)}).catch(function(e){return g.error("joinChannel - Failed Proposal. Error: %s",e.stack?e.stack:e),Promise.reject(e)})}},{key:"getChannelConfig",value:function(e){var t="getChannelConfig";g.debug("%s - start for channel %s",t,this._name);var n=this._getTargetForQuery(e),r=this._clientContext._getSigningIdentity(!0),i=new y(r,!0),o={targets:n,chaincodeId:b.CSCC,txId:i,signer:r,fcn:"GetConfigBlock",args:[this._name]};return this.sendTransactionProposal(o).then(function(e){var n=e[0];if(g.debug("%s - results received",t),n&&Array.isArray(n)){var r=n[0];if(r instanceof Error)return Promise.reject(r);if(r.response&&r.response.payload){var i=C.Block.decode(r.response.payload),o=C.Envelope.decode(i.data.data[0]),s=C.Payload.decode(o.payload),a=A.ConfigEnvelope.decode(s.data);return Promise.resolve(a)}return g.error("%s - unknown response ::%s",t,r),Promise.reject(new Error(r))}return Promise.reject(new Error("Payload results are missing from the get channel config"))}).catch(function(e){return g.error("%s - Failed getting channel config. Error: %s",t,e.stack?e.stack:e),Promise.reject(e)})}},{key:"getChannelConfigFromOrderer",value:function(){var e="getChannelConfigFromOrderer";g.debug("%s - start for channel %s",e,this._name);var n=this,r=this._clientContext.getTargetOrderer(null,this._orderers,this._name),i=this._clientContext._getSigningIdentity(!0),o=new y(i,!0),s=new j.SeekNewest,a=new j.SeekPosition;a.setNewest(s);var c=new j.SeekNewest,u=new j.SeekPosition;u.setNewest(c);var l=new j.SeekInfo;l.setStart(a),l.setStop(u),l.setBehavior(j.SeekInfo.SeekBehavior.BLOCK_UNTIL_READY);var d=f.buildChannelHeader(C.HeaderType.DELIVER_SEEK_INFO,n._name,o.getTransactionID(),n._initial_epoch,null,f.buildCurrentTimestamp(),r.getClientCertHash()),p=f.buildHeader(i,d,o.getNonce()),m=new C.Payload;m.setHeader(p),m.setData(l.toBuffer());var v=m.toBuffer(),b=i.sign(v),w=t.from(b),S={signature:w,payload:v};return r.sendDeliver(S).then(function(o){if(g.debug("%s - good results from seek block ",e),!o)return g.error("%s - did not find latest block",e),Promise.reject(new Error("Failed to retrieve latest block",e));g.debug("%s - found latest block",e),g.debug("%s - latest block is block number %s",o.header.number);var s=C.Metadata.decode(o.metadata.metadata[C.BlockMetadataIndex.LAST_CONFIG]),a=C.LastConfig.decode(s.value);g.debug("%s - latest block has config block of %s",e,a.index);var c=new y(i),u=new j.SeekSpecified;u.setNumber(a.index);var l=new j.SeekPosition;l.setSpecified(u);var h=new j.SeekSpecified;h.setNumber(a.index);var d=new j.SeekPosition;d.setSpecified(h);var p=new j.SeekInfo;p.setStart(l),p.setStop(d),p.setBehavior(j.SeekInfo.SeekBehavior.BLOCK_UNTIL_READY);var m=f.buildChannelHeader(C.HeaderType.DELIVER_SEEK_INFO,n._name,c.getTransactionID(),n._initial_epoch,null,f.buildCurrentTimestamp(),r.getClientCertHash()),v=f.buildHeader(i,m,c.getNonce()),b=new C.Payload;b.setHeader(v),b.setData(p.toBuffer());var w=b.toBuffer(),S=i.sign(w),E=t.from(S),k={signature:E,payload:w};return r.sendDeliver(k)}).then(function(t){if(!t)return Promise.reject(new Error("Config block was not found"));if(g.debug("%s -  config block number ::%s  -- numberof tx :: %s",e,t.header.number,t.data.data.length),1!=t.data.data.length)return Promise.reject(new Error("Config block must only contain one transaction"));var n=C.Envelope.decode(t.data.data[0]),r=C.Payload.decode(n.payload),i=C.ChannelHeader.decode(r.header.channel_header);if(i.type!=C.HeaderType.CONFIG)return Promise.reject(new Error(h.format('Block must be of type "CONFIG" (%s), but got "%s" instead',C.HeaderType.CONFIG,i.type)));var o=A.ConfigEnvelope.decode(r.data);return Promise.resolve(o)}).catch(function(t){return g.error("%s - Failed Proposal. Error: %s",e,t.stack?t.stack:t),Promise.reject(t)})}},{key:"loadConfigUpdateEnvelope",value:function(e){g.debug("loadConfigUpdateEnvelope - start");var t=C.Envelope.decode(e),n=C.Payload.decode(t.payload);if(C.ChannelHeader.decode(n.header.channel_header).type!=C.HeaderType.CONFIG_UPDATE)return new Error('Data must be of type "CONFIG_UPDATE"');var r=A.ConfigUpdateEnvelope.decode(n.data);return this.loadConfigUpdate(r.config_update)}},{key:"loadConfigUpdate",value:function(e){var t=A.ConfigUpdate.decode(e);g.debug("loadConfigData - channel ::"+t.channel_id);var n=t.read_set,r=t.write_set,i={};return i.msps=[],i["anchor-peers"]=[],i.orderers=[],i["kafka-brokers"]=[],i.settings={},i.versions={},i.versions.read_group={},i.versions.write_group={},o(i,i.versions.read_group,n,"read_set",null,!0,!1),o(i,i.versions.write_group,r,"write_set",null,!0,!1),this._msp_manager.loadMSPs(i.msps),this._anchor_peers=i.anchor_peers,i}},{key:"loadConfigEnvelope",value:function(e){g.debug("loadConfigEnvelope - start");var t=e.config.channel_group,n={};return n.msps=[],n["anchor-peers"]=[],n.orderers=[],n["kafka-brokers"]=[],n.versions={},n.versions.channel={},o(n,n.versions.channel,t,"base",null,!0,!0),this._msp_manager.loadMSPs(n.msps),this._anchor_peers=n.anchor_peers,n}},{key:"queryInfo",value:function(e,t){g.debug("queryInfo - start");var n=this._getTargetForQuery(e),r=this._clientContext._getSigningIdentity(t),i=new y(r,t),o={targets:n,chaincodeId:b.QSCC,txId:i,signer:r,fcn:"GetChainInfo",args:[this._name]};return this.sendTransactionProposal(o).then(function(e){var t=e[0];if(t&&Array.isArray(t)){if(g.debug("queryInfo - got responses="+t.length),t.length>1)return Promise.reject(new Error("Too many results returned"));var n=t[0];if(n instanceof Error)return Promise.reject(n);if(n.response){g.debug("queryInfo - response status %d:",n.response.status);var r=I.BlockchainInfo.decode(n.response.payload);return Promise.resolve(r)}return Promise.reject(n)}return Promise.reject(new Error("Payload results are missing from the query channel info"))}).catch(function(e){return g.error("Failed Query channel info. Error: %s",e.stack?e.stack:e),Promise.reject(e)})}},{key:"queryBlockByTxID",value:function(e,t,n){if(g.debug("queryBlockByTxID - start"),!e||"string"!=typeof e)throw new Error("tx_id as string is required");var r=[this._name,e],i=this._getTargetForQuery(t),o=this._clientContext._getSigningIdentity(n),s={targets:i,chaincodeId:b.QSCC,txId:new y(o,n),fcn:"GetBlockByTxID",args:r};return this.sendTransactionProposal(s).then(function(e){var t=e[0];if(t&&Array.isArray(t)){if(g.debug("queryBlockByTxID - got response",t.length),t.length>1)return Promise.reject(new Error("Too many results returned"));var n=t[0];if(n instanceof Error)return Promise.reject(n);if(n.response){g.debug("queryBlockByTxID - response status %d:",n.response.status);var r=p.decode(n.response.payload);return g.debug("queryBlockByTxID - looking at block :: %s",r.header.number),Promise.resolve(r)}return Promise.reject(n)}return Promise.reject(new Error("Payload results are missing from the query"))}).catch(function(e){return g.error("Failed Query block. Error: %s",e.stack?e.stack:e),Promise.reject(e)})}},{key:"queryBlockByHash",value:function(e,t,n){if(g.debug("queryBlockByHash - start"),!e)throw new Error("Blockhash bytes are required");var r=this._getTargetForQuery(t),i=this._clientContext._getSigningIdentity(n),o=new y(i,n),s={targets:r,chaincodeId:b.QSCC,txId:o,signer:i,fcn:"GetBlockByHash",args:[this._name],argbytes:e};return this.sendTransactionProposal(s).then(function(e){var t=e[0];if(g.debug("queryBlockByHash - got response"),t&&Array.isArray(t)){if(t.length>1)return Promise.reject(new Error("Too many results returned"));var n=t[0];if(n instanceof Error)return Promise.reject(n);if(n.response){g.debug("queryBlockByHash - response status %d:",n.response.status);var r=p.decode(n.response.payload);return g.debug("queryBlockByHash - looking at block :: %s",r.header.number),Promise.resolve(r)}return Promise.reject(n)}return Promise.reject(new Error("Payload results are missing from the query"))}).catch(function(e){return g.error("Failed Query block. Error: %s",e.stack?e.stack:e),Promise.reject(e)})}},{key:"queryBlock",value:function(e,t,n){g.debug("queryBlock - start blockNumber %s",e);var r=null;if(!(Number.isInteger(e)&&e>=0))throw new Error("Block number must be a positive integer");r=e.toString();var i=this._getTargetForQuery(t),o=this._clientContext._getSigningIdentity(n),s=new y(o,n),a={targets:i,chaincodeId:b.QSCC,txId:s,signer:o,fcn:"GetBlockByNumber",args:[this._name,r]};return this.sendTransactionProposal(a).then(function(e){var t=e[0];if(g.debug("queryBlock - got response"),t&&Array.isArray(t)){if(t.length>1)return Promise.reject(new Error("Too many results returned"));var n=t[0];if(n instanceof Error)return Promise.reject(n);if(n.response){g.debug("queryBlock - response status %d:",n.response.status);var r=p.decode(n.response.payload);return g.debug("queryBlock - looking at block :: %s",r.header.number),Promise.resolve(r)}return Promise.reject(n)}return Promise.reject(new Error("Payload results are missing from the query"))}).catch(function(e){return g.error("Failed Query block. Error: %s",e.stack?e.stack:e),Promise.reject(e)})}},{key:"queryTransaction",value:function(e,t,n){if(g.debug("queryTransaction - start transactionID %s",e),!e)throw new Error('Missing "tx_id" parameter');e=e.toString();var r=this._getTargetForQuery(t),i=this._clientContext._getSigningIdentity(n),o=new y(i,n),s={targets:r,chaincodeId:b.QSCC,txId:o,signer:i,fcn:"GetTransactionByID",args:[this._name,e]};return this.sendTransactionProposal(s).then(function(e){var t=e[0];if(g.debug("queryTransaction - got response"),t&&Array.isArray(t)){if(t.length>1)return Promise.reject(new Error("Too many results returned"));var n=t[0];if(n instanceof Error)return Promise.reject(n);if(n.response){g.debug("queryTransaction - response status :: %d",n.response.status);var r=p.decodeTransaction(n.response.payload);return Promise.resolve(r)}return Promise.reject(r)}return Promise.reject(new Error("Payload results are missing from the query"))}).catch(function(e){return g.error("Failed Transaction Query. Error: %s",e.stack?e.stack:e),Promise.reject(e)})}},{key:"queryInstantiatedChaincodes",value:function(e,t){g.debug("queryInstantiatedChaincodes - start");var n=this._getTargetForQuery(e),r=this._clientContext._getSigningIdentity(t),i=new y(r,t),o={targets:n,chaincodeId:b.LSCC,txId:i,signer:r,fcn:"getchaincodes",args:[]};return this.sendTransactionProposal(o).then(function(e){var t=e[0];if(g.debug("queryInstantiatedChaincodes - got response"),t&&Array.isArray(t)){if(t.length>1)return Promise.reject(new Error("Too many results returned"));var n=t[0];if(n instanceof Error)return Promise.reject(n);if(n.response){g.debug("queryInstantiatedChaincodes - response status :: %d",n.response.status);var r=_.ChaincodeQueryResponse.decode(n.response.payload);g.debug("queryInstantiatedChaincodes - ProcessedTransaction.chaincodeInfo.length :: %s",r.chaincodes.length);var i=!0,o=!1,s=void 0;try{for(var a,c=r.chaincodes[Symbol.iterator]();!(i=(a=c.next()).done);i=!0){var u=a.value;g.debug("queryInstantiatedChaincodes - name %s, version %s, path %s",u.name,u.version,u.path)}}catch(e){o=!0,s=e}finally{try{!i&&c.return&&c.return()}finally{if(o)throw s}}return Promise.resolve(r)}return Promise.reject(n)}return Promise.reject(new Error("Payload results are missing from the query"))}).catch(function(e){return g.error("Failed Instantiated Chaincodes Query. Error: %s",e.stack?e.stack:e),Promise.reject(e)})}},{key:"sendInstantiateProposal",value:function(e,t){return this._sendChaincodeProposal(e,"deploy",t)}},{key:"sendUpgradeProposal",value:function(e,t){return this._sendChaincodeProposal(e,"upgrade",t)}},{key:"_sendChaincodeProposal",value:function(e,n,r){var i=null;if(i||(i=f.checkProposalRequest(e)),i||(i=f.checkInstallRequest(e)),i)return g.error("sendChainCodeProposal error "+i),Promise.reject(new Error(i));var o=this._getTargets(e.targets,b.NetworkConfig.ENDORSING_PEER_ROLE);e.args||(e.args=[]);var s=[];s.push(t.from(e.fcn?e.fcn:"init","utf8"));var a=!0,c=!1,u=void 0;try{for(var l,h=e.args[Symbol.iterator]();!(a=(l=h.next()).done);a=!0){var d=l.value;s.push(t.from(d,"utf8"))}}catch(e){c=!0,u=e}finally{try{!a&&h.return&&h.return()}finally{if(c)throw u}}var p={type:f.translateCCType(e.chaincodeType),chaincode_id:{name:e.chaincodeId,version:e.chaincodeVersion},input:{args:s}},y=new S.ChaincodeDeploymentSpec;y.setChaincodeSpec(p);var m=this._clientContext._getSigningIdentity(e.txId.isAdmin()),v=[t.from(n),t.from(this._name),y.toBuffer()];e["endorsement-policy"]&&(v[3]=this._buildEndorsementPolicy(e["endorsement-policy"]));var w={type:f.translateCCType(e.chaincodeType),chaincode_id:{name:b.LSCC},input:{args:v}},E=f.buildChannelHeader(C.HeaderType.ENDORSER_TRANSACTION,this._name,e.txId.getTransactionID(),null,b.LSCC,f.buildCurrentTimestamp(),o[0].getClientCertHash()),k=f.buildHeader(m,E,e.txId.getNonce()),x=f.buildProposal(w,k,e.transientMap),_=f.signProposal(m,x);return f.sendPeersProposal(o,_,r).then(function(e){return[e,x]})}},{key:"sendTransactionProposal",value:function(t,n){if(g.debug("sendTransactionProposal - start"),!t)throw new Error("Missing request object for this transaction proposal");return t.targets=this._getTargets(t.targets,b.NetworkConfig.ENDORSING_PEER_ROLE),e.sendTransactionProposal(t,this._name,this._clientContext,n)}},{key:"sendTransaction",value:function(e){g.debug("sendTransaction - start :: channel %s",this);var n=null;if(e?(e.proposalResponses||(n='Missing "proposalResponses" parameter in transaction request'),e.proposal||(n='Missing "proposal" parameter in transaction request')):n="Missing input request object on the transaction request",n)throw g.error("sendTransaction error "+n),new Error(n);var r=e.proposalResponses,i=e.proposal,o=[],s=r;if(Array.isArray(r))for(var a=0;a<r.length;a++)r[a].response&&200===r[a].response.status&&(s=r[a],o.push(s.endorsement));else s&&s.response&&200===s.response.status&&o.push(s.endorsement);if(o.length<1)throw g.error("sendTransaction - no valid endorsements found"),new Error("no valid endorsements found");var c=this._clientContext.getTargetOrderer(e.orderer,this._orderers,this._name),u=!1;e.txId&&(u=e.txId.isAdmin());var l=C.Header.decode(i.getHeader()),f=new E.ChaincodeEndorsedAction;f.setProposalResponsePayload(s.payload),f.setEndorsements(o);var h=new E.ChaincodeActionPayload;h.setAction(f);var d=k.ChaincodeProposalPayload.decode(i.payload),p=new k.ChaincodeProposalPayload;p.setInput(d.input),h.setChaincodeProposalPayload(p.toBuffer());var y=new E.TransactionAction;y.setHeader(l.getSignatureHeader()),y.setPayload(h.toBuffer());var m=[];m.push(y);var v=new E.Transaction;v.setActions(m);var b=new C.Payload;b.setHeader(l),b.setData(v.toBuffer());var w=b.toBuffer(),S=this._clientContext._getSigningIdentity(u),x=S.sign(w),_=t.from(x),O={signature:_,payload:w};return c.sendBroadcast(O)}},{key:"queryByChaincode",value:function(e,t){if(g.debug("queryByChaincode - start"),!e)throw new Error("Missing request object for this queryByChaincode call.");var n=this._getTargets(e.targets,b.NetworkConfig.CHAINCODE_QUERY_ROLE),r=this._clientContext._getSigningIdentity(t),i=new y(r,t),o={targets:n,chaincodeId:e.chaincodeId,fcn:e.fcn,args:e.args,transientMap:e.transientMap,txId:i,signer:r};return this.sendTransactionProposal(o).then(function(e){var t=e[0];if(g.debug("queryByChaincode - results received"),t&&Array.isArray(t)){for(var n=[],r=0;r<t.length;r++){var i=t[r];i instanceof Error?n.push(i):i.response&&i.response.payload?n.push(i.response.payload):(g.error("queryByChaincode - unknown or missing results in query ::"+n),n.push(new Error(i)))}return Promise.resolve(n)}return Promise.reject(new Error("Payload results are missing from the chaincode query"))}).catch(function(e){return g.error("Failed Query by chaincode. Error: %s",e.stack?e.stack:e),Promise.reject(e)})}},{key:"verifyProposalResponse",value:function(e){if(g.debug("verifyProposalResponse - start"),!e)throw new Error("Missing proposal response");if(!e.endorsement)throw new Error("Parameter must be a ProposalResponse Object");var n=e.endorsement,r=N.SerializedIdentity.decode(n.endorser),i=r.getMspid();g.debug("getMSPbyIdentity - found mspid %s",i);var o=this._msp_manager.getMSP(i);if(!o)throw new Error(h.format("Failed to locate an MSP instance matching the endorser identity's orgainization %s",i));g.debug("verifyProposalResponse - found endorser's MSP");try{var s=o.deserializeIdentity(n.endorser,!1);if(!s)throw new Error("Unable to find the endorser identity")}catch(e){return g.error("verifyProposalResponse - getting endorser identity failed with: ",e),!1}try{if(!s.isValid())return g.error("Endorser identity is not valid"),!1;g.debug("verifyProposalResponse - have a valid identity");var a=t.concat([e.payload,n.endorser]);if(!s.verify(a,n.signature))return g.error("Proposal signature is not valid"),!1}catch(e){return g.error("verifyProposalResponse - verify failed with: ",e),!1}return g.debug("verifyProposalResponse - This endorsement has both a valid identity and valid signature"),!0}},{key:"compareProposalResponseResults",value:function(e){if(g.debug("compareProposalResponseResults - start"),!e)throw new Error("Missing proposal responses");if(!Array.isArray(e))throw new Error("Parameter must be an array of ProposalRespone Objects");if(0==e.length)throw new Error("Parameter proposal responses does not contain a PorposalResponse");for(var t=i(e[0]),n=1;n<e.length;n++){if(!i(e[n]).equals(t))return g.error("compareProposalResponseResults - read/writes result sets do not match index=%s",n),!1;g.debug("compareProposalResponseResults - read/writes result sets match index=%s",n)}return!0}},{key:"_getPeerForEvents",value:function(e){if(!e)throw new Error('"peer" parameter is missing');var t=this._getTargets(e,b.NetworkConfig.EVENT_SOURCE_ROLE,!0);if(t&&t.length>0)return t[0];throw new Error("No Peers available to be an event source")}},{key:"_getTargetForQuery",value:function(e){if(Array.isArray(e))throw new Error('"target" parameter is an array, but should be a singular peer object or peer name according to the network configuration loaded by the client instance');var t=this._getTargets(e,b.NetworkConfig.LEDGER_QUERY_ROLE,!0);return t.length>1&&(t=[t[0]]),t}},{key:"_getTargets",value:function(e,t,n){var r=null;if(e&&(r=this._clientContext.getTargetPeers(e)),!r||r.length<1){var i=this.getPeers();r=[];var o=!0,s=!1,a=void 0;try{for(var c,u=i[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var l=c.value;l.isInRole(t)&&r.push(l)}}catch(e){s=!0,a=e}finally{try{!o&&u.return&&u.return()}finally{if(s)throw a}}}if((!r||r.length<1)&&(r=this._getTargetsFromConfig(t)),!r||r.length<1){var f="targets";throw n&&(f="target"),t===b.NetworkConfig.EVENT_SOURCE_ROLE&&(f="peer"),new Error(h.format('"%s" parameter not specified and no peers are set on this Channel instance or specfied for this channel in the network ',f))}return r}},{key:"_getTargetsFromConfig",value:function(e){var t="_getTargetsFromConfig";g.debug("%s - start  ::role %s",t,e);var n=[];if(e){var r=!1;for(var i in b.NetworkConfig.ROLES)if(e===b.NetworkConfig.ROLES[i]){r=!0;break}if(!r)throw Error("Target role is unknown")}if(this._clientContext._network_config){var o=this._clientContext._network_config.getOrganizations();if(o){var s={};for(var a in o){var c=o[a],u=[];s[c.getName()]=u;var l=c.getPeers();g.debug("%s - org:%s has %s peers",t,c.getName(),l.length);for(var f in l){var h=l[f],d=this.getPeers();for(var p in d){var y=d[p];if(!y){g.debug("%s - no peers on this channel",t);break}if(!h){g.debug("%s - null peer on this org",t);break}if(g.debug("%s - comparing channel peer:%s to org peer:%s",t,y.getName(),h.getName()),y.getName()===h.getName()){y.isInRole(e)&&(u.push(y),g.debug("%s - added peer %s",t,y.toString()));break}}}}for(var m in s){var v=s[m];if(v&&v.length>0){g.debug("%s - orgs %s has %s peers",t,m,v.length);var w=Math.floor(Math.random()*v.length);g.debug("%s - peer index:%s",t,w);var S=v[w];n.push(S),g.debug("%s - added target peer %s",t,S.toString())}else g.debug("%s - no peers in this org %s",t,m)}}return 0==n.length&&g.warn("No peers found in the loaded network configuration that can be used as the target of this operation"),n}}},{key:"_buildEndorsementPolicy",value:function(e){return v.buildPolicy(this.getMSPManager().getMSPs(),e)}},{key:"toString",value:function(){for(var e="",t=0;t<this._orderers.length;t++)e=e+this._orderers[t].toString()+"|";var n={name:this._name,orderers:this._orderers?e:"N/A"};return JSON.stringify(n)}}],[{key:"sendTransactionProposal",value:function(e,n,r,i){var o=f.checkProposalRequest(e);if(o||(e.args?(!e.targets||e.targets.length<1)&&(o="Missing peer objects in Transaction proposal"):o='Missing "args" in Transaction proposal request'),o)throw g.error("sendTransactionProposal error "+o),new Error(o);var s=[];s.push(t.from(e.fcn?e.fcn:"invoke","utf8")),g.debug("sendTransactionProposal - adding function arg:%s",e.fcn?e.fcn:"invoke");for(var a=0;a<e.args.length;a++)g.debug("sendTransactionProposal - adding arg:%s",e.args[a]),s.push(t.from(e.args[a],"utf8"));e.argbytes?(g.debug("sendTransactionProposal - adding the argument :: argbytes"),s.push(e.argbytes)):g.debug("sendTransactionProposal - not adding the argument :: argbytes");var c,u,l={type:S.ChaincodeSpec.Type.GOLANG,chaincode_id:{name:e.chaincodeId},input:{args:s}},h=null;h=e.signer?e.signer:r._getSigningIdentity(e.txId.isAdmin());var d=f.buildChannelHeader(C.HeaderType.ENDORSER_TRANSACTION,n,e.txId.getTransactionID(),null,e.chaincodeId,f.buildCurrentTimestamp(),e.targets[0].getClientCertHash());u=f.buildHeader(h,d,e.txId.getNonce()),c=f.buildProposal(l,u,e.transientMap);var p=f.signProposal(h,c);return f.sendPeersProposal(e.targets,p,i).then(function(e){return Promise.resolve([e,c])}).catch(function(e){return g.error("Failed Proposal. Error: %s",e.stack?e.stack:e),Promise.reject(e)})}}]),e}();e.exports=F}).call(t,n(0).Buffer)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(4),s=(n(12),n(158)),a=n(3),c=a.getLogger("MSPManager.js"),u=n(55),l=(u.SigningIdentity,u.Signer,n(11)),f=l.msp,h=l.msp,d=function(){function e(){r(this,e),this._msps={}}return i(e,[{key:"loadMSPs",value:function(e){c.debug("loadMSPs - start number of msps=%s",e.length);var t=this;if(!e||!Array.isArray(e))throw new Error('"mspConfigs" argument must be an array');e.forEach(function(e){if("number"!=typeof e.getType()||0!==e.getType())throw new Error(o.format("MSP Configuration object type not supported: %s",e.getType()));if(!e.getConfig||!e.getConfig())throw new Error('MSP Configuration object missing the payload in the "Config" property');var n=f.FabricMSPConfig.decode(e.getConfig());if(!n.getName())throw new Error("MSP Configuration does not have a name");if(!n.getRootCerts())throw new Error("MSP Configuration does not have any root certificates required for validating signing certificates");var r=a.newCryptoSuite();r.setCryptoKeyStore(a.newCryptoKeyStore());var i=[],u=n.getOrganizationalUnitIdentifiers();if(u)for(var l=0;l<u.length;l++){var h=u[l],d=h.organizational_unit_identifier;c.debug("loadMSPs - found org of :: %s",d),i.push(d)}var p=new s({rootCerts:n.getRootCerts(),intermediateCerts:n.getIntermediateCerts(),admins:n.getAdmins(),id:n.getName(),orgs:i,cryptoSuite:r,tls_root_certs:n.getTlsRootCerts(),tls_intermediate_certs:n.getTlsIntermediateCerts()});c.debug("loadMSPs - found msp=",p.getId()),t._msps[n.getName()]=p})}},{key:"addMSP",value:function(e){e.cryptoSuite||(e.cryptoSuite=a.newCryptoSuite());var t=new s(e);return c.debug("addMSP - msp=",t.getId()),this._msps[t.getId()]=t,t}},{key:"getMSPs",value:function(){return this._msps}},{key:"getMSP",value:function(e){return this._msps[e]}},{key:"deserializeIdentity",value:function(e){var t=h.SerializedIdentity.decode(e),n=t.getMspid(),r=this._msps[n];if(!r)throw new Error(o.format('Failed to locate an MSP instance matching the requested id "%s" in the deserialized identity',n));return r.deserializeIdentity(e)}}]),e}();e.exports=d},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){var t=o(e),n=new f.MSPPrincipal;switch(t){case d.Role:n.setPrincipalClassification(f.MSPPrincipal.Classification.ROLE);var r=new f.MSPRole,i=e[t].name;if("peer"===i)r.setRole(f.MSPRole.MSPRoleType.PEER);else if("member"===i)r.setRole(f.MSPRole.MSPRoleType.MEMBER);else{if("admin"!==i)throw new Error(u.format('Invalid role name found: must be one of "peer", "member" or "admin", but found "%s"',i));r.setRole(f.MSPRole.MSPRoleType.ADMIN)}var s=e[t].mspId;if("string"!=typeof s||null===s||""===s)throw new Error(u.format('Invalid mspid found: must be a non-empty string, but found "%s"',s));r.setMspIdentifier(e[t].mspId),n.setPrincipal(r.toBuffer());break;case d.OrganizationUnit:case d.Identity:throw new Error("NOT IMPLEMENTED")}return n}function o(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){if(n===d.Role||n===d.OrganizationUnit||n===d.Identity)return n;t.push(n)}throw new Error(u.format("Invalid identity type found: must be one of %s, %s or %s, but found %s",d.Role,d.OrganizationUnit,d.Identity,t))}function s(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){if("signed-by"===n||n.match(/^\d+\-of$/))return n;t.push(n)}throw new Error(u.format('Invalid policy type found: must be one of "n-of" or "signed-by" but found "%s"',t))}function a(e){var t=s(e);if("signed-by"===t){var n=new h.SignaturePolicy;return n.set("signed_by",e[t]),n}var r=t.match(/^(\d+)\-of$/)[1],i=e[t],o=new h.SignaturePolicy.NOutOf;o.setN(parseInt(r));var c=[];i.forEach(function(e){var t=a(e);c.push(t)}),o.setRules(c);var u=new h.SignaturePolicy;return u.set("n_out_of",o),u}var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(4),l=n(11),f=l.common,h=l.common,d={Role:"role",OrganizationUnit:"organization-unit",Identity:"identity"},p=function(){function e(){r(this,e)}return c(e,null,[{key:"buildPolicy",value:function(e,t){if(void 0===t||null===t){var n=[],r=[],o=0;for(var s in e)if(e.hasOwnProperty(s)){var c=new f.MSPPrincipal;c.setPrincipalClassification(f.MSPPrincipal.Classification.ROLE);var u=new f.MSPRole;u.setRole(f.MSPRole.MSPRoleType.MEMBER),u.setMspIdentifier(s),c.setPrincipal(u.toBuffer()),n.push(c);var l=new h.SignaturePolicy;l.set("signed_by",o++),r.push(l)}if(0===n.length)throw new Error('Verifying MSPs not found in the channel object, make sure "intialize()" is called first.');var d=new h.SignaturePolicy.NOutOf;d.setN(1),d.setRules(r);var p=new h.SignaturePolicy;p.set("n_out_of",d);var y=new h.SignaturePolicyEnvelope;return y.setVersion(0),y.setRule(p),y.setIdentities(n),y.toBuffer()}if(void 0===t.identities||null===t.identities||""===t.identities||t.identities==={})throw new Error('Invalid policy, missing the "identities" property');if(!Array.isArray(t.identities))throw new Error('Invalid policy, the "identities" property must be an array');if(void 0===t.policy||null===t.policy||""===t.policy||t.policy==={})throw new Error('Invalid policy, missing the "policy" property');var n=[];t.identities.forEach(function(e){var t=i(e);n.push(t)});var g=new a(t.policy),y=new h.SignaturePolicyEnvelope;return y.setVersion(0),y.setRule(g),y.setIdentities(n),y.toBuffer()}}]),e}();e.exports=p,e.exports.IDENTITY_TYPE=d},function(e,t,n){"use strict";var r=n(329),i=n(352),o=n(353),s=n(3),a=s.getLogger("packager");e.exports.package=function(e,t,n,s){return a.debug("packager: chaincodePath: %s, chaincodeType: %s, devmode: %s, metadataPath: %s",e,t,n,s),new Promise(function(c,u){if(n)return a.debug("packager: Skipping chaincode packaging due to devmode configuration"),c(null);if(!e||e&&e.length<1)return u(new Error("Missing chaincodePath parameter"));var l=t||"golang";a.debug("packager: type %s ",l);var f=void 0;switch(l.toLowerCase()){case"car":f=new i;break;case"node":f=new o;break;default:f=new r([".go",".c",".h"])}return c(f.package(e,s))})}},function(e,t,n){"use strict";(function(t){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var s=i.get;if(void 0!==s)return s.call(r)},c=(n(33),n(12)),u=(n(159),n(162)),l=n(3),f=n(163),h=l.getLogger("packager/Golang.js"),d=function(e){function n(){return r(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,e),s(n,[{key:"package",value:function(e,r){var i=this;h.info("packaging GOLANG from %s",e);var o=t.env.GOPATH,s=c.join(o,"src",e),l=new u.WritableStreamBuffer;return this.findSource(o,s).then(function(e){return r?a(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"findMetadataDescriptors",i).call(i,r).then(function(t){return e.concat(t)}):e}).then(function(e){return a(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"generateTarGz",i).call(i,e,l)}).then(function(){return l.getContents()})}},{key:"findSource",value:function(e,t){throw new Error("klaw not implemented on js because filesystem interactions are not allowed")}}]),n}(f);e.exports=d}).call(t,n(6))},function(e,t,n){"use strict";(function(e,r){function i(e){if("number"!=typeof e||e<t.DEFLATE||e>t.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=e,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}var o=n(67),s=n(331),a=n(332),c=n(335),u=n(338);for(var l in u)t[l]=u[l];t.NONE=0,t.DEFLATE=1,t.INFLATE=2,t.GZIP=3,t.GUNZIP=4,t.DEFLATERAW=5,t.INFLATERAW=6,t.UNZIP=7;i.prototype.close=function(){if(this.write_in_progress)return void(this.pending_close=!0);this.pending_close=!1,o(this.init_done,"close before init"),o(this.mode<=t.UNZIP),this.mode===t.DEFLATE||this.mode===t.GZIP||this.mode===t.DEFLATERAW?a.deflateEnd(this.strm):this.mode!==t.INFLATE&&this.mode!==t.GUNZIP&&this.mode!==t.INFLATERAW&&this.mode!==t.UNZIP||c.inflateEnd(this.strm),this.mode=t.NONE,this.dictionary=null},i.prototype.write=function(e,t,n,r,i,o,s){return this._write(!0,e,t,n,r,i,o,s)},i.prototype.writeSync=function(e,t,n,r,i,o,s){return this._write(!1,e,t,n,r,i,o,s)},i.prototype._write=function(n,i,s,a,c,u,l,f){if(o.equal(arguments.length,8),o(this.init_done,"write before init"),o(this.mode!==t.NONE,"already finalized"),o.equal(!1,this.write_in_progress,"write already in progress"),o.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,o.equal(!1,void 0===i,"must provide flush value"),this.write_in_progress=!0,i!==t.Z_NO_FLUSH&&i!==t.Z_PARTIAL_FLUSH&&i!==t.Z_SYNC_FLUSH&&i!==t.Z_FULL_FLUSH&&i!==t.Z_FINISH&&i!==t.Z_BLOCK)throw new Error("Invalid flush value");if(null==s&&(s=e.alloc(0),c=0,a=0),this.strm.avail_in=c,this.strm.input=s,this.strm.next_in=a,this.strm.avail_out=f,this.strm.output=u,this.strm.next_out=l,this.flush=i,n){var h=this;return r.nextTick(function(){h._process(),h._after()}),this}if(this._process(),this._checkError())return this._afterSync()},i.prototype._afterSync=function(){var e=this.strm.avail_out,t=this.strm.avail_in;return this.write_in_progress=!1,[t,e]},i.prototype._process=function(){var e=null;switch(this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=a.deflate(this.strm,this.flush);break;case t.UNZIP:switch(this.strm.avail_in>0&&(e=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===e)break;if(31!==this.strm.input[e]){this.mode=t.INFLATE;break}if(this.gzip_id_bytes_read=1,e++,1===this.strm.avail_in)break;case 1:if(null===e)break;139===this.strm.input[e]?(this.gzip_id_bytes_read=2,this.mode=t.GUNZIP):this.mode=t.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:for(this.err=c.inflate(this.strm,this.flush),this.err===t.Z_NEED_DICT&&this.dictionary&&(this.err=c.inflateSetDictionary(this.strm,this.dictionary),this.err===t.Z_OK?this.err=c.inflate(this.strm,this.flush):this.err===t.Z_DATA_ERROR&&(this.err=t.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===t.GUNZIP&&this.err===t.Z_STREAM_END&&0!==this.strm.next_in[0];)this.reset(),this.err=c.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},i.prototype._checkError=function(){switch(this.err){case t.Z_OK:case t.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===t.Z_FINISH)return this._error("unexpected end of file"),!1;break;case t.Z_STREAM_END:break;case t.Z_NEED_DICT:return null==this.dictionary?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},i.prototype._after=function(){if(this._checkError()){var e=this.strm.avail_out,t=this.strm.avail_in;this.write_in_progress=!1,this.callback(t,e),this.pending_close&&this.close()}},i.prototype._error=function(e){this.strm.msg&&(e=this.strm.msg),this.onerror(e,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},i.prototype.init=function(e,n,r,i,s){o(4===arguments.length||5===arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),o(e>=8&&e<=15,"invalid windowBits"),o(n>=-1&&n<=9,"invalid compression level"),o(r>=1&&r<=9,"invalid memlevel"),o(i===t.Z_FILTERED||i===t.Z_HUFFMAN_ONLY||i===t.Z_RLE||i===t.Z_FIXED||i===t.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(n,e,r,i,s),this._setDictionary()},i.prototype.params=function(){throw new Error("deflateParams Not supported")},i.prototype.reset=function(){this._reset(),this._setDictionary()},i.prototype._init=function(e,n,r,i,o){switch(this.level=e,this.windowBits=n,this.memLevel=r,this.strategy=i,this.flush=t.Z_NO_FLUSH,this.err=t.Z_OK,this.mode!==t.GZIP&&this.mode!==t.GUNZIP||(this.windowBits+=16),this.mode===t.UNZIP&&(this.windowBits+=32),this.mode!==t.DEFLATERAW&&this.mode!==t.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new s,this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=a.deflateInit2(this.strm,this.level,t.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:case t.UNZIP:this.err=c.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==t.Z_OK&&this._error("Init error"),this.dictionary=o,this.write_in_progress=!1,this.init_done=!0},i.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:this.err=a.deflateSetDictionary(this.strm,this.dictionary)}this.err!==t.Z_OK&&this._error("Failed to set dictionary")}},i.prototype._reset=function(){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:case t.GZIP:this.err=a.deflateReset(this.strm);break;case t.INFLATE:case t.INFLATERAW:case t.GUNZIP:this.err=c.inflateReset(this.strm)}this.err!==t.Z_OK&&this._error("Failed to reset stream")},t.Zlib=i}).call(t,n(0).Buffer,n(6))},function(e,t,n){"use strict";function r(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}e.exports=r},function(e,t,n){"use strict";function r(e,t){return e.msg=T[t],t}function i(e){return(e<<1)-(e>4?9:0)}function o(e){for(var t=e.length;--t>=0;)e[t]=0}function s(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(I.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function a(e,t){D._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,s(e.strm)}function c(e,t){e.pending_buf[e.pending++]=t}function u(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function l(e,t,n,r){var i=e.avail_in;return i>r&&(i=r),0===i?0:(e.avail_in-=i,I.arraySet(t,e.input,e.next_in,i,n),1===e.state.wrap?e.adler=R(e.adler,t,i,n):2===e.state.wrap&&(e.adler=j(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)}function f(e,t){var n,r,i=e.max_chain_length,o=e.strstart,s=e.prev_length,a=e.nice_match,c=e.strstart>e.w_size-ue?e.strstart-(e.w_size-ue):0,u=e.window,l=e.w_mask,f=e.prev,h=e.strstart+ce,d=u[o+s-1],p=u[o+s];e.prev_length>=e.good_match&&(i>>=2),a>e.lookahead&&(a=e.lookahead);do{if(n=t,u[n+s]===p&&u[n+s-1]===d&&u[n]===u[o]&&u[++n]===u[o+1]){o+=2,n++;do{}while(u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&o<h);if(r=ce-(h-o),o=h-ce,r>s){if(e.match_start=t,s=r,r>=a)break;d=u[o+s-1],p=u[o+s]}}}while((t=f[t&l])>c&&0!=--i);return s<=e.lookahead?s:e.lookahead}function h(e){var t,n,r,i,o,s=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=s+(s-ue)){I.arraySet(e.window,e.window,s,s,0),e.match_start-=s,e.strstart-=s,e.block_start-=s,n=e.hash_size,t=n;do{r=e.head[--t],e.head[t]=r>=s?r-s:0}while(--n);n=s,t=n;do{r=e.prev[--t],e.prev[t]=r>=s?r-s:0}while(--n);i+=s}if(0===e.strm.avail_in)break;if(n=l(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=n,e.lookahead+e.insert>=ae)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+ae-1])&e.hash_mask,e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<ae)););}while(e.lookahead<ue&&0!==e.strm.avail_in)}function d(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(h(e),0===e.lookahead&&t===N)return ve;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,a(e,!1),0===e.strm.avail_out))return ve;if(e.strstart-e.block_start>=e.w_size-ue&&(a(e,!1),0===e.strm.avail_out))return ve}return e.insert=0,t===M?(a(e,!0),0===e.strm.avail_out?we:Se):(e.strstart>e.block_start&&(a(e,!1),e.strm.avail_out),ve)}function p(e,t){for(var n,r;;){if(e.lookahead<ue){if(h(e),e.lookahead<ue&&t===N)return ve;if(0===e.lookahead)break}if(n=0,e.lookahead>=ae&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ae-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-ue&&(e.match_length=f(e,n)),e.match_length>=ae)if(r=D._tr_tally(e,e.strstart-e.match_start,e.match_length-ae),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=ae){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ae-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=D._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(a(e,!1),0===e.strm.avail_out))return ve}return e.insert=e.strstart<ae-1?e.strstart:ae-1,t===M?(a(e,!0),0===e.strm.avail_out?we:Se):e.last_lit&&(a(e,!1),0===e.strm.avail_out)?ve:be}function y(e,t){for(var n,r,i;;){if(e.lookahead<ue){if(h(e),e.lookahead<ue&&t===N)return ve;if(0===e.lookahead)break}if(n=0,e.lookahead>=ae&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ae-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=ae-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-ue&&(e.match_length=f(e,n),e.match_length<=5&&(e.strategy===J||e.match_length===ae&&e.strstart-e.match_start>4096)&&(e.match_length=ae-1)),e.prev_length>=ae&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-ae,r=D._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-ae),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ae-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=ae-1,e.strstart++,r&&(a(e,!1),0===e.strm.avail_out))return ve}else if(e.match_available){if(r=D._tr_tally(e,0,e.window[e.strstart-1]),r&&a(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return ve}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=D._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<ae-1?e.strstart:ae-1,t===M?(a(e,!0),0===e.strm.avail_out?we:Se):e.last_lit&&(a(e,!1),0===e.strm.avail_out)?ve:be}function g(e,t){for(var n,r,i,o,s=e.window;;){if(e.lookahead<=ce){if(h(e),e.lookahead<=ce&&t===N)return ve;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=ae&&e.strstart>0&&(i=e.strstart-1,(r=s[i])===s[++i]&&r===s[++i]&&r===s[++i])){o=e.strstart+ce;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<o);e.match_length=ce-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=ae?(n=D._tr_tally(e,1,e.match_length-ae),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=D._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(a(e,!1),0===e.strm.avail_out))return ve}return e.insert=0,t===M?(a(e,!0),0===e.strm.avail_out?we:Se):e.last_lit&&(a(e,!1),0===e.strm.avail_out)?ve:be}function m(e,t){for(var n;;){if(0===e.lookahead&&(h(e),0===e.lookahead)){if(t===N)return ve;break}if(e.match_length=0,n=D._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(a(e,!1),0===e.strm.avail_out))return ve}return e.insert=0,t===M?(a(e,!0),0===e.strm.avail_out?we:Se):e.last_lit&&(a(e,!1),0===e.strm.avail_out)?ve:be}function v(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function b(e){e.window_size=2*e.w_size,o(e.head),e.max_lazy_match=P[e.level].max_lazy,e.good_match=P[e.level].good_length,e.nice_match=P[e.level].nice_length,e.max_chain_length=P[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=ae-1,e.match_available=0,e.ins_h=0}function w(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new I.Buf16(2*oe),this.dyn_dtree=new I.Buf16(2*(2*re+1)),this.bl_tree=new I.Buf16(2*(2*ie+1)),o(this.dyn_ltree),o(this.dyn_dtree),o(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new I.Buf16(se+1),this.heap=new I.Buf16(2*ne+1),o(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new I.Buf16(2*ne+1),o(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function S(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=Q,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?fe:ge,e.adler=2===t.wrap?0:1,t.last_flush=N,D._tr_init(t),H):r(e,U)}function E(e){var t=S(e);return t===H&&b(e.state),t}function k(e,t){return e&&e.state?2!==e.state.wrap?U:(e.state.gzhead=t,H):U}function x(e,t,n,i,o,s){if(!e)return U;var a=1;if(t===z&&(t=6),i<0?(a=0,i=-i):i>15&&(a=2,i-=16),o<1||o>$||n!==Z||i<8||i>15||t<0||t>9||s<0||s>X)return r(e,U);8===i&&(i=9);var c=new w;return e.state=c,c.strm=e,c.wrap=a,c.gzhead=null,c.w_bits=i,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=o+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+ae-1)/ae),c.window=new I.Buf8(2*c.w_size),c.head=new I.Buf16(c.hash_size),c.prev=new I.Buf16(c.w_size),c.lit_bufsize=1<<o+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new I.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=t,c.strategy=s,c.method=n,E(e)}function _(e,t){return x(e,t,Z,ee,te,Y)}function O(e,t){var n,a,l,f;if(!e||!e.state||t>L||t<0)return e?r(e,U):U;if(a=e.state,!e.output||!e.input&&0!==e.avail_in||a.status===me&&t!==M)return r(e,0===e.avail_out?V:U);if(a.strm=e,n=a.last_flush,a.last_flush=t,a.status===fe)if(2===a.wrap)e.adler=0,c(a,31),c(a,139),c(a,8),a.gzhead?(c(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),c(a,255&a.gzhead.time),c(a,a.gzhead.time>>8&255),c(a,a.gzhead.time>>16&255),c(a,a.gzhead.time>>24&255),c(a,9===a.level?2:a.strategy>=G||a.level<2?4:0),c(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(c(a,255&a.gzhead.extra.length),c(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(e.adler=j(e.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=he):(c(a,0),c(a,0),c(a,0),c(a,0),c(a,0),c(a,9===a.level?2:a.strategy>=G||a.level<2?4:0),c(a,Ee),a.status=ge);else{var h=Z+(a.w_bits-8<<4)<<8,d=-1;d=a.strategy>=G||a.level<2?0:a.level<6?1:6===a.level?2:3,h|=d<<6,0!==a.strstart&&(h|=le),h+=31-h%31,a.status=ge,u(a,h),0!==a.strstart&&(u(a,e.adler>>>16),u(a,65535&e.adler)),e.adler=1}if(a.status===he)if(a.gzhead.extra){for(l=a.pending;a.gzindex<(65535&a.gzhead.extra.length)&&(a.pending!==a.pending_buf_size||(a.gzhead.hcrc&&a.pending>l&&(e.adler=j(e.adler,a.pending_buf,a.pending-l,l)),s(e),l=a.pending,a.pending!==a.pending_buf_size));)c(a,255&a.gzhead.extra[a.gzindex]),a.gzindex++;a.gzhead.hcrc&&a.pending>l&&(e.adler=j(e.adler,a.pending_buf,a.pending-l,l)),a.gzindex===a.gzhead.extra.length&&(a.gzindex=0,a.status=de)}else a.status=de;if(a.status===de)if(a.gzhead.name){l=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>l&&(e.adler=j(e.adler,a.pending_buf,a.pending-l,l)),s(e),l=a.pending,a.pending===a.pending_buf_size)){f=1;break}f=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,c(a,f)}while(0!==f);a.gzhead.hcrc&&a.pending>l&&(e.adler=j(e.adler,a.pending_buf,a.pending-l,l)),0===f&&(a.gzindex=0,a.status=pe)}else a.status=pe;if(a.status===pe)if(a.gzhead.comment){l=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>l&&(e.adler=j(e.adler,a.pending_buf,a.pending-l,l)),s(e),l=a.pending,a.pending===a.pending_buf_size)){f=1;break}f=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,c(a,f)}while(0!==f);a.gzhead.hcrc&&a.pending>l&&(e.adler=j(e.adler,a.pending_buf,a.pending-l,l)),0===f&&(a.status=ye)}else a.status=ye;if(a.status===ye&&(a.gzhead.hcrc?(a.pending+2>a.pending_buf_size&&s(e),a.pending+2<=a.pending_buf_size&&(c(a,255&e.adler),c(a,e.adler>>8&255),e.adler=0,a.status=ge)):a.status=ge),0!==a.pending){if(s(e),0===e.avail_out)return a.last_flush=-1,H}else if(0===e.avail_in&&i(t)<=i(n)&&t!==M)return r(e,V);if(a.status===me&&0!==e.avail_in)return r(e,V);if(0!==e.avail_in||0!==a.lookahead||t!==N&&a.status!==me){var p=a.strategy===G?m(a,t):a.strategy===W?g(a,t):P[a.level].func(a,t);if(p!==we&&p!==Se||(a.status=me),p===ve||p===we)return 0===e.avail_out&&(a.last_flush=-1),H;if(p===be&&(t===B?D._tr_align(a):t!==L&&(D._tr_stored_block(a,0,0,!1),t===F&&(o(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),s(e),0===e.avail_out))return a.last_flush=-1,H}return t!==M?H:a.wrap<=0?q:(2===a.wrap?(c(a,255&e.adler),c(a,e.adler>>8&255),c(a,e.adler>>16&255),c(a,e.adler>>24&255),c(a,255&e.total_in),c(a,e.total_in>>8&255),c(a,e.total_in>>16&255),c(a,e.total_in>>24&255)):(u(a,e.adler>>>16),u(a,65535&e.adler)),s(e),a.wrap>0&&(a.wrap=-a.wrap),0!==a.pending?H:q)}function C(e){var t;return e&&e.state?(t=e.state.status)!==fe&&t!==he&&t!==de&&t!==pe&&t!==ye&&t!==ge&&t!==me?r(e,U):(e.state=null,t===ge?r(e,K):H):U}function A(e,t){var n,r,i,s,a,c,u,l,f=t.length;if(!e||!e.state)return U;if(n=e.state,2===(s=n.wrap)||1===s&&n.status!==fe||n.lookahead)return U;for(1===s&&(e.adler=R(e.adler,t,f,0)),n.wrap=0,f>=n.w_size&&(0===s&&(o(n.head),n.strstart=0,n.block_start=0,n.insert=0),l=new I.Buf8(n.w_size),I.arraySet(l,t,f-n.w_size,n.w_size,0),t=l,f=n.w_size),a=e.avail_in,c=e.next_in,u=e.input,e.avail_in=f,e.next_in=0,e.input=t,h(n);n.lookahead>=ae;){r=n.strstart,i=n.lookahead-(ae-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+ae-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--i);n.strstart=r,n.lookahead=ae-1,h(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=ae-1,n.match_available=0,e.next_in=c,e.input=u,e.avail_in=a,n.wrap=s,H}var P,I=n(56),D=n(333),R=n(160),j=n(161),T=n(334),N=0,B=1,F=3,M=4,L=5,H=0,q=1,U=-2,K=-3,V=-5,z=-1,J=1,G=2,W=3,X=4,Y=0,Q=2,Z=8,$=9,ee=15,te=8,ne=286,re=30,ie=19,oe=2*ne+1,se=15,ae=3,ce=258,ue=ce+ae+1,le=32,fe=42,he=69,de=73,pe=91,ye=103,ge=113,me=666,ve=1,be=2,we=3,Se=4,Ee=3;P=[new v(0,0,0,0,d),new v(4,4,8,4,p),new v(4,5,16,8,p),new v(4,6,32,32,p),new v(4,4,16,16,y),new v(8,16,32,32,y),new v(8,16,128,128,y),new v(8,32,128,256,y),new v(32,128,258,1024,y),new v(32,258,258,4096,y)],t.deflateInit=_,t.deflateInit2=x,t.deflateReset=E,t.deflateResetKeep=S,t.deflateSetHeader=k,t.deflate=O,t.deflateEnd=C,t.deflateSetDictionary=A,t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,n){"use strict";function r(e){for(var t=e.length;--t>=0;)e[t]=0}function i(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function o(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function s(e){return e<256?oe[e]:oe[256+(e>>>7)]}function a(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function c(e,t,n){e.bi_valid>G-n?(e.bi_buf|=t<<e.bi_valid&65535,a(e,e.bi_buf),e.bi_buf=t>>G-e.bi_valid,e.bi_valid+=n-G):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function u(e,t,n){c(e,n[2*t],n[2*t+1])}function l(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function f(e){16===e.bi_valid?(a(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function h(e,t){var n,r,i,o,s,a,c=t.dyn_tree,u=t.max_code,l=t.stat_desc.static_tree,f=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,d=t.stat_desc.extra_base,p=t.stat_desc.max_length,y=0;for(o=0;o<=J;o++)e.bl_count[o]=0;for(c[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<z;n++)r=e.heap[n],o=c[2*c[2*r+1]+1]+1,o>p&&(o=p,y++),c[2*r+1]=o,r>u||(e.bl_count[o]++,s=0,r>=d&&(s=h[r-d]),a=c[2*r],e.opt_len+=a*(o+s),f&&(e.static_len+=a*(l[2*r+1]+s)));if(0!==y){do{for(o=p-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[p]--,y-=2}while(y>0);for(o=p;0!==o;o--)for(r=e.bl_count[o];0!==r;)(i=e.heap[--n])>u||(c[2*i+1]!==o&&(e.opt_len+=(o-c[2*i+1])*c[2*i],c[2*i+1]=o),r--)}}function d(e,t,n){var r,i,o=new Array(J+1),s=0;for(r=1;r<=J;r++)o[r]=s=s+n[r-1]<<1;for(i=0;i<=t;i++){var a=e[2*i+1];0!==a&&(e[2*i]=l(o[a]++,a))}}function p(){var e,t,n,r,o,s=new Array(J+1);for(n=0,r=0;r<H-1;r++)for(ae[r]=n,e=0;e<1<<$[r];e++)se[n++]=r;for(se[n-1]=r,o=0,r=0;r<16;r++)for(ce[r]=o,e=0;e<1<<ee[r];e++)oe[o++]=r;for(o>>=7;r<K;r++)for(ce[r]=o<<7,e=0;e<1<<ee[r]-7;e++)oe[256+o++]=r;for(t=0;t<=J;t++)s[t]=0;for(e=0;e<=143;)re[2*e+1]=8,e++,s[8]++;for(;e<=255;)re[2*e+1]=9,e++,s[9]++;for(;e<=279;)re[2*e+1]=7,e++,s[7]++;for(;e<=287;)re[2*e+1]=8,e++,s[8]++;for(d(re,U+1,s),e=0;e<K;e++)ie[2*e+1]=5,ie[2*e]=l(e,5);ue=new i(re,$,q+1,U,J),le=new i(ie,ee,0,K,J),fe=new i(new Array(0),te,0,V,W)}function y(e){var t;for(t=0;t<U;t++)e.dyn_ltree[2*t]=0;for(t=0;t<K;t++)e.dyn_dtree[2*t]=0;for(t=0;t<V;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*X]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function g(e){e.bi_valid>8?a(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function m(e,t,n,r){g(e),r&&(a(e,n),a(e,~n)),R.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}function v(e,t,n,r){var i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]}function b(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&v(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!v(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function w(e,t,n){var r,i,o,a,l=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],i=e.pending_buf[e.l_buf+l],l++,0===r?u(e,i,t):(o=se[i],u(e,o+q+1,t),a=$[o],0!==a&&(i-=ae[o],c(e,i,a)),r--,o=s(r),u(e,o,n),0!==(a=ee[o])&&(r-=ce[o],c(e,r,a)))}while(l<e.last_lit);u(e,X,t)}function S(e,t){var n,r,i,o=t.dyn_tree,s=t.stat_desc.static_tree,a=t.stat_desc.has_stree,c=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=z,n=0;n<c;n++)0!==o[2*n]?(e.heap[++e.heap_len]=u=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)i=e.heap[++e.heap_len]=u<2?++u:0,o[2*i]=1,e.depth[i]=0,e.opt_len--,a&&(e.static_len-=s[2*i+1]);for(t.max_code=u,n=e.heap_len>>1;n>=1;n--)b(e,o,n);i=c;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],b(e,o,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,o[2*i]=o[2*n]+o[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,o[2*n+1]=o[2*r+1]=i,e.heap[1]=i++,b(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],h(e,t),d(o,u,e.bl_count)}function E(e,t,n){var r,i,o=-1,s=t[1],a=0,c=7,u=4;for(0===s&&(c=138,u=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=s,s=t[2*(r+1)+1],++a<c&&i===s||(a<u?e.bl_tree[2*i]+=a:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[2*Y]++):a<=10?e.bl_tree[2*Q]++:e.bl_tree[2*Z]++,a=0,o=i,0===s?(c=138,u=3):i===s?(c=6,u=3):(c=7,u=4))}function k(e,t,n){var r,i,o=-1,s=t[1],a=0,l=7,f=4;for(0===s&&(l=138,f=3),r=0;r<=n;r++)if(i=s,s=t[2*(r+1)+1],!(++a<l&&i===s)){if(a<f)do{u(e,i,e.bl_tree)}while(0!=--a);else 0!==i?(i!==o&&(u(e,i,e.bl_tree),a--),u(e,Y,e.bl_tree),c(e,a-3,2)):a<=10?(u(e,Q,e.bl_tree),c(e,a-3,3)):(u(e,Z,e.bl_tree),c(e,a-11,7));a=0,o=i,0===s?(l=138,f=3):i===s?(l=6,f=3):(l=7,f=4)}}function x(e){var t;for(E(e,e.dyn_ltree,e.l_desc.max_code),E(e,e.dyn_dtree,e.d_desc.max_code),S(e,e.bl_desc),t=V-1;t>=3&&0===e.bl_tree[2*ne[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}function _(e,t,n,r){var i;for(c(e,t-257,5),c(e,n-1,5),c(e,r-4,4),i=0;i<r;i++)c(e,e.bl_tree[2*ne[i]+1],3);k(e,e.dyn_ltree,t-1),k(e,e.dyn_dtree,n-1)}function O(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return T;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return N;for(t=32;t<q;t++)if(0!==e.dyn_ltree[2*t])return N;return T}function C(e){he||(p(),he=!0),e.l_desc=new o(e.dyn_ltree,ue),e.d_desc=new o(e.dyn_dtree,le),e.bl_desc=new o(e.bl_tree,fe),e.bi_buf=0,e.bi_valid=0,y(e)}function A(e,t,n,r){c(e,(F<<1)+(r?1:0),3),m(e,t,n,!0)}function P(e){c(e,M<<1,3),u(e,X,re),f(e)}function I(e,t,n,r){var i,o,s=0;e.level>0?(e.strm.data_type===B&&(e.strm.data_type=O(e)),S(e,e.l_desc),S(e,e.d_desc),s=x(e),i=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==t?A(e,t,n,r):e.strategy===j||o===i?(c(e,(M<<1)+(r?1:0),3),w(e,re,ie)):(c(e,(L<<1)+(r?1:0),3),_(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),w(e,e.dyn_ltree,e.dyn_dtree)),y(e),r&&g(e)}function D(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(se[n]+q+1)]++,e.dyn_dtree[2*s(t)]++),e.last_lit===e.lit_bufsize-1}var R=n(56),j=4,T=0,N=1,B=2,F=0,M=1,L=2,H=29,q=256,U=q+1+H,K=30,V=19,z=2*U+1,J=15,G=16,W=7,X=256,Y=16,Q=17,Z=18,$=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ee=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],te=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ne=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],re=new Array(2*(U+2));r(re);var ie=new Array(2*K);r(ie);var oe=new Array(512);r(oe);var se=new Array(256);r(se);var ae=new Array(H);r(ae);var ce=new Array(K);r(ce);var ue,le,fe,he=!1;t._tr_init=C,t._tr_stored_block=A,t._tr_flush_block=I,t._tr_tally=D,t._tr_align=P},function(e,t,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,n){"use strict";function r(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function i(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new v.Buf16(320),this.work=new v.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function o(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=F,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new v.Buf32(ye),t.distcode=t.distdyn=new v.Buf32(ge),t.sane=1,t.back=-1,P):R}function s(e){var t;return e&&e.state?(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,o(e)):R}function a(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?R:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,s(e))):R}function c(e,t){var n,r;return e?(r=new i,e.state=r,r.window=null,n=a(e,t),n!==P&&(e.state=null),n):R}function u(e){return c(e,me)}function l(e){if(ve){var t;for(g=new v.Buf32(512),m=new v.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(E(x,e.lens,0,288,g,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;E(_,e.lens,0,32,m,0,e.work,{bits:5}),ve=!1}e.lencode=g,e.lenbits=9,e.distcode=m,e.distbits=5}function f(e,t,n,r){var i,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new v.Buf8(o.wsize)),r>=o.wsize?(v.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),v.arraySet(o.window,t,n-r,i,o.wnext),r-=i,r?(v.arraySet(o.window,t,n-r,r,0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0}function h(e,t){var n,i,o,s,a,c,u,h,d,p,y,g,m,ye,ge,me,ve,be,we,Se,Ee,ke,xe,_e,Oe=0,Ce=new v.Buf8(4),Ae=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return R;n=e.state,n.mode===W&&(n.mode=X),a=e.next_out,o=e.output,u=e.avail_out,s=e.next_in,i=e.input,c=e.avail_in,h=n.hold,d=n.bits,p=c,y=u,ke=P;e:for(;;)switch(n.mode){case F:if(0===n.wrap){n.mode=X;break}for(;d<16;){if(0===c)break e;c--,h+=i[s++]<<d,d+=8}if(2&n.wrap&&35615===h){n.check=0,Ce[0]=255&h,Ce[1]=h>>>8&255,n.check=w(n.check,Ce,2,0),h=0,d=0,n.mode=M;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&h)<<8)+(h>>8))%31){e.msg="incorrect header check",n.mode=he;break}if((15&h)!==B){e.msg="unknown compression method",n.mode=he;break}if(h>>>=4,d-=4,Ee=8+(15&h),0===n.wbits)n.wbits=Ee;else if(Ee>n.wbits){e.msg="invalid window size",n.mode=he;break}n.dmax=1<<Ee,e.adler=n.check=1,n.mode=512&h?J:W,h=0,d=0;break;case M:for(;d<16;){if(0===c)break e;c--,h+=i[s++]<<d,d+=8}if(n.flags=h,(255&n.flags)!==B){e.msg="unknown compression method",n.mode=he;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=he;break}n.head&&(n.head.text=h>>8&1),512&n.flags&&(Ce[0]=255&h,Ce[1]=h>>>8&255,n.check=w(n.check,Ce,2,0)),h=0,d=0,n.mode=L;case L:for(;d<32;){if(0===c)break e;c--,h+=i[s++]<<d,d+=8}n.head&&(n.head.time=h),512&n.flags&&(Ce[0]=255&h,Ce[1]=h>>>8&255,Ce[2]=h>>>16&255,Ce[3]=h>>>24&255,n.check=w(n.check,Ce,4,0)),h=0,d=0,n.mode=H;case H:for(;d<16;){if(0===c)break e;c--,h+=i[s++]<<d,d+=8}n.head&&(n.head.xflags=255&h,n.head.os=h>>8),512&n.flags&&(Ce[0]=255&h,Ce[1]=h>>>8&255,n.check=w(n.check,Ce,2,0)),h=0,d=0,n.mode=q;case q:if(1024&n.flags){for(;d<16;){if(0===c)break e;c--,h+=i[s++]<<d,d+=8}n.length=h,n.head&&(n.head.extra_len=h),512&n.flags&&(Ce[0]=255&h,Ce[1]=h>>>8&255,n.check=w(n.check,Ce,2,0)),h=0,d=0}else n.head&&(n.head.extra=null);n.mode=U;case U:if(1024&n.flags&&(g=n.length,g>c&&(g=c),g&&(n.head&&(Ee=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),v.arraySet(n.head.extra,i,s,g,Ee)),512&n.flags&&(n.check=w(n.check,i,g,s)),c-=g,s+=g,n.length-=g),n.length))break e;n.length=0,n.mode=K;case K:if(2048&n.flags){if(0===c)break e;g=0;do{Ee=i[s+g++],n.head&&Ee&&n.length<65536&&(n.head.name+=String.fromCharCode(Ee))}while(Ee&&g<c);if(512&n.flags&&(n.check=w(n.check,i,g,s)),c-=g,s+=g,Ee)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=V;case V:if(4096&n.flags){if(0===c)break e;g=0;do{Ee=i[s+g++],n.head&&Ee&&n.length<65536&&(n.head.comment+=String.fromCharCode(Ee))}while(Ee&&g<c);if(512&n.flags&&(n.check=w(n.check,i,g,s)),c-=g,s+=g,Ee)break e}else n.head&&(n.head.comment=null);n.mode=z;case z:if(512&n.flags){for(;d<16;){if(0===c)break e;c--,h+=i[s++]<<d,d+=8}if(h!==(65535&n.check)){e.msg="header crc mismatch",n.mode=he;break}h=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=W;break;case J:for(;d<32;){if(0===c)break e;c--,h+=i[s++]<<d,d+=8}e.adler=n.check=r(h),h=0,d=0,n.mode=G;case G:if(0===n.havedict)return e.next_out=a,e.avail_out=u,e.next_in=s,e.avail_in=c,n.hold=h,n.bits=d,D;e.adler=n.check=1,n.mode=W;case W:if(t===C||t===A)break e;case X:if(n.last){h>>>=7&d,d-=7&d,n.mode=ue;break}for(;d<3;){if(0===c)break e;c--,h+=i[s++]<<d,d+=8}switch(n.last=1&h,h>>>=1,d-=1,3&h){case 0:n.mode=Y;break;case 1:if(l(n),n.mode=ne,t===A){h>>>=2,d-=2;break e}break;case 2:n.mode=$;break;case 3:e.msg="invalid block type",n.mode=he}h>>>=2,d-=2;break;case Y:for(h>>>=7&d,d-=7&d;d<32;){if(0===c)break e;c--,h+=i[s++]<<d,d+=8}if((65535&h)!=(h>>>16^65535)){e.msg="invalid stored block lengths",n.mode=he;break}if(n.length=65535&h,h=0,d=0,n.mode=Q,t===A)break e;case Q:n.mode=Z;case Z:if(g=n.length){if(g>c&&(g=c),g>u&&(g=u),0===g)break e;v.arraySet(o,i,s,g,a),c-=g,s+=g,u-=g,a+=g,n.length-=g;break}n.mode=W;break;case $:for(;d<14;){if(0===c)break e;c--,h+=i[s++]<<d,d+=8}if(n.nlen=257+(31&h),h>>>=5,d-=5,n.ndist=1+(31&h),h>>>=5,d-=5,n.ncode=4+(15&h),h>>>=4,d-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=he;break}n.have=0,n.mode=ee;case ee:for(;n.have<n.ncode;){for(;d<3;){if(0===c)break e;c--,h+=i[s++]<<d,d+=8}n.lens[Ae[n.have++]]=7&h,h>>>=3,d-=3}for(;n.have<19;)n.lens[Ae[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,xe={bits:n.lenbits},ke=E(k,n.lens,0,19,n.lencode,0,n.work,xe),n.lenbits=xe.bits,ke){e.msg="invalid code lengths set",n.mode=he;break}n.have=0,n.mode=te;case te:for(;n.have<n.nlen+n.ndist;){for(;Oe=n.lencode[h&(1<<n.lenbits)-1],ge=Oe>>>24,me=Oe>>>16&255,ve=65535&Oe,!(ge<=d);){if(0===c)break e;c--,h+=i[s++]<<d,d+=8}if(ve<16)h>>>=ge,d-=ge,n.lens[n.have++]=ve;else{if(16===ve){for(_e=ge+2;d<_e;){if(0===c)break e;c--,h+=i[s++]<<d,d+=8}if(h>>>=ge,d-=ge,0===n.have){e.msg="invalid bit length repeat",n.mode=he;break}Ee=n.lens[n.have-1],g=3+(3&h),h>>>=2,d-=2}else if(17===ve){for(_e=ge+3;d<_e;){if(0===c)break e;c--,h+=i[s++]<<d,d+=8}h>>>=ge,d-=ge,Ee=0,g=3+(7&h),h>>>=3,d-=3}else{for(_e=ge+7;d<_e;){if(0===c)break e;c--,h+=i[s++]<<d,d+=8}h>>>=ge,d-=ge,Ee=0,g=11+(127&h),h>>>=7,d-=7}if(n.have+g>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=he;break}for(;g--;)n.lens[n.have++]=Ee}}if(n.mode===he)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=he;break}if(n.lenbits=9,xe={bits:n.lenbits},ke=E(x,n.lens,0,n.nlen,n.lencode,0,n.work,xe),n.lenbits=xe.bits,ke){e.msg="invalid literal/lengths set",n.mode=he;break}if(n.distbits=6,n.distcode=n.distdyn,xe={bits:n.distbits},ke=E(_,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,xe),n.distbits=xe.bits,ke){e.msg="invalid distances set",n.mode=he;break}if(n.mode=ne,t===A)break e;case ne:n.mode=re;case re:if(c>=6&&u>=258){e.next_out=a,e.avail_out=u,e.next_in=s,e.avail_in=c,n.hold=h,n.bits=d,S(e,y),a=e.next_out,o=e.output,u=e.avail_out,s=e.next_in,i=e.input,c=e.avail_in,h=n.hold,d=n.bits,n.mode===W&&(n.back=-1);break}for(n.back=0;Oe=n.lencode[h&(1<<n.lenbits)-1],ge=Oe>>>24,me=Oe>>>16&255,ve=65535&Oe,!(ge<=d);){if(0===c)break e;c--,h+=i[s++]<<d,d+=8}if(me&&0==(240&me)){for(be=ge,we=me,Se=ve;Oe=n.lencode[Se+((h&(1<<be+we)-1)>>be)],ge=Oe>>>24,me=Oe>>>16&255,ve=65535&Oe,!(be+ge<=d);){if(0===c)break e;c--,h+=i[s++]<<d,d+=8}h>>>=be,d-=be,n.back+=be}if(h>>>=ge,d-=ge,n.back+=ge,n.length=ve,0===me){n.mode=ce;break}if(32&me){n.back=-1,n.mode=W;break}if(64&me){e.msg="invalid literal/length code",n.mode=he;break}n.extra=15&me,n.mode=ie;case ie:if(n.extra){for(_e=n.extra;d<_e;){if(0===c)break e;c--,h+=i[s++]<<d,d+=8}n.length+=h&(1<<n.extra)-1,h>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=oe;case oe:for(;Oe=n.distcode[h&(1<<n.distbits)-1],ge=Oe>>>24,me=Oe>>>16&255,ve=65535&Oe,!(ge<=d);){if(0===c)break e;c--,h+=i[s++]<<d,d+=8}if(0==(240&me)){for(be=ge,we=me,Se=ve;Oe=n.distcode[Se+((h&(1<<be+we)-1)>>be)],ge=Oe>>>24,me=Oe>>>16&255,ve=65535&Oe,!(be+ge<=d);){if(0===c)break e;c--,h+=i[s++]<<d,d+=8}h>>>=be,d-=be,n.back+=be}if(h>>>=ge,d-=ge,n.back+=ge,64&me){e.msg="invalid distance code",n.mode=he;break}n.offset=ve,n.extra=15&me,n.mode=se;case se:if(n.extra){for(_e=n.extra;d<_e;){if(0===c)break e;c--,h+=i[s++]<<d,d+=8}n.offset+=h&(1<<n.extra)-1,h>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=he;break}n.mode=ae;case ae:if(0===u)break e;if(g=y-u,n.offset>g){if((g=n.offset-g)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=he;break}g>n.wnext?(g-=n.wnext,m=n.wsize-g):m=n.wnext-g,g>n.length&&(g=n.length),ye=n.window}else ye=o,m=a-n.offset,g=n.length;g>u&&(g=u),u-=g,n.length-=g;do{o[a++]=ye[m++]}while(--g);0===n.length&&(n.mode=re);break;case ce:if(0===u)break e;o[a++]=n.length,u--,n.mode=re;break;case ue:if(n.wrap){for(;d<32;){if(0===c)break e;c--,h|=i[s++]<<d,d+=8}if(y-=u,e.total_out+=y,n.total+=y,y&&(e.adler=n.check=n.flags?w(n.check,o,y,a-y):b(n.check,o,y,a-y)),y=u,(n.flags?h:r(h))!==n.check){e.msg="incorrect data check",n.mode=he;break}h=0,d=0}n.mode=le;case le:if(n.wrap&&n.flags){for(;d<32;){if(0===c)break e;c--,h+=i[s++]<<d,d+=8}if(h!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=he;break}h=0,d=0}n.mode=fe;case fe:ke=I;break e;case he:ke=j;break e;case de:return T;case pe:default:return R}return e.next_out=a,e.avail_out=u,e.next_in=s,e.avail_in=c,n.hold=h,n.bits=d,(n.wsize||y!==e.avail_out&&n.mode<he&&(n.mode<ue||t!==O))&&f(e,e.output,e.next_out,y-e.avail_out)?(n.mode=de,T):(p-=e.avail_in,y-=e.avail_out,e.total_in+=p,e.total_out+=y,n.total+=y,n.wrap&&y&&(e.adler=n.check=n.flags?w(n.check,o,y,e.next_out-y):b(n.check,o,y,e.next_out-y)),e.data_type=n.bits+(n.last?64:0)+(n.mode===W?128:0)+(n.mode===ne||n.mode===Q?256:0),(0===p&&0===y||t===O)&&ke===P&&(ke=N),ke)}function d(e){if(!e||!e.state)return R;var t=e.state;return t.window&&(t.window=null),e.state=null,P}function p(e,t){var n;return e&&e.state?(n=e.state,0==(2&n.wrap)?R:(n.head=t,t.done=!1,P)):R}function y(e,t){var n,r,i=t.length;return e&&e.state?(n=e.state,0!==n.wrap&&n.mode!==G?R:n.mode===G&&(r=1,(r=b(r,t,i,0))!==n.check)?j:f(e,t,i,i)?(n.mode=de,T):(n.havedict=1,P)):R}var g,m,v=n(56),b=n(160),w=n(161),S=n(336),E=n(337),k=0,x=1,_=2,O=4,C=5,A=6,P=0,I=1,D=2,R=-2,j=-3,T=-4,N=-5,B=8,F=1,M=2,L=3,H=4,q=5,U=6,K=7,V=8,z=9,J=10,G=11,W=12,X=13,Y=14,Q=15,Z=16,$=17,ee=18,te=19,ne=20,re=21,ie=22,oe=23,se=24,ae=25,ce=26,ue=27,le=28,fe=29,he=30,de=31,pe=32,ye=852,ge=592,me=15,ve=!0;t.inflateReset=s,t.inflateReset2=a,t.inflateResetKeep=o,t.inflateInit=u,t.inflateInit2=c,t.inflate=h,t.inflateEnd=d,t.inflateGetHeader=p,t.inflateSetDictionary=y,t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,n){"use strict";e.exports=function(e,t){var n,r,i,o,s,a,c,u,l,f,h,d,p,y,g,m,v,b,w,S,E,k,x,_,O;n=e.state,r=e.next_in,_=e.input,i=r+(e.avail_in-5),o=e.next_out,O=e.output,s=o-(t-e.avail_out),a=o+(e.avail_out-257),c=n.dmax,u=n.wsize,l=n.whave,f=n.wnext,h=n.window,d=n.hold,p=n.bits,y=n.lencode,g=n.distcode,m=(1<<n.lenbits)-1,v=(1<<n.distbits)-1;e:do{p<15&&(d+=_[r++]<<p,p+=8,d+=_[r++]<<p,p+=8),b=y[d&m];t:for(;;){if(w=b>>>24,d>>>=w,p-=w,0===(w=b>>>16&255))O[o++]=65535&b;else{if(!(16&w)){if(0==(64&w)){b=y[(65535&b)+(d&(1<<w)-1)];continue t}if(32&w){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}S=65535&b,w&=15,w&&(p<w&&(d+=_[r++]<<p,p+=8),S+=d&(1<<w)-1,d>>>=w,p-=w),p<15&&(d+=_[r++]<<p,p+=8,d+=_[r++]<<p,p+=8),b=g[d&v];n:for(;;){if(w=b>>>24,d>>>=w,p-=w,!(16&(w=b>>>16&255))){if(0==(64&w)){b=g[(65535&b)+(d&(1<<w)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(E=65535&b,w&=15,p<w&&(d+=_[r++]<<p,(p+=8)<w&&(d+=_[r++]<<p,p+=8)),(E+=d&(1<<w)-1)>c){e.msg="invalid distance too far back",n.mode=30;break e}if(d>>>=w,p-=w,w=o-s,E>w){if((w=E-w)>l&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(k=0,x=h,0===f){if(k+=u-w,w<S){S-=w;do{O[o++]=h[k++]}while(--w);k=o-E,x=O}}else if(f<w){if(k+=u+f-w,(w-=f)<S){S-=w;do{O[o++]=h[k++]}while(--w);if(k=0,f<S){w=f,S-=w;do{O[o++]=h[k++]}while(--w);k=o-E,x=O}}}else if(k+=f-w,w<S){S-=w;do{O[o++]=h[k++]}while(--w);k=o-E,x=O}for(;S>2;)O[o++]=x[k++],O[o++]=x[k++],O[o++]=x[k++],S-=3;S&&(O[o++]=x[k++],S>1&&(O[o++]=x[k++]))}else{k=o-E;do{O[o++]=O[k++],O[o++]=O[k++],O[o++]=O[k++],S-=3}while(S>2);S&&(O[o++]=O[k++],S>1&&(O[o++]=O[k++]))}break}}break}}while(r<i&&o<a);S=p>>3,r-=S,p-=S<<3,d&=(1<<p)-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=o<a?a-o+257:257-(o-a),n.hold=d,n.bits=p}},function(e,t,n){"use strict";var r=n(56),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,c,u,l,f,h){var d,p,y,g,m,v,b,w,S,E=h.bits,k=0,x=0,_=0,O=0,C=0,A=0,P=0,I=0,D=0,R=0,j=null,T=0,N=new r.Buf16(16),B=new r.Buf16(16),F=null,M=0;for(k=0;k<=15;k++)N[k]=0;for(x=0;x<c;x++)N[t[n+x]]++;for(C=E,O=15;O>=1&&0===N[O];O--);if(C>O&&(C=O),0===O)return u[l++]=20971520,u[l++]=20971520,h.bits=1,0;for(_=1;_<O&&0===N[_];_++);for(C<_&&(C=_),I=1,k=1;k<=15;k++)if(I<<=1,(I-=N[k])<0)return-1;if(I>0&&(0===e||1!==O))return-1;for(B[1]=0,k=1;k<15;k++)B[k+1]=B[k]+N[k];for(x=0;x<c;x++)0!==t[n+x]&&(f[B[t[n+x]]++]=x);if(0===e?(j=F=f,v=19):1===e?(j=i,T-=257,F=o,M-=257,v=256):(j=s,F=a,v=-1),R=0,x=0,k=_,m=l,A=C,P=0,y=-1,D=1<<C,g=D-1,1===e&&D>852||2===e&&D>592)return 1;for(;;){b=k-P,f[x]<v?(w=0,S=f[x]):f[x]>v?(w=F[M+f[x]],S=j[T+f[x]]):(w=96,S=0),d=1<<k-P,p=1<<A,_=p;do{p-=d,u[m+(R>>P)+p]=b<<24|w<<16|S|0}while(0!==p);for(d=1<<k-1;R&d;)d>>=1;if(0!==d?(R&=d-1,R+=d):R=0,x++,0==--N[k]){if(k===O)break;k=t[n+f[x]]}if(k>C&&(R&g)!==y){for(0===P&&(P=C),m+=_,A=k-P,I=1<<A;A+P<O&&!((I-=N[A+P])<=0);)A++,I<<=1;if(D+=1<<A,1===e&&D>852||2===e&&D>592)return 1;y=R&g,u[y]=C<<24|A<<16|m-l|0}}return 0!==R&&(u[m+R]=k-P<<24|64<<16|0),h.bits=C,0}},function(e,t,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t,n){"use strict";(function(t){var r=n(20),i=n(85),o=n(4),s=e.exports=function(e){var n=this;e=e||{},r.Readable.call(this,e),this.stopped=!1;var o=e.hasOwnProperty("frequency")?e.frequency:i.DEFAULT_FREQUENCY,s=e.chunkSize||i.DEFAULT_CHUNK_SIZE,a=e.initialSize||i.DEFAULT_INITIAL_SIZE,c=e.incrementAmount||i.DEFAULT_INCREMENT_AMOUNT,u=0,l=new t(a),f=!1,h=function(){var e=Math.min(s,u),r=!1;if(e>0){var i=null;i=new t(e),l.copy(i,0,0,e),r=!1!==n.push(i),f=r,l.copy(l,0,e,u),u-=e}0===u&&n.stopped&&n.push(null),h.timeout=r?setTimeout(h,o):null};this.stop=function(){if(this.stopped)throw new Error("stop() called on already stopped ReadableStreamBuffer");this.stopped=!0,0===u&&this.push(null)},this.size=function(){return u},this.maxSize=function(){return l.length};var d=function(e){if(l.length-u<e){var n=Math.ceil((e-(l.length-u))/c),r=new t(l.length+c*n);l.copy(r,0,0,u),l=r}},p=function(){!h.timeout&&f&&(h.timeout=setTimeout(h,o))};this.put=function(e,r){if(n.stopped)throw new Error("Tried to write data to a stopped ReadableStreamBuffer");if(t.isBuffer(e))d(e.length),e.copy(l,u,0),u+=e.length;else{e+="";var i=t.byteLength(e);d(i),l.write(e,u,r||"utf8"),u+=i}p()},this._read=function(){f=!0,p()}};o.inherits(s,r.Readable)}).call(t,n(0).Buffer)},function(e,t,n){"use strict";(function(t){var r=n(4),i=n(20),o=n(85),s=e.exports=function(e){e=e||{},e.decodeStrings=!0,i.Writable.call(this,e);var n=e.initialSize||o.DEFAULT_INITIAL_SIZE,r=e.incrementAmount||o.DEFAULT_INCREMENT_AMOUNT,s=new t(n),a=0;this.size=function(){return a},this.maxSize=function(){return s.length},this.getContents=function(e){if(!a)return!1;var n=new t(Math.min(e||a,a));return s.copy(n,0,0,n.length),n.length<a&&s.copy(s,0,n.length),a-=n.length,n},this.getContentsAsString=function(e,n){if(!a)return!1;var r=s.toString(e||"utf8",0,Math.min(n||a,a)),i=t.byteLength(r);return i<a&&s.copy(s,0,i),a-=i,r};var c=function(e){if(s.length-a<e){var n=Math.ceil((e-(s.length-a))/r),i=new t(s.length+r*n);s.copy(i,0,0,a),s=i}};this._write=function(e,t,n){c(e.length),e.copy(s,a,0),a+=e.length,n()}};r.inherits(s,i.Writable)}).call(t,n(0).Buffer)},function(e,t,n){t.extract=n(342),t.pack=n(346)},function(e,t,n){var r=n(4),i=n(343),o=n(146),s=n(164),a=n(17).Writable,c=n(17).PassThrough,u=function(){},l=function(e){return(e&=511)&&512-e},f=function(e,t){var n=new d(e,t);return n.end(),n},h=function(e,t){return t.path&&(e.name=t.path),t.linkpath&&(e.linkname=t.linkpath),t.size&&(e.size=parseInt(t.size,10)),e.pax=t,e},d=function(e,t){this._parent=e,this.offset=t,c.call(this)};r.inherits(d,c),d.prototype.destroy=function(e){this._parent.destroy(e)};var p=function(e){if(!(this instanceof p))return new p(e);a.call(this,e),e=e||{},this._offset=0,this._buffer=i(),this._missing=0,this._partial=!1,this._onparse=u,this._header=null,this._stream=null,this._overflow=null,this._cb=null,this._locked=!1,this._destroyed=!1,this._pax=null,this._paxGlobal=null,this._gnuLongPath=null,this._gnuLongLinkPath=null;var t=this,n=t._buffer,r=function(){t._continue()},c=function(e){if(t._locked=!1,e)return t.destroy(e);t._stream||r()},y=function(){t._stream=null;var e=l(t._header.size);e?t._parse(e,g):t._parse(512,S),t._locked||r()},g=function(){t._buffer.consume(l(t._header.size)),t._parse(512,S),r()},m=function(){var e=t._header.size;t._paxGlobal=s.decodePax(n.slice(0,e)),n.consume(e),y()},v=function(){var e=t._header.size;t._pax=s.decodePax(n.slice(0,e)),t._paxGlobal&&(t._pax=o(t._paxGlobal,t._pax)),n.consume(e),y()},b=function(){var r=t._header.size;this._gnuLongPath=s.decodeLongPath(n.slice(0,r),e.filenameEncoding),n.consume(r),y()},w=function(){var r=t._header.size;this._gnuLongLinkPath=s.decodeLongPath(n.slice(0,r),e.filenameEncoding),n.consume(r),y()},S=function(){var i,o=t._offset;try{i=t._header=s.decode(n.slice(0,512),e.filenameEncoding)}catch(e){t.emit("error",e)}return n.consume(512),i?"gnu-long-path"===i.type?(t._parse(i.size,b),void r()):"gnu-long-link-path"===i.type?(t._parse(i.size,w),void r()):"pax-global-header"===i.type?(t._parse(i.size,m),void r()):"pax-header"===i.type?(t._parse(i.size,v),void r()):(t._gnuLongPath&&(i.name=t._gnuLongPath,t._gnuLongPath=null),t._gnuLongLinkPath&&(i.linkname=t._gnuLongLinkPath,t._gnuLongLinkPath=null),t._pax&&(t._header=i=h(i,t._pax),t._pax=null),t._locked=!0,i.size&&"directory"!==i.type?(t._stream=new d(t,o),t.emit("entry",i,t._stream,c),t._parse(i.size,y),void r()):(t._parse(512,S),void t.emit("entry",i,f(t,o),c))):(t._parse(512,S),void r())};this._onheader=S,this._parse(512,S)};r.inherits(p,a),p.prototype.destroy=function(e){this._destroyed||(this._destroyed=!0,e&&this.emit("error",e),this.emit("close"),this._stream&&this._stream.emit("close"))},p.prototype._parse=function(e,t){this._destroyed||(this._offset+=e,this._missing=e,t===this._onheader&&(this._partial=!1),this._onparse=t)},p.prototype._continue=function(){if(!this._destroyed){var e=this._cb;this._cb=u,this._overflow?this._write(this._overflow,void 0,e):e()}},p.prototype._write=function(e,t,n){if(!this._destroyed){var r=this._stream,i=this._buffer,o=this._missing;if(e.length&&(this._partial=!0),e.length<o)return this._missing-=e.length,this._overflow=null,r?r.write(e,n):(i.append(e),n());this._cb=n,this._missing=0;var s=null;e.length>o&&(s=e.slice(o),e=e.slice(0,o)),r?r.end(e):i.append(e),this._overflow=s,this._onparse()}},p.prototype._final=function(e){if(this._partial)return this.destroy(new Error("Unexpected end of data"));e()},e.exports=p},function(e,t,n){function r(e){if(!(this instanceof r))return new r(e);if(this._bufs=[],this.length=0,"function"==typeof e){this._callback=e;var t=function(e){this._callback&&(this._callback(e),this._callback=null)}.bind(this);this.on("pipe",function(e){e.on("error",t)}),this.on("unpipe",function(e){e.removeListener("error",t)})}else this.append(e);i.call(this)}var i=n(108),o=n(4),s=n(2).Buffer;o.inherits(r,i),r.prototype._offset=function(e){var t,n=0,r=0;if(0===e)return[0,0];for(;r<this._bufs.length;r++){if(t=n+this._bufs[r].length,e<t||r==this._bufs.length-1)return[r,e-n];n=t}},r.prototype.append=function(e){var t=0;if(s.isBuffer(e))this._appendBuffer(e);else if(Array.isArray(e))for(;t<e.length;t++)this.append(e[t]);else if(e instanceof r)for(;t<e._bufs.length;t++)this.append(e._bufs[t]);else null!=e&&("number"==typeof e&&(e=e.toString()),this._appendBuffer(s.from(e)));return this},r.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length},r.prototype._write=function(e,t,n){this._appendBuffer(e),"function"==typeof n&&n()},r.prototype._read=function(e){if(!this.length)return this.push(null);e=Math.min(e,this.length),this.push(this.slice(0,e)),this.consume(e)},r.prototype.end=function(e){i.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null)},r.prototype.get=function(e){return this.slice(e,e+1)[0]},r.prototype.slice=function(e,t){return"number"==typeof e&&e<0&&(e+=this.length),"number"==typeof t&&t<0&&(t+=this.length),this.copy(null,0,e,t)},r.prototype.copy=function(e,t,n,r){if(("number"!=typeof n||n<0)&&(n=0),("number"!=typeof r||r>this.length)&&(r=this.length),n>=this.length)return e||s.alloc(0);if(r<=0)return e||s.alloc(0);var i,o,a=!!e,c=this._offset(n),u=r-n,l=u,f=a&&t||0,h=c[1];if(0===n&&r==this.length){if(!a)return 1===this._bufs.length?this._bufs[0]:s.concat(this._bufs,this.length);for(o=0;o<this._bufs.length;o++)this._bufs[o].copy(e,f),f+=this._bufs[o].length;return e}if(l<=this._bufs[c[0]].length-h)return a?this._bufs[c[0]].copy(e,t,h,h+l):this._bufs[c[0]].slice(h,h+l);for(a||(e=s.allocUnsafe(u)),o=c[0];o<this._bufs.length;o++){if(i=this._bufs[o].length-h,!(l>i)){this._bufs[o].copy(e,f,h,h+l);break}this._bufs[o].copy(e,f,h),f+=i,l-=i,h&&(h=0)}return e},r.prototype.shallowSlice=function(e,t){e=e||0,t=t||this.length,e<0&&(e+=this.length),t<0&&(t+=this.length);var n=this._offset(e),i=this._offset(t),o=this._bufs.slice(n[0],i[0]+1);return 0==i[1]?o.pop():o[o.length-1]=o[o.length-1].slice(0,i[1]),0!=n[1]&&(o[0]=o[0].slice(n[1])),new r(o)},r.prototype.toString=function(e,t,n){return this.slice(t,n).toString(e)},r.prototype.consume=function(e){for(;this._bufs.length;){if(!(e>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},r.prototype.duplicate=function(){for(var e=0,t=new r;e<this._bufs.length;e++)t.append(this._bufs[e]);return t},r.prototype.destroy=function(){this._bufs.length=0,this.length=0,this.push(null)},function(){var e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1};for(var t in e)!function(t){r.prototype[t]=function(n){return this.slice(n,n+e[t])[t](0)}}(t)}(),e.exports=r},function(e,t,n){(function(t){function n(e){return 1===e.length&&e.charCodeAt(0)<256}function r(e,t,n,r){if(n<0||r>e.length)throw new RangeError("Out of range index");return n>>>=0,r=void 0===r?e.length:r>>>0,r>n&&e.fill(t,n,r),e}function i(e,t,n,r){if(n<0||r>e.length)throw new RangeError("Out of range index");if(r<=n)return e;n>>>=0,r=void 0===r?e.length:r>>>0;for(var i=n,o=t.length;i<=r-o;)t.copy(e,i),i+=o;return i!==r&&t.copy(e,i,0,r-i),e}function o(e,o,a,c,u){if(s)return e.fill(o,a,c,u);if("number"==typeof o)return r(e,o,a,c);if("string"==typeof o){if("string"==typeof a?(u=a,a=0,c=e.length):"string"==typeof c&&(u=c,c=e.length),void 0!==u&&"string"!=typeof u)throw new TypeError("encoding must be a string");if("latin1"===u&&(u="binary"),"string"==typeof u&&!t.isEncoding(u))throw new TypeError("Unknown encoding: "+u);if(""===o)return r(e,0,a,c);if(n(o))return r(e,o.charCodeAt(0),a,c);o=new t(o,u)}return t.isBuffer(o)?i(e,o,a,c):r(e,0,a,c)}var s=function(){try{if(!t.isEncoding("latin1"))return!1;var e=t.alloc?t.alloc(4):new t(4);return e.fill("ab","ucs2"),"61006200"===e.toString("hex")}catch(e){return!1}}();e.exports=o}).call(t,n(0).Buffer)},function(e,t,n){(function(t){function n(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative');return t.allocUnsafe?t.allocUnsafe(e):new t(e)}e.exports=n}).call(t,n(0).Buffer)},function(e,t,n){(function(t,r){function i(e){switch(e&o.S_IFMT){case o.S_IFBLK:return"block-device";case o.S_IFCHR:return"character-device";case o.S_IFDIR:return"directory";case o.S_IFIFO:return"fifo";case o.S_IFLNK:return"symlink"}return"file"}var o=n(347),s=n(349),a=n(4),c=n(166),u=n(165),l=n(17).Readable,f=n(17).Writable,h=n(49).StringDecoder,d=n(164),p=parseInt("755",8),y=parseInt("644",8),g=c(1024),m=function(){},v=function(e,t){(t&=511)&&e.push(g.slice(0,512-t))},b=function(e){f.call(this),this.written=0,this._to=e,this._destroyed=!1};a.inherits(b,f),b.prototype._write=function(e,t,n){if(this.written+=e.length,this._to.push(e))return n();this._to._drain=n},b.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var w=function(){f.call(this),this.linkname="",this._decoder=new h("utf-8"),this._destroyed=!1};a.inherits(w,f),w.prototype._write=function(e,t,n){this.linkname+=this._decoder.write(e),n()},w.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var S=function(){f.call(this),this._destroyed=!1};a.inherits(S,f),S.prototype._write=function(e,t,n){n(new Error("No body allowed for this entry"))},S.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var E=function(e){if(!(this instanceof E))return new E(e);l.call(this,e),this._drain=m,this._finalized=!1,this._finalizing=!1,this._destroyed=!1,this._stream=null};a.inherits(E,l),E.prototype.entry=function(e,n,o){if(this._stream)throw new Error("already piping an entry");if(!this._finalized&&!this._destroyed){"function"==typeof n&&(o=n,n=null),o||(o=m);var a=this;if(e.size&&"symlink"!==e.type||(e.size=0),e.type||(e.type=i(e.mode)),e.mode||(e.mode="directory"===e.type?p:y),e.uid||(e.uid=0),e.gid||(e.gid=0),e.mtime||(e.mtime=new Date),"string"==typeof n&&(n=u(n)),t.isBuffer(n))return e.size=n.length,this._encode(e),this.push(n),v(a,e.size),r.nextTick(o),new S;if("symlink"===e.type&&!e.linkname){var c=new w;return s(c,function(t){if(t)return a.destroy(),o(t);e.linkname=c.linkname,a._encode(e),o()}),c}if(this._encode(e),"file"!==e.type&&"contiguous-file"!==e.type)return r.nextTick(o),new S;var l=new b(this);return this._stream=l,s(l,function(t){return a._stream=null,t?(a.destroy(),o(t)):l.written!==e.size?(a.destroy(),o(new Error("size mismatch"))):(v(a,e.size),a._finalizing&&a.finalize(),void o())}),l}},E.prototype.finalize=function(){if(this._stream)return void(this._finalizing=!0);this._finalized||(this._finalized=!0,this.push(g),this.push(null))},E.prototype.destroy=function(e){this._destroyed||(this._destroyed=!0,e&&this.emit("error",e),this.emit("close"),this._stream&&this._stream.destroy&&this._stream.destroy())},E.prototype._encode=function(e){if(!e.pax){var t=d.encode(e);if(t)return void this.push(t)}this._encodePax(e)},E.prototype._encodePax=function(e){var t=d.encodePax({name:e.name,linkname:e.linkname,pax:e.pax}),n={name:"PaxHeader",mode:e.mode,uid:e.uid,gid:e.gid,size:t.length,mtime:e.mtime,type:"pax-header",linkname:e.linkname&&"PaxHeader",uname:e.uname,gname:e.gname,devmajor:e.devmajor,devminor:e.devminor};this.push(d.encode(n)),this.push(t),v(this,t.length),n.size=e.size,n.type=e.type,this.push(d.encode(n))},E.prototype._read=function(e){var t=this._drain;this._drain=m,t()},e.exports=E}).call(t,n(0).Buffer,n(6))},function(e,t,n){e.exports=n(348)},function(e,t){e.exports={O_RDONLY:0,O_WRONLY:1,O_RDWR:2,S_IFMT:61440,S_IFREG:32768,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960,S_IFSOCK:49152,O_CREAT:512,O_EXCL:2048,O_NOCTTY:131072,O_TRUNC:1024,O_APPEND:8,O_DIRECTORY:1048576,O_NOFOLLOW:256,O_SYNC:128,O_SYMLINK:2097152,O_NONBLOCK:4,S_IRWXU:448,S_IRUSR:256,S_IWUSR:128,S_IXUSR:64,S_IRWXG:56,S_IRGRP:32,S_IWGRP:16,S_IXGRP:8,S_IRWXO:7,S_IROTH:4,S_IWOTH:2,S_IXOTH:1,E2BIG:7,EACCES:13,EADDRINUSE:48,EADDRNOTAVAIL:49,EAFNOSUPPORT:47,EAGAIN:35,EALREADY:37,EBADF:9,EBADMSG:94,EBUSY:16,ECANCELED:89,ECHILD:10,ECONNABORTED:53,ECONNREFUSED:61,ECONNRESET:54,EDEADLK:11,EDESTADDRREQ:39,EDOM:33,EDQUOT:69,EEXIST:17,EFAULT:14,EFBIG:27,EHOSTUNREACH:65,EIDRM:90,EILSEQ:92,EINPROGRESS:36,EINTR:4,EINVAL:22,EIO:5,EISCONN:56,EISDIR:21,ELOOP:62,EMFILE:24,EMLINK:31,EMSGSIZE:40,EMULTIHOP:95,ENAMETOOLONG:63,ENETDOWN:50,ENETRESET:52,ENETUNREACH:51,ENFILE:23,ENOBUFS:55,ENODATA:96,ENODEV:19,ENOENT:2,ENOEXEC:8,ENOLCK:77,ENOLINK:97,ENOMEM:12,ENOMSG:91,ENOPROTOOPT:42,ENOSPC:28,ENOSR:98,ENOSTR:99,ENOSYS:78,ENOTCONN:57,ENOTDIR:20,ENOTEMPTY:66,ENOTSOCK:38,ENOTSUP:45,ENOTTY:25,ENXIO:6,EOPNOTSUPP:102,EOVERFLOW:84,EPERM:1,EPIPE:32,EPROTO:100,EPROTONOSUPPORT:43,EPROTOTYPE:41,ERANGE:34,EROFS:30,ESPIPE:29,ESRCH:3,ESTALE:70,ETIME:101,ETIMEDOUT:60,ETXTBSY:26,EWOULDBLOCK:35,EXDEV:18,SIGHUP:1,SIGINT:2,SIGQUIT:3,SIGILL:4,SIGTRAP:5,SIGABRT:6,SIGIOT:6,SIGBUS:10,SIGFPE:8,SIGKILL:9,SIGUSR1:30,SIGSEGV:11,SIGUSR2:31,SIGPIPE:13,SIGALRM:14,SIGTERM:15,SIGCHLD:20,SIGCONT:19,SIGSTOP:17,SIGTSTP:18,SIGTTIN:21,SIGTTOU:22,SIGURG:16,SIGXCPU:24,SIGXFSZ:25,SIGVTALRM:26,SIGPROF:27,SIGWINCH:28,SIGIO:23,SIGSYS:12,SSL_OP_ALL:2147486719,SSL_OP_ALLOW_UNSAFE_LEGACY_RENEGOTIATION:262144,SSL_OP_CIPHER_SERVER_PREFERENCE:4194304,SSL_OP_CISCO_ANYCONNECT:32768,SSL_OP_COOKIE_EXCHANGE:8192,SSL_OP_CRYPTOPRO_TLSEXT_BUG:2147483648,SSL_OP_DONT_INSERT_EMPTY_FRAGMENTS:2048,SSL_OP_EPHEMERAL_RSA:0,SSL_OP_LEGACY_SERVER_CONNECT:4,SSL_OP_MICROSOFT_BIG_SSLV3_BUFFER:32,SSL_OP_MICROSOFT_SESS_ID_BUG:1,SSL_OP_MSIE_SSLV2_RSA_PADDING:0,SSL_OP_NETSCAPE_CA_DN_BUG:536870912,SSL_OP_NETSCAPE_CHALLENGE_BUG:2,SSL_OP_NETSCAPE_DEMO_CIPHER_CHANGE_BUG:1073741824,SSL_OP_NETSCAPE_REUSE_CIPHER_CHANGE_BUG:8,SSL_OP_NO_COMPRESSION:131072,SSL_OP_NO_QUERY_MTU:4096,SSL_OP_NO_SESSION_RESUMPTION_ON_RENEGOTIATION:65536,SSL_OP_NO_SSLv2:16777216,SSL_OP_NO_SSLv3:33554432,SSL_OP_NO_TICKET:16384,SSL_OP_NO_TLSv1:67108864,SSL_OP_NO_TLSv1_1:268435456,SSL_OP_NO_TLSv1_2:134217728,SSL_OP_PKCS1_CHECK_1:0,SSL_OP_PKCS1_CHECK_2:0,SSL_OP_SINGLE_DH_USE:1048576,SSL_OP_SINGLE_ECDH_USE:524288,SSL_OP_SSLEAY_080_CLIENT_DH_BUG:128,SSL_OP_SSLREF2_REUSE_CERT_TYPE_BUG:0,SSL_OP_TLS_BLOCK_PADDING_BUG:512,SSL_OP_TLS_D5_BUG:256,SSL_OP_TLS_ROLLBACK_BUG:8388608,ENGINE_METHOD_DSA:2,ENGINE_METHOD_DH:4,ENGINE_METHOD_RAND:8,ENGINE_METHOD_ECDH:16,ENGINE_METHOD_ECDSA:32,ENGINE_METHOD_CIPHERS:64,ENGINE_METHOD_DIGESTS:128,ENGINE_METHOD_STORE:256,ENGINE_METHOD_PKEY_METHS:512,ENGINE_METHOD_PKEY_ASN1_METHS:1024,ENGINE_METHOD_ALL:65535,ENGINE_METHOD_NONE:0,DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6,F_OK:0,R_OK:4,W_OK:2,X_OK:1,UV_UDP_REUSEADDR:4}},function(e,t,n){var r=n(350),i=function(){},o=function(e){return e.setHeader&&"function"==typeof e.abort},s=function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length},a=function(e,t,n){if("function"==typeof t)return a(e,null,t);t||(t={}),n=r(n||i);var c=e._writableState,u=e._readableState,l=t.readable||!1!==t.readable&&e.readable,f=t.writable||!1!==t.writable&&e.writable,h=function(){e.writable||d()},d=function(){f=!1,l||n.call(e)},p=function(){l=!1,f||n.call(e)},y=function(t){n.call(e,t?new Error("exited with error code: "+t):null)},g=function(t){n.call(e,t)},m=function(){return(!l||u&&u.ended)&&(!f||c&&c.ended)?void 0:n.call(e,new Error("premature close"))},v=function(){e.req.on("finish",d)};return o(e)?(e.on("complete",d),e.on("abort",m),e.req?v():e.on("request",v)):f&&!c&&(e.on("end",h),e.on("close",h)),s(e)&&e.on("exit",y),e.on("end",p),e.on("finish",d),!1!==t.error&&e.on("error",g),e.on("close",m),function(){e.removeListener("complete",d),e.removeListener("abort",m),e.removeListener("request",v),e.req&&e.req.removeListener("finish",d),e.removeListener("end",h),e.removeListener("close",h),e.removeListener("finish",d),e.removeListener("exit",y),e.removeListener("end",p),e.removeListener("error",g),e.removeListener("close",m)}};e.exports=a},function(e,t,n){function r(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function i(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return t.onceError=n+" shouldn't be called more than once",t.called=!1,t}var o=n(351);e.exports=o(r),e.exports.strict=o(i),r.proto=r(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return r(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return i(this)},configurable:!0})})},function(e,t){function n(e,t){function r(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];var r=e.apply(this,t),i=t[t.length-1];return"function"==typeof r&&r!==i&&Object.keys(i).forEach(function(e){r[e]=i[e]}),r}if(e&&t)return n(e)(t);if("function"!=typeof e)throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(t){r[t]=e[t]}),r}e.exports=n},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),s=o.getLogger("packager/Car.js"),a=function(){function e(){r(this,e)}return i(e,[{key:"package",value:function(e){return s.info("Packaging CAR file from %s",e),o.readFile(e)}}]),e}();e.exports=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var s=i.get;if(void 0!==s)return s.call(r)},c=(n(12),n(162)),u=n(3),l=u.getLogger("packager/Node.js"),f=n(163),h=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"package",value:function(e,n){var r=this;l.info("packaging Node Chaincode from %s",e);var i=e,o=new c.WritableStreamBuffer;return this.findSource(i).then(function(e){return n?a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"findMetadataDescriptors",r).call(r,n).then(function(t){return e.concat(t)}):e}).then(function(e){return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"generateTarGz",r).call(r,e,o)}).then(function(){return o.getContents()})}},{key:"findSource",value:function(e){throw new Error("ignore-walk not implemented on js")}}]),t}(f);e.exports=h},function(e,t,n){"use strict";var r=n(355);e.exports=r},function(e,t,n){"use strict";function r(e){return function(){throw new Error("Function "+e+" is deprecated and cannot be used.")}}var i=n(356),o=n(375);e.exports.Type=n(8),e.exports.Schema=n(31),e.exports.FAILSAFE_SCHEMA=n(86),e.exports.JSON_SCHEMA=n(168),e.exports.CORE_SCHEMA=n(167),e.exports.DEFAULT_SAFE_SCHEMA=n(46),e.exports.DEFAULT_FULL_SCHEMA=n(57),e.exports.load=i.load,e.exports.loadAll=i.loadAll,e.exports.safeLoad=i.safeLoad,e.exports.safeLoadAll=i.safeLoadAll,e.exports.dump=o.dump,e.exports.safeDump=o.safeDump,e.exports.YAMLException=n(45),e.exports.MINIMAL_SCHEMA=n(86),e.exports.SAFE_SCHEMA=n(46),e.exports.DEFAULT_SCHEMA=n(57),e.exports.scan=r("scan"),e.exports.parse=r("parse"),e.exports.compose=r("compose"),e.exports.addConstructor=r("addConstructor")},function(e,t,n){"use strict";function r(e){return 10===e||13===e}function i(e){return 9===e||32===e}function o(e){return 9===e||32===e||10===e||13===e}function s(e){return 44===e||91===e||93===e||123===e||125===e}function a(e){var t;return 48<=e&&e<=57?e-48:(t=32|e,97<=t&&t<=102?t-97+10:-1)}function c(e){return 120===e?2:117===e?4:85===e?8:0}function u(e){return 48<=e&&e<=57?e-48:-1}function l(e){return 48===e?"\0":97===e?"":98===e?"\b":116===e?"\t":9===e?"\t":110===e?"\n":118===e?"\v":102===e?"\f":114===e?"\r":101===e?"":32===e?" ":34===e?'"':47===e?"/":92===e?"\\":78===e?"":95===e?" ":76===e?"\u2028":80===e?"\u2029":""}function f(e){return e<=65535?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10),56320+(e-65536&1023))}function h(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||V,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function d(e,t){return new q(t,new U(e.filename,e.input,e.position,e.line,e.position-e.lineStart))}function p(e,t){throw d(e,t)}function y(e,t){e.onWarning&&e.onWarning.call(null,d(e,t))}function g(e,t,n,r){var i,o,s,a;if(t<n){if(a=e.input.slice(t,n),r)for(i=0,o=a.length;i<o;i+=1)9===(s=a.charCodeAt(i))||32<=s&&s<=1114111||p(e,"expected valid JSON character");else $.test(a)&&p(e,"the stream contains non-printable characters");e.result+=a}}function m(e,t,n,r){var i,o,s,a;for(H.isObject(n)||p(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(n),s=0,a=i.length;s<a;s+=1)o=i[s],z.call(t,o)||(t[o]=n[o],r[o]=!0)}function v(e,t,n,r,i,o,s,a){var c,u;if(i=String(i),null===t&&(t={}),"tag:yaml.org,2002:merge"===r)if(Array.isArray(o))for(c=0,u=o.length;c<u;c+=1)m(e,t,o[c],n);else m(e,t,o,n);else e.json||z.call(n,i)||!z.call(t,i)||(e.line=s||e.line,e.position=a||e.position,p(e,"duplicated mapping key")),t[i]=o,delete n[i];return t}function b(e){var t;t=e.input.charCodeAt(e.position),10===t?e.position++:13===t?(e.position++,10===e.input.charCodeAt(e.position)&&e.position++):p(e,"a line break is expected"),e.line+=1,e.lineStart=e.position}function w(e,t,n){for(var o=0,s=e.input.charCodeAt(e.position);0!==s;){for(;i(s);)s=e.input.charCodeAt(++e.position);if(t&&35===s)do{s=e.input.charCodeAt(++e.position)}while(10!==s&&13!==s&&0!==s);if(!r(s))break;for(b(e),s=e.input.charCodeAt(e.position),o++,e.lineIndent=0;32===s;)e.lineIndent++,s=e.input.charCodeAt(++e.position)}return-1!==n&&0!==o&&e.lineIndent<n&&y(e,"deficient indentation"),o}function S(e){var t,n=e.position;return!(45!==(t=e.input.charCodeAt(n))&&46!==t||t!==e.input.charCodeAt(n+1)||t!==e.input.charCodeAt(n+2)||(n+=3,0!==(t=e.input.charCodeAt(n))&&!o(t)))}function E(e,t){1===t?e.result+=" ":t>1&&(e.result+=H.repeat("\n",t-1))}function k(e,t,n){var a,c,u,l,f,h,d,p,y,m=e.kind,v=e.result;if(y=e.input.charCodeAt(e.position),o(y)||s(y)||35===y||38===y||42===y||33===y||124===y||62===y||39===y||34===y||37===y||64===y||96===y)return!1;if((63===y||45===y)&&(c=e.input.charCodeAt(e.position+1),o(c)||n&&s(c)))return!1;for(e.kind="scalar",e.result="",u=l=e.position,f=!1;0!==y;){if(58===y){if(c=e.input.charCodeAt(e.position+1),o(c)||n&&s(c))break}else if(35===y){if(a=e.input.charCodeAt(e.position-1),o(a))break}else{if(e.position===e.lineStart&&S(e)||n&&s(y))break;if(r(y)){if(h=e.line,d=e.lineStart,p=e.lineIndent,w(e,!1,-1),e.lineIndent>=t){f=!0,y=e.input.charCodeAt(e.position);continue}e.position=l,e.line=h,e.lineStart=d,e.lineIndent=p;break}}f&&(g(e,u,l,!1),E(e,e.line-h),u=l=e.position,f=!1),i(y)||(l=e.position+1),y=e.input.charCodeAt(++e.position)}return g(e,u,l,!1),!!e.result||(e.kind=m,e.result=v,!1)}function x(e,t){var n,i,o;if(39!==(n=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,i=o=e.position;0!==(n=e.input.charCodeAt(e.position));)if(39===n){if(g(e,i,e.position,!0),39!==(n=e.input.charCodeAt(++e.position)))return!0;i=e.position,e.position++,o=e.position}else r(n)?(g(e,i,o,!0),E(e,w(e,!1,t)),i=o=e.position):e.position===e.lineStart&&S(e)?p(e,"unexpected end of the document within a single quoted scalar"):(e.position++,o=e.position);p(e,"unexpected end of the stream within a single quoted scalar")}function _(e,t){var n,i,o,s,u,l;if(34!==(l=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;0!==(l=e.input.charCodeAt(e.position));){if(34===l)return g(e,n,e.position,!0),e.position++,!0;if(92===l){if(g(e,n,e.position,!0),l=e.input.charCodeAt(++e.position),r(l))w(e,!1,t);else if(l<256&&ie[l])e.result+=oe[l],e.position++;else if((u=c(l))>0){for(o=u,s=0;o>0;o--)l=e.input.charCodeAt(++e.position),(u=a(l))>=0?s=(s<<4)+u:p(e,"expected hexadecimal character");e.result+=f(s),e.position++}else p(e,"unknown escape sequence");n=i=e.position}else r(l)?(g(e,n,i,!0),E(e,w(e,!1,t)),n=i=e.position):e.position===e.lineStart&&S(e)?p(e,"unexpected end of the document within a double quoted scalar"):(e.position++,i=e.position)}p(e,"unexpected end of the stream within a double quoted scalar")}function O(e,t){var n,r,i,s,a,c,u,l,f,h,d,y=!0,g=e.tag,m=e.anchor,b={};if(91===(d=e.input.charCodeAt(e.position)))s=93,u=!1,r=[];else{if(123!==d)return!1;s=125,u=!0,r={}}for(null!==e.anchor&&(e.anchorMap[e.anchor]=r),d=e.input.charCodeAt(++e.position);0!==d;){if(w(e,!0,t),(d=e.input.charCodeAt(e.position))===s)return e.position++,e.tag=g,e.anchor=m,e.kind=u?"mapping":"sequence",e.result=r,!0;y||p(e,"missed comma between flow collection entries"),f=l=h=null,a=c=!1,63===d&&(i=e.input.charCodeAt(e.position+1),o(i)&&(a=c=!0,e.position++,w(e,!0,t))),n=e.line,j(e,t,J,!1,!0),f=e.tag,l=e.result,w(e,!0,t),d=e.input.charCodeAt(e.position),!c&&e.line!==n||58!==d||(a=!0,d=e.input.charCodeAt(++e.position),w(e,!0,t),j(e,t,J,!1,!0),h=e.result),u?v(e,r,b,f,l,h):a?r.push(v(e,null,b,f,l,h)):r.push(l),w(e,!0,t),d=e.input.charCodeAt(e.position),44===d?(y=!0,d=e.input.charCodeAt(++e.position)):y=!1}p(e,"unexpected end of the stream within a flow collection")}function C(e,t){var n,o,s,a,c=Y,l=!1,f=!1,h=t,d=0,y=!1;if(124===(a=e.input.charCodeAt(e.position)))o=!1;else{if(62!==a)return!1;o=!0}for(e.kind="scalar",e.result="";0!==a;)if(43===(a=e.input.charCodeAt(++e.position))||45===a)Y===c?c=43===a?Z:Q:p(e,"repeat of a chomping mode identifier");else{if(!((s=u(a))>=0))break;0===s?p(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):f?p(e,"repeat of an indentation width identifier"):(h=t+s-1,f=!0)}if(i(a)){do{a=e.input.charCodeAt(++e.position)}while(i(a));if(35===a)do{a=e.input.charCodeAt(++e.position)}while(!r(a)&&0!==a)}for(;0!==a;){for(b(e),e.lineIndent=0,a=e.input.charCodeAt(e.position);(!f||e.lineIndent<h)&&32===a;)e.lineIndent++,a=e.input.charCodeAt(++e.position);if(!f&&e.lineIndent>h&&(h=e.lineIndent),r(a))d++;else{if(e.lineIndent<h){c===Z?e.result+=H.repeat("\n",l?1+d:d):c===Y&&l&&(e.result+="\n");break}for(o?i(a)?(y=!0,e.result+=H.repeat("\n",l?1+d:d)):y?(y=!1,e.result+=H.repeat("\n",d+1)):0===d?l&&(e.result+=" "):e.result+=H.repeat("\n",d):e.result+=H.repeat("\n",l?1+d:d),l=!0,f=!0,d=0,n=e.position;!r(a)&&0!==a;)a=e.input.charCodeAt(++e.position);g(e,n,e.position,!1)}}return!0}function A(e,t){var n,r,i,s=e.tag,a=e.anchor,c=[],u=!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=c),i=e.input.charCodeAt(e.position);0!==i&&45===i&&(r=e.input.charCodeAt(e.position+1),o(r));)if(u=!0,e.position++,w(e,!0,-1)&&e.lineIndent<=t)c.push(null),i=e.input.charCodeAt(e.position);else if(n=e.line,j(e,t,W,!1,!0),c.push(e.result),w(e,!0,-1),i=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&0!==i)p(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break;return!!u&&(e.tag=s,e.anchor=a,e.kind="sequence",e.result=c,!0)}function P(e,t,n){var r,s,a,c,u,l=e.tag,f=e.anchor,h={},d={},y=null,g=null,m=null,b=!1,S=!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=h),u=e.input.charCodeAt(e.position);0!==u;){if(r=e.input.charCodeAt(e.position+1),a=e.line,c=e.position,63!==u&&58!==u||!o(r)){if(!j(e,n,G,!1,!0))break;if(e.line===a){for(u=e.input.charCodeAt(e.position);i(u);)u=e.input.charCodeAt(++e.position);if(58===u)u=e.input.charCodeAt(++e.position),o(u)||p(e,"a whitespace character is expected after the key-value separator within a block mapping"),b&&(v(e,h,d,y,g,null),y=g=m=null),S=!0,b=!1,s=!1,y=e.tag,g=e.result;else{if(!S)return e.tag=l,e.anchor=f,!0;p(e,"can not read an implicit mapping pair; a colon is missed")}}else{if(!S)return e.tag=l,e.anchor=f,!0;p(e,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===u?(b&&(v(e,h,d,y,g,null),y=g=m=null),S=!0,b=!0,s=!0):b?(b=!1,s=!0):p(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,u=r;if((e.line===a||e.lineIndent>t)&&(j(e,t,X,!0,s)&&(b?g=e.result:m=e.result),b||(v(e,h,d,y,g,m,a,c),y=g=m=null),w(e,!0,-1),u=e.input.charCodeAt(e.position)),e.lineIndent>t&&0!==u)p(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return b&&v(e,h,d,y,g,null),S&&(e.tag=l,e.anchor=f,e.kind="mapping",e.result=h),S}function I(e){var t,n,r,i,s=!1,a=!1;if(33!==(i=e.input.charCodeAt(e.position)))return!1;if(null!==e.tag&&p(e,"duplication of a tag property"),i=e.input.charCodeAt(++e.position),60===i?(s=!0,i=e.input.charCodeAt(++e.position)):33===i?(a=!0,n="!!",i=e.input.charCodeAt(++e.position)):n="!",t=e.position,s){do{i=e.input.charCodeAt(++e.position)}while(0!==i&&62!==i);e.position<e.length?(r=e.input.slice(t,e.position),i=e.input.charCodeAt(++e.position)):p(e,"unexpected end of the stream within a verbatim tag")}else{for(;0!==i&&!o(i);)33===i&&(a?p(e,"tag suffix cannot contain exclamation marks"):(n=e.input.slice(t-1,e.position+1),ne.test(n)||p(e,"named tag handle cannot contain such characters"),a=!0,t=e.position+1)),i=e.input.charCodeAt(++e.position);r=e.input.slice(t,e.position),te.test(r)&&p(e,"tag suffix cannot contain flow indicator characters")}return r&&!re.test(r)&&p(e,"tag name cannot contain such characters: "+r),s?e.tag=r:z.call(e.tagMap,n)?e.tag=e.tagMap[n]+r:"!"===n?e.tag="!"+r:"!!"===n?e.tag="tag:yaml.org,2002:"+r:p(e,'undeclared tag handle "'+n+'"'),!0}function D(e){var t,n;if(38!==(n=e.input.charCodeAt(e.position)))return!1;for(null!==e.anchor&&p(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;0!==n&&!o(n)&&!s(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&p(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function R(e){var t,n,r;if(42!==(r=e.input.charCodeAt(e.position)))return!1;for(r=e.input.charCodeAt(++e.position),t=e.position;0!==r&&!o(r)&&!s(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&p(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),e.anchorMap.hasOwnProperty(n)||p(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],w(e,!0,-1),!0}function j(e,t,n,r,i){var o,s,a,c,u,l,f,h,d=1,y=!1,g=!1;if(null!==e.listener&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=s=a=X===n||W===n,r&&w(e,!0,-1)&&(y=!0,e.lineIndent>t?d=1:e.lineIndent===t?d=0:e.lineIndent<t&&(d=-1)),1===d)for(;I(e)||D(e);)w(e,!0,-1)?(y=!0,a=o,e.lineIndent>t?d=1:e.lineIndent===t?d=0:e.lineIndent<t&&(d=-1)):a=!1;if(a&&(a=y||i),1!==d&&X!==n||(f=J===n||G===n?t:t+1,h=e.position-e.lineStart,1===d?a&&(A(e,h)||P(e,h,f))||O(e,f)?g=!0:(s&&C(e,f)||x(e,f)||_(e,f)?g=!0:R(e)?(g=!0,null===e.tag&&null===e.anchor||p(e,"alias node should not have any properties")):k(e,f,J===n)&&(g=!0,null===e.tag&&(e.tag="?")),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):0===d&&(g=a&&A(e,h))),null!==e.tag&&"!"!==e.tag)if("?"===e.tag){for(c=0,u=e.implicitTypes.length;c<u;c+=1)if(l=e.implicitTypes[c],l.resolve(e.result)){e.result=l.construct(e.result),e.tag=l.tag,null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);break}}else z.call(e.typeMap[e.kind||"fallback"],e.tag)?(l=e.typeMap[e.kind||"fallback"][e.tag],null!==e.result&&l.kind!==e.kind&&p(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+l.kind+'", not "'+e.kind+'"'),l.resolve(e.result)?(e.result=l.construct(e.result),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):p(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")):p(e,"unknown tag !<"+e.tag+">");return null!==e.listener&&e.listener("close",e),null!==e.tag||null!==e.anchor||g}function T(e){var t,n,s,a,c=e.position,u=!1;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap={},e.anchorMap={};0!==(a=e.input.charCodeAt(e.position))&&(w(e,!0,-1),a=e.input.charCodeAt(e.position),!(e.lineIndent>0||37!==a));){for(u=!0,a=e.input.charCodeAt(++e.position),t=e.position;0!==a&&!o(a);)a=e.input.charCodeAt(++e.position);for(n=e.input.slice(t,e.position),s=[],n.length<1&&p(e,"directive name must not be less than one character in length");0!==a;){for(;i(a);)a=e.input.charCodeAt(++e.position);if(35===a){do{a=e.input.charCodeAt(++e.position)}while(0!==a&&!r(a));break}if(r(a))break;for(t=e.position;0!==a&&!o(a);)a=e.input.charCodeAt(++e.position);s.push(e.input.slice(t,e.position))}0!==a&&b(e),z.call(ae,n)?ae[n](e,n,s):y(e,'unknown document directive "'+n+'"')}if(w(e,!0,-1),0===e.lineIndent&&45===e.input.charCodeAt(e.position)&&45===e.input.charCodeAt(e.position+1)&&45===e.input.charCodeAt(e.position+2)?(e.position+=3,w(e,!0,-1)):u&&p(e,"directives end mark is expected"),j(e,e.lineIndent-1,X,!1,!0),w(e,!0,-1),e.checkLineBreaks&&ee.test(e.input.slice(c,e.position))&&y(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&S(e))return void(46===e.input.charCodeAt(e.position)&&(e.position+=3,w(e,!0,-1)));e.position<e.length-1&&p(e,"end of the stream or a document separator is expected")}function N(e,t){e=String(e),t=t||{},0!==e.length&&(10!==e.charCodeAt(e.length-1)&&13!==e.charCodeAt(e.length-1)&&(e+="\n"),65279===e.charCodeAt(0)&&(e=e.slice(1)));var n=new h(e,t);for(n.input+="\0";32===n.input.charCodeAt(n.position);)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)T(n);return n.documents}function B(e,t,n){var r,i,o=N(e,n);if("function"!=typeof t)return o;for(r=0,i=o.length;r<i;r+=1)t(o[r])}function F(e,t){var n=N(e,t);if(0!==n.length){if(1===n.length)return n[0];throw new q("expected a single document in the stream, but found more")}}function M(e,t,n){if("function"!=typeof t)return B(e,H.extend({schema:K},n));B(e,t,H.extend({schema:K},n))}function L(e,t){return F(e,H.extend({schema:K},t))}for(var H=n(30),q=n(45),U=n(357),K=n(46),V=n(57),z=Object.prototype.hasOwnProperty,J=1,G=2,W=3,X=4,Y=1,Q=2,Z=3,$=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,ee=/[\x85\u2028\u2029]/,te=/[,\[\]\{\}]/,ne=/^(?:!|!!|![a-z\-]+!)$/i,re=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i,ie=new Array(256),oe=new Array(256),se=0;se<256;se++)ie[se]=l(se)?1:0,oe[se]=l(se);var ae={YAML:function(e,t,n){var r,i,o;null!==e.version&&p(e,"duplication of %YAML directive"),1!==n.length&&p(e,"YAML directive accepts exactly one argument"),r=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),null===r&&p(e,"ill-formed argument of the YAML directive"),i=parseInt(r[1],10),o=parseInt(r[2],10),1!==i&&p(e,"unacceptable YAML version of the document"),e.version=n[0],e.checkLineBreaks=o<2,1!==o&&2!==o&&y(e,"unsupported YAML version of the document")},TAG:function(e,t,n){var r,i;2!==n.length&&p(e,"TAG directive accepts exactly two arguments"),r=n[0],i=n[1],ne.test(r)||p(e,"ill-formed tag handle (first argument) of the TAG directive"),z.call(e.tagMap,r)&&p(e,'there is a previously declared suffix for "'+r+'" tag handle'),re.test(i)||p(e,"ill-formed tag prefix (second argument) of the TAG directive"),e.tagMap[r]=i}};e.exports.loadAll=B,e.exports.load=F,e.exports.safeLoadAll=M,e.exports.safeLoad=L},function(e,t,n){"use strict";function r(e,t,n,r,i){this.name=e,this.buffer=t,this.position=n,this.line=r,this.column=i}var i=n(30);r.prototype.getSnippet=function(e,t){var n,r,o,s,a;if(!this.buffer)return null;for(e=e||4,t=t||75,n="",r=this.position;r>0&&-1==="\0\r\n\u2028\u2029".indexOf(this.buffer.charAt(r-1));)if(r-=1,this.position-r>t/2-1){n=" ... ",r+=5;break}for(o="",s=this.position;s<this.buffer.length&&-1==="\0\r\n\u2028\u2029".indexOf(this.buffer.charAt(s));)if((s+=1)-this.position>t/2-1){o=" ... ",s-=5;break}return a=this.buffer.slice(r,s),i.repeat(" ",e)+n+a+o+"\n"+i.repeat(" ",e+this.position-r+n.length)+"^"},r.prototype.toString=function(e){var t,n="";return this.name&&(n+='in "'+this.name+'" '),n+="at line "+(this.line+1)+", column "+(this.column+1),e||(t=this.getSnippet())&&(n+=":\n"+t),n},e.exports=r},function(e,t,n){"use strict";var r=n(8);e.exports=new r("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return null!==e?e:""}})},function(e,t,n){"use strict";var r=n(8);e.exports=new r("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return null!==e?e:[]}})},function(e,t,n){"use strict";var r=n(8);e.exports=new r("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return null!==e?e:{}}})},function(e,t,n){"use strict";function r(e){if(null===e)return!0;var t=e.length;return 1===t&&"~"===e||4===t&&("null"===e||"Null"===e||"NULL"===e)}function i(){return null}function o(e){return null===e}var s=n(8);e.exports=new s("tag:yaml.org,2002:null",{kind:"scalar",resolve:r,construct:i,predicate:o,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"})},function(e,t,n){"use strict";function r(e){if(null===e)return!1;var t=e.length;return 4===t&&("true"===e||"True"===e||"TRUE"===e)||5===t&&("false"===e||"False"===e||"FALSE"===e)}function i(e){return"true"===e||"True"===e||"TRUE"===e}function o(e){return"[object Boolean]"===Object.prototype.toString.call(e)}var s=n(8);e.exports=new s("tag:yaml.org,2002:bool",{kind:"scalar",resolve:r,construct:i,predicate:o,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"})},function(e,t,n){"use strict";function r(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function i(e){return 48<=e&&e<=55}function o(e){return 48<=e&&e<=57}function s(e){if(null===e)return!1;var t,n=e.length,s=0,a=!1;if(!n)return!1;if(t=e[s],"-"!==t&&"+"!==t||(t=e[++s]),"0"===t){if(s+1===n)return!0;if("b"===(t=e[++s])){for(s++;s<n;s++)if("_"!==(t=e[s])){if("0"!==t&&"1"!==t)return!1;a=!0}return a&&"_"!==t}if("x"===t){for(s++;s<n;s++)if("_"!==(t=e[s])){if(!r(e.charCodeAt(s)))return!1;a=!0}return a&&"_"!==t}for(;s<n;s++)if("_"!==(t=e[s])){if(!i(e.charCodeAt(s)))return!1;a=!0}return a&&"_"!==t}if("_"===t)return!1;for(;s<n;s++)if("_"!==(t=e[s])){if(":"===t)break;if(!o(e.charCodeAt(s)))return!1;a=!0}return!(!a||"_"===t)&&(":"!==t||/^(:[0-5]?[0-9])+$/.test(e.slice(s)))}function a(e){var t,n,r=e,i=1,o=[];return-1!==r.indexOf("_")&&(r=r.replace(/_/g,"")),t=r[0],"-"!==t&&"+"!==t||("-"===t&&(i=-1),r=r.slice(1),t=r[0]),"0"===r?0:"0"===t?"b"===r[1]?i*parseInt(r.slice(2),2):"x"===r[1]?i*parseInt(r,16):i*parseInt(r,8):-1!==r.indexOf(":")?(r.split(":").forEach(function(e){o.unshift(parseInt(e,10))}),r=0,n=1,o.forEach(function(e){r+=e*n,n*=60}),i*r):i*parseInt(r,10)}function c(e){return"[object Number]"===Object.prototype.toString.call(e)&&e%1==0&&!u.isNegativeZero(e)}var u=n(30),l=n(8);e.exports=new l("tag:yaml.org,2002:int",{kind:"scalar",resolve:s,construct:a,predicate:c,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0"+e.toString(8):"-0"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})},function(e,t,n){"use strict";function r(e){return null!==e&&!(!u.test(e)||"_"===e[e.length-1])}function i(e){var t,n,r,i;return t=e.replace(/_/g,"").toLowerCase(),n="-"===t[0]?-1:1,i=[],"+-".indexOf(t[0])>=0&&(t=t.slice(1)),".inf"===t?1===n?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===t?NaN:t.indexOf(":")>=0?(t.split(":").forEach(function(e){i.unshift(parseFloat(e,10))}),t=0,r=1,i.forEach(function(e){t+=e*r,r*=60}),n*t):n*parseFloat(t,10)}function o(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(a.isNegativeZero(e))return"-0.0";return n=e.toString(10),l.test(n)?n.replace("e",".e"):n}function s(e){return"[object Number]"===Object.prototype.toString.call(e)&&(e%1!=0||a.isNegativeZero(e))}var a=n(30),c=n(8),u=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),l=/^[-+]?[0-9]+e/;e.exports=new c("tag:yaml.org,2002:float",{kind:"scalar",resolve:r,construct:i,predicate:s,represent:o,defaultStyle:"lowercase"})},function(e,t,n){"use strict";function r(e){return null!==e&&(null!==a.exec(e)||null!==c.exec(e))}function i(e){var t,n,r,i,o,s,u,l,f,h,d=0,p=null;if(t=a.exec(e),null===t&&(t=c.exec(e)),null===t)throw new Error("Date resolve error");if(n=+t[1],r=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(n,r,i));if(o=+t[4],s=+t[5],u=+t[6],t[7]){for(d=t[7].slice(0,3);d.length<3;)d+="0";d=+d}return t[9]&&(l=+t[10],f=+(t[11]||0),p=6e4*(60*l+f),"-"===t[9]&&(p=-p)),h=new Date(Date.UTC(n,r,i,o,s,u,d)),p&&h.setTime(h.getTime()-p),h}function o(e){return e.toISOString()}var s=n(8),a=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),c=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");e.exports=new s("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:r,construct:i,instanceOf:Date,represent:o})},function(e,t,n){"use strict";function r(e){return"<<"===e||null===e}var i=n(8);e.exports=new i("tag:yaml.org,2002:merge",{kind:"scalar",resolve:r})},function(e,t,n){"use strict";function r(e){if(null===e)return!1;var t,n,r=0,i=e.length,o=u;for(n=0;n<i;n++)if(!((t=o.indexOf(e.charAt(n)))>64)){if(t<0)return!1;r+=6}return r%8==0}function i(e){var t,n,r=e.replace(/[\r\n=]/g,""),i=r.length,o=u,s=0,c=[];for(t=0;t<i;t++)t%4==0&&t&&(c.push(s>>16&255),c.push(s>>8&255),c.push(255&s)),s=s<<6|o.indexOf(r.charAt(t));return n=i%4*6,0===n?(c.push(s>>16&255),c.push(s>>8&255),c.push(255&s)):18===n?(c.push(s>>10&255),c.push(s>>2&255)):12===n&&c.push(s>>4&255),a?a.from?a.from(c):new a(c):c}function o(e){var t,n,r="",i=0,o=e.length,s=u;for(t=0;t<o;t++)t%3==0&&t&&(r+=s[i>>18&63],r+=s[i>>12&63],r+=s[i>>6&63],r+=s[63&i]),i=(i<<8)+e[t];return n=o%3,0===n?(r+=s[i>>18&63],r+=s[i>>12&63],r+=s[i>>6&63],r+=s[63&i]):2===n?(r+=s[i>>10&63],r+=s[i>>4&63],r+=s[i<<2&63],r+=s[64]):1===n&&(r+=s[i>>2&63],r+=s[i<<4&63],r+=s[64],r+=s[64]),r}function s(e){return a&&a.isBuffer(e)}var a;try{a=n(0).Buffer}catch(e){}var c=n(8),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";e.exports=new c("tag:yaml.org,2002:binary",{kind:"scalar",resolve:r,construct:i,predicate:s,represent:o})},function(e,t,n){"use strict";function r(e){if(null===e)return!0;var t,n,r,i,o,c=[],u=e;for(t=0,n=u.length;t<n;t+=1){if(r=u[t],o=!1,"[object Object]"!==a.call(r))return!1;for(i in r)if(s.call(r,i)){if(o)return!1;o=!0}if(!o)return!1;if(-1!==c.indexOf(i))return!1;c.push(i)}return!0}function i(e){return null!==e?e:[]}var o=n(8),s=Object.prototype.hasOwnProperty,a=Object.prototype.toString;e.exports=new o("tag:yaml.org,2002:omap",{kind:"sequence",resolve:r,construct:i})},function(e,t,n){"use strict";function r(e){if(null===e)return!0;var t,n,r,i,o,a=e;for(o=new Array(a.length),t=0,n=a.length;t<n;t+=1){if(r=a[t],"[object Object]"!==s.call(r))return!1;if(i=Object.keys(r),1!==i.length)return!1;o[t]=[i[0],r[i[0]]]}return!0}function i(e){if(null===e)return[];var t,n,r,i,o,s=e;for(o=new Array(s.length),t=0,n=s.length;t<n;t+=1)r=s[t],i=Object.keys(r),o[t]=[i[0],r[i[0]]];return o}var o=n(8),s=Object.prototype.toString;e.exports=new o("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:r,construct:i})},function(e,t,n){"use strict";function r(e){if(null===e)return!0;var t,n=e;for(t in n)if(s.call(n,t)&&null!==n[t])return!1;return!0}function i(e){return null!==e?e:{}}var o=n(8),s=Object.prototype.hasOwnProperty;e.exports=new o("tag:yaml.org,2002:set",{kind:"mapping",resolve:r,construct:i})},function(e,t,n){"use strict";function r(){return!0}function i(){}function o(){return""}function s(e){return void 0===e}var a=n(8);e.exports=new a("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:r,construct:i,predicate:s,represent:o})},function(e,t,n){"use strict";function r(e){if(null===e)return!1;if(0===e.length)return!1;var t=e,n=/\/([gim]*)$/.exec(e),r="";if("/"===t[0]){if(n&&(r=n[1]),r.length>3)return!1;if("/"!==t[t.length-r.length-1])return!1}return!0}function i(e){var t=e,n=/\/([gim]*)$/.exec(e),r="";return"/"===t[0]&&(n&&(r=n[1]),t=t.slice(1,t.length-r.length-1)),new RegExp(t,r)}function o(e){var t="/"+e.source+"/";return e.global&&(t+="g"),e.multiline&&(t+="m"),e.ignoreCase&&(t+="i"),t}function s(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var a=n(8);e.exports=new a("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:r,construct:i,predicate:s,represent:o})},function(e,t,n){"use strict";function r(e){if(null===e)return!1;try{var t="("+e+")",n=a.parse(t,{range:!0});return"Program"===n.type&&1===n.body.length&&"ExpressionStatement"===n.body[0].type&&("ArrowFunctionExpression"===n.body[0].expression.type||"FunctionExpression"===n.body[0].expression.type)}catch(e){return!1}}function i(e){var t,n="("+e+")",r=a.parse(n,{range:!0}),i=[];if("Program"!==r.type||1!==r.body.length||"ExpressionStatement"!==r.body[0].type||"ArrowFunctionExpression"!==r.body[0].expression.type&&"FunctionExpression"!==r.body[0].expression.type)throw new Error("Failed to resolve function");return r.body[0].expression.params.forEach(function(e){i.push(e.name)}),t=r.body[0].expression.body.range,"BlockStatement"===r.body[0].expression.body.type?new Function(i,n.slice(t[0]+1,t[1]-1)):new Function(i,"return "+n.slice(t[0],t[1]))}function o(e){return e.toString()}function s(e){return"[object Function]"===Object.prototype.toString.call(e)}var a;try{a=n(374)}catch(e){"undefined"!=typeof window&&(a=window.esprima)}var c=n(8);e.exports=new c("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:r,construct:i,predicate:s,represent:o})},function(e,t,n){!function(t,n){e.exports=n()}(0,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e,t,n){var r=null,i=function(e,t){n&&n(e,t),r&&r.visit(e,t)},o="function"==typeof n?i:null,s=!1;if(t){s="boolean"==typeof t.comment&&t.comment;var l="boolean"==typeof t.attachComment&&t.attachComment;(s||l)&&(r=new a.CommentHandler,r.attach=l,t.comment=!0,o=i)}var f=!1;t&&"string"==typeof t.sourceType&&(f="module"===t.sourceType);var h;h=t&&"boolean"==typeof t.jsx&&t.jsx?new c.JSXParser(e,t,o):new u.Parser(e,t,o);var d=f?h.parseModule():h.parseScript(),p=d;return s&&r&&(p.comments=r.comments),h.config.tokens&&(p.tokens=h.tokens),h.config.tolerant&&(p.errors=h.errorHandler.errors),p}function i(e,t,n){var i=t||{};return i.sourceType="module",r(e,i,n)}function o(e,t,n){var i=t||{};return i.sourceType="script",r(e,i,n)}function s(e,t,n){var r,i=new l.Tokenizer(e,t);r=[];try{for(;;){var o=i.getNextToken();if(!o)break;n&&(o=n(o)),r.push(o)}}catch(e){i.errorHandler.tolerate(e)}return i.errorHandler.tolerant&&(r.errors=i.errors()),r}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),c=n(3),u=n(8),l=n(15);t.parse=r,t.parseModule=i,t.parseScript=o,t.tokenize=s;var f=n(2);t.Syntax=f.Syntax,t.version="4.0.0"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=function(){function e(){this.attach=!1,this.comments=[],this.stack=[],this.leading=[],this.trailing=[]}return e.prototype.insertInnerComments=function(e,t){if(e.type===r.Syntax.BlockStatement&&0===e.body.length){for(var n=[],i=this.leading.length-1;i>=0;--i){var o=this.leading[i];t.end.offset>=o.start&&(n.unshift(o.comment),this.leading.splice(i,1),this.trailing.splice(i,1))}n.length&&(e.innerComments=n)}},e.prototype.findTrailingComments=function(e){var t=[];if(this.trailing.length>0){for(var n=this.trailing.length-1;n>=0;--n){var r=this.trailing[n];r.start>=e.end.offset&&t.unshift(r.comment)}return this.trailing.length=0,t}var i=this.stack[this.stack.length-1];if(i&&i.node.trailingComments){var o=i.node.trailingComments[0];o&&o.range[0]>=e.end.offset&&(t=i.node.trailingComments,delete i.node.trailingComments)}return t},e.prototype.findLeadingComments=function(e){for(var t,n=[];this.stack.length>0;){var r=this.stack[this.stack.length-1];if(!(r&&r.start>=e.start.offset))break;t=r.node,this.stack.pop()}if(t){for(var i=t.leadingComments?t.leadingComments.length:0,o=i-1;o>=0;--o){var s=t.leadingComments[o];s.range[1]<=e.start.offset&&(n.unshift(s),t.leadingComments.splice(o,1))}return t.leadingComments&&0===t.leadingComments.length&&delete t.leadingComments,n}for(var o=this.leading.length-1;o>=0;--o){var r=this.leading[o];r.start<=e.start.offset&&(n.unshift(r.comment),this.leading.splice(o,1))}return n},e.prototype.visitNode=function(e,t){if(!(e.type===r.Syntax.Program&&e.body.length>0)){this.insertInnerComments(e,t);var n=this.findTrailingComments(t),i=this.findLeadingComments(t);i.length>0&&(e.leadingComments=i),n.length>0&&(e.trailingComments=n),this.stack.push({node:e,start:t.start.offset})}},e.prototype.visitComment=function(e,t){var n="L"===e.type[0]?"Line":"Block",r={type:n,value:e.value};if(e.range&&(r.range=e.range),e.loc&&(r.loc=e.loc),this.comments.push(r),this.attach){var i={comment:{type:n,value:e.value,range:[t.start.offset,t.end.offset]},start:t.start.offset};e.loc&&(i.comment.loc=e.loc),e.type=n,this.leading.push(i),this.trailing.push(i)}},e.prototype.visit=function(e,t){"LineComment"===e.type?this.visitComment(e,t):"BlockComment"===e.type?this.visitComment(e,t):this.attach&&this.visitNode(e,t)},e}();t.CommentHandler=i},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Syntax={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForOfStatement:"ForOfStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchCase:"SwitchCase",SwitchStatement:"SwitchStatement",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"}},function(e,t,n){"use strict";function r(e){var t;switch(e.type){case a.JSXSyntax.JSXIdentifier:t=e.name;break;case a.JSXSyntax.JSXNamespacedName:var n=e;t=r(n.namespace)+":"+r(n.name);break;case a.JSXSyntax.JSXMemberExpression:var i=e;t=r(i.object)+"."+r(i.property)}return t}var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),s=n(5),a=n(6),c=n(7),u=n(8),l=n(13),f=n(14);l.TokenName[100]="JSXIdentifier",l.TokenName[101]="JSXText";var h=function(e){function t(t,n,r){return e.call(this,t,n,r)||this}return i(t,e),t.prototype.parsePrimaryExpression=function(){return this.match("<")?this.parseJSXRoot():e.prototype.parsePrimaryExpression.call(this)},t.prototype.startJSX=function(){this.scanner.index=this.startMarker.index,this.scanner.lineNumber=this.startMarker.line,this.scanner.lineStart=this.startMarker.index-this.startMarker.column},t.prototype.finishJSX=function(){this.nextToken()},t.prototype.reenterJSX=function(){this.startJSX(),this.expectJSX("}"),this.config.tokens&&this.tokens.pop()},t.prototype.createJSXNode=function(){return this.collectComments(),{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},t.prototype.createJSXChildNode=function(){return{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},t.prototype.scanXHTMLEntity=function(e){for(var t="&",n=!0,r=!1,i=!1,s=!1;!this.scanner.eof()&&n&&!r;){var a=this.scanner.source[this.scanner.index];if(a===e)break;if(r=";"===a,t+=a,++this.scanner.index,!r)switch(t.length){case 2:i="#"===a;break;case 3:i&&(s="x"===a,n=s||o.Character.isDecimalDigit(a.charCodeAt(0)),i=i&&!s);break;default:n=n&&!(i&&!o.Character.isDecimalDigit(a.charCodeAt(0))),n=n&&!(s&&!o.Character.isHexDigit(a.charCodeAt(0)))}}if(n&&r&&t.length>2){var c=t.substr(1,t.length-2);i&&c.length>1?t=String.fromCharCode(parseInt(c.substr(1),10)):s&&c.length>2?t=String.fromCharCode(parseInt("0"+c.substr(1),16)):i||s||!f.XHTMLEntities[c]||(t=f.XHTMLEntities[c])}return t},t.prototype.lexJSX=function(){var e=this.scanner.source.charCodeAt(this.scanner.index);if(60===e||62===e||47===e||58===e||61===e||123===e||125===e){var t=this.scanner.source[this.scanner.index++];return{type:7,value:t,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index-1,end:this.scanner.index}}if(34===e||39===e){for(var n=this.scanner.index,r=this.scanner.source[this.scanner.index++],i="";!this.scanner.eof();){var s=this.scanner.source[this.scanner.index++];if(s===r)break;i+="&"===s?this.scanXHTMLEntity(r):s}return{type:8,value:i,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:n,end:this.scanner.index}}if(46===e){var a=this.scanner.source.charCodeAt(this.scanner.index+1),c=this.scanner.source.charCodeAt(this.scanner.index+2),t=46===a&&46===c?"...":".",n=this.scanner.index;return this.scanner.index+=t.length,{type:7,value:t,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:n,end:this.scanner.index}}if(96===e)return{type:10,value:"",lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index,end:this.scanner.index};if(o.Character.isIdentifierStart(e)&&92!==e){var n=this.scanner.index;for(++this.scanner.index;!this.scanner.eof();){var s=this.scanner.source.charCodeAt(this.scanner.index);if(o.Character.isIdentifierPart(s)&&92!==s)++this.scanner.index;else{if(45!==s)break;++this.scanner.index}}return{type:100,value:this.scanner.source.slice(n,this.scanner.index),lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:n,end:this.scanner.index}}return this.scanner.lex()},t.prototype.nextJSXToken=function(){this.collectComments(),this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;var e=this.lexJSX();return this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.config.tokens&&this.tokens.push(this.convertToken(e)),e},t.prototype.nextJSXText=function(){this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;for(var e=this.scanner.index,t="";!this.scanner.eof();){var n=this.scanner.source[this.scanner.index];if("{"===n||"<"===n)break;++this.scanner.index,t+=n,o.Character.isLineTerminator(n.charCodeAt(0))&&(++this.scanner.lineNumber,"\r"===n&&"\n"===this.scanner.source[this.scanner.index]&&++this.scanner.index,this.scanner.lineStart=this.scanner.index)}this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart;var r={type:101,value:t,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:e,end:this.scanner.index};return t.length>0&&this.config.tokens&&this.tokens.push(this.convertToken(r)),r},t.prototype.peekJSXToken=function(){var e=this.scanner.saveState();this.scanner.scanComments();var t=this.lexJSX();return this.scanner.restoreState(e),t},t.prototype.expectJSX=function(e){var t=this.nextJSXToken();7===t.type&&t.value===e||this.throwUnexpectedToken(t)},t.prototype.matchJSX=function(e){var t=this.peekJSXToken();return 7===t.type&&t.value===e},t.prototype.parseJSXIdentifier=function(){var e=this.createJSXNode(),t=this.nextJSXToken();return 100!==t.type&&this.throwUnexpectedToken(t),this.finalize(e,new s.JSXIdentifier(t.value))},t.prototype.parseJSXElementName=function(){var e=this.createJSXNode(),t=this.parseJSXIdentifier();if(this.matchJSX(":")){var n=t;this.expectJSX(":");var r=this.parseJSXIdentifier();t=this.finalize(e,new s.JSXNamespacedName(n,r))}else if(this.matchJSX("."))for(;this.matchJSX(".");){var i=t;this.expectJSX(".");var o=this.parseJSXIdentifier();t=this.finalize(e,new s.JSXMemberExpression(i,o))}return t},t.prototype.parseJSXAttributeName=function(){var e,t=this.createJSXNode(),n=this.parseJSXIdentifier();if(this.matchJSX(":")){var r=n;this.expectJSX(":");var i=this.parseJSXIdentifier();e=this.finalize(t,new s.JSXNamespacedName(r,i))}else e=n;return e},t.prototype.parseJSXStringLiteralAttribute=function(){var e=this.createJSXNode(),t=this.nextJSXToken();8!==t.type&&this.throwUnexpectedToken(t);var n=this.getTokenRaw(t);return this.finalize(e,new c.Literal(t.value,n))},t.prototype.parseJSXExpressionAttribute=function(){var e=this.createJSXNode();this.expectJSX("{"),this.finishJSX(),this.match("}")&&this.tolerateError("JSX attributes must only be assigned a non-empty expression");var t=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(e,new s.JSXExpressionContainer(t))},t.prototype.parseJSXAttributeValue=function(){return this.matchJSX("{")?this.parseJSXExpressionAttribute():this.matchJSX("<")?this.parseJSXElement():this.parseJSXStringLiteralAttribute()},t.prototype.parseJSXNameValueAttribute=function(){var e=this.createJSXNode(),t=this.parseJSXAttributeName(),n=null;return this.matchJSX("=")&&(this.expectJSX("="),n=this.parseJSXAttributeValue()),this.finalize(e,new s.JSXAttribute(t,n))},t.prototype.parseJSXSpreadAttribute=function(){var e=this.createJSXNode();this.expectJSX("{"),this.expectJSX("..."),this.finishJSX();var t=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(e,new s.JSXSpreadAttribute(t))},t.prototype.parseJSXAttributes=function(){for(var e=[];!this.matchJSX("/")&&!this.matchJSX(">");){var t=this.matchJSX("{")?this.parseJSXSpreadAttribute():this.parseJSXNameValueAttribute();e.push(t)}return e},t.prototype.parseJSXOpeningElement=function(){var e=this.createJSXNode();this.expectJSX("<");var t=this.parseJSXElementName(),n=this.parseJSXAttributes(),r=this.matchJSX("/");return r&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(e,new s.JSXOpeningElement(t,r,n))},t.prototype.parseJSXBoundaryElement=function(){var e=this.createJSXNode();if(this.expectJSX("<"),this.matchJSX("/")){this.expectJSX("/");var t=this.parseJSXElementName();return this.expectJSX(">"),this.finalize(e,new s.JSXClosingElement(t))}var n=this.parseJSXElementName(),r=this.parseJSXAttributes(),i=this.matchJSX("/");return i&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(e,new s.JSXOpeningElement(n,i,r))},t.prototype.parseJSXEmptyExpression=function(){var e=this.createJSXChildNode();return this.collectComments(),this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.finalize(e,new s.JSXEmptyExpression)},t.prototype.parseJSXExpressionContainer=function(){var e=this.createJSXNode();this.expectJSX("{");var t;return this.matchJSX("}")?(t=this.parseJSXEmptyExpression(),this.expectJSX("}")):(this.finishJSX(),t=this.parseAssignmentExpression(),this.reenterJSX()),this.finalize(e,new s.JSXExpressionContainer(t))},t.prototype.parseJSXChildren=function(){for(var e=[];!this.scanner.eof();){var t=this.createJSXChildNode(),n=this.nextJSXText();if(n.start<n.end){var r=this.getTokenRaw(n),i=this.finalize(t,new s.JSXText(n.value,r));e.push(i)}if("{"!==this.scanner.source[this.scanner.index])break;var o=this.parseJSXExpressionContainer();e.push(o)}return e},t.prototype.parseComplexJSXElement=function(e){for(var t=[];!this.scanner.eof();){e.children=e.children.concat(this.parseJSXChildren());var n=this.createJSXChildNode(),i=this.parseJSXBoundaryElement();if(i.type===a.JSXSyntax.JSXOpeningElement){var o=i;if(o.selfClosing){var c=this.finalize(n,new s.JSXElement(o,[],null));e.children.push(c)}else t.push(e),e={node:n,opening:o,closing:null,children:[]}}if(i.type===a.JSXSyntax.JSXClosingElement){e.closing=i;var u=r(e.opening.name);if(u!==r(e.closing.name)&&this.tolerateError("Expected corresponding JSX closing tag for %0",u),!(t.length>0))break;var c=this.finalize(e.node,new s.JSXElement(e.opening,e.children,e.closing));e=t[t.length-1],e.children.push(c),t.pop()}}return e},t.prototype.parseJSXElement=function(){var e=this.createJSXNode(),t=this.parseJSXOpeningElement(),n=[],r=null;if(!t.selfClosing){var i=this.parseComplexJSXElement({node:e,opening:t,closing:r,children:n});n=i.children,r=i.closing}return this.finalize(e,new s.JSXElement(t,n,r))},t.prototype.parseJSXRoot=function(){this.config.tokens&&this.tokens.pop(),this.startJSX();var e=this.parseJSXElement();return this.finishJSX(),e},t.prototype.isStartOfExpression=function(){return e.prototype.isStartOfExpression.call(this)||this.match("<")},t}(u.Parser);t.JSXParser=h},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};t.Character={fromCodePoint:function(e){return e<65536?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10))+String.fromCharCode(56320+(e-65536&1023))},isWhiteSpace:function(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0},isLineTerminator:function(e){return 10===e||13===e||8232===e||8233===e},isIdentifierStart:function(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&n.NonAsciiIdentifierStart.test(t.Character.fromCodePoint(e))},isIdentifierPart:function(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&n.NonAsciiIdentifierPart.test(t.Character.fromCodePoint(e))},isDecimalDigit:function(e){return e>=48&&e<=57},isHexDigit:function(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102},isOctalDigit:function(e){return e>=48&&e<=55}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=function(){function e(e){this.type=r.JSXSyntax.JSXClosingElement,this.name=e}return e}();t.JSXClosingElement=i;var o=function(){function e(e,t,n){this.type=r.JSXSyntax.JSXElement,this.openingElement=e,this.children=t,this.closingElement=n}return e}();t.JSXElement=o;var s=function(){function e(){this.type=r.JSXSyntax.JSXEmptyExpression}return e}();t.JSXEmptyExpression=s;var a=function(){function e(e){this.type=r.JSXSyntax.JSXExpressionContainer,this.expression=e}return e}();t.JSXExpressionContainer=a;var c=function(){function e(e){this.type=r.JSXSyntax.JSXIdentifier,this.name=e}return e}();t.JSXIdentifier=c;var u=function(){function e(e,t){this.type=r.JSXSyntax.JSXMemberExpression,this.object=e,this.property=t}return e}();t.JSXMemberExpression=u;var l=function(){function e(e,t){this.type=r.JSXSyntax.JSXAttribute,this.name=e,this.value=t}return e}();t.JSXAttribute=l;var f=function(){function e(e,t){this.type=r.JSXSyntax.JSXNamespacedName,this.namespace=e,this.name=t}return e}();t.JSXNamespacedName=f;var h=function(){function e(e,t,n){this.type=r.JSXSyntax.JSXOpeningElement,this.name=e,this.selfClosing=t,this.attributes=n}return e}();t.JSXOpeningElement=h;var d=function(){function e(e){this.type=r.JSXSyntax.JSXSpreadAttribute,this.argument=e}return e}();t.JSXSpreadAttribute=d;var p=function(){function e(e,t){this.type=r.JSXSyntax.JSXText,this.value=e,this.raw=t}return e}();t.JSXText=p},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JSXSyntax={JSXAttribute:"JSXAttribute",JSXClosingElement:"JSXClosingElement",JSXElement:"JSXElement",JSXEmptyExpression:"JSXEmptyExpression",JSXExpressionContainer:"JSXExpressionContainer",JSXIdentifier:"JSXIdentifier",JSXMemberExpression:"JSXMemberExpression",JSXNamespacedName:"JSXNamespacedName",JSXOpeningElement:"JSXOpeningElement",JSXSpreadAttribute:"JSXSpreadAttribute",JSXText:"JSXText"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=function(){function e(e){this.type=r.Syntax.ArrayExpression,this.elements=e}return e}();t.ArrayExpression=i;var o=function(){function e(e){this.type=r.Syntax.ArrayPattern,this.elements=e}return e}();t.ArrayPattern=o;var s=function(){function e(e,t,n){this.type=r.Syntax.ArrowFunctionExpression,this.id=null,this.params=e,this.body=t,this.generator=!1,this.expression=n,this.async=!1}return e}();t.ArrowFunctionExpression=s;var a=function(){function e(e,t,n){this.type=r.Syntax.AssignmentExpression,this.operator=e,this.left=t,this.right=n}return e}();t.AssignmentExpression=a;var c=function(){function e(e,t){this.type=r.Syntax.AssignmentPattern,this.left=e,this.right=t}return e}();t.AssignmentPattern=c;var u=function(){function e(e,t,n){this.type=r.Syntax.ArrowFunctionExpression,this.id=null,this.params=e,this.body=t,this.generator=!1,this.expression=n,this.async=!0}return e}();t.AsyncArrowFunctionExpression=u;var l=function(){function e(e,t,n){this.type=r.Syntax.FunctionDeclaration,this.id=e,this.params=t,this.body=n,this.generator=!1,this.expression=!1,this.async=!0}return e}();t.AsyncFunctionDeclaration=l;var f=function(){function e(e,t,n){this.type=r.Syntax.FunctionExpression,this.id=e,this.params=t,this.body=n,this.generator=!1,this.expression=!1,this.async=!0}return e}();t.AsyncFunctionExpression=f;var h=function(){function e(e){this.type=r.Syntax.AwaitExpression,this.argument=e}return e}();t.AwaitExpression=h;var d=function(){function e(e,t,n){var i="||"===e||"&&"===e;this.type=i?r.Syntax.LogicalExpression:r.Syntax.BinaryExpression,this.operator=e,this.left=t,this.right=n}return e}();t.BinaryExpression=d;var p=function(){function e(e){this.type=r.Syntax.BlockStatement,this.body=e}return e}();t.BlockStatement=p;var y=function(){function e(e){this.type=r.Syntax.BreakStatement,this.label=e}return e}();t.BreakStatement=y;var g=function(){function e(e,t){this.type=r.Syntax.CallExpression,this.callee=e,this.arguments=t}return e}();t.CallExpression=g;var m=function(){function e(e,t){this.type=r.Syntax.CatchClause,this.param=e,this.body=t}return e}();t.CatchClause=m;var v=function(){function e(e){this.type=r.Syntax.ClassBody,this.body=e}return e}();t.ClassBody=v;var b=function(){function e(e,t,n){this.type=r.Syntax.ClassDeclaration,this.id=e,this.superClass=t,this.body=n}return e}();t.ClassDeclaration=b;var w=function(){function e(e,t,n){this.type=r.Syntax.ClassExpression,this.id=e,this.superClass=t,this.body=n}return e}();t.ClassExpression=w;var S=function(){function e(e,t){this.type=r.Syntax.MemberExpression,this.computed=!0,this.object=e,this.property=t}return e}();t.ComputedMemberExpression=S;var E=function(){function e(e,t,n){this.type=r.Syntax.ConditionalExpression,this.test=e,this.consequent=t,this.alternate=n}return e}();t.ConditionalExpression=E;var k=function(){function e(e){this.type=r.Syntax.ContinueStatement,this.label=e}return e}();t.ContinueStatement=k;var x=function(){function e(){this.type=r.Syntax.DebuggerStatement}return e}();t.DebuggerStatement=x;var _=function(){function e(e,t){this.type=r.Syntax.ExpressionStatement,this.expression=e,this.directive=t}return e}();t.Directive=_;var O=function(){function e(e,t){this.type=r.Syntax.DoWhileStatement,this.body=e,this.test=t}return e}();t.DoWhileStatement=O;var C=function(){function e(){this.type=r.Syntax.EmptyStatement}return e}();t.EmptyStatement=C;var A=function(){function e(e){this.type=r.Syntax.ExportAllDeclaration,this.source=e}return e}();t.ExportAllDeclaration=A;var P=function(){function e(e){this.type=r.Syntax.ExportDefaultDeclaration,this.declaration=e}return e}();t.ExportDefaultDeclaration=P;var I=function(){function e(e,t,n){this.type=r.Syntax.ExportNamedDeclaration,this.declaration=e,this.specifiers=t,this.source=n}return e}();t.ExportNamedDeclaration=I;var D=function(){function e(e,t){this.type=r.Syntax.ExportSpecifier,this.exported=t,this.local=e}return e}();t.ExportSpecifier=D;var R=function(){function e(e){this.type=r.Syntax.ExpressionStatement,this.expression=e}return e}();t.ExpressionStatement=R;var j=function(){function e(e,t,n){this.type=r.Syntax.ForInStatement,this.left=e,this.right=t,this.body=n,this.each=!1}return e}();t.ForInStatement=j;var T=function(){function e(e,t,n){this.type=r.Syntax.ForOfStatement,this.left=e,this.right=t,this.body=n}return e}();t.ForOfStatement=T;var N=function(){function e(e,t,n,i){this.type=r.Syntax.ForStatement,this.init=e,this.test=t,this.update=n,this.body=i}return e}();t.ForStatement=N;var B=function(){function e(e,t,n,i){this.type=r.Syntax.FunctionDeclaration,this.id=e,this.params=t,this.body=n,this.generator=i,this.expression=!1,this.async=!1}return e}();t.FunctionDeclaration=B;var F=function(){function e(e,t,n,i){this.type=r.Syntax.FunctionExpression,this.id=e,this.params=t,this.body=n,this.generator=i,this.expression=!1,this.async=!1}return e}();t.FunctionExpression=F;var M=function(){function e(e){this.type=r.Syntax.Identifier,this.name=e}return e}();t.Identifier=M;var L=function(){function e(e,t,n){this.type=r.Syntax.IfStatement,this.test=e,this.consequent=t,this.alternate=n}return e}();t.IfStatement=L;var H=function(){function e(e,t){this.type=r.Syntax.ImportDeclaration,this.specifiers=e,this.source=t}return e}();t.ImportDeclaration=H;var q=function(){function e(e){this.type=r.Syntax.ImportDefaultSpecifier,this.local=e}return e}();t.ImportDefaultSpecifier=q;var U=function(){function e(e){this.type=r.Syntax.ImportNamespaceSpecifier,this.local=e}return e}();t.ImportNamespaceSpecifier=U;var K=function(){function e(e,t){this.type=r.Syntax.ImportSpecifier,this.local=e,this.imported=t}return e}();t.ImportSpecifier=K;var V=function(){function e(e,t){this.type=r.Syntax.LabeledStatement,this.label=e,this.body=t}return e}();t.LabeledStatement=V;var z=function(){function e(e,t){this.type=r.Syntax.Literal,this.value=e,this.raw=t}return e}();t.Literal=z;var J=function(){function e(e,t){this.type=r.Syntax.MetaProperty,this.meta=e,this.property=t}return e}();t.MetaProperty=J;var G=function(){function e(e,t,n,i,o){this.type=r.Syntax.MethodDefinition,this.key=e,this.computed=t,this.value=n,this.kind=i,this.static=o}return e}();t.MethodDefinition=G;var W=function(){function e(e){this.type=r.Syntax.Program,this.body=e,this.sourceType="module"}return e}();t.Module=W;var X=function(){function e(e,t){this.type=r.Syntax.NewExpression,this.callee=e,this.arguments=t}return e}();t.NewExpression=X;var Y=function(){function e(e){this.type=r.Syntax.ObjectExpression,this.properties=e}return e}();t.ObjectExpression=Y;var Q=function(){function e(e){this.type=r.Syntax.ObjectPattern,this.properties=e}return e}();t.ObjectPattern=Q;var Z=function(){function e(e,t,n,i,o,s){this.type=r.Syntax.Property,this.key=t,this.computed=n,this.value=i,this.kind=e,this.method=o,this.shorthand=s}return e}();t.Property=Z;var $=function(){function e(e,t,n,i){this.type=r.Syntax.Literal,this.value=e,this.raw=t,this.regex={pattern:n,flags:i}}return e}();t.RegexLiteral=$;var ee=function(){function e(e){this.type=r.Syntax.RestElement,this.argument=e}return e}();t.RestElement=ee;var te=function(){function e(e){this.type=r.Syntax.ReturnStatement,this.argument=e}return e}();t.ReturnStatement=te;var ne=function(){function e(e){this.type=r.Syntax.Program,this.body=e,this.sourceType="script"}return e}();t.Script=ne;var re=function(){function e(e){this.type=r.Syntax.SequenceExpression,this.expressions=e}return e}();t.SequenceExpression=re;var ie=function(){function e(e){this.type=r.Syntax.SpreadElement,this.argument=e}return e}();t.SpreadElement=ie;var oe=function(){function e(e,t){this.type=r.Syntax.MemberExpression,this.computed=!1,this.object=e,this.property=t}return e}();t.StaticMemberExpression=oe;var se=function(){function e(){this.type=r.Syntax.Super}return e}();t.Super=se;var ae=function(){function e(e,t){this.type=r.Syntax.SwitchCase,this.test=e,this.consequent=t}return e}();t.SwitchCase=ae;var ce=function(){function e(e,t){this.type=r.Syntax.SwitchStatement,this.discriminant=e,this.cases=t}return e}();t.SwitchStatement=ce;var ue=function(){function e(e,t){this.type=r.Syntax.TaggedTemplateExpression,this.tag=e,this.quasi=t}return e}();t.TaggedTemplateExpression=ue;var le=function(){function e(e,t){this.type=r.Syntax.TemplateElement,this.value=e,this.tail=t}return e}();t.TemplateElement=le;var fe=function(){function e(e,t){this.type=r.Syntax.TemplateLiteral,this.quasis=e,this.expressions=t}return e}();t.TemplateLiteral=fe;var he=function(){function e(){this.type=r.Syntax.ThisExpression}return e}();t.ThisExpression=he;var de=function(){function e(e){this.type=r.Syntax.ThrowStatement,this.argument=e}return e}();t.ThrowStatement=de;var pe=function(){function e(e,t,n){this.type=r.Syntax.TryStatement,this.block=e,this.handler=t,this.finalizer=n}return e}();t.TryStatement=pe;var ye=function(){function e(e,t){this.type=r.Syntax.UnaryExpression,this.operator=e,this.argument=t,this.prefix=!0}return e}();t.UnaryExpression=ye;var ge=function(){function e(e,t,n){this.type=r.Syntax.UpdateExpression,this.operator=e,this.argument=t,this.prefix=n}return e}();t.UpdateExpression=ge;var me=function(){function e(e,t){this.type=r.Syntax.VariableDeclaration,this.declarations=e,this.kind=t}return e}();t.VariableDeclaration=me;var ve=function(){function e(e,t){this.type=r.Syntax.VariableDeclarator,this.id=e,this.init=t}return e}();t.VariableDeclarator=ve;var be=function(){function e(e,t){this.type=r.Syntax.WhileStatement,this.test=e,this.body=t}return e}();t.WhileStatement=be;var we=function(){function e(e,t){this.type=r.Syntax.WithStatement,this.object=e,this.body=t}return e}();t.WithStatement=we;var Se=function(){function e(e,t){this.type=r.Syntax.YieldExpression,this.argument=e,this.delegate=t}return e}();t.YieldExpression=Se},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),i=n(10),o=n(11),s=n(7),a=n(12),c=n(2),u=n(13),l=function(){function e(e,t,n){void 0===t&&(t={}),this.config={range:"boolean"==typeof t.range&&t.range,loc:"boolean"==typeof t.loc&&t.loc,source:null,tokens:"boolean"==typeof t.tokens&&t.tokens,comment:"boolean"==typeof t.comment&&t.comment,tolerant:"boolean"==typeof t.tolerant&&t.tolerant},this.config.loc&&t.source&&null!==t.source&&(this.config.source=String(t.source)),this.delegate=n,this.errorHandler=new i.ErrorHandler,this.errorHandler.tolerant=this.config.tolerant,this.scanner=new a.Scanner(e,this.errorHandler),this.scanner.trackComment=this.config.comment,this.operatorPrecedence={")":0,";":0,",":0,"=":0,"]":0,"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":11,"/":11,"%":11},this.lookahead={type:2,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0},this.hasLineTerminator=!1,this.context={isModule:!1,await:!1,allowIn:!0,allowStrictDirective:!0,allowYield:!0,firstCoverInitializedNameError:null,isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,inSwitch:!1,labelSet:{},strict:!1},this.tokens=[],this.startMarker={index:0,line:this.scanner.lineNumber,column:0},this.lastMarker={index:0,line:this.scanner.lineNumber,column:0},this.nextToken(),this.lastMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}return e.prototype.throwError=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=Array.prototype.slice.call(arguments,1),o=e.replace(/%(\d)/g,function(e,t){return r.assert(t<i.length,"Message reference must be in range"),i[t]}),s=this.lastMarker.index,a=this.lastMarker.line,c=this.lastMarker.column+1;throw this.errorHandler.createError(s,a,c,o)},e.prototype.tolerateError=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=Array.prototype.slice.call(arguments,1),o=e.replace(/%(\d)/g,function(e,t){return r.assert(t<i.length,"Message reference must be in range"),i[t]}),s=this.lastMarker.index,a=this.scanner.lineNumber,c=this.lastMarker.column+1;this.errorHandler.tolerateError(s,a,c,o)},e.prototype.unexpectedTokenError=function(e,t){var n,r=t||o.Messages.UnexpectedToken;if(e?(t||(r=2===e.type?o.Messages.UnexpectedEOS:3===e.type?o.Messages.UnexpectedIdentifier:6===e.type?o.Messages.UnexpectedNumber:8===e.type?o.Messages.UnexpectedString:10===e.type?o.Messages.UnexpectedTemplate:o.Messages.UnexpectedToken,4===e.type&&(this.scanner.isFutureReservedWord(e.value)?r=o.Messages.UnexpectedReserved:this.context.strict&&this.scanner.isStrictModeReservedWord(e.value)&&(r=o.Messages.StrictReservedWord))),n=e.value):n="ILLEGAL",r=r.replace("%0",n),e&&"number"==typeof e.lineNumber){var i=e.start,s=e.lineNumber,a=this.lastMarker.index-this.lastMarker.column,c=e.start-a+1;return this.errorHandler.createError(i,s,c,r)}var i=this.lastMarker.index,s=this.lastMarker.line,c=this.lastMarker.column+1;return this.errorHandler.createError(i,s,c,r)},e.prototype.throwUnexpectedToken=function(e,t){throw this.unexpectedTokenError(e,t)},e.prototype.tolerateUnexpectedToken=function(e,t){this.errorHandler.tolerate(this.unexpectedTokenError(e,t))},e.prototype.collectComments=function(){if(this.config.comment){var e=this.scanner.scanComments();if(e.length>0&&this.delegate)for(var t=0;t<e.length;++t){var n=e[t],r=void 0;r={type:n.multiLine?"BlockComment":"LineComment",value:this.scanner.source.slice(n.slice[0],n.slice[1])},this.config.range&&(r.range=n.range),this.config.loc&&(r.loc=n.loc);var i={start:{line:n.loc.start.line,column:n.loc.start.column,offset:n.range[0]},end:{line:n.loc.end.line,column:n.loc.end.column,offset:n.range[1]}};this.delegate(r,i)}}else this.scanner.scanComments()},e.prototype.getTokenRaw=function(e){return this.scanner.source.slice(e.start,e.end)},e.prototype.convertToken=function(e){var t={type:u.TokenName[e.type],value:this.getTokenRaw(e)};if(this.config.range&&(t.range=[e.start,e.end]),this.config.loc&&(t.loc={start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}),9===e.type){var n=e.pattern,r=e.flags;t.regex={pattern:n,flags:r}}return t},e.prototype.nextToken=function(){var e=this.lookahead;this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.collectComments(),this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart);var t=this.scanner.lex();return this.hasLineTerminator=e.lineNumber!==t.lineNumber,t&&this.context.strict&&3===t.type&&this.scanner.isStrictModeReservedWord(t.value)&&(t.type=4),this.lookahead=t,this.config.tokens&&2!==t.type&&this.tokens.push(this.convertToken(t)),e},e.prototype.nextRegexToken=function(){this.collectComments();var e=this.scanner.scanRegExp();return this.config.tokens&&(this.tokens.pop(),this.tokens.push(this.convertToken(e))),this.lookahead=e,this.nextToken(),e},e.prototype.createNode=function(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}},e.prototype.startNode=function(e){return{index:e.start,line:e.lineNumber,column:e.start-e.lineStart}},e.prototype.finalize=function(e,t){if(this.config.range&&(t.range=[e.index,this.lastMarker.index]),this.config.loc&&(t.loc={start:{line:e.line,column:e.column},end:{line:this.lastMarker.line,column:this.lastMarker.column}},this.config.source&&(t.loc.source=this.config.source)),this.delegate){var n={start:{line:e.line,column:e.column,offset:e.index},end:{line:this.lastMarker.line,column:this.lastMarker.column,offset:this.lastMarker.index}};this.delegate(t,n)}return t},e.prototype.expect=function(e){var t=this.nextToken();7===t.type&&t.value===e||this.throwUnexpectedToken(t)},e.prototype.expectCommaSeparator=function(){if(this.config.tolerant){var e=this.lookahead;7===e.type&&","===e.value?this.nextToken():7===e.type&&";"===e.value?(this.nextToken(),this.tolerateUnexpectedToken(e)):this.tolerateUnexpectedToken(e,o.Messages.UnexpectedToken)}else this.expect(",")},e.prototype.expectKeyword=function(e){var t=this.nextToken();4===t.type&&t.value===e||this.throwUnexpectedToken(t)},e.prototype.match=function(e){return 7===this.lookahead.type&&this.lookahead.value===e},e.prototype.matchKeyword=function(e){return 4===this.lookahead.type&&this.lookahead.value===e},e.prototype.matchContextualKeyword=function(e){return 3===this.lookahead.type&&this.lookahead.value===e},e.prototype.matchAssign=function(){if(7!==this.lookahead.type)return!1;var e=this.lookahead.value;return"="===e||"*="===e||"**="===e||"/="===e||"%="===e||"+="===e||"-="===e||"<<="===e||">>="===e||">>>="===e||"&="===e||"^="===e||"|="===e},e.prototype.isolateCoverGrammar=function(e){var t=this.context.isBindingElement,n=this.context.isAssignmentTarget,r=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var i=e.call(this);return null!==this.context.firstCoverInitializedNameError&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError),this.context.isBindingElement=t,this.context.isAssignmentTarget=n,this.context.firstCoverInitializedNameError=r,i},e.prototype.inheritCoverGrammar=function(e){var t=this.context.isBindingElement,n=this.context.isAssignmentTarget,r=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var i=e.call(this);return this.context.isBindingElement=this.context.isBindingElement&&t,this.context.isAssignmentTarget=this.context.isAssignmentTarget&&n,this.context.firstCoverInitializedNameError=r||this.context.firstCoverInitializedNameError,i},e.prototype.consumeSemicolon=function(){this.match(";")?this.nextToken():this.hasLineTerminator||(2===this.lookahead.type||this.match("}")||this.throwUnexpectedToken(this.lookahead),this.lastMarker.index=this.startMarker.index,this.lastMarker.line=this.startMarker.line,this.lastMarker.column=this.startMarker.column)},e.prototype.parsePrimaryExpression=function(){var e,t,n,r=this.createNode();switch(this.lookahead.type){case 3:(this.context.isModule||this.context.await)&&"await"===this.lookahead.value&&this.tolerateUnexpectedToken(this.lookahead),e=this.matchAsyncFunction()?this.parseFunctionExpression():this.finalize(r,new s.Identifier(this.nextToken().value));break;case 6:case 8:this.context.strict&&this.lookahead.octal&&this.tolerateUnexpectedToken(this.lookahead,o.Messages.StrictOctalLiteral),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,t=this.nextToken(),n=this.getTokenRaw(t),e=this.finalize(r,new s.Literal(t.value,n));break;case 1:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,t=this.nextToken(),n=this.getTokenRaw(t),e=this.finalize(r,new s.Literal("true"===t.value,n));break;case 5:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,t=this.nextToken(),n=this.getTokenRaw(t),e=this.finalize(r,new s.Literal(null,n));break;case 10:e=this.parseTemplateLiteral();break;case 7:switch(this.lookahead.value){case"(":this.context.isBindingElement=!1,e=this.inheritCoverGrammar(this.parseGroupExpression);break;case"[":e=this.inheritCoverGrammar(this.parseArrayInitializer);break;case"{":e=this.inheritCoverGrammar(this.parseObjectInitializer);break;case"/":case"/=":this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.scanner.index=this.startMarker.index,t=this.nextRegexToken(),n=this.getTokenRaw(t),e=this.finalize(r,new s.RegexLiteral(t.regex,n,t.pattern,t.flags));break;default:e=this.throwUnexpectedToken(this.nextToken())}break;case 4:!this.context.strict&&this.context.allowYield&&this.matchKeyword("yield")?e=this.parseIdentifierName():!this.context.strict&&this.matchKeyword("let")?e=this.finalize(r,new s.Identifier(this.nextToken().value)):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.matchKeyword("function")?e=this.parseFunctionExpression():this.matchKeyword("this")?(this.nextToken(),e=this.finalize(r,new s.ThisExpression)):e=this.matchKeyword("class")?this.parseClassExpression():this.throwUnexpectedToken(this.nextToken()));break;default:e=this.throwUnexpectedToken(this.nextToken())}return e},e.prototype.parseSpreadElement=function(){var e=this.createNode();this.expect("...");var t=this.inheritCoverGrammar(this.parseAssignmentExpression);return this.finalize(e,new s.SpreadElement(t))},e.prototype.parseArrayInitializer=function(){var e=this.createNode(),t=[];for(this.expect("[");!this.match("]");)if(this.match(","))this.nextToken(),t.push(null);else if(this.match("...")){var n=this.parseSpreadElement();this.match("]")||(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.expect(",")),t.push(n)}else t.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.match("]")||this.expect(",");return this.expect("]"),this.finalize(e,new s.ArrayExpression(t))},e.prototype.parsePropertyMethod=function(e){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var t=this.context.strict,n=this.context.allowStrictDirective;this.context.allowStrictDirective=e.simple;var r=this.isolateCoverGrammar(this.parseFunctionSourceElements);return this.context.strict&&e.firstRestricted&&this.tolerateUnexpectedToken(e.firstRestricted,e.message),this.context.strict&&e.stricted&&this.tolerateUnexpectedToken(e.stricted,e.message),this.context.strict=t,this.context.allowStrictDirective=n,r},e.prototype.parsePropertyMethodFunction=function(){var e=this.createNode(),t=this.context.allowYield;this.context.allowYield=!1;var n=this.parseFormalParameters(),r=this.parsePropertyMethod(n);return this.context.allowYield=t,this.finalize(e,new s.FunctionExpression(null,n.params,r,!1))},e.prototype.parsePropertyMethodAsyncFunction=function(){var e=this.createNode(),t=this.context.allowYield,n=this.context.await;this.context.allowYield=!1,this.context.await=!0;var r=this.parseFormalParameters(),i=this.parsePropertyMethod(r);return this.context.allowYield=t,this.context.await=n,this.finalize(e,new s.AsyncFunctionExpression(null,r.params,i))},e.prototype.parseObjectPropertyKey=function(){var e,t=this.createNode(),n=this.nextToken();switch(n.type){case 8:case 6:this.context.strict&&n.octal&&this.tolerateUnexpectedToken(n,o.Messages.StrictOctalLiteral);var r=this.getTokenRaw(n);e=this.finalize(t,new s.Literal(n.value,r));break;case 3:case 1:case 5:case 4:e=this.finalize(t,new s.Identifier(n.value));break;case 7:"["===n.value?(e=this.isolateCoverGrammar(this.parseAssignmentExpression),this.expect("]")):e=this.throwUnexpectedToken(n);break;default:e=this.throwUnexpectedToken(n)}return e},e.prototype.isPropertyKey=function(e,t){return e.type===c.Syntax.Identifier&&e.name===t||e.type===c.Syntax.Literal&&e.value===t},e.prototype.parseObjectProperty=function(e){var t,n=this.createNode(),r=this.lookahead,i=null,a=null,c=!1,u=!1,l=!1,f=!1;if(3===r.type){var h=r.value;this.nextToken(),c=this.match("["),f=!(this.hasLineTerminator||"async"!==h||this.match(":")||this.match("(")||this.match("*")),i=f?this.parseObjectPropertyKey():this.finalize(n,new s.Identifier(h))}else this.match("*")?this.nextToken():(c=this.match("["),i=this.parseObjectPropertyKey());var d=this.qualifiedPropertyName(this.lookahead);if(3===r.type&&!f&&"get"===r.value&&d)t="get",c=this.match("["),i=this.parseObjectPropertyKey(),this.context.allowYield=!1,a=this.parseGetterMethod();else if(3===r.type&&!f&&"set"===r.value&&d)t="set",c=this.match("["),i=this.parseObjectPropertyKey(),a=this.parseSetterMethod();else if(7===r.type&&"*"===r.value&&d)t="init",c=this.match("["),i=this.parseObjectPropertyKey(),a=this.parseGeneratorMethod(),u=!0;else if(i||this.throwUnexpectedToken(this.lookahead),t="init",this.match(":")&&!f)!c&&this.isPropertyKey(i,"__proto__")&&(e.value&&this.tolerateError(o.Messages.DuplicateProtoProperty),e.value=!0),this.nextToken(),a=this.inheritCoverGrammar(this.parseAssignmentExpression);else if(this.match("("))a=f?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),u=!0;else if(3===r.type){var h=this.finalize(n,new s.Identifier(r.value));if(this.match("=")){this.context.firstCoverInitializedNameError=this.lookahead,this.nextToken(),l=!0;var p=this.isolateCoverGrammar(this.parseAssignmentExpression);a=this.finalize(n,new s.AssignmentPattern(h,p))}else l=!0,a=h}else this.throwUnexpectedToken(this.nextToken());return this.finalize(n,new s.Property(t,i,c,a,u,l))},e.prototype.parseObjectInitializer=function(){var e=this.createNode();this.expect("{");for(var t=[],n={value:!1};!this.match("}");)t.push(this.parseObjectProperty(n)),this.match("}")||this.expectCommaSeparator();return this.expect("}"),this.finalize(e,new s.ObjectExpression(t))},e.prototype.parseTemplateHead=function(){r.assert(this.lookahead.head,"Template literal must start with a template head");var e=this.createNode(),t=this.nextToken(),n=t.value,i=t.cooked;return this.finalize(e,new s.TemplateElement({raw:n,cooked:i},t.tail))},e.prototype.parseTemplateElement=function(){10!==this.lookahead.type&&this.throwUnexpectedToken();var e=this.createNode(),t=this.nextToken(),n=t.value,r=t.cooked;return this.finalize(e,new s.TemplateElement({raw:n,cooked:r},t.tail))},e.prototype.parseTemplateLiteral=function(){var e=this.createNode(),t=[],n=[],r=this.parseTemplateHead();for(n.push(r);!r.tail;)t.push(this.parseExpression()),r=this.parseTemplateElement(),n.push(r);return this.finalize(e,new s.TemplateLiteral(n,t))},e.prototype.reinterpretExpressionAsPattern=function(e){switch(e.type){case c.Syntax.Identifier:case c.Syntax.MemberExpression:case c.Syntax.RestElement:case c.Syntax.AssignmentPattern:break;case c.Syntax.SpreadElement:e.type=c.Syntax.RestElement,this.reinterpretExpressionAsPattern(e.argument);break;case c.Syntax.ArrayExpression:e.type=c.Syntax.ArrayPattern;for(var t=0;t<e.elements.length;t++)null!==e.elements[t]&&this.reinterpretExpressionAsPattern(e.elements[t]);break;case c.Syntax.ObjectExpression:e.type=c.Syntax.ObjectPattern;for(var t=0;t<e.properties.length;t++)this.reinterpretExpressionAsPattern(e.properties[t].value);break;case c.Syntax.AssignmentExpression:e.type=c.Syntax.AssignmentPattern,delete e.operator,this.reinterpretExpressionAsPattern(e.left)}},e.prototype.parseGroupExpression=function(){var e;if(this.expect("("),this.match(")"))this.nextToken(),this.match("=>")||this.expect("=>"),e={type:"ArrowParameterPlaceHolder",params:[],async:!1};else{var t=this.lookahead,n=[];if(this.match("..."))e=this.parseRestElement(n),this.expect(")"),this.match("=>")||this.expect("=>"),e={type:"ArrowParameterPlaceHolder",params:[e],async:!1};else{var r=!1;if(this.context.isBindingElement=!0,e=this.inheritCoverGrammar(this.parseAssignmentExpression),this.match(",")){var i=[];for(this.context.isAssignmentTarget=!1,i.push(e);2!==this.lookahead.type&&this.match(",");){if(this.nextToken(),this.match(")")){this.nextToken();for(var o=0;o<i.length;o++)this.reinterpretExpressionAsPattern(i[o]);r=!0,e={type:"ArrowParameterPlaceHolder",params:i,async:!1}}else if(this.match("...")){this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),i.push(this.parseRestElement(n)),this.expect(")"),this.match("=>")||this.expect("=>"),this.context.isBindingElement=!1;for(var o=0;o<i.length;o++)this.reinterpretExpressionAsPattern(i[o]);r=!0,e={type:"ArrowParameterPlaceHolder",params:i,async:!1}}else i.push(this.inheritCoverGrammar(this.parseAssignmentExpression));if(r)break}r||(e=this.finalize(this.startNode(t),new s.SequenceExpression(i)))}if(!r){if(this.expect(")"),this.match("=>")&&(e.type===c.Syntax.Identifier&&"yield"===e.name&&(r=!0,e={type:"ArrowParameterPlaceHolder",params:[e],async:!1}),!r)){if(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),e.type===c.Syntax.SequenceExpression)for(var o=0;o<e.expressions.length;o++)this.reinterpretExpressionAsPattern(e.expressions[o]);else this.reinterpretExpressionAsPattern(e);e={type:"ArrowParameterPlaceHolder",params:e.type===c.Syntax.SequenceExpression?e.expressions:[e],async:!1}}this.context.isBindingElement=!1}}}return e},e.prototype.parseArguments=function(){this.expect("(");var e=[];if(!this.match(")"))for(;;){var t=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAssignmentExpression);if(e.push(t),this.match(")"))break;if(this.expectCommaSeparator(),this.match(")"))break}return this.expect(")"),e},e.prototype.isIdentifierName=function(e){return 3===e.type||4===e.type||1===e.type||5===e.type},e.prototype.parseIdentifierName=function(){var e=this.createNode(),t=this.nextToken();return this.isIdentifierName(t)||this.throwUnexpectedToken(t),this.finalize(e,new s.Identifier(t.value))},e.prototype.parseNewExpression=function(){var e=this.createNode(),t=this.parseIdentifierName();r.assert("new"===t.name,"New expression must start with `new`");var n;if(this.match("."))if(this.nextToken(),3===this.lookahead.type&&this.context.inFunctionBody&&"target"===this.lookahead.value){var i=this.parseIdentifierName();n=new s.MetaProperty(t,i)}else this.throwUnexpectedToken(this.lookahead);else{var o=this.isolateCoverGrammar(this.parseLeftHandSideExpression),a=this.match("(")?this.parseArguments():[];n=new s.NewExpression(o,a),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return this.finalize(e,n)},e.prototype.parseAsyncArgument=function(){var e=this.parseAssignmentExpression();return this.context.firstCoverInitializedNameError=null,e},e.prototype.parseAsyncArguments=function(){this.expect("(");var e=[];if(!this.match(")"))for(;;){var t=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAsyncArgument);if(e.push(t),this.match(")"))break;if(this.expectCommaSeparator(),this.match(")"))break}return this.expect(")"),e},e.prototype.parseLeftHandSideExpressionAllowCall=function(){var e=this.lookahead,t=this.matchContextualKeyword("async"),n=this.context.allowIn;this.context.allowIn=!0;var r;for(this.matchKeyword("super")&&this.context.inFunctionBody?(r=this.createNode(),this.nextToken(),r=this.finalize(r,new s.Super),this.match("(")||this.match(".")||this.match("[")||this.throwUnexpectedToken(this.lookahead)):r=this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var i=this.parseIdentifierName();r=this.finalize(this.startNode(e),new s.StaticMemberExpression(r,i))}else if(this.match("(")){var o=t&&e.lineNumber===this.lookahead.lineNumber;this.context.isBindingElement=!1,this.context.isAssignmentTarget=!1;var a=o?this.parseAsyncArguments():this.parseArguments();if(r=this.finalize(this.startNode(e),new s.CallExpression(r,a)),o&&this.match("=>")){for(var c=0;c<a.length;++c)this.reinterpretExpressionAsPattern(a[c]);r={type:"ArrowParameterPlaceHolder",params:a,async:!0}}}else if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var i=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),r=this.finalize(this.startNode(e),new s.ComputedMemberExpression(r,i))}else{if(10!==this.lookahead.type||!this.lookahead.head)break;var u=this.parseTemplateLiteral();r=this.finalize(this.startNode(e),new s.TaggedTemplateExpression(r,u))}return this.context.allowIn=n,r},e.prototype.parseSuper=function(){var e=this.createNode();return this.expectKeyword("super"),this.match("[")||this.match(".")||this.throwUnexpectedToken(this.lookahead),this.finalize(e,new s.Super)},e.prototype.parseLeftHandSideExpression=function(){r.assert(this.context.allowIn,"callee of new expression always allow in keyword.");for(var e=this.startNode(this.lookahead),t=this.matchKeyword("super")&&this.context.inFunctionBody?this.parseSuper():this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var n=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),t=this.finalize(e,new s.ComputedMemberExpression(t,n))}else if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var n=this.parseIdentifierName();t=this.finalize(e,new s.StaticMemberExpression(t,n))}else{if(10!==this.lookahead.type||!this.lookahead.head)break;var i=this.parseTemplateLiteral();t=this.finalize(e,new s.TaggedTemplateExpression(t,i))}return t},e.prototype.parseUpdateExpression=function(){var e,t=this.lookahead;if(this.match("++")||this.match("--")){var n=this.startNode(t),r=this.nextToken();e=this.inheritCoverGrammar(this.parseUnaryExpression),this.context.strict&&e.type===c.Syntax.Identifier&&this.scanner.isRestrictedWord(e.name)&&this.tolerateError(o.Messages.StrictLHSPrefix),this.context.isAssignmentTarget||this.tolerateError(o.Messages.InvalidLHSInAssignment);var i=!0;e=this.finalize(n,new s.UpdateExpression(r.value,e,i)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else if(e=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),!this.hasLineTerminator&&7===this.lookahead.type&&(this.match("++")||this.match("--"))){this.context.strict&&e.type===c.Syntax.Identifier&&this.scanner.isRestrictedWord(e.name)&&this.tolerateError(o.Messages.StrictLHSPostfix),this.context.isAssignmentTarget||this.tolerateError(o.Messages.InvalidLHSInAssignment),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var a=this.nextToken().value,i=!1;e=this.finalize(this.startNode(t),new s.UpdateExpression(a,e,i))}return e},e.prototype.parseAwaitExpression=function(){var e=this.createNode();this.nextToken();var t=this.parseUnaryExpression();return this.finalize(e,new s.AwaitExpression(t))},e.prototype.parseUnaryExpression=function(){var e;if(this.match("+")||this.match("-")||this.match("~")||this.match("!")||this.matchKeyword("delete")||this.matchKeyword("void")||this.matchKeyword("typeof")){var t=this.startNode(this.lookahead),n=this.nextToken();e=this.inheritCoverGrammar(this.parseUnaryExpression),e=this.finalize(t,new s.UnaryExpression(n.value,e)),this.context.strict&&"delete"===e.operator&&e.argument.type===c.Syntax.Identifier&&this.tolerateError(o.Messages.StrictDelete),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else e=this.context.await&&this.matchContextualKeyword("await")?this.parseAwaitExpression():this.parseUpdateExpression();return e},e.prototype.parseExponentiationExpression=function(){var e=this.lookahead,t=this.inheritCoverGrammar(this.parseUnaryExpression);if(t.type!==c.Syntax.UnaryExpression&&this.match("**")){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var n=t,r=this.isolateCoverGrammar(this.parseExponentiationExpression);t=this.finalize(this.startNode(e),new s.BinaryExpression("**",n,r))}return t},e.prototype.binaryPrecedence=function(e){var t=e.value;return 7===e.type?this.operatorPrecedence[t]||0:4===e.type&&("instanceof"===t||this.context.allowIn&&"in"===t)?7:0},e.prototype.parseBinaryExpression=function(){var e=this.lookahead,t=this.inheritCoverGrammar(this.parseExponentiationExpression),n=this.lookahead,r=this.binaryPrecedence(n);if(r>0){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;for(var i=[e,this.lookahead],o=t,a=this.isolateCoverGrammar(this.parseExponentiationExpression),c=[o,n.value,a],u=[r];;){if((r=this.binaryPrecedence(this.lookahead))<=0)break;for(;c.length>2&&r<=u[u.length-1];){a=c.pop();var l=c.pop();u.pop(),o=c.pop(),i.pop();var f=this.startNode(i[i.length-1]);c.push(this.finalize(f,new s.BinaryExpression(l,o,a)))}c.push(this.nextToken().value),u.push(r),i.push(this.lookahead),c.push(this.isolateCoverGrammar(this.parseExponentiationExpression))}var h=c.length-1;for(t=c[h],i.pop();h>1;){var f=this.startNode(i.pop()),l=c[h-1];t=this.finalize(f,new s.BinaryExpression(l,c[h-2],t)),h-=2}}return t},e.prototype.parseConditionalExpression=function(){var e=this.lookahead,t=this.inheritCoverGrammar(this.parseBinaryExpression);if(this.match("?")){this.nextToken();var n=this.context.allowIn;this.context.allowIn=!0;var r=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=n,this.expect(":");var i=this.isolateCoverGrammar(this.parseAssignmentExpression);t=this.finalize(this.startNode(e),new s.ConditionalExpression(t,r,i)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return t},e.prototype.checkPatternParam=function(e,t){switch(t.type){case c.Syntax.Identifier:this.validateParam(e,t,t.name);break;case c.Syntax.RestElement:this.checkPatternParam(e,t.argument);break;case c.Syntax.AssignmentPattern:this.checkPatternParam(e,t.left);break;case c.Syntax.ArrayPattern:for(var n=0;n<t.elements.length;n++)null!==t.elements[n]&&this.checkPatternParam(e,t.elements[n]);break;case c.Syntax.ObjectPattern:for(var n=0;n<t.properties.length;n++)this.checkPatternParam(e,t.properties[n].value)}e.simple=e.simple&&t instanceof s.Identifier},e.prototype.reinterpretAsCoverFormalsList=function(e){var t,n=[e],r=!1;switch(e.type){case c.Syntax.Identifier:break;case"ArrowParameterPlaceHolder":n=e.params,r=e.async;break;default:return null}t={simple:!0,paramSet:{}};for(var i=0;i<n.length;++i){var s=n[i];s.type===c.Syntax.AssignmentPattern?s.right.type===c.Syntax.YieldExpression&&(s.right.argument&&this.throwUnexpectedToken(this.lookahead),s.right.type=c.Syntax.Identifier,s.right.name="yield",delete s.right.argument,delete s.right.delegate):r&&s.type===c.Syntax.Identifier&&"await"===s.name&&this.throwUnexpectedToken(this.lookahead),this.checkPatternParam(t,s),n[i]=s}if(this.context.strict||!this.context.allowYield)for(var i=0;i<n.length;++i){var s=n[i];s.type===c.Syntax.YieldExpression&&this.throwUnexpectedToken(this.lookahead)}if(t.message===o.Messages.StrictParamDupe){var a=this.context.strict?t.stricted:t.firstRestricted;this.throwUnexpectedToken(a,t.message)}return{simple:t.simple,params:n,stricted:t.stricted,firstRestricted:t.firstRestricted,message:t.message}},e.prototype.parseAssignmentExpression=function(){var e;if(!this.context.allowYield&&this.matchKeyword("yield"))e=this.parseYieldExpression();else{var t=this.lookahead,n=t;if(e=this.parseConditionalExpression(),3===n.type&&n.lineNumber===this.lookahead.lineNumber&&"async"===n.value&&(3===this.lookahead.type||this.matchKeyword("yield"))){var r=this.parsePrimaryExpression();this.reinterpretExpressionAsPattern(r),e={type:"ArrowParameterPlaceHolder",params:[r],async:!0}}if("ArrowParameterPlaceHolder"===e.type||this.match("=>")){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var i=e.async,a=this.reinterpretAsCoverFormalsList(e);if(a){this.hasLineTerminator&&this.tolerateUnexpectedToken(this.lookahead),this.context.firstCoverInitializedNameError=null;var u=this.context.strict,l=this.context.allowStrictDirective;this.context.allowStrictDirective=a.simple;var f=this.context.allowYield,h=this.context.await;this.context.allowYield=!0,this.context.await=i;var d=this.startNode(t);this.expect("=>");var p=void 0;if(this.match("{")){var y=this.context.allowIn;this.context.allowIn=!0,p=this.parseFunctionSourceElements(),this.context.allowIn=y}else p=this.isolateCoverGrammar(this.parseAssignmentExpression);var g=p.type!==c.Syntax.BlockStatement;this.context.strict&&a.firstRestricted&&this.throwUnexpectedToken(a.firstRestricted,a.message),this.context.strict&&a.stricted&&this.tolerateUnexpectedToken(a.stricted,a.message),e=i?this.finalize(d,new s.AsyncArrowFunctionExpression(a.params,p,g)):this.finalize(d,new s.ArrowFunctionExpression(a.params,p,g)),this.context.strict=u,this.context.allowStrictDirective=l,this.context.allowYield=f,this.context.await=h}}else if(this.matchAssign()){if(this.context.isAssignmentTarget||this.tolerateError(o.Messages.InvalidLHSInAssignment),this.context.strict&&e.type===c.Syntax.Identifier){var m=e;this.scanner.isRestrictedWord(m.name)&&this.tolerateUnexpectedToken(n,o.Messages.StrictLHSAssignment),this.scanner.isStrictModeReservedWord(m.name)&&this.tolerateUnexpectedToken(n,o.Messages.StrictReservedWord)}this.match("=")?this.reinterpretExpressionAsPattern(e):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1),n=this.nextToken();var v=n.value,b=this.isolateCoverGrammar(this.parseAssignmentExpression);e=this.finalize(this.startNode(t),new s.AssignmentExpression(v,e,b)),this.context.firstCoverInitializedNameError=null}}return e},e.prototype.parseExpression=function(){var e=this.lookahead,t=this.isolateCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){var n=[];for(n.push(t);2!==this.lookahead.type&&this.match(",");)this.nextToken(),n.push(this.isolateCoverGrammar(this.parseAssignmentExpression));t=this.finalize(this.startNode(e),new s.SequenceExpression(n))}return t},e.prototype.parseStatementListItem=function(){var e;if(this.context.isAssignmentTarget=!0,this.context.isBindingElement=!0,4===this.lookahead.type)switch(this.lookahead.value){case"export":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,o.Messages.IllegalExportDeclaration),e=this.parseExportDeclaration();break;case"import":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,o.Messages.IllegalImportDeclaration),e=this.parseImportDeclaration();break;case"const":e=this.parseLexicalDeclaration({inFor:!1});break;case"function":e=this.parseFunctionDeclaration();break;case"class":e=this.parseClassDeclaration();break;case"let":e=this.isLexicalDeclaration()?this.parseLexicalDeclaration({inFor:!1}):this.parseStatement();break;default:e=this.parseStatement()}else e=this.parseStatement();return e},e.prototype.parseBlock=function(){var e=this.createNode();this.expect("{");for(var t=[];;){if(this.match("}"))break;t.push(this.parseStatementListItem())}return this.expect("}"),this.finalize(e,new s.BlockStatement(t))},e.prototype.parseLexicalBinding=function(e,t){var n=this.createNode(),r=[],i=this.parsePattern(r,e);this.context.strict&&i.type===c.Syntax.Identifier&&this.scanner.isRestrictedWord(i.name)&&this.tolerateError(o.Messages.StrictVarName);var a=null;return"const"===e?this.matchKeyword("in")||this.matchContextualKeyword("of")||(this.match("=")?(this.nextToken(),a=this.isolateCoverGrammar(this.parseAssignmentExpression)):this.throwError(o.Messages.DeclarationMissingInitializer,"const")):(!t.inFor&&i.type!==c.Syntax.Identifier||this.match("="))&&(this.expect("="),a=this.isolateCoverGrammar(this.parseAssignmentExpression)),this.finalize(n,new s.VariableDeclarator(i,a))},e.prototype.parseBindingList=function(e,t){for(var n=[this.parseLexicalBinding(e,t)];this.match(",");)this.nextToken(),n.push(this.parseLexicalBinding(e,t));return n},e.prototype.isLexicalDeclaration=function(){var e=this.scanner.saveState();this.scanner.scanComments();var t=this.scanner.lex();return this.scanner.restoreState(e),3===t.type||7===t.type&&"["===t.value||7===t.type&&"{"===t.value||4===t.type&&"let"===t.value||4===t.type&&"yield"===t.value},e.prototype.parseLexicalDeclaration=function(e){var t=this.createNode(),n=this.nextToken().value;r.assert("let"===n||"const"===n,"Lexical declaration must be either let or const");var i=this.parseBindingList(n,e);return this.consumeSemicolon(),this.finalize(t,new s.VariableDeclaration(i,n))},e.prototype.parseBindingRestElement=function(e,t){var n=this.createNode();this.expect("...");var r=this.parsePattern(e,t);return this.finalize(n,new s.RestElement(r))},e.prototype.parseArrayPattern=function(e,t){var n=this.createNode();this.expect("[");for(var r=[];!this.match("]");)if(this.match(","))this.nextToken(),r.push(null);else{if(this.match("...")){r.push(this.parseBindingRestElement(e,t));break}r.push(this.parsePatternWithDefault(e,t)),this.match("]")||this.expect(",")}return this.expect("]"),this.finalize(n,new s.ArrayPattern(r))},e.prototype.parsePropertyPattern=function(e,t){var n,r,i=this.createNode(),o=!1,a=!1;if(3===this.lookahead.type){var c=this.lookahead;n=this.parseVariableIdentifier();var u=this.finalize(i,new s.Identifier(c.value));if(this.match("=")){e.push(c),a=!0,this.nextToken();var l=this.parseAssignmentExpression();r=this.finalize(this.startNode(c),new s.AssignmentPattern(u,l))}else this.match(":")?(this.expect(":"),r=this.parsePatternWithDefault(e,t)):(e.push(c),a=!0,r=u)}else o=this.match("["),n=this.parseObjectPropertyKey(),this.expect(":"),r=this.parsePatternWithDefault(e,t);return this.finalize(i,new s.Property("init",n,o,r,!1,a))},e.prototype.parseObjectPattern=function(e,t){var n=this.createNode(),r=[];for(this.expect("{");!this.match("}");)r.push(this.parsePropertyPattern(e,t)),this.match("}")||this.expect(",");return this.expect("}"),this.finalize(n,new s.ObjectPattern(r))},e.prototype.parsePattern=function(e,t){var n;return this.match("[")?n=this.parseArrayPattern(e,t):this.match("{")?n=this.parseObjectPattern(e,t):(!this.matchKeyword("let")||"const"!==t&&"let"!==t||this.tolerateUnexpectedToken(this.lookahead,o.Messages.LetInLexicalBinding),e.push(this.lookahead),n=this.parseVariableIdentifier(t)),n},e.prototype.parsePatternWithDefault=function(e,t){var n=this.lookahead,r=this.parsePattern(e,t);if(this.match("=")){this.nextToken();var i=this.context.allowYield;this.context.allowYield=!0;var o=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowYield=i,r=this.finalize(this.startNode(n),new s.AssignmentPattern(r,o))}return r},e.prototype.parseVariableIdentifier=function(e){var t=this.createNode(),n=this.nextToken();return 4===n.type&&"yield"===n.value?this.context.strict?this.tolerateUnexpectedToken(n,o.Messages.StrictReservedWord):this.context.allowYield||this.throwUnexpectedToken(n):3!==n.type?this.context.strict&&4===n.type&&this.scanner.isStrictModeReservedWord(n.value)?this.tolerateUnexpectedToken(n,o.Messages.StrictReservedWord):(this.context.strict||"let"!==n.value||"var"!==e)&&this.throwUnexpectedToken(n):(this.context.isModule||this.context.await)&&3===n.type&&"await"===n.value&&this.tolerateUnexpectedToken(n),this.finalize(t,new s.Identifier(n.value))},e.prototype.parseVariableDeclaration=function(e){var t=this.createNode(),n=[],r=this.parsePattern(n,"var");this.context.strict&&r.type===c.Syntax.Identifier&&this.scanner.isRestrictedWord(r.name)&&this.tolerateError(o.Messages.StrictVarName);var i=null;return this.match("=")?(this.nextToken(),i=this.isolateCoverGrammar(this.parseAssignmentExpression)):r.type===c.Syntax.Identifier||e.inFor||this.expect("="),this.finalize(t,new s.VariableDeclarator(r,i))},e.prototype.parseVariableDeclarationList=function(e){var t={inFor:e.inFor},n=[];for(n.push(this.parseVariableDeclaration(t));this.match(",");)this.nextToken(),n.push(this.parseVariableDeclaration(t));return n},e.prototype.parseVariableStatement=function(){var e=this.createNode();this.expectKeyword("var");var t=this.parseVariableDeclarationList({inFor:!1});return this.consumeSemicolon(),this.finalize(e,new s.VariableDeclaration(t,"var"))},e.prototype.parseEmptyStatement=function(){var e=this.createNode();return this.expect(";"),this.finalize(e,new s.EmptyStatement)},e.prototype.parseExpressionStatement=function(){var e=this.createNode(),t=this.parseExpression();return this.consumeSemicolon(),this.finalize(e,new s.ExpressionStatement(t))},e.prototype.parseIfClause=function(){return this.context.strict&&this.matchKeyword("function")&&this.tolerateError(o.Messages.StrictFunction),this.parseStatement()},e.prototype.parseIfStatement=function(){var e,t=this.createNode(),n=null;this.expectKeyword("if"),this.expect("(");var r=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),e=this.finalize(this.createNode(),new s.EmptyStatement)):(this.expect(")"),e=this.parseIfClause(),this.matchKeyword("else")&&(this.nextToken(),n=this.parseIfClause())),this.finalize(t,new s.IfStatement(r,e,n))},e.prototype.parseDoWhileStatement=function(){var e=this.createNode();this.expectKeyword("do");var t=this.context.inIteration;this.context.inIteration=!0;var n=this.parseStatement();this.context.inIteration=t,this.expectKeyword("while"),this.expect("(");var r=this.parseExpression();return!this.match(")")&&this.config.tolerant?this.tolerateUnexpectedToken(this.nextToken()):(this.expect(")"),this.match(";")&&this.nextToken()),this.finalize(e,new s.DoWhileStatement(n,r))},e.prototype.parseWhileStatement=function(){var e,t=this.createNode();this.expectKeyword("while"),this.expect("(");var n=this.parseExpression();if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),e=this.finalize(this.createNode(),new s.EmptyStatement);else{this.expect(")");var r=this.context.inIteration;this.context.inIteration=!0,e=this.parseStatement(),this.context.inIteration=r}return this.finalize(t,new s.WhileStatement(n,e))},e.prototype.parseForStatement=function(){var e,t,n=null,r=null,i=null,a=!0,u=this.createNode();if(this.expectKeyword("for"),this.expect("("),this.match(";"))this.nextToken();else if(this.matchKeyword("var")){n=this.createNode(),this.nextToken();var l=this.context.allowIn;this.context.allowIn=!1;var f=this.parseVariableDeclarationList({inFor:!0});if(this.context.allowIn=l,1===f.length&&this.matchKeyword("in")){var h=f[0];h.init&&(h.id.type===c.Syntax.ArrayPattern||h.id.type===c.Syntax.ObjectPattern||this.context.strict)&&this.tolerateError(o.Messages.ForInOfLoopInitializer,"for-in"),n=this.finalize(n,new s.VariableDeclaration(f,"var")),this.nextToken(),e=n,t=this.parseExpression(),n=null}else 1===f.length&&null===f[0].init&&this.matchContextualKeyword("of")?(n=this.finalize(n,new s.VariableDeclaration(f,"var")),this.nextToken(),e=n,t=this.parseAssignmentExpression(),n=null,a=!1):(n=this.finalize(n,new s.VariableDeclaration(f,"var")),this.expect(";"))}else if(this.matchKeyword("const")||this.matchKeyword("let")){n=this.createNode();var d=this.nextToken().value;if(this.context.strict||"in"!==this.lookahead.value){var l=this.context.allowIn;this.context.allowIn=!1;var f=this.parseBindingList(d,{inFor:!0});this.context.allowIn=l,1===f.length&&null===f[0].init&&this.matchKeyword("in")?(n=this.finalize(n,new s.VariableDeclaration(f,d)),this.nextToken(),e=n,t=this.parseExpression(),n=null):1===f.length&&null===f[0].init&&this.matchContextualKeyword("of")?(n=this.finalize(n,new s.VariableDeclaration(f,d)),this.nextToken(),e=n,t=this.parseAssignmentExpression(),n=null,a=!1):(this.consumeSemicolon(),n=this.finalize(n,new s.VariableDeclaration(f,d)))}else n=this.finalize(n,new s.Identifier(d)),this.nextToken(),e=n,t=this.parseExpression(),n=null}else{var p=this.lookahead,l=this.context.allowIn;if(this.context.allowIn=!1,n=this.inheritCoverGrammar(this.parseAssignmentExpression),this.context.allowIn=l,this.matchKeyword("in"))this.context.isAssignmentTarget&&n.type!==c.Syntax.AssignmentExpression||this.tolerateError(o.Messages.InvalidLHSInForIn),this.nextToken(),this.reinterpretExpressionAsPattern(n),e=n,t=this.parseExpression(),n=null;else if(this.matchContextualKeyword("of"))this.context.isAssignmentTarget&&n.type!==c.Syntax.AssignmentExpression||this.tolerateError(o.Messages.InvalidLHSInForLoop),this.nextToken(),this.reinterpretExpressionAsPattern(n),e=n,t=this.parseAssignmentExpression(),n=null,a=!1;else{if(this.match(",")){for(var y=[n];this.match(",");)this.nextToken(),y.push(this.isolateCoverGrammar(this.parseAssignmentExpression));n=this.finalize(this.startNode(p),new s.SequenceExpression(y))}this.expect(";")}}void 0===e&&(this.match(";")||(r=this.parseExpression()),this.expect(";"),this.match(")")||(i=this.parseExpression()));var g;if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),g=this.finalize(this.createNode(),new s.EmptyStatement);else{this.expect(")");var m=this.context.inIteration;this.context.inIteration=!0,g=this.isolateCoverGrammar(this.parseStatement),this.context.inIteration=m}return void 0===e?this.finalize(u,new s.ForStatement(n,r,i,g)):a?this.finalize(u,new s.ForInStatement(e,t,g)):this.finalize(u,new s.ForOfStatement(e,t,g))},e.prototype.parseContinueStatement=function(){var e=this.createNode();this.expectKeyword("continue");var t=null;if(3===this.lookahead.type&&!this.hasLineTerminator){var n=this.parseVariableIdentifier();t=n;var r="$"+n.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,r)||this.throwError(o.Messages.UnknownLabel,n.name)}return this.consumeSemicolon(),null!==t||this.context.inIteration||this.throwError(o.Messages.IllegalContinue),this.finalize(e,new s.ContinueStatement(t))},e.prototype.parseBreakStatement=function(){var e=this.createNode();this.expectKeyword("break");var t=null;if(3===this.lookahead.type&&!this.hasLineTerminator){var n=this.parseVariableIdentifier(),r="$"+n.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,r)||this.throwError(o.Messages.UnknownLabel,n.name),t=n}return this.consumeSemicolon(),null!==t||this.context.inIteration||this.context.inSwitch||this.throwError(o.Messages.IllegalBreak),this.finalize(e,new s.BreakStatement(t))},e.prototype.parseReturnStatement=function(){this.context.inFunctionBody||this.tolerateError(o.Messages.IllegalReturn);var e=this.createNode();this.expectKeyword("return");var t=!this.match(";")&&!this.match("}")&&!this.hasLineTerminator&&2!==this.lookahead.type,n=t?this.parseExpression():null;return this.consumeSemicolon(),this.finalize(e,new s.ReturnStatement(n))},e.prototype.parseWithStatement=function(){this.context.strict&&this.tolerateError(o.Messages.StrictModeWith);var e,t=this.createNode();this.expectKeyword("with"),this.expect("(");var n=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),e=this.finalize(this.createNode(),new s.EmptyStatement)):(this.expect(")"),e=this.parseStatement()),this.finalize(t,new s.WithStatement(n,e))},e.prototype.parseSwitchCase=function(){var e,t=this.createNode();this.matchKeyword("default")?(this.nextToken(),e=null):(this.expectKeyword("case"),e=this.parseExpression()),this.expect(":");for(var n=[];;){if(this.match("}")||this.matchKeyword("default")||this.matchKeyword("case"))break;n.push(this.parseStatementListItem())}return this.finalize(t,new s.SwitchCase(e,n))},e.prototype.parseSwitchStatement=function(){var e=this.createNode();this.expectKeyword("switch"),this.expect("(");var t=this.parseExpression();this.expect(")");var n=this.context.inSwitch;this.context.inSwitch=!0;var r=[],i=!1;for(this.expect("{");;){if(this.match("}"))break;var a=this.parseSwitchCase();null===a.test&&(i&&this.throwError(o.Messages.MultipleDefaultsInSwitch),i=!0),r.push(a)}return this.expect("}"),this.context.inSwitch=n,this.finalize(e,new s.SwitchStatement(t,r))},e.prototype.parseLabelledStatement=function(){var e,t=this.createNode(),n=this.parseExpression();if(n.type===c.Syntax.Identifier&&this.match(":")){this.nextToken();var r=n,i="$"+r.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,i)&&this.throwError(o.Messages.Redeclaration,"Label",r.name),this.context.labelSet[i]=!0;var a=void 0;if(this.matchKeyword("class"))this.tolerateUnexpectedToken(this.lookahead),a=this.parseClassDeclaration();else if(this.matchKeyword("function")){var u=this.lookahead,l=this.parseFunctionDeclaration();this.context.strict?this.tolerateUnexpectedToken(u,o.Messages.StrictFunction):l.generator&&this.tolerateUnexpectedToken(u,o.Messages.GeneratorInLegacyContext),a=l}else a=this.parseStatement();delete this.context.labelSet[i],e=new s.LabeledStatement(r,a)}else this.consumeSemicolon(),e=new s.ExpressionStatement(n);return this.finalize(t,e)},e.prototype.parseThrowStatement=function(){var e=this.createNode();this.expectKeyword("throw"),this.hasLineTerminator&&this.throwError(o.Messages.NewlineAfterThrow);var t=this.parseExpression();return this.consumeSemicolon(),this.finalize(e,new s.ThrowStatement(t))},e.prototype.parseCatchClause=function(){var e=this.createNode();this.expectKeyword("catch"),this.expect("("),this.match(")")&&this.throwUnexpectedToken(this.lookahead);for(var t=[],n=this.parsePattern(t),r={},i=0;i<t.length;i++){var a="$"+t[i].value;Object.prototype.hasOwnProperty.call(r,a)&&this.tolerateError(o.Messages.DuplicateBinding,t[i].value),r[a]=!0}this.context.strict&&n.type===c.Syntax.Identifier&&this.scanner.isRestrictedWord(n.name)&&this.tolerateError(o.Messages.StrictCatchVariable),this.expect(")");var u=this.parseBlock();return this.finalize(e,new s.CatchClause(n,u))},e.prototype.parseFinallyClause=function(){return this.expectKeyword("finally"),this.parseBlock()},e.prototype.parseTryStatement=function(){var e=this.createNode();this.expectKeyword("try");var t=this.parseBlock(),n=this.matchKeyword("catch")?this.parseCatchClause():null,r=this.matchKeyword("finally")?this.parseFinallyClause():null;return n||r||this.throwError(o.Messages.NoCatchOrFinally),this.finalize(e,new s.TryStatement(t,n,r))},e.prototype.parseDebuggerStatement=function(){var e=this.createNode();return this.expectKeyword("debugger"),this.consumeSemicolon(),this.finalize(e,new s.DebuggerStatement)},e.prototype.parseStatement=function(){var e;switch(this.lookahead.type){case 1:case 5:case 6:case 8:case 10:case 9:e=this.parseExpressionStatement();break;case 7:var t=this.lookahead.value;e="{"===t?this.parseBlock():"("===t?this.parseExpressionStatement():";"===t?this.parseEmptyStatement():this.parseExpressionStatement();break;case 3:e=this.matchAsyncFunction()?this.parseFunctionDeclaration():this.parseLabelledStatement();break;case 4:switch(this.lookahead.value){case"break":e=this.parseBreakStatement();break;case"continue":e=this.parseContinueStatement();break;case"debugger":e=this.parseDebuggerStatement();break;case"do":e=this.parseDoWhileStatement();break;case"for":e=this.parseForStatement();break;case"function":e=this.parseFunctionDeclaration();break;case"if":e=this.parseIfStatement();break;case"return":e=this.parseReturnStatement();break;case"switch":e=this.parseSwitchStatement();break;case"throw":e=this.parseThrowStatement();break;case"try":e=this.parseTryStatement();break;case"var":e=this.parseVariableStatement();break;case"while":e=this.parseWhileStatement();break;case"with":e=this.parseWithStatement();break;default:e=this.parseExpressionStatement()}break;default:e=this.throwUnexpectedToken(this.lookahead)}return e},e.prototype.parseFunctionSourceElements=function(){var e=this.createNode();this.expect("{");var t=this.parseDirectivePrologues(),n=this.context.labelSet,r=this.context.inIteration,i=this.context.inSwitch,o=this.context.inFunctionBody;for(this.context.labelSet={},this.context.inIteration=!1,this.context.inSwitch=!1,this.context.inFunctionBody=!0;2!==this.lookahead.type&&!this.match("}");)t.push(this.parseStatementListItem());return this.expect("}"),this.context.labelSet=n,this.context.inIteration=r,this.context.inSwitch=i,this.context.inFunctionBody=o,this.finalize(e,new s.BlockStatement(t))},e.prototype.validateParam=function(e,t,n){var r="$"+n;this.context.strict?(this.scanner.isRestrictedWord(n)&&(e.stricted=t,e.message=o.Messages.StrictParamName),Object.prototype.hasOwnProperty.call(e.paramSet,r)&&(e.stricted=t,e.message=o.Messages.StrictParamDupe)):e.firstRestricted||(this.scanner.isRestrictedWord(n)?(e.firstRestricted=t,e.message=o.Messages.StrictParamName):this.scanner.isStrictModeReservedWord(n)?(e.firstRestricted=t,e.message=o.Messages.StrictReservedWord):Object.prototype.hasOwnProperty.call(e.paramSet,r)&&(e.stricted=t,e.message=o.Messages.StrictParamDupe)),"function"==typeof Object.defineProperty?Object.defineProperty(e.paramSet,r,{value:!0,enumerable:!0,writable:!0,configurable:!0}):e.paramSet[r]=!0},e.prototype.parseRestElement=function(e){var t=this.createNode();this.expect("...");var n=this.parsePattern(e);return this.match("=")&&this.throwError(o.Messages.DefaultRestParameter),this.match(")")||this.throwError(o.Messages.ParameterAfterRestParameter),this.finalize(t,new s.RestElement(n))},e.prototype.parseFormalParameter=function(e){for(var t=[],n=this.match("...")?this.parseRestElement(t):this.parsePatternWithDefault(t),r=0;r<t.length;r++)this.validateParam(e,t[r],t[r].value);e.simple=e.simple&&n instanceof s.Identifier,e.params.push(n)},e.prototype.parseFormalParameters=function(e){var t;if(t={simple:!0,params:[],firstRestricted:e},this.expect("("),!this.match(")"))for(t.paramSet={};2!==this.lookahead.type&&(this.parseFormalParameter(t),!this.match(")"))&&(this.expect(","),!this.match(")")););return this.expect(")"),{simple:t.simple,params:t.params,stricted:t.stricted,firstRestricted:t.firstRestricted,message:t.message}},e.prototype.matchAsyncFunction=function(){var e=this.matchContextualKeyword("async");if(e){var t=this.scanner.saveState();this.scanner.scanComments();var n=this.scanner.lex();this.scanner.restoreState(t),e=t.lineNumber===n.lineNumber&&4===n.type&&"function"===n.value}return e},e.prototype.parseFunctionDeclaration=function(e){var t=this.createNode(),n=this.matchContextualKeyword("async");n&&this.nextToken(),this.expectKeyword("function");var r=!n&&this.match("*");r&&this.nextToken();var i,a=null,c=null;if(!e||!this.match("(")){var u=this.lookahead;a=this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(u.value)&&this.tolerateUnexpectedToken(u,o.Messages.StrictFunctionName):this.scanner.isRestrictedWord(u.value)?(c=u,i=o.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(u.value)&&(c=u,i=o.Messages.StrictReservedWord)}var l=this.context.await,f=this.context.allowYield;this.context.await=n,this.context.allowYield=!r;var h=this.parseFormalParameters(c),d=h.params,p=h.stricted;c=h.firstRestricted,h.message&&(i=h.message);var y=this.context.strict,g=this.context.allowStrictDirective;this.context.allowStrictDirective=h.simple;var m=this.parseFunctionSourceElements();return this.context.strict&&c&&this.throwUnexpectedToken(c,i),this.context.strict&&p&&this.tolerateUnexpectedToken(p,i),this.context.strict=y,this.context.allowStrictDirective=g,this.context.await=l,this.context.allowYield=f,n?this.finalize(t,new s.AsyncFunctionDeclaration(a,d,m)):this.finalize(t,new s.FunctionDeclaration(a,d,m,r))},e.prototype.parseFunctionExpression=function(){var e=this.createNode(),t=this.matchContextualKeyword("async");t&&this.nextToken(),this.expectKeyword("function");var n=!t&&this.match("*");n&&this.nextToken();var r,i,a=null,c=this.context.await,u=this.context.allowYield;if(this.context.await=t,this.context.allowYield=!n,!this.match("(")){var l=this.lookahead;a=this.context.strict||n||!this.matchKeyword("yield")?this.parseVariableIdentifier():this.parseIdentifierName(),this.context.strict?this.scanner.isRestrictedWord(l.value)&&this.tolerateUnexpectedToken(l,o.Messages.StrictFunctionName):this.scanner.isRestrictedWord(l.value)?(i=l,r=o.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(l.value)&&(i=l,r=o.Messages.StrictReservedWord)}var f=this.parseFormalParameters(i),h=f.params,d=f.stricted;i=f.firstRestricted,f.message&&(r=f.message);var p=this.context.strict,y=this.context.allowStrictDirective;this.context.allowStrictDirective=f.simple;var g=this.parseFunctionSourceElements();return this.context.strict&&i&&this.throwUnexpectedToken(i,r),this.context.strict&&d&&this.tolerateUnexpectedToken(d,r),this.context.strict=p,this.context.allowStrictDirective=y,this.context.await=c,this.context.allowYield=u,t?this.finalize(e,new s.AsyncFunctionExpression(a,h,g)):this.finalize(e,new s.FunctionExpression(a,h,g,n))},e.prototype.parseDirective=function(){var e=this.lookahead,t=this.createNode(),n=this.parseExpression(),r=n.type===c.Syntax.Literal?this.getTokenRaw(e).slice(1,-1):null;return this.consumeSemicolon(),this.finalize(t,r?new s.Directive(n,r):new s.ExpressionStatement(n))},e.prototype.parseDirectivePrologues=function(){for(var e=null,t=[];;){var n=this.lookahead;if(8!==n.type)break;var r=this.parseDirective();t.push(r);var i=r.directive;if("string"!=typeof i)break;"use strict"===i?(this.context.strict=!0,e&&this.tolerateUnexpectedToken(e,o.Messages.StrictOctalLiteral),this.context.allowStrictDirective||this.tolerateUnexpectedToken(n,o.Messages.IllegalLanguageModeDirective)):!e&&n.octal&&(e=n)}return t},e.prototype.qualifiedPropertyName=function(e){switch(e.type){case 3:case 8:case 1:case 5:case 6:case 4:return!0;case 7:return"["===e.value}return!1},e.prototype.parseGetterMethod=function(){var e=this.createNode(),t=this.context.allowYield;this.context.allowYield=!1;var n=this.parseFormalParameters();n.params.length>0&&this.tolerateError(o.Messages.BadGetterArity);var r=this.parsePropertyMethod(n);return this.context.allowYield=t,this.finalize(e,new s.FunctionExpression(null,n.params,r,!1))},e.prototype.parseSetterMethod=function(){var e=this.createNode(),t=this.context.allowYield;this.context.allowYield=!1;var n=this.parseFormalParameters();1!==n.params.length?this.tolerateError(o.Messages.BadSetterArity):n.params[0]instanceof s.RestElement&&this.tolerateError(o.Messages.BadSetterRestParameter);var r=this.parsePropertyMethod(n);return this.context.allowYield=t,this.finalize(e,new s.FunctionExpression(null,n.params,r,!1))},e.prototype.parseGeneratorMethod=function(){var e=this.createNode(),t=this.context.allowYield;this.context.allowYield=!0;var n=this.parseFormalParameters();this.context.allowYield=!1;var r=this.parsePropertyMethod(n);return this.context.allowYield=t,this.finalize(e,new s.FunctionExpression(null,n.params,r,!0))},e.prototype.isStartOfExpression=function(){var e=!0,t=this.lookahead.value;switch(this.lookahead.type){case 7:e="["===t||"("===t||"{"===t||"+"===t||"-"===t||"!"===t||"~"===t||"++"===t||"--"===t||"/"===t||"/="===t;break;case 4:e="class"===t||"delete"===t||"function"===t||"let"===t||"new"===t||"super"===t||"this"===t||"typeof"===t||"void"===t||"yield"===t}return e},e.prototype.parseYieldExpression=function(){var e=this.createNode();this.expectKeyword("yield");var t=null,n=!1;if(!this.hasLineTerminator){var r=this.context.allowYield;this.context.allowYield=!1,n=this.match("*"),n?(this.nextToken(),t=this.parseAssignmentExpression()):this.isStartOfExpression()&&(t=this.parseAssignmentExpression()),this.context.allowYield=r}return this.finalize(e,new s.YieldExpression(t,n))},e.prototype.parseClassElement=function(e){var t=this.lookahead,n=this.createNode(),r="",i=null,a=null,c=!1,u=!1,l=!1,f=!1;if(this.match("*"))this.nextToken();else{c=this.match("["),i=this.parseObjectPropertyKey();if("static"===i.name&&(this.qualifiedPropertyName(this.lookahead)||this.match("*"))&&(t=this.lookahead,l=!0,c=this.match("["),this.match("*")?this.nextToken():i=this.parseObjectPropertyKey()),3===t.type&&!this.hasLineTerminator&&"async"===t.value){var h=this.lookahead.value;":"!==h&&"("!==h&&"*"!==h&&(f=!0,t=this.lookahead,i=this.parseObjectPropertyKey(),3===t.type&&("get"===t.value||"set"===t.value?this.tolerateUnexpectedToken(t):"constructor"===t.value&&this.tolerateUnexpectedToken(t,o.Messages.ConstructorIsAsync)))}}var d=this.qualifiedPropertyName(this.lookahead);return 3===t.type?"get"===t.value&&d?(r="get",c=this.match("["),i=this.parseObjectPropertyKey(),this.context.allowYield=!1,a=this.parseGetterMethod()):"set"===t.value&&d&&(r="set",c=this.match("["),i=this.parseObjectPropertyKey(),a=this.parseSetterMethod()):7===t.type&&"*"===t.value&&d&&(r="init",c=this.match("["),i=this.parseObjectPropertyKey(),a=this.parseGeneratorMethod(),u=!0),!r&&i&&this.match("(")&&(r="init",a=f?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),u=!0),r||this.throwUnexpectedToken(this.lookahead),"init"===r&&(r="method"),c||(l&&this.isPropertyKey(i,"prototype")&&this.throwUnexpectedToken(t,o.Messages.StaticPrototype),!l&&this.isPropertyKey(i,"constructor")&&(("method"!==r||!u||a&&a.generator)&&this.throwUnexpectedToken(t,o.Messages.ConstructorSpecialMethod),e.value?this.throwUnexpectedToken(t,o.Messages.DuplicateConstructor):e.value=!0,r="constructor")),this.finalize(n,new s.MethodDefinition(i,c,a,r,l))},e.prototype.parseClassElementList=function(){var e=[],t={value:!1};for(this.expect("{");!this.match("}");)this.match(";")?this.nextToken():e.push(this.parseClassElement(t));return this.expect("}"),e},e.prototype.parseClassBody=function(){var e=this.createNode(),t=this.parseClassElementList();return this.finalize(e,new s.ClassBody(t))},e.prototype.parseClassDeclaration=function(e){var t=this.createNode(),n=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var r=e&&3!==this.lookahead.type?null:this.parseVariableIdentifier(),i=null;this.matchKeyword("extends")&&(this.nextToken(),i=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var o=this.parseClassBody();return this.context.strict=n,this.finalize(t,new s.ClassDeclaration(r,i,o))},e.prototype.parseClassExpression=function(){var e=this.createNode(),t=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var n=3===this.lookahead.type?this.parseVariableIdentifier():null,r=null;this.matchKeyword("extends")&&(this.nextToken(),r=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var i=this.parseClassBody();return this.context.strict=t,this.finalize(e,new s.ClassExpression(n,r,i))},e.prototype.parseModule=function(){this.context.strict=!0,this.context.isModule=!0;for(var e=this.createNode(),t=this.parseDirectivePrologues();2!==this.lookahead.type;)t.push(this.parseStatementListItem());return this.finalize(e,new s.Module(t))},e.prototype.parseScript=function(){for(var e=this.createNode(),t=this.parseDirectivePrologues();2!==this.lookahead.type;)t.push(this.parseStatementListItem());return this.finalize(e,new s.Script(t))},e.prototype.parseModuleSpecifier=function(){var e=this.createNode();8!==this.lookahead.type&&this.throwError(o.Messages.InvalidModuleSpecifier);var t=this.nextToken(),n=this.getTokenRaw(t);return this.finalize(e,new s.Literal(t.value,n))},e.prototype.parseImportSpecifier=function(){var e,t,n=this.createNode();return 3===this.lookahead.type?(e=this.parseVariableIdentifier(),t=e,this.matchContextualKeyword("as")&&(this.nextToken(),t=this.parseVariableIdentifier())):(e=this.parseIdentifierName(),t=e,this.matchContextualKeyword("as")?(this.nextToken(),t=this.parseVariableIdentifier()):this.throwUnexpectedToken(this.nextToken())),this.finalize(n,new s.ImportSpecifier(t,e))},e.prototype.parseNamedImports=function(){this.expect("{");for(var e=[];!this.match("}");)e.push(this.parseImportSpecifier()),this.match("}")||this.expect(",");return this.expect("}"),e},e.prototype.parseImportDefaultSpecifier=function(){var e=this.createNode(),t=this.parseIdentifierName();return this.finalize(e,new s.ImportDefaultSpecifier(t))},e.prototype.parseImportNamespaceSpecifier=function(){var e=this.createNode();this.expect("*"),this.matchContextualKeyword("as")||this.throwError(o.Messages.NoAsAfterImportNamespace),this.nextToken();var t=this.parseIdentifierName();return this.finalize(e,new s.ImportNamespaceSpecifier(t))},e.prototype.parseImportDeclaration=function(){this.context.inFunctionBody&&this.throwError(o.Messages.IllegalImportDeclaration);var e=this.createNode();this.expectKeyword("import");var t,n=[];if(8===this.lookahead.type)t=this.parseModuleSpecifier();else{if(this.match("{")?n=n.concat(this.parseNamedImports()):this.match("*")?n.push(this.parseImportNamespaceSpecifier()):this.isIdentifierName(this.lookahead)&&!this.matchKeyword("default")?(n.push(this.parseImportDefaultSpecifier()),this.match(",")&&(this.nextToken(),this.match("*")?n.push(this.parseImportNamespaceSpecifier()):this.match("{")?n=n.concat(this.parseNamedImports()):this.throwUnexpectedToken(this.lookahead))):this.throwUnexpectedToken(this.nextToken()),!this.matchContextualKeyword("from")){var r=this.lookahead.value?o.Messages.UnexpectedToken:o.Messages.MissingFromClause;this.throwError(r,this.lookahead.value)}this.nextToken(),t=this.parseModuleSpecifier()}return this.consumeSemicolon(),this.finalize(e,new s.ImportDeclaration(n,t))},e.prototype.parseExportSpecifier=function(){var e=this.createNode(),t=this.parseIdentifierName(),n=t;return this.matchContextualKeyword("as")&&(this.nextToken(),n=this.parseIdentifierName()),this.finalize(e,new s.ExportSpecifier(t,n))},e.prototype.parseExportDeclaration=function(){this.context.inFunctionBody&&this.throwError(o.Messages.IllegalExportDeclaration);var e=this.createNode();this.expectKeyword("export");var t;if(this.matchKeyword("default"))if(this.nextToken(),this.matchKeyword("function")){var n=this.parseFunctionDeclaration(!0);t=this.finalize(e,new s.ExportDefaultDeclaration(n))}else if(this.matchKeyword("class")){var n=this.parseClassDeclaration(!0);t=this.finalize(e,new s.ExportDefaultDeclaration(n))}else if(this.matchContextualKeyword("async")){var n=this.matchAsyncFunction()?this.parseFunctionDeclaration(!0):this.parseAssignmentExpression();t=this.finalize(e,new s.ExportDefaultDeclaration(n))}else{this.matchContextualKeyword("from")&&this.throwError(o.Messages.UnexpectedToken,this.lookahead.value);var n=this.match("{")?this.parseObjectInitializer():this.match("[")?this.parseArrayInitializer():this.parseAssignmentExpression();this.consumeSemicolon(),t=this.finalize(e,new s.ExportDefaultDeclaration(n))}else if(this.match("*")){if(this.nextToken(),!this.matchContextualKeyword("from")){var r=this.lookahead.value?o.Messages.UnexpectedToken:o.Messages.MissingFromClause;this.throwError(r,this.lookahead.value)}this.nextToken();var i=this.parseModuleSpecifier();this.consumeSemicolon(),t=this.finalize(e,new s.ExportAllDeclaration(i))}else if(4===this.lookahead.type){var n=void 0;switch(this.lookahead.value){case"let":case"const":n=this.parseLexicalDeclaration({inFor:!1});break;case"var":case"class":case"function":n=this.parseStatementListItem();break;default:this.throwUnexpectedToken(this.lookahead)}t=this.finalize(e,new s.ExportNamedDeclaration(n,[],null))}else if(this.matchAsyncFunction()){var n=this.parseFunctionDeclaration();t=this.finalize(e,new s.ExportNamedDeclaration(n,[],null))}else{var a=[],c=null,u=!1;for(this.expect("{");!this.match("}");)u=u||this.matchKeyword("default"),a.push(this.parseExportSpecifier()),this.match("}")||this.expect(",");if(this.expect("}"),this.matchContextualKeyword("from"))this.nextToken(),c=this.parseModuleSpecifier(),this.consumeSemicolon();else if(u){var r=this.lookahead.value?o.Messages.UnexpectedToken:o.Messages.MissingFromClause;this.throwError(r,this.lookahead.value)}else this.consumeSemicolon();t=this.finalize(e,new s.ExportNamedDeclaration(null,a,c))}return t},e}();t.Parser=l},function(e,t){"use strict";function n(e,t){if(!e)throw new Error("ASSERT: "+t)}Object.defineProperty(t,"__esModule",{value:!0}),t.assert=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.errors=[],this.tolerant=!1}return e.prototype.recordError=function(e){this.errors.push(e)},e.prototype.tolerate=function(e){if(!this.tolerant)throw e;this.recordError(e)},e.prototype.constructError=function(e,t){var n=new Error(e);try{throw n}catch(e){Object.create&&Object.defineProperty&&(n=Object.create(e),Object.defineProperty(n,"column",{value:t}))}return n},e.prototype.createError=function(e,t,n,r){var i="Line "+t+": "+r,o=this.constructError(i,n);return o.index=e,o.lineNumber=t,o.description=r,o},e.prototype.throwError=function(e,t,n,r){throw this.createError(e,t,n,r)},e.prototype.tolerateError=function(e,t,n,r){var i=this.createError(e,t,n,r);if(!this.tolerant)throw i;this.recordError(i)},e}();t.ErrorHandler=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Messages={BadGetterArity:"Getter must not have any formal parameters",BadSetterArity:"Setter must have exactly one formal parameter",BadSetterRestParameter:"Setter function argument must not be a rest parameter",ConstructorIsAsync:"Class constructor may not be an async method",ConstructorSpecialMethod:"Class constructor may not be an accessor",DeclarationMissingInitializer:"Missing initializer in %0 declaration",DefaultRestParameter:"Unexpected token =",DuplicateBinding:"Duplicate binding %0",DuplicateConstructor:"A class may only have one constructor",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer",GeneratorInLegacyContext:"Generator declarations are not allowed in legacy contexts",IllegalBreak:"Illegal break statement",IllegalContinue:"Illegal continue statement",IllegalExportDeclaration:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list",IllegalReturn:"Illegal return statement",InvalidEscapedReservedWord:"Keyword must not contain escaped characters",InvalidHexEscapeSequence:"Invalid hexadecimal escape sequence",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",InvalidModuleSpecifier:"Unexpected token",InvalidRegExp:"Invalid regular expression",LetInLexicalBinding:"let is disallowed as a lexically bound name",MissingFromClause:"Unexpected token",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NewlineAfterThrow:"Illegal newline after throw",NoAsAfterImportNamespace:"Unexpected token",NoCatchOrFinally:"Missing catch or finally after try",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",Redeclaration:"%0 '%1' has already been declared",StaticPrototype:"Classes may not have static property named prototype",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictModeWith:"Strict mode code may not include a with statement",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",UnexpectedEOS:"Unexpected end of input",UnexpectedIdentifier:"Unexpected identifier",UnexpectedNumber:"Unexpected number",UnexpectedReserved:"Unexpected reserved word",UnexpectedString:"Unexpected string",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",UnknownLabel:"Undefined label '%0'",UnterminatedRegExp:"Invalid regular expression: missing /"}},function(e,t,n){"use strict";function r(e){return"0123456789abcdef".indexOf(e.toLowerCase())}function i(e){return"01234567".indexOf(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),s=n(4),a=n(11),c=function(){function e(e,t){this.source=e,this.errorHandler=t,this.trackComment=!1,this.length=e.length,this.index=0,this.lineNumber=e.length>0?1:0,this.lineStart=0,this.curlyStack=[]}return e.prototype.saveState=function(){return{index:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart}},e.prototype.restoreState=function(e){this.index=e.index,this.lineNumber=e.lineNumber,this.lineStart=e.lineStart},e.prototype.eof=function(){return this.index>=this.length},e.prototype.throwUnexpectedToken=function(e){return void 0===e&&(e=a.Messages.UnexpectedTokenIllegal),this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,e)},e.prototype.tolerateUnexpectedToken=function(e){void 0===e&&(e=a.Messages.UnexpectedTokenIllegal),this.errorHandler.tolerateError(this.index,this.lineNumber,this.index-this.lineStart+1,e)},e.prototype.skipSingleLineComment=function(e){var t,n,r=[];for(this.trackComment&&(r=[],t=this.index-e,n={start:{line:this.lineNumber,column:this.index-this.lineStart-e},end:{}});!this.eof();){var i=this.source.charCodeAt(this.index);if(++this.index,s.Character.isLineTerminator(i)){if(this.trackComment){n.end={line:this.lineNumber,column:this.index-this.lineStart-1};var o={multiLine:!1,slice:[t+e,this.index-1],range:[t,this.index-1],loc:n};r.push(o)}return 13===i&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,r}}if(this.trackComment){n.end={line:this.lineNumber,column:this.index-this.lineStart};var o={multiLine:!1,slice:[t+e,this.index],range:[t,this.index],loc:n};r.push(o)}return r},e.prototype.skipMultiLineComment=function(){var e,t,n=[];for(this.trackComment&&(n=[],e=this.index-2,t={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{}});!this.eof();){var r=this.source.charCodeAt(this.index);if(s.Character.isLineTerminator(r))13===r&&10===this.source.charCodeAt(this.index+1)&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else if(42===r){if(47===this.source.charCodeAt(this.index+1)){if(this.index+=2,this.trackComment){t.end={line:this.lineNumber,column:this.index-this.lineStart};var i={multiLine:!0,slice:[e+2,this.index-2],range:[e,this.index],loc:t};n.push(i)}return n}++this.index}else++this.index}if(this.trackComment){t.end={line:this.lineNumber,column:this.index-this.lineStart};var i={multiLine:!0,slice:[e+2,this.index],range:[e,this.index],loc:t};n.push(i)}return this.tolerateUnexpectedToken(),n},e.prototype.scanComments=function(){var e;this.trackComment&&(e=[]);for(var t=0===this.index;!this.eof();){var n=this.source.charCodeAt(this.index);if(s.Character.isWhiteSpace(n))++this.index;else if(s.Character.isLineTerminator(n))++this.index,13===n&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,t=!0;else if(47===n)if(47===(n=this.source.charCodeAt(this.index+1))){this.index+=2;var r=this.skipSingleLineComment(2);this.trackComment&&(e=e.concat(r)),t=!0}else{if(42!==n)break;this.index+=2;var r=this.skipMultiLineComment();this.trackComment&&(e=e.concat(r))}else if(t&&45===n){if(45!==this.source.charCodeAt(this.index+1)||62!==this.source.charCodeAt(this.index+2))break;this.index+=3;var r=this.skipSingleLineComment(3);this.trackComment&&(e=e.concat(r))}else{if(60!==n)break;if("!--"!==this.source.slice(this.index+1,this.index+4))break;this.index+=4;var r=this.skipSingleLineComment(4);this.trackComment&&(e=e.concat(r))}}return e},e.prototype.isFutureReservedWord=function(e){switch(e){case"enum":case"export":case"import":case"super":return!0;default:return!1}},e.prototype.isStrictModeReservedWord=function(e){switch(e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}},e.prototype.isRestrictedWord=function(e){return"eval"===e||"arguments"===e},e.prototype.isKeyword=function(e){switch(e.length){case 2:return"if"===e||"in"===e||"do"===e;case 3:return"var"===e||"for"===e||"new"===e||"try"===e||"let"===e;case 4:return"this"===e||"else"===e||"case"===e||"void"===e||"with"===e||"enum"===e;case 5:return"while"===e||"break"===e||"catch"===e||"throw"===e||"const"===e||"yield"===e||"class"===e||"super"===e;case 6:return"return"===e||"typeof"===e||"delete"===e||"switch"===e||"export"===e||"import"===e;case 7:return"default"===e||"finally"===e||"extends"===e;case 8:return"function"===e||"continue"===e||"debugger"===e;case 10:return"instanceof"===e;default:return!1}},e.prototype.codePointAt=function(e){var t=this.source.charCodeAt(e);if(t>=55296&&t<=56319){var n=this.source.charCodeAt(e+1);if(n>=56320&&n<=57343){t=1024*(t-55296)+n-56320+65536}}return t},e.prototype.scanHexEscape=function(e){for(var t="u"===e?4:2,n=0,i=0;i<t;++i){if(this.eof()||!s.Character.isHexDigit(this.source.charCodeAt(this.index)))return null;n=16*n+r(this.source[this.index++])}return String.fromCharCode(n)},e.prototype.scanUnicodeCodePointEscape=function(){var e=this.source[this.index],t=0;for("}"===e&&this.throwUnexpectedToken();!this.eof()&&(e=this.source[this.index++],s.Character.isHexDigit(e.charCodeAt(0)));)t=16*t+r(e);return(t>1114111||"}"!==e)&&this.throwUnexpectedToken(),s.Character.fromCodePoint(t)},e.prototype.getIdentifier=function(){for(var e=this.index++;!this.eof();){var t=this.source.charCodeAt(this.index);if(92===t)return this.index=e,this.getComplexIdentifier();if(t>=55296&&t<57343)return this.index=e,this.getComplexIdentifier();if(!s.Character.isIdentifierPart(t))break;++this.index}return this.source.slice(e,this.index)},e.prototype.getComplexIdentifier=function(){var e=this.codePointAt(this.index),t=s.Character.fromCodePoint(e);this.index+=t.length;var n;for(92===e&&(117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,n=this.scanUnicodeCodePointEscape()):null!==(n=this.scanHexEscape("u"))&&"\\"!==n&&s.Character.isIdentifierStart(n.charCodeAt(0))||this.throwUnexpectedToken(),t=n);!this.eof()&&(e=this.codePointAt(this.index),s.Character.isIdentifierPart(e));)n=s.Character.fromCodePoint(e),t+=n,this.index+=n.length,92===e&&(t=t.substr(0,t.length-1),117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,n=this.scanUnicodeCodePointEscape()):null!==(n=this.scanHexEscape("u"))&&"\\"!==n&&s.Character.isIdentifierPart(n.charCodeAt(0))||this.throwUnexpectedToken(),t+=n);return t},e.prototype.octalToDecimal=function(e){var t="0"!==e,n=i(e);return!this.eof()&&s.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(t=!0,n=8*n+i(this.source[this.index++]),"0123".indexOf(e)>=0&&!this.eof()&&s.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(n=8*n+i(this.source[this.index++]))),{code:n,octal:t}},e.prototype.scanIdentifier=function(){var e,t=this.index,n=92===this.source.charCodeAt(t)?this.getComplexIdentifier():this.getIdentifier();if(3!==(e=1===n.length?3:this.isKeyword(n)?4:"null"===n?5:"true"===n||"false"===n?1:3)&&t+n.length!==this.index){var r=this.index;this.index=t,this.tolerateUnexpectedToken(a.Messages.InvalidEscapedReservedWord),this.index=r}return{type:e,value:n,lineNumber:this.lineNumber,lineStart:this.lineStart,start:t,end:this.index}},e.prototype.scanPunctuator=function(){var e=this.index,t=this.source[this.index];switch(t){case"(":case"{":"{"===t&&this.curlyStack.push("{"),++this.index;break;case".":++this.index,"."===this.source[this.index]&&"."===this.source[this.index+1]&&(this.index+=2,t="...");break;case"}":++this.index,this.curlyStack.pop();break;case")":case";":case",":case"[":case"]":case":":case"?":case"~":++this.index;break;default:t=this.source.substr(this.index,4),">>>="===t?this.index+=4:(t=t.substr(0,3),"==="===t||"!=="===t||">>>"===t||"<<="===t||">>="===t||"**="===t?this.index+=3:(t=t.substr(0,2),"&&"===t||"||"===t||"=="===t||"!="===t||"+="===t||"-="===t||"*="===t||"/="===t||"++"===t||"--"===t||"<<"===t||">>"===t||"&="===t||"|="===t||"^="===t||"%="===t||"<="===t||">="===t||"=>"===t||"**"===t?this.index+=2:(t=this.source[this.index],"<>=!+-*%&|^/".indexOf(t)>=0&&++this.index)))}return this.index===e&&this.throwUnexpectedToken(),{type:7,value:t,lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanHexLiteral=function(e){for(var t="";!this.eof()&&s.Character.isHexDigit(this.source.charCodeAt(this.index));)t+=this.source[this.index++];return 0===t.length&&this.throwUnexpectedToken(),s.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseInt("0x"+t,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanBinaryLiteral=function(e){for(var t,n="";!this.eof()&&("0"===(t=this.source[this.index])||"1"===t);)n+=this.source[this.index++];return 0===n.length&&this.throwUnexpectedToken(),this.eof()||(t=this.source.charCodeAt(this.index),(s.Character.isIdentifierStart(t)||s.Character.isDecimalDigit(t))&&this.throwUnexpectedToken()),{type:6,value:parseInt(n,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanOctalLiteral=function(e,t){var n="",r=!1;for(s.Character.isOctalDigit(e.charCodeAt(0))?(r=!0,n="0"+this.source[this.index++]):++this.index;!this.eof()&&s.Character.isOctalDigit(this.source.charCodeAt(this.index));)n+=this.source[this.index++];return r||0!==n.length||this.throwUnexpectedToken(),(s.Character.isIdentifierStart(this.source.charCodeAt(this.index))||s.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken(),{type:6,value:parseInt(n,8),octal:r,lineNumber:this.lineNumber,lineStart:this.lineStart,start:t,end:this.index}},e.prototype.isImplicitOctalLiteral=function(){for(var e=this.index+1;e<this.length;++e){var t=this.source[e];if("8"===t||"9"===t)return!1;if(!s.Character.isOctalDigit(t.charCodeAt(0)))return!0}return!0},e.prototype.scanNumericLiteral=function(){var e=this.index,t=this.source[e];o.assert(s.Character.isDecimalDigit(t.charCodeAt(0))||"."===t,"Numeric literal must start with a decimal digit or a decimal point");var n="";if("."!==t){if(n=this.source[this.index++],t=this.source[this.index],"0"===n){if("x"===t||"X"===t)return++this.index,this.scanHexLiteral(e);if("b"===t||"B"===t)return++this.index,this.scanBinaryLiteral(e);if("o"===t||"O"===t)return this.scanOctalLiteral(t,e);if(t&&s.Character.isOctalDigit(t.charCodeAt(0))&&this.isImplicitOctalLiteral())return this.scanOctalLiteral(t,e)}for(;s.Character.isDecimalDigit(this.source.charCodeAt(this.index));)n+=this.source[this.index++];t=this.source[this.index]}if("."===t){for(n+=this.source[this.index++];s.Character.isDecimalDigit(this.source.charCodeAt(this.index));)n+=this.source[this.index++];t=this.source[this.index]}if("e"===t||"E"===t)if(n+=this.source[this.index++],t=this.source[this.index],"+"!==t&&"-"!==t||(n+=this.source[this.index++]),s.Character.isDecimalDigit(this.source.charCodeAt(this.index)))for(;s.Character.isDecimalDigit(this.source.charCodeAt(this.index));)n+=this.source[this.index++];else this.throwUnexpectedToken();return s.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseFloat(n),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanStringLiteral=function(){var e=this.index,t=this.source[e];o.assert("'"===t||'"'===t,"String literal must starts with a quote"),++this.index;for(var n=!1,r="";!this.eof();){var i=this.source[this.index++];if(i===t){t="";break}if("\\"===i)if((i=this.source[this.index++])&&s.Character.isLineTerminator(i.charCodeAt(0)))++this.lineNumber,"\r"===i&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(i){case"u":if("{"===this.source[this.index])++this.index,r+=this.scanUnicodeCodePointEscape();else{var c=this.scanHexEscape(i);null===c&&this.throwUnexpectedToken(),r+=c}break;case"x":var u=this.scanHexEscape(i);null===u&&this.throwUnexpectedToken(a.Messages.InvalidHexEscapeSequence),r+=u;break;case"n":r+="\n";break;case"r":r+="\r";break;case"t":r+="\t";break;case"b":r+="\b";break;case"f":r+="\f";break;case"v":r+="\v";break;case"8":case"9":r+=i,this.tolerateUnexpectedToken();break;default:if(i&&s.Character.isOctalDigit(i.charCodeAt(0))){var l=this.octalToDecimal(i);n=l.octal||n,r+=String.fromCharCode(l.code)}else r+=i}else{if(s.Character.isLineTerminator(i.charCodeAt(0)))break;r+=i}}return""!==t&&(this.index=e,this.throwUnexpectedToken()),{type:8,value:r,octal:n,lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanTemplate=function(){var e="",t=!1,n=this.index,r="`"===this.source[n],i=!1,o=2;for(++this.index;!this.eof();){var c=this.source[this.index++];if("`"===c){o=1,i=!0,t=!0;break}if("$"===c){if("{"===this.source[this.index]){this.curlyStack.push("${"),++this.index,t=!0;break}e+=c}else if("\\"===c)if(c=this.source[this.index++],s.Character.isLineTerminator(c.charCodeAt(0)))++this.lineNumber,"\r"===c&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(c){case"n":e+="\n";break;case"r":e+="\r";break;case"t":e+="\t";break;case"u":if("{"===this.source[this.index])++this.index,e+=this.scanUnicodeCodePointEscape();else{var u=this.index,l=this.scanHexEscape(c);null!==l?e+=l:(this.index=u,e+=c)}break;case"x":var f=this.scanHexEscape(c);null===f&&this.throwUnexpectedToken(a.Messages.InvalidHexEscapeSequence),e+=f;break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:"0"===c?(s.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(a.Messages.TemplateOctalLiteral),e+="\0"):s.Character.isOctalDigit(c.charCodeAt(0))?this.throwUnexpectedToken(a.Messages.TemplateOctalLiteral):e+=c}else s.Character.isLineTerminator(c.charCodeAt(0))?(++this.lineNumber,"\r"===c&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index,e+="\n"):e+=c}return t||this.throwUnexpectedToken(),r||this.curlyStack.pop(),{type:10,value:this.source.slice(n+1,this.index-o),cooked:e,head:r,tail:i,lineNumber:this.lineNumber,lineStart:this.lineStart,start:n,end:this.index}},e.prototype.testRegExp=function(e,t){var n=e,r=this;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,function(e,t,n){var i=parseInt(t||n,16);return i>1114111&&r.throwUnexpectedToken(a.Messages.InvalidRegExp),i<=65535?String.fromCharCode(i):"￿"}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"￿"));try{RegExp(n)}catch(e){this.throwUnexpectedToken(a.Messages.InvalidRegExp)}try{return new RegExp(e,t)}catch(e){return null}},e.prototype.scanRegExpBody=function(){var e=this.source[this.index];o.assert("/"===e,"Regular expression literal must start with a slash");for(var t=this.source[this.index++],n=!1,r=!1;!this.eof();)if(e=this.source[this.index++],t+=e,"\\"===e)e=this.source[this.index++],s.Character.isLineTerminator(e.charCodeAt(0))&&this.throwUnexpectedToken(a.Messages.UnterminatedRegExp),t+=e;else if(s.Character.isLineTerminator(e.charCodeAt(0)))this.throwUnexpectedToken(a.Messages.UnterminatedRegExp);else if(n)"]"===e&&(n=!1);else{if("/"===e){r=!0;break}"["===e&&(n=!0)}return r||this.throwUnexpectedToken(a.Messages.UnterminatedRegExp),t.substr(1,t.length-2)},e.prototype.scanRegExpFlags=function(){for(var e="",t="";!this.eof();){var n=this.source[this.index];if(!s.Character.isIdentifierPart(n.charCodeAt(0)))break;if(++this.index,"\\"!==n||this.eof())t+=n,e+=n;else if("u"===(n=this.source[this.index])){++this.index;var r=this.index,i=this.scanHexEscape("u");if(null!==i)for(t+=i,e+="\\u";r<this.index;++r)e+=this.source[r];else this.index=r,t+="u",e+="\\u";this.tolerateUnexpectedToken()}else e+="\\",this.tolerateUnexpectedToken()}return t},e.prototype.scanRegExp=function(){var e=this.index,t=this.scanRegExpBody(),n=this.scanRegExpFlags();return{type:9,value:"",pattern:t,flags:n,regex:this.testRegExp(t,n),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.lex=function(){if(this.eof())return{type:2,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};var e=this.source.charCodeAt(this.index);return s.Character.isIdentifierStart(e)?this.scanIdentifier():40===e||41===e||59===e?this.scanPunctuator():39===e||34===e?this.scanStringLiteral():46===e?s.Character.isDecimalDigit(this.source.charCodeAt(this.index+1))?this.scanNumericLiteral():this.scanPunctuator():s.Character.isDecimalDigit(e)?this.scanNumericLiteral():96===e||125===e&&"${"===this.curlyStack[this.curlyStack.length-1]?this.scanTemplate():e>=55296&&e<57343&&s.Character.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()},e}();t.Scanner=c},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenName={},t.TokenName[1]="Boolean",t.TokenName[2]="<end>",t.TokenName[3]="Identifier",t.TokenName[4]="Keyword",t.TokenName[5]="Null",t.TokenName[6]="Numeric",t.TokenName[7]="Punctuator",t.TokenName[8]="String",t.TokenName[9]="RegularExpression",t.TokenName[10]="Template"},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XHTMLEntities={quot:'"',amp:"&",apos:"'",gt:">",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",times:"×",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",divide:"÷",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",frasl:"⁄",euro:"€",image:"ℑ",weierp:"℘",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦",lang:"⟨",rang:"⟩"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),i=n(12),o=n(13),s=function(){function e(){this.values=[],this.curly=this.paren=-1}return e.prototype.beforeFunctionExpression=function(e){return["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","**=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","**","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="].indexOf(e)>=0},e.prototype.isRegexStart=function(){var e=this.values[this.values.length-1],t=null!==e;switch(e){case"this":case"]":t=!1;break;case")":var n=this.values[this.paren-1];t="if"===n||"while"===n||"for"===n||"with"===n;break;case"}":if(t=!1,"function"===this.values[this.curly-3]){var r=this.values[this.curly-4];t=!!r&&!this.beforeFunctionExpression(r)}else if("function"===this.values[this.curly-4]){var r=this.values[this.curly-5];t=!r||!this.beforeFunctionExpression(r)}}return t},e.prototype.push=function(e){7===e.type||4===e.type?("{"===e.value?this.curly=this.values.length:"("===e.value&&(this.paren=this.values.length),this.values.push(e.value)):this.values.push(null)},e}(),a=function(){function e(e,t){this.errorHandler=new r.ErrorHandler,this.errorHandler.tolerant=!!t&&("boolean"==typeof t.tolerant&&t.tolerant),this.scanner=new i.Scanner(e,this.errorHandler),this.scanner.trackComment=!!t&&("boolean"==typeof t.comment&&t.comment),this.trackRange=!!t&&("boolean"==typeof t.range&&t.range),this.trackLoc=!!t&&("boolean"==typeof t.loc&&t.loc),this.buffer=[],this.reader=new s}return e.prototype.errors=function(){return this.errorHandler.errors},e.prototype.getNextToken=function(){if(0===this.buffer.length){var e=this.scanner.scanComments();if(this.scanner.trackComment)for(var t=0;t<e.length;++t){var n=e[t],r=this.scanner.source.slice(n.slice[0],n.slice[1]),i={type:n.multiLine?"BlockComment":"LineComment",value:r};this.trackRange&&(i.range=n.range),this.trackLoc&&(i.loc=n.loc),this.buffer.push(i)}if(!this.scanner.eof()){var s=void 0;this.trackLoc&&(s={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},end:{}});var a="/"===this.scanner.source[this.scanner.index]&&this.reader.isRegexStart(),c=a?this.scanner.scanRegExp():this.scanner.lex();this.reader.push(c);var u={type:o.TokenName[c.type],value:this.scanner.source.slice(c.start,c.end)};if(this.trackRange&&(u.range=[c.start,c.end]),this.trackLoc&&(s.end={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},u.loc=s),9===c.type){var l=c.pattern,f=c.flags;u.regex={pattern:l,flags:f}}this.buffer.push(u)}}return this.buffer.shift()},e}();t.Tokenizer=a}])})},function(e,t,n){"use strict";function r(e,t){var n,r,i,o,s,a,c;if(null===t)return{};for(n={},r=Object.keys(t),i=0,o=r.length;i<o;i+=1)s=r[i],a=String(t[s]),"!!"===s.slice(0,2)&&(s="tag:yaml.org,2002:"+s.slice(2)),c=e.compiledTypeMap.fallback[s],c&&B.call(c.styleAliases,a)&&(a=c.styleAliases[a]),n[s]=a;return n}function i(e){var t,n,r;if(t=e.toString(16).toUpperCase(),e<=255)n="x",r=2;else if(e<=65535)n="u",r=4;else{if(!(e<=4294967295))throw new R("code point within a string may not be greater than 0xFFFFFFFF");n="U",r=8}return"\\"+n+D.repeat("0",r-t.length)+t}function o(e){this.schema=e.schema||j,this.indent=Math.max(1,e.indent||2),this.skipInvalid=e.skipInvalid||!1,this.flowLevel=D.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=r(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function s(e,t){for(var n,r=D.repeat(" ",t),i=0,o=-1,s="",a=e.length;i<a;)o=e.indexOf("\n",i),-1===o?(n=e.slice(i),i=a):(n=e.slice(i,o+1),i=o+1),n.length&&"\n"!==n&&(s+=r),s+=n;return s}function a(e,t){return"\n"+D.repeat(" ",e.indent*t)}function c(e,t){var n,r,i;for(n=0,r=e.implicitTypes.length;n<r;n+=1)if(i=e.implicitTypes[n],i.resolve(t))return!0;return!1}function u(e){return e===L||e===F}function l(e){return 32<=e&&e<=126||161<=e&&e<=55295&&8232!==e&&8233!==e||57344<=e&&e<=65533&&65279!==e||65536<=e&&e<=1114111}function f(e){return l(e)&&65279!==e&&e!==G&&e!==$&&e!==ee&&e!==ne&&e!==ie&&e!==X&&e!==U}function h(e){return l(e)&&65279!==e&&!u(e)&&e!==W&&e!==Q&&e!==X&&e!==G&&e!==$&&e!==ee&&e!==ne&&e!==ie&&e!==U&&e!==V&&e!==J&&e!==H&&e!==re&&e!==Y&&e!==z&&e!==q&&e!==K&&e!==Z&&e!==te}function d(e){return/^\n* /.test(e)}function p(e,t,n,r,i){var o,s,a=!1,c=!1,p=-1!==r,y=-1,g=h(e.charCodeAt(0))&&!u(e.charCodeAt(e.length-1));if(t)for(o=0;o<e.length;o++){if(s=e.charCodeAt(o),!l(s))return fe;g=g&&f(s)}else{for(o=0;o<e.length;o++){if((s=e.charCodeAt(o))===M)a=!0,p&&(c=c||o-y-1>r&&" "!==e[y+1],y=o);else if(!l(s))return fe;g=g&&f(s)}c=c||p&&o-y-1>r&&" "!==e[y+1]}return a||c?n>9&&d(e)?fe:c?le:ue:g&&!i(e)?ae:ce}function y(e,t,n,r){e.dump=function(){function i(t){return c(e,t)}if(0===t.length)return"''";if(!e.noCompatMode&&-1!==se.indexOf(t))return"'"+t+"'";var o=e.indent*Math.max(1,n),a=-1===e.lineWidth?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-o),u=r||e.flowLevel>-1&&n>=e.flowLevel;switch(p(t,u,e.indent,a,i)){case ae:return t;case ce:return"'"+t.replace(/'/g,"''")+"'";case ue:return"|"+g(t,e.indent)+m(s(t,o));case le:return">"+g(t,e.indent)+m(s(v(t,a),o));case fe:return'"'+w(t)+'"';default:throw new R("impossible error: invalid scalar style")}}()}function g(e,t){var n=d(e)?String(t):"",r="\n"===e[e.length-1];return n+(!r||"\n"!==e[e.length-2]&&"\n"!==e?r?"":"-":"+")+"\n"}function m(e){return"\n"===e[e.length-1]?e.slice(0,-1):e}function v(e,t){for(var n,r,i=/(\n+)([^\n]*)/g,o=function(){var n=e.indexOf("\n");return n=-1!==n?n:e.length,i.lastIndex=n,b(e.slice(0,n),t)}(),s="\n"===e[0]||" "===e[0];r=i.exec(e);){var a=r[1],c=r[2];n=" "===c[0],o+=a+(s||n||""===c?"":"\n")+b(c,t),s=n}return o}function b(e,t){if(""===e||" "===e[0])return e;for(var n,r,i=/ [^ ]/g,o=0,s=0,a=0,c="";n=i.exec(e);)a=n.index,a-o>t&&(r=s>o?s:a,c+="\n"+e.slice(o,r),o=r+1),s=a;return c+="\n",e.length-o>t&&s>o?c+=e.slice(o,s)+"\n"+e.slice(s+1):c+=e.slice(o),c.slice(1)}function w(e){for(var t,n,r,o="",s=0;s<e.length;s++)t=e.charCodeAt(s),t>=55296&&t<=56319&&(n=e.charCodeAt(s+1))>=56320&&n<=57343?(o+=i(1024*(t-55296)+n-56320+65536),s++):(r=oe[t],o+=!r&&l(t)?e[s]:r||i(t));return o}function S(e,t,n){var r,i,o="",s=e.tag;for(r=0,i=n.length;r<i;r+=1)O(e,t,n[r],!1,!1)&&(0!==r&&(o+=","+(e.condenseFlow?"":" ")),o+=e.dump);e.tag=s,e.dump="["+o+"]"}function E(e,t,n,r){var i,o,s="",c=e.tag;for(i=0,o=n.length;i<o;i+=1)O(e,t+1,n[i],!0,!0)&&(r&&0===i||(s+=a(e,t)),e.dump&&M===e.dump.charCodeAt(0)?s+="-":s+="- ",s+=e.dump);e.tag=c,e.dump=s||"[]"}function k(e,t,n){var r,i,o,s,a,c="",u=e.tag,l=Object.keys(n);for(r=0,i=l.length;r<i;r+=1)a=e.condenseFlow?'"':"",0!==r&&(a+=", "),o=l[r],s=n[o],O(e,t,o,!1,!1)&&(e.dump.length>1024&&(a+="? "),a+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),O(e,t,s,!1,!1)&&(a+=e.dump,c+=a));e.tag=u,e.dump="{"+c+"}"}function x(e,t,n,r){var i,o,s,c,u,l,f="",h=e.tag,d=Object.keys(n);if(!0===e.sortKeys)d.sort();else if("function"==typeof e.sortKeys)d.sort(e.sortKeys);else if(e.sortKeys)throw new R("sortKeys must be a boolean or a function");for(i=0,o=d.length;i<o;i+=1)l="",r&&0===i||(l+=a(e,t)),s=d[i],c=n[s],O(e,t+1,s,!0,!0,!0)&&(u=null!==e.tag&&"?"!==e.tag||e.dump&&e.dump.length>1024,u&&(e.dump&&M===e.dump.charCodeAt(0)?l+="?":l+="? "),l+=e.dump,u&&(l+=a(e,t)),O(e,t+1,c,!0,u)&&(e.dump&&M===e.dump.charCodeAt(0)?l+=":":l+=": ",l+=e.dump,f+=l));e.tag=h,e.dump=f||"{}"}function _(e,t,n){var r,i,o,s,a,c;for(i=n?e.explicitTypes:e.implicitTypes,o=0,s=i.length;o<s;o+=1)if(a=i[o],(a.instanceOf||a.predicate)&&(!a.instanceOf||"object"==typeof t&&t instanceof a.instanceOf)&&(!a.predicate||a.predicate(t))){if(e.tag=n?a.tag:"?",a.represent){if(c=e.styleMap[a.tag]||a.defaultStyle,"[object Function]"===N.call(a.represent))r=a.represent(t,c);else{if(!B.call(a.represent,c))throw new R("!<"+a.tag+'> tag resolver accepts not "'+c+'" style');r=a.represent[c](t,c)}e.dump=r}return!0}return!1}function O(e,t,n,r,i,o){e.tag=null,e.dump=n,_(e,n,!1)||_(e,n,!0);var s=N.call(e.dump);r&&(r=e.flowLevel<0||e.flowLevel>t);var a,c,u="[object Object]"===s||"[object Array]"===s;if(u&&(a=e.duplicates.indexOf(n),c=-1!==a),(null!==e.tag&&"?"!==e.tag||c||2!==e.indent&&t>0)&&(i=!1),c&&e.usedDuplicates[a])e.dump="*ref_"+a;else{if(u&&c&&!e.usedDuplicates[a]&&(e.usedDuplicates[a]=!0),"[object Object]"===s)r&&0!==Object.keys(e.dump).length?(x(e,t,e.dump,i),c&&(e.dump="&ref_"+a+e.dump)):(k(e,t,e.dump),c&&(e.dump="&ref_"+a+" "+e.dump));else if("[object Array]"===s)r&&0!==e.dump.length?(E(e,t,e.dump,i),c&&(e.dump="&ref_"+a+e.dump)):(S(e,t,e.dump),c&&(e.dump="&ref_"+a+" "+e.dump));else{if("[object String]"!==s){if(e.skipInvalid)return!1;throw new R("unacceptable kind of an object to dump "+s)}"?"!==e.tag&&y(e,e.dump,t,o)}null!==e.tag&&"?"!==e.tag&&(e.dump="!<"+e.tag+"> "+e.dump)}return!0}function C(e,t){var n,r,i=[],o=[];for(A(e,i,o),n=0,r=o.length;n<r;n+=1)t.duplicates.push(i[o[n]]);t.usedDuplicates=new Array(r)}function A(e,t,n){var r,i,o;if(null!==e&&"object"==typeof e)if(-1!==(i=t.indexOf(e)))-1===n.indexOf(i)&&n.push(i);else if(t.push(e),Array.isArray(e))for(i=0,o=e.length;i<o;i+=1)A(e[i],t,n);else for(r=Object.keys(e),i=0,o=r.length;i<o;i+=1)A(e[r[i]],t,n)}function P(e,t){t=t||{};var n=new o(t);return n.noRefs||C(e,n),O(n,0,e,!0,!0)?n.dump+"\n":""}function I(e,t){return P(e,D.extend({schema:T},t))}var D=n(30),R=n(45),j=n(57),T=n(46),N=Object.prototype.toString,B=Object.prototype.hasOwnProperty,F=9,M=10,L=32,H=33,q=34,U=35,K=37,V=38,z=39,J=42,G=44,W=45,X=58,Y=62,Q=63,Z=64,$=91,ee=93,te=96,ne=123,re=124,ie=125,oe={};oe[0]="\\0",oe[7]="\\a",oe[8]="\\b",oe[9]="\\t",oe[10]="\\n",oe[11]="\\v",oe[12]="\\f",oe[13]="\\r",oe[27]="\\e",oe[34]='\\"',oe[92]="\\\\",oe[133]="\\N",oe[160]="\\_",oe[8232]="\\L",oe[8233]="\\P";var se=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],ae=1,ce=2,ue=3,le=4,fe=5;e.exports.dump=P,e.exports.safeDump=I}])});